var gy=t=>{throw TypeError(t)};var ff=(t,s,a)=>s.has(t)||gy("Cannot "+a);var Se=(t,s,a)=>(ff(t,s,"read from private field"),a?a.call(t):s.get(t)),Bt=(t,s,a)=>s.has(t)?gy("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),gt=(t,s,a,r)=>(ff(t,s,"write to private field"),r?r.call(t,a):s.set(t,a),a),Vs=(t,s,a)=>(ff(t,s,"access private method"),a);var fu=(t,s,a,r)=>({set _(n){gt(t,s,n,a)},get _(){return Se(t,s,r)}});function iR(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();function Y2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K2={exports:{}},$h={},X2={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),lR=Symbol.for("react.portal"),cR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),uR=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),xR=Symbol.for("react.forward_ref"),fR=Symbol.for("react.suspense"),pR=Symbol.for("react.memo"),gR=Symbol.for("react.lazy"),vy=Symbol.iterator;function vR(t){return t===null||typeof t!="object"?null:(t=vy&&t[vy]||t["@@iterator"],typeof t=="function"?t:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q2=Object.assign,Z2={};function kl(t,s,a){this.props=t,this.context=s,this.refs=Z2,this.updater=a||J2}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eC(){}eC.prototype=kl.prototype;function J0(t,s,a){this.props=t,this.context=s,this.refs=Z2,this.updater=a||J2}var Q0=J0.prototype=new eC;Q0.constructor=J0;Q2(Q0,kl.prototype);Q0.isPureReactComponent=!0;var by=Array.isArray,tC=Object.prototype.hasOwnProperty,Z0={current:null},sC={key:!0,ref:!0,__self:!0,__source:!0};function aC(t,s,a){var r,n={},o=null,i=null;if(s!=null)for(r in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(o=""+s.key),s)tC.call(s,r)&&!sC.hasOwnProperty(r)&&(n[r]=s[r]);var l=arguments.length-2;if(l===1)n.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)n[r]===void 0&&(n[r]=l[r]);return{$$typeof:zd,type:t,key:o,ref:i,props:n,_owner:Z0.current}}function bR(t,s){return{$$typeof:zd,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function jR(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return s[a]})}var jy=/\/+/g;function pf(t,s){return typeof t=="object"&&t!==null&&t.key!=null?jR(""+t.key):s.toString(36)}function em(t,s,a,r,n){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case zd:case lR:i=!0}}if(i)return i=t,n=n(i),t=r===""?"."+pf(i,0):r,by(n)?(a="",t!=null&&(a=t.replace(jy,"$&/")+"/"),em(n,s,a,"",function(u){return u})):n!=null&&(ev(n)&&(n=bR(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(jy,"$&/")+"/")+t)),s.push(n)),1;if(i=0,r=r===""?".":r+":",by(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+pf(o,l);i+=em(o,s,a,c,n)}else if(c=vR(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+pf(o,l++),i+=em(o,s,a,c,n);else if(o==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function pu(t,s,a){if(t==null)return t;var r=[],n=0;return em(t,r,"","",function(o){return s.call(a,o,n++)}),r}function yR(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ca={current:null},tm={transition:null},NR={ReactCurrentDispatcher:ca,ReactCurrentBatchConfig:tm,ReactCurrentOwner:Z0};function rC(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:pu,forEach:function(t,s,a){pu(t,function(){s.apply(this,arguments)},a)},count:function(t){var s=0;return pu(t,function(){s++}),s},toArray:function(t){return pu(t,function(s){return s})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=kl;Nt.Fragment=cR;Nt.Profiler=uR;Nt.PureComponent=J0;Nt.StrictMode=dR;Nt.Suspense=fR;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;Nt.act=rC;Nt.cloneElement=function(t,s,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q2({},t.props),n=t.key,o=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(o=s.ref,i=Z0.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in s)tC.call(s,c)&&!sC.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zd,type:t.type,key:n,ref:o,props:r,_owner:i}};Nt.createContext=function(t){return t={$$typeof:hR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mR,_context:t},t.Consumer=t};Nt.createElement=aC;Nt.createFactory=function(t){var s=aC.bind(null,t);return s.type=t,s};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:xR,render:t}};Nt.isValidElement=ev;Nt.lazy=function(t){return{$$typeof:gR,_payload:{_status:-1,_result:t},_init:yR}};Nt.memo=function(t,s){return{$$typeof:pR,type:t,compare:s===void 0?null:s}};Nt.startTransition=function(t){var s=tm.transition;tm.transition={};try{t()}finally{tm.transition=s}};Nt.unstable_act=rC;Nt.useCallback=function(t,s){return ca.current.useCallback(t,s)};Nt.useContext=function(t){return ca.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return ca.current.useDeferredValue(t)};Nt.useEffect=function(t,s){return ca.current.useEffect(t,s)};Nt.useId=function(){return ca.current.useId()};Nt.useImperativeHandle=function(t,s,a){return ca.current.useImperativeHandle(t,s,a)};Nt.useInsertionEffect=function(t,s){return ca.current.useInsertionEffect(t,s)};Nt.useLayoutEffect=function(t,s){return ca.current.useLayoutEffect(t,s)};Nt.useMemo=function(t,s){return ca.current.useMemo(t,s)};Nt.useReducer=function(t,s,a){return ca.current.useReducer(t,s,a)};Nt.useRef=function(t){return ca.current.useRef(t)};Nt.useState=function(t){return ca.current.useState(t)};Nt.useSyncExternalStore=function(t,s,a){return ca.current.useSyncExternalStore(t,s,a)};Nt.useTransition=function(){return ca.current.useTransition()};Nt.version="18.3.1";X2.exports=Nt;var m=X2.exports;const Z=Y2(m),nC=iR({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=m,CR=Symbol.for("react.element"),SR=Symbol.for("react.fragment"),ER=Object.prototype.hasOwnProperty,PR=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AR={key:!0,ref:!0,__self:!0,__source:!0};function oC(t,s,a){var r,n={},o=null,i=null;a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)ER.call(s,r)&&!AR.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:CR,type:t,key:o,ref:i,props:n,_owner:PR.current}}$h.Fragment=SR;$h.jsx=oC;$h.jsxs=oC;K2.exports=$h;var e=K2.exports,iC={exports:{}},_a={},lC={exports:{}},cC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(S,$){var H=S.length;S.push($);e:for(;0<H;){var J=H-1>>>1,re=S[J];if(0<n(re,$))S[J]=$,S[H]=re,H=J;else break e}}function a(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var $=S[0],H=S.pop();if(H!==$){S[0]=H;e:for(var J=0,re=S.length,le=re>>>1;J<le;){var we=2*(J+1)-1,ke=S[we],he=we+1,ae=S[he];if(0>n(ke,H))he<re&&0>n(ae,ke)?(S[J]=ae,S[he]=H,J=he):(S[J]=ke,S[we]=H,J=we);else if(he<re&&0>n(ae,H))S[J]=ae,S[he]=H,J=he;else break e}}return $}function n(S,$){var H=S.sortIndex-$.sortIndex;return H!==0?H:S.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,x=3,f=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(S){for(var $=a(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=S)r(u),$.sortIndex=$.expirationTime,s(c,$);else break;$=a(u)}}function w(S){if(p=!1,j(S),!g)if(a(c)!==null)g=!0,F(N);else{var $=a(u);$!==null&&O(w,$.startTime-S)}}function N(S,$){g=!1,p&&(p=!1,v(P),P=-1),f=!0;var H=x;try{for(j($),h=a(c);h!==null&&(!(h.expirationTime>$)||S&&!k());){var J=h.callback;if(typeof J=="function"){h.callback=null,x=h.priorityLevel;var re=J(h.expirationTime<=$);$=t.unstable_now(),typeof re=="function"?h.callback=re:h===a(c)&&r(c),j($)}else r(c);h=a(c)}if(h!==null)var le=!0;else{var we=a(u);we!==null&&O(w,we.startTime-$),le=!1}return le}finally{h=null,x=H,f=!1}}var E=!1,A=null,P=-1,z=5,T=-1;function k(){return!(t.unstable_now()-T<z)}function L(){if(A!==null){var S=t.unstable_now();T=S;var $=!0;try{$=A(!0,S)}finally{$?U():(E=!1,A=null)}}else E=!1}var U;if(typeof b=="function")U=function(){b(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,K=Y.port2;Y.port1.onmessage=L,U=function(){K.postMessage(null)}}else U=function(){y(L,0)};function F(S){A=S,E||(E=!0,U())}function O(S,$){P=y(function(){S(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,F(N))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(S){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var H=x;x=$;try{return S()}finally{x=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,$){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var H=x;x=S;try{return $()}finally{x=H}},t.unstable_scheduleCallback=function(S,$,H){var J=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,S){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=H+re,S={id:d++,callback:$,priorityLevel:S,startTime:H,expirationTime:re,sortIndex:-1},H>J?(S.sortIndex=H,s(u,S),a(c)===null&&S===a(u)&&(p?(v(P),P=-1):p=!0,O(w,H-J))):(S.sortIndex=re,s(c,S),g||f||(g=!0,F(N))),S},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(S){var $=x;return function(){var H=x;x=$;try{return S.apply(this,arguments)}finally{x=H}}}})(cC);lC.exports=cC;var DR=lC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR=m,Oa=DR;function Oe(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dC=new Set,Uc={};function ci(t,s){ul(t,s),ul(t+"Capture",s)}function ul(t,s){for(Uc[t]=s,t=0;t<s.length;t++)dC.add(s[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,TR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yy={},Ny={};function RR(t){return Gp.call(Ny,t)?!0:Gp.call(yy,t)?!1:TR.test(t)?Ny[t]=!0:(yy[t]=!0,!1)}function MR(t,s,a,r){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IR(t,s,a,r){if(s===null||typeof s>"u"||MR(t,s,a,r))return!0;if(r)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function da(t,s,a,r,n,o,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=o,this.removeEmptyString=i}var Ls={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ls[t]=new da(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ls[s]=new da(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ls[t]=new da(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ls[t]=new da(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ls[t]=new da(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ls[t]=new da(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ls[t]=new da(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ls[t]=new da(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ls[t]=new da(t,5,!1,t.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function sv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(tv,sv);Ls[s]=new da(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(tv,sv);Ls[s]=new da(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(tv,sv);Ls[s]=new da(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ls[t]=new da(t,1,!1,t.toLowerCase(),null,!1,!1)});Ls.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ls[t]=new da(t,1,!1,t.toLowerCase(),null,!0,!0)});function av(t,s,a,r){var n=Ls.hasOwnProperty(s)?Ls[s]:null;(n!==null?n.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(IR(s,a,n,r)&&(a=null),r||n===null?RR(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(s=n.attributeName,r=n.attributeNamespace,a===null?t.removeAttribute(s):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,r?t.setAttributeNS(r,s,a):t.setAttribute(s,a))))}var jn=kR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),uC=Symbol.for("react.provider"),mC=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),hC=Symbol.for("react.offscreen"),wy=Symbol.iterator;function nc(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var cs=Object.assign,gf;function vc(t){if(gf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gf=s&&s[1]||""}return`
`+gf+t}var vf=!1;function bf(t,s){if(!t||vf)return"";vf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var r=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){r=u}t.call(s.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),o=r.stack.split(`
`),i=n.length-1,l=o.length-1;1<=i&&0<=l&&n[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==o[l]){var c=`
`+n[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{vf=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?vc(t):""}function OR(t){switch(t.tag){case 5:return vc(t.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case Ci:return"Portal";case Bp:return"Profiler";case rv:return"StrictMode";case Up:return"Suspense";case Hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mC:return(t.displayName||"Context")+".Consumer";case uC:return(t._context.displayName||"Context")+".Provider";case nv:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ov:return s=t.displayName||null,s!==null?s:Wp(t.type)||"Memo";case Rn:s=t._payload,t=t._init;try{return Wp(t(s))}catch{}}return null}function zR(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(s);case 8:return s===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xC(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function FR(t){var s=xC(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,o=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function vu(t){t._valueTracker||(t._valueTracker=FR(t))}function fC(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=xC(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Am(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,s){var a=s.checked;return cs({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Cy(t,s){var a=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;a=so(s.value!=null?s.value:a),t._wrapperState={initialChecked:r,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function pC(t,s){s=s.checked,s!=null&&av(t,"checked",s,!1)}function Yp(t,s){pC(t,s);var a=so(s.value),r=s.type;if(a!=null)r==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Kp(t,s.type,a):s.hasOwnProperty("defaultValue")&&Kp(t,s.type,so(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Sy(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Kp(t,s,a){(s!=="number"||Am(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var bc=Array.isArray;function Vi(t,s,a,r){if(t=t.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=s.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&r&&(t[a].defaultSelected=!0)}else{for(a=""+so(a),s=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function Xp(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return cs({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ey(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(Oe(92));if(bc(a)){if(1<a.length)throw Error(Oe(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:so(a)}}function gC(t,s){var a=so(s.value),r=so(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),r!=null&&(t.defaultValue=""+r)}function Py(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function vC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?vC(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,bC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,r,n){MSApp.execUnsafeLocalFunction(function(){return t(s,a,r,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Hc(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(t){_R.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ec[s]=Ec[t]})});function jC(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ec.hasOwnProperty(t)&&Ec[t]?(""+s).trim():s+"px"}function yC(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var r=a.indexOf("--")===0,n=jC(a,s[a],r);a==="float"&&(a="cssFloat"),r?t.setProperty(a,n):t[a]=n}}var LR=cs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,s){if(s){if(LR[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Oe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Oe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Oe(62))}}function Zp(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,Gi=null,Bi=null;function Ay(t){if(t=Ld(t)){if(typeof tg!="function")throw Error(Oe(280));var s=t.stateNode;s&&(s=Hh(s),tg(t.stateNode,t.type,s))}}function NC(t){Gi?Bi?Bi.push(t):Bi=[t]:Gi=t}function wC(){if(Gi){var t=Gi,s=Bi;if(Bi=Gi=null,Ay(t),s)for(t=0;t<s.length;t++)Ay(s[t])}}function CC(t,s){return t(s)}function SC(){}var jf=!1;function EC(t,s,a){if(jf)return t(s,a);jf=!0;try{return CC(t,s,a)}finally{jf=!1,(Gi!==null||Bi!==null)&&(SC(),wC())}}function Wc(t,s){var a=t.stateNode;if(a===null)return null;var r=Hh(a);if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(Oe(231,s,typeof a));return a}var sg=!1;if(dn)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){sg=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{sg=!1}function $R(t,s,a,r,n,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(a,u)}catch(d){this.onError(d)}}var Pc=!1,Dm=null,km=!1,ag=null,VR={onError:function(t){Pc=!0,Dm=t}};function GR(t,s,a,r,n,o,i,l,c){Pc=!1,Dm=null,$R.apply(VR,arguments)}function BR(t,s,a,r,n,o,i,l,c){if(GR.apply(this,arguments),Pc){if(Pc){var u=Dm;Pc=!1,Dm=null}else throw Error(Oe(198));km||(km=!0,ag=u)}}function di(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function PC(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Dy(t){if(di(t)!==t)throw Error(Oe(188))}function UR(t){var s=t.alternate;if(!s){if(s=di(t),s===null)throw Error(Oe(188));return s!==t?null:t}for(var a=t,r=s;;){var n=a.return;if(n===null)break;var o=n.alternate;if(o===null){if(r=n.return,r!==null){a=r;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===a)return Dy(n),t;if(o===r)return Dy(n),s;o=o.sibling}throw Error(Oe(188))}if(a.return!==r.return)a=n,r=o;else{for(var i=!1,l=n.child;l;){if(l===a){i=!0,a=n,r=o;break}if(l===r){i=!0,r=n,a=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===a){i=!0,a=o,r=n;break}if(l===r){i=!0,r=o,a=n;break}l=l.sibling}if(!i)throw Error(Oe(189))}}if(a.alternate!==r)throw Error(Oe(190))}if(a.tag!==3)throw Error(Oe(188));return a.stateNode.current===a?t:s}function AC(t){return t=UR(t),t!==null?DC(t):null}function DC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=DC(t);if(s!==null)return s;t=t.sibling}return null}var kC=Oa.unstable_scheduleCallback,ky=Oa.unstable_cancelCallback,HR=Oa.unstable_shouldYield,WR=Oa.unstable_requestPaint,gs=Oa.unstable_now,qR=Oa.unstable_getCurrentPriorityLevel,lv=Oa.unstable_ImmediatePriority,TC=Oa.unstable_UserBlockingPriority,Tm=Oa.unstable_NormalPriority,YR=Oa.unstable_LowPriority,RC=Oa.unstable_IdlePriority,Vh=null,Gr=null;function KR(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:QR,XR=Math.log,JR=Math.LN2;function QR(t){return t>>>=0,t===0?32:31-(XR(t)/JR|0)|0}var ju=64,yu=4194304;function jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rm(t,s){var a=t.pendingLanes;if(a===0)return 0;var r=0,n=t.suspendedLanes,o=t.pingedLanes,i=a&268435455;if(i!==0){var l=i&~n;l!==0?r=jc(l):(o&=i,o!==0&&(r=jc(o)))}else i=a&~n,i!==0?r=jc(i):o!==0&&(r=jc(o));if(r===0)return 0;if(s!==0&&s!==r&&!(s&n)&&(n=r&-r,o=s&-s,n>=o||n===16&&(o&4194240)!==0))return s;if(r&4&&(r|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)a=31-gr(s),n=1<<a,r|=t[a],s&=~n;return r}function ZR(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eM(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,n=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-gr(o),l=1<<i,c=n[i];c===-1?(!(l&a)||l&r)&&(n[i]=ZR(l,s)):c<=s&&(t.expiredLanes|=l),o&=~l}}function rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MC(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function yf(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Fd(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-gr(s),t[s]=a}function tM(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-gr(a),o=1<<n;s[n]=0,r[n]=-1,t[n]=-1,a&=~o}}function cv(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-gr(a),n=1<<r;n&s|t[r]&s&&(t[r]|=s),a&=~n}}var Wt=0;function IC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OC,dv,zC,FC,_C,ng=!1,Nu=[],Hn=null,Wn=null,qn=null,qc=new Map,Yc=new Map,On=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(t,s){switch(t){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":qc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(s.pointerId)}}function ic(t,s,a,r,n,o){return t===null||t.nativeEvent!==o?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:o,targetContainers:[n]},s!==null&&(s=Ld(s),s!==null&&dv(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function aM(t,s,a,r,n){switch(s){case"focusin":return Hn=ic(Hn,t,s,a,r,n),!0;case"dragenter":return Wn=ic(Wn,t,s,a,r,n),!0;case"mouseover":return qn=ic(qn,t,s,a,r,n),!0;case"pointerover":var o=n.pointerId;return qc.set(o,ic(qc.get(o)||null,t,s,a,r,n)),!0;case"gotpointercapture":return o=n.pointerId,Yc.set(o,ic(Yc.get(o)||null,t,s,a,r,n)),!0}return!1}function LC(t){var s=Fo(t.target);if(s!==null){var a=di(s);if(a!==null){if(s=a.tag,s===13){if(s=PC(a),s!==null){t.blockedOn=s,_C(t.priority,function(){zC(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sm(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=og(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);eg=r,a.target.dispatchEvent(r),eg=null}else return s=Ld(a),s!==null&&dv(s),t.blockedOn=a,!1;s.shift()}return!0}function Ry(t,s,a){sm(t)&&a.delete(s)}function rM(){ng=!1,Hn!==null&&sm(Hn)&&(Hn=null),Wn!==null&&sm(Wn)&&(Wn=null),qn!==null&&sm(qn)&&(qn=null),qc.forEach(Ry),Yc.forEach(Ry)}function lc(t,s){t.blockedOn===s&&(t.blockedOn=null,ng||(ng=!0,Oa.unstable_scheduleCallback(Oa.unstable_NormalPriority,rM)))}function Kc(t){function s(n){return lc(n,t)}if(0<Nu.length){lc(Nu[0],t);for(var a=1;a<Nu.length;a++){var r=Nu[a];r.blockedOn===t&&(r.blockedOn=null)}}for(Hn!==null&&lc(Hn,t),Wn!==null&&lc(Wn,t),qn!==null&&lc(qn,t),qc.forEach(s),Yc.forEach(s),a=0;a<On.length;a++)r=On[a],r.blockedOn===t&&(r.blockedOn=null);for(;0<On.length&&(a=On[0],a.blockedOn===null);)LC(a),a.blockedOn===null&&On.shift()}var Ui=jn.ReactCurrentBatchConfig,Mm=!0;function nM(t,s,a,r){var n=Wt,o=Ui.transition;Ui.transition=null;try{Wt=1,uv(t,s,a,r)}finally{Wt=n,Ui.transition=o}}function oM(t,s,a,r){var n=Wt,o=Ui.transition;Ui.transition=null;try{Wt=4,uv(t,s,a,r)}finally{Wt=n,Ui.transition=o}}function uv(t,s,a,r){if(Mm){var n=og(t,s,a,r);if(n===null)Tf(t,s,r,Im,a),Ty(t,r);else if(aM(n,t,s,a,r))r.stopPropagation();else if(Ty(t,r),s&4&&-1<sM.indexOf(t)){for(;n!==null;){var o=Ld(n);if(o!==null&&OC(o),o=og(t,s,a,r),o===null&&Tf(t,s,r,Im,a),o===n)break;n=o}n!==null&&r.stopPropagation()}else Tf(t,s,r,null,a)}}var Im=null;function og(t,s,a,r){if(Im=null,t=iv(r),t=Fo(t),t!==null)if(s=di(t),s===null)t=null;else if(a=s.tag,a===13){if(t=PC(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Im=t,null}function $C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qR()){case lv:return 1;case TC:return 4;case Tm:case YR:return 16;case RC:return 536870912;default:return 16}default:return 16}}var Gn=null,mv=null,am=null;function VC(){if(am)return am;var t,s=mv,a=s.length,r,n="value"in Gn?Gn.value:Gn.textContent,o=n.length;for(t=0;t<a&&s[t]===n[t];t++);var i=a-t;for(r=1;r<=i&&s[a-r]===n[o-r];r++);return am=n.slice(t,1<r?1-r:void 0)}function rm(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function My(){return!1}function La(t){function s(a,r,n,o,i){this._reactName=a,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(a=t[l],this[l]=a?a(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wu:My,this.isPropagationStopped=My,this}return cs(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),s}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hv=La(Tl),_d=cs({},Tl,{view:0,detail:0}),iM=La(_d),Nf,wf,cc,Gh=cs({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cc&&(cc&&t.type==="mousemove"?(Nf=t.screenX-cc.screenX,wf=t.screenY-cc.screenY):wf=Nf=0,cc=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:wf}}),Iy=La(Gh),lM=cs({},Gh,{dataTransfer:0}),cM=La(lM),dM=cs({},_d,{relatedTarget:0}),Cf=La(dM),uM=cs({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),mM=La(uM),hM=cs({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xM=La(hM),fM=cs({},Tl,{data:0}),Oy=La(fM),pM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=vM[t])?!!s[t]:!1}function xv(){return bM}var jM=cs({},_d,{key:function(t){if(t.key){var s=pM[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=rm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(t){return t.type==="keypress"?rm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yM=La(jM),NM=cs({},Gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=La(NM),wM=cs({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),CM=La(wM),SM=cs({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),EM=La(SM),PM=cs({},Gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AM=La(PM),DM=[9,13,27,32],fv=dn&&"CompositionEvent"in window,Ac=null;dn&&"documentMode"in document&&(Ac=document.documentMode);var kM=dn&&"TextEvent"in window&&!Ac,GC=dn&&(!fv||Ac&&8<Ac&&11>=Ac),Fy=" ",_y=!1;function BC(t,s){switch(t){case"keyup":return DM.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function TM(t,s){switch(t){case"compositionend":return UC(s);case"keypress":return s.which!==32?null:(_y=!0,Fy);case"textInput":return t=s.data,t===Fy&&_y?null:t;default:return null}}function RM(t,s){if(Ei)return t==="compositionend"||!fv&&BC(t,s)?(t=VC(),am=mv=Gn=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return GC&&s.locale!=="ko"?null:s.data;default:return null}}var MM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!MM[t.type]:s==="textarea"}function HC(t,s,a,r){NC(r),s=Om(s,"onChange"),0<s.length&&(a=new hv("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Dc=null,Xc=null;function IM(t){sS(t,0)}function Bh(t){var s=Di(t);if(fC(s))return t}function OM(t,s){if(t==="change")return s}var WC=!1;if(dn){var Sf;if(dn){var Ef="oninput"in document;if(!Ef){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Ef=typeof $y.oninput=="function"}Sf=Ef}else Sf=!1;WC=Sf&&(!document.documentMode||9<document.documentMode)}function Vy(){Dc&&(Dc.detachEvent("onpropertychange",qC),Xc=Dc=null)}function qC(t){if(t.propertyName==="value"&&Bh(Xc)){var s=[];HC(s,Xc,t,iv(t)),EC(IM,s)}}function zM(t,s,a){t==="focusin"?(Vy(),Dc=s,Xc=a,Dc.attachEvent("onpropertychange",qC)):t==="focusout"&&Vy()}function FM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bh(Xc)}function _M(t,s){if(t==="click")return Bh(s)}function LM(t,s){if(t==="input"||t==="change")return Bh(s)}function $M(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var br=typeof Object.is=="function"?Object.is:$M;function Jc(t,s){if(br(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!Gp.call(s,n)||!br(t[n],s[n]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function By(t,s){var a=Gy(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gy(a)}}function YC(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?YC(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function KC(){for(var t=window,s=Am();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Am(t.document)}return s}function pv(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function VM(t){var s=KC(),a=t.focusedElem,r=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&YC(a.ownerDocument.documentElement,a)){if(r!==null&&pv(a)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,o=Math.min(r.start,n);r=r.end===void 0?o:Math.min(r.end,n),!t.extend&&o>r&&(n=r,r=o,o=n),n=By(a,o);var i=By(a,r);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),o>r?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GM=dn&&"documentMode"in document&&11>=document.documentMode,Pi=null,ig=null,kc=null,lg=!1;function Uy(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lg||Pi==null||Pi!==Am(r)||(r=Pi,"selectionStart"in r&&pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kc&&Jc(kc,r)||(kc=r,r=Om(ig,"onSelect"),0<r.length&&(s=new hv("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Pi)))}function Cu(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ai={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Pf={},XC={};dn&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Uh(t){if(Pf[t])return Pf[t];if(!Ai[t])return t;var s=Ai[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in XC)return Pf[t]=s[a];return t}var JC=Uh("animationend"),QC=Uh("animationiteration"),ZC=Uh("animationstart"),eS=Uh("transitionend"),tS=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,s){tS.set(t,s),ci(s,[t])}for(var Af=0;Af<Hy.length;Af++){var Df=Hy[Af],BM=Df.toLowerCase(),UM=Df[0].toUpperCase()+Df.slice(1);go(BM,"on"+UM)}go(JC,"onAnimationEnd");go(QC,"onAnimationIteration");go(ZC,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(eS,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function Wy(t,s,a){var r=t.type||"unknown-event";t.currentTarget=a,BR(r,s,void 0,t),t.currentTarget=null}function sS(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],n=r.event;r=r.listeners;e:{var o=void 0;if(s)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&n.isPropagationStopped())break e;Wy(n,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&n.isPropagationStopped())break e;Wy(n,l,u),o=c}}}if(km)throw t=ag,km=!1,ag=null,t}function Zt(t,s){var a=s[hg];a===void 0&&(a=s[hg]=new Set);var r=t+"__bubble";a.has(r)||(aS(s,t,2,!1),a.add(r))}function kf(t,s,a){var r=0;s&&(r|=4),aS(a,t,r,s)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[Su]){t[Su]=!0,dC.forEach(function(a){a!=="selectionchange"&&(HM.has(a)||kf(a,!1,t),kf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Su]||(s[Su]=!0,kf("selectionchange",!1,s))}}function aS(t,s,a,r){switch($C(s)){case 1:var n=nM;break;case 4:n=oM;break;default:n=uv}a=n.bind(null,s,a,t),n=void 0,!sg||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(s,a,{capture:!0,passive:n}):t.addEventListener(s,a,!0):n!==void 0?t.addEventListener(s,a,{passive:n}):t.addEventListener(s,a,!1)}function Tf(t,s,a,r,n){var o=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;l!==null;){if(i=Fo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}EC(function(){var u=o,d=iv(a),h=[];e:{var x=tS.get(t);if(x!==void 0){var f=hv,g=t;switch(t){case"keypress":if(rm(a)===0)break e;case"keydown":case"keyup":f=yM;break;case"focusin":g="focus",f=Cf;break;case"focusout":g="blur",f=Cf;break;case"beforeblur":case"afterblur":f=Cf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=cM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=CM;break;case JC:case QC:case ZC:f=mM;break;case eS:f=EM;break;case"scroll":f=iM;break;case"wheel":f=AM;break;case"copy":case"cut":case"paste":f=xM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=zy}var p=(s&4)!==0,y=!p&&t==="scroll",v=p?x!==null?x+"Capture":null:x;p=[];for(var b=u,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=Wc(b,v),w!=null&&p.push(Zc(b,w,j)))),y)break;b=b.return}0<p.length&&(x=new f(x,g,null,a,d),h.push({event:x,listeners:p}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",x&&a!==eg&&(g=a.relatedTarget||a.fromElement)&&(Fo(g)||g[un]))break e;if((f||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,f?(g=a.relatedTarget||a.toElement,f=u,g=g?Fo(g):null,g!==null&&(y=di(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(p=Iy,w="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=zy,w="onPointerLeave",v="onPointerEnter",b="pointer"),y=f==null?x:Di(f),j=g==null?x:Di(g),x=new p(w,b+"leave",f,a,d),x.target=y,x.relatedTarget=j,w=null,Fo(d)===u&&(p=new p(v,b+"enter",g,a,d),p.target=j,p.relatedTarget=y,w=p),y=w,f&&g)t:{for(p=f,v=g,b=0,j=p;j;j=xi(j))b++;for(j=0,w=v;w;w=xi(w))j++;for(;0<b-j;)p=xi(p),b--;for(;0<j-b;)v=xi(v),j--;for(;b--;){if(p===v||v!==null&&p===v.alternate)break t;p=xi(p),v=xi(v)}p=null}else p=null;f!==null&&qy(h,x,f,p,!1),g!==null&&y!==null&&qy(h,y,g,p,!0)}}e:{if(x=u?Di(u):window,f=x.nodeName&&x.nodeName.toLowerCase(),f==="select"||f==="input"&&x.type==="file")var N=OM;else if(Ly(x))if(WC)N=LM;else{N=FM;var E=zM}else(f=x.nodeName)&&f.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=_M);if(N&&(N=N(t,u))){HC(h,N,a,d);break e}E&&E(t,x,u),t==="focusout"&&(E=x._wrapperState)&&E.controlled&&x.type==="number"&&Kp(x,"number",x.value)}switch(E=u?Di(u):window,t){case"focusin":(Ly(E)||E.contentEditable==="true")&&(Pi=E,ig=u,kc=null);break;case"focusout":kc=ig=Pi=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,Uy(h,a,d);break;case"selectionchange":if(GM)break;case"keydown":case"keyup":Uy(h,a,d)}var A;if(fv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ei?BC(t,a)&&(P="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(P="onCompositionStart");P&&(GC&&a.locale!=="ko"&&(Ei||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ei&&(A=VC()):(Gn=d,mv="value"in Gn?Gn.value:Gn.textContent,Ei=!0)),E=Om(u,P),0<E.length&&(P=new Oy(P,t,null,a,d),h.push({event:P,listeners:E}),A?P.data=A:(A=UC(a),A!==null&&(P.data=A)))),(A=kM?TM(t,a):RM(t,a))&&(u=Om(u,"onBeforeInput"),0<u.length&&(d=new Oy("onBeforeInput","beforeinput",null,a,d),h.push({event:d,listeners:u}),d.data=A))}sS(h,s)})}function Zc(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Om(t,s){for(var a=s+"Capture",r=[];t!==null;){var n=t,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=Wc(t,a),o!=null&&r.unshift(Zc(t,o,n)),o=Wc(t,s),o!=null&&r.push(Zc(t,o,n))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qy(t,s,a,r,n){for(var o=s._reactName,i=[];a!==null&&a!==r;){var l=a,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,n?(c=Wc(a,o),c!=null&&i.unshift(Zc(a,c,l))):n||(c=Wc(a,o),c!=null&&i.push(Zc(a,c,l)))),a=a.return}i.length!==0&&t.push({event:s,listeners:i})}var WM=/\r\n?/g,qM=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(WM,`
`).replace(qM,"")}function Eu(t,s,a){if(s=Yy(s),Yy(t)!==s&&a)throw Error(Oe(425))}function zm(){}var cg=null,dg=null;function ug(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,YM=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,KM=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(XM)}:mg;function XM(t){setTimeout(function(){throw t})}function Rf(t,s){var a=s,r=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){t.removeChild(n),Kc(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=n}while(a);Kc(s)}function Yn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Rl,ed="__reactProps$"+Rl,un="__reactContainer$"+Rl,hg="__reactEvents$"+Rl,JM="__reactListeners$"+Rl,QM="__reactHandles$"+Rl;function Fo(t){var s=t[Fr];if(s)return s;for(var a=t.parentNode;a;){if(s=a[un]||a[Fr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Xy(t);t!==null;){if(a=t[Fr])return a;t=Xy(t)}return s}t=a,a=t.parentNode}return null}function Ld(t){return t=t[Fr]||t[un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function Hh(t){return t[ed]||null}var xg=[],ki=-1;function vo(t){return{current:t}}function es(t){0>ki||(t.current=xg[ki],xg[ki]=null,ki--)}function Xt(t,s){ki++,xg[ki]=t.current,t.current=s}var ao={},Xs=vo(ao),ja=vo(!1),Xo=ao;function ml(t,s){var a=t.type.contextTypes;if(!a)return ao;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in a)n[o]=s[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function ya(t){return t=t.childContextTypes,t!=null}function Fm(){es(ja),es(Xs)}function Jy(t,s,a){if(Xs.current!==ao)throw Error(Oe(168));Xt(Xs,s),Xt(ja,a)}function rS(t,s,a){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return a;r=r.getChildContext();for(var n in r)if(!(n in s))throw Error(Oe(108,zR(t)||"Unknown",n));return cs({},a,r)}function _m(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,Xo=Xs.current,Xt(Xs,t),Xt(ja,ja.current),!0}function Qy(t,s,a){var r=t.stateNode;if(!r)throw Error(Oe(169));a?(t=rS(t,s,Xo),r.__reactInternalMemoizedMergedChildContext=t,es(ja),es(Xs),Xt(Xs,t)):es(ja),Xt(ja,a)}var nn=null,Wh=!1,Mf=!1;function nS(t){nn===null?nn=[t]:nn.push(t)}function ZM(t){Wh=!0,nS(t)}function bo(){if(!Mf&&nn!==null){Mf=!0;var t=0,s=Wt;try{var a=nn;for(Wt=1;t<a.length;t++){var r=a[t];do r=r(!0);while(r!==null)}nn=null,Wh=!1}catch(n){throw nn!==null&&(nn=nn.slice(t+1)),kC(lv,bo),n}finally{Wt=s,Mf=!1}}return null}var Ti=[],Ri=0,Lm=null,$m=0,Wa=[],qa=0,Jo=null,on=1,ln="";function To(t,s){Ti[Ri++]=$m,Ti[Ri++]=Lm,Lm=t,$m=s}function oS(t,s,a){Wa[qa++]=on,Wa[qa++]=ln,Wa[qa++]=Jo,Jo=t;var r=on;t=ln;var n=32-gr(r)-1;r&=~(1<<n),a+=1;var o=32-gr(s)+n;if(30<o){var i=n-n%5;o=(r&(1<<i)-1).toString(32),r>>=i,n-=i,on=1<<32-gr(s)+n|a<<n|r,ln=o+t}else on=1<<o|a<<n|r,ln=t}function gv(t){t.return!==null&&(To(t,1),oS(t,1,0))}function vv(t){for(;t===Lm;)Lm=Ti[--Ri],Ti[Ri]=null,$m=Ti[--Ri],Ti[Ri]=null;for(;t===Jo;)Jo=Wa[--qa],Wa[qa]=null,ln=Wa[--qa],Wa[qa]=null,on=Wa[--qa],Wa[qa]=null}var Ma=null,Ta=null,ss=!1,mr=null;function iS(t,s){var a=Ya(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function Zy(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ma=t,Ta=Yn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ma=t,Ta=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Jo!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Ya(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,Ma=t,Ta=null,!0):!1;default:return!1}}function fg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pg(t){if(ss){var s=Ta;if(s){var a=s;if(!Zy(t,s)){if(fg(t))throw Error(Oe(418));s=Yn(a.nextSibling);var r=Ma;s&&Zy(t,s)?iS(r,a):(t.flags=t.flags&-4097|2,ss=!1,Ma=t)}}else{if(fg(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,ss=!1,Ma=t}}}function eN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ma=t}function Pu(t){if(t!==Ma)return!1;if(!ss)return eN(t),ss=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!ug(t.type,t.memoizedProps)),s&&(s=Ta)){if(fg(t))throw lS(),Error(Oe(418));for(;s;)iS(t,s),s=Yn(s.nextSibling)}if(eN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){Ta=Yn(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}Ta=null}}else Ta=Ma?Yn(t.stateNode.nextSibling):null;return!0}function lS(){for(var t=Ta;t;)t=Yn(t.nextSibling)}function hl(){Ta=Ma=null,ss=!1}function bv(t){mr===null?mr=[t]:mr.push(t)}var eI=jn.ReactCurrentBatchConfig;function dc(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Oe(309));var r=a.stateNode}if(!r)throw Error(Oe(147,t));var n=r,o=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===o?s.ref:(s=function(i){var l=n.refs;i===null?delete l[o]:l[o]=i},s._stringRef=o,s)}if(typeof t!="string")throw Error(Oe(284));if(!a._owner)throw Error(Oe(290,t))}return t}function Au(t,s){throw t=Object.prototype.toString.call(s),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function tN(t){var s=t._init;return s(t._payload)}function cS(t){function s(v,b){if(t){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function a(v,b){if(!t)return null;for(;b!==null;)s(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function n(v,b){return v=Qn(v,b),v.index=0,v.sibling=null,v}function o(v,b,j){return v.index=j,t?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,w){return b===null||b.tag!==6?(b=$f(j,v.mode,w),b.return=v,b):(b=n(b,j),b.return=v,b)}function c(v,b,j,w){var N=j.type;return N===Si?d(v,b,j.props.children,w,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rn&&tN(N)===b.type)?(w=n(b,j.props),w.ref=dc(v,b,j),w.return=v,w):(w=um(j.type,j.key,j.props,null,v.mode,w),w.ref=dc(v,b,j),w.return=v,w)}function u(v,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Vf(j,v.mode,w),b.return=v,b):(b=n(b,j.children||[]),b.return=v,b)}function d(v,b,j,w,N){return b===null||b.tag!==7?(b=qo(j,v.mode,w,N),b.return=v,b):(b=n(b,j),b.return=v,b)}function h(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$f(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:return j=um(b.type,b.key,b.props,null,v.mode,j),j.ref=dc(v,null,b),j.return=v,j;case Ci:return b=Vf(b,v.mode,j),b.return=v,b;case Rn:var w=b._init;return h(v,w(b._payload),j)}if(bc(b)||nc(b))return b=qo(b,v.mode,j,null),b.return=v,b;Au(v,b)}return null}function x(v,b,j,w){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gu:return j.key===N?c(v,b,j,w):null;case Ci:return j.key===N?u(v,b,j,w):null;case Rn:return N=j._init,x(v,b,N(j._payload),w)}if(bc(j)||nc(j))return N!==null?null:d(v,b,j,w,null);Au(v,j)}return null}function f(v,b,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:return v=v.get(w.key===null?j:w.key)||null,c(b,v,w,N);case Ci:return v=v.get(w.key===null?j:w.key)||null,u(b,v,w,N);case Rn:var E=w._init;return f(v,b,j,E(w._payload),N)}if(bc(w)||nc(w))return v=v.get(j)||null,d(b,v,w,N,null);Au(b,w)}return null}function g(v,b,j,w){for(var N=null,E=null,A=b,P=b=0,z=null;A!==null&&P<j.length;P++){A.index>P?(z=A,A=null):z=A.sibling;var T=x(v,A,j[P],w);if(T===null){A===null&&(A=z);break}t&&A&&T.alternate===null&&s(v,A),b=o(T,b,P),E===null?N=T:E.sibling=T,E=T,A=z}if(P===j.length)return a(v,A),ss&&To(v,P),N;if(A===null){for(;P<j.length;P++)A=h(v,j[P],w),A!==null&&(b=o(A,b,P),E===null?N=A:E.sibling=A,E=A);return ss&&To(v,P),N}for(A=r(v,A);P<j.length;P++)z=f(A,v,P,j[P],w),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?P:z.key),b=o(z,b,P),E===null?N=z:E.sibling=z,E=z);return t&&A.forEach(function(k){return s(v,k)}),ss&&To(v,P),N}function p(v,b,j,w){var N=nc(j);if(typeof N!="function")throw Error(Oe(150));if(j=N.call(j),j==null)throw Error(Oe(151));for(var E=N=null,A=b,P=b=0,z=null,T=j.next();A!==null&&!T.done;P++,T=j.next()){A.index>P?(z=A,A=null):z=A.sibling;var k=x(v,A,T.value,w);if(k===null){A===null&&(A=z);break}t&&A&&k.alternate===null&&s(v,A),b=o(k,b,P),E===null?N=k:E.sibling=k,E=k,A=z}if(T.done)return a(v,A),ss&&To(v,P),N;if(A===null){for(;!T.done;P++,T=j.next())T=h(v,T.value,w),T!==null&&(b=o(T,b,P),E===null?N=T:E.sibling=T,E=T);return ss&&To(v,P),N}for(A=r(v,A);!T.done;P++,T=j.next())T=f(A,v,P,T.value,w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?P:T.key),b=o(T,b,P),E===null?N=T:E.sibling=T,E=T);return t&&A.forEach(function(L){return s(v,L)}),ss&&To(v,P),N}function y(v,b,j,w){if(typeof j=="object"&&j!==null&&j.type===Si&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gu:e:{for(var N=j.key,E=b;E!==null;){if(E.key===N){if(N=j.type,N===Si){if(E.tag===7){a(v,E.sibling),b=n(E,j.props.children),b.return=v,v=b;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rn&&tN(N)===E.type){a(v,E.sibling),b=n(E,j.props),b.ref=dc(v,E,j),b.return=v,v=b;break e}a(v,E);break}else s(v,E);E=E.sibling}j.type===Si?(b=qo(j.props.children,v.mode,w,j.key),b.return=v,v=b):(w=um(j.type,j.key,j.props,null,v.mode,w),w.ref=dc(v,b,j),w.return=v,v=w)}return i(v);case Ci:e:{for(E=j.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){a(v,b.sibling),b=n(b,j.children||[]),b.return=v,v=b;break e}else{a(v,b);break}else s(v,b);b=b.sibling}b=Vf(j,v.mode,w),b.return=v,v=b}return i(v);case Rn:return E=j._init,y(v,b,E(j._payload),w)}if(bc(j))return g(v,b,j,w);if(nc(j))return p(v,b,j,w);Au(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(a(v,b.sibling),b=n(b,j),b.return=v,v=b):(a(v,b),b=$f(j,v.mode,w),b.return=v,v=b),i(v)):a(v,b)}return y}var xl=cS(!0),dS=cS(!1),Vm=vo(null),Gm=null,Mi=null,jv=null;function yv(){jv=Mi=Gm=null}function Nv(t){var s=Vm.current;es(Vm),t._currentValue=s}function gg(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function Hi(t,s){Gm=t,jv=Mi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(ga=!0),t.firstContext=null)}function Za(t){var s=t._currentValue;if(jv!==t)if(t={context:t,memoizedValue:s,next:null},Mi===null){if(Gm===null)throw Error(Oe(308));Mi=t,Gm.dependencies={lanes:0,firstContext:t}}else Mi=Mi.next=t;return s}var _o=null;function wv(t){_o===null?_o=[t]:_o.push(t)}function uS(t,s,a,r){var n=s.interleaved;return n===null?(a.next=a,wv(s)):(a.next=n.next,n.next=a),s.interleaved=a,mn(t,r)}function mn(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Mn=!1;function Cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mS(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var n=r.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),r.pending=s,mn(t,a)}return n=r.interleaved,n===null?(s.next=s,wv(r)):(s.next=n.next,n.next=s),r.interleaved=s,mn(t,a)}function nm(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,cv(t,a)}}function sN(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var n=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};o===null?n=o=i:o=o.next=i,a=a.next}while(a!==null);o===null?n=o=s:o=o.next=s}else n=o=s;a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function Bm(t,s,a,r){var n=t.updateQueue;Mn=!1;var o=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=n.baseState;i=0,d=u=c=null,l=o;do{var x=l.lane,f=l.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,p=l;switch(x=s,f=a,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,x);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,x=typeof g=="function"?g.call(f,h,x):g,x==null)break e;h=cs({},h,x);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=n.effects,x===null?n.effects=[l]:x.push(l))}else f={eventTime:f,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,i|=x;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;x=l,l=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else o===null&&(n.shared.lanes=0);Zo|=i,t.lanes=i,t.memoizedState=h}}function aN(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],n=r.callback;if(n!==null){if(r.callback=null,r=a,typeof n!="function")throw Error(Oe(191,n));n.call(r)}}}var $d={},Br=vo($d),td=vo($d),sd=vo($d);function Lo(t){if(t===$d)throw Error(Oe(174));return t}function Sv(t,s){switch(Xt(sd,s),Xt(td,t),Xt(Br,$d),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Jp(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Jp(s,t)}es(Br),Xt(Br,s)}function fl(){es(Br),es(td),es(sd)}function hS(t){Lo(sd.current);var s=Lo(Br.current),a=Jp(s,t.type);s!==a&&(Xt(td,t),Xt(Br,a))}function Ev(t){td.current===t&&(es(Br),es(td))}var os=vo(0);function Um(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var If=[];function Pv(){for(var t=0;t<If.length;t++)If[t]._workInProgressVersionPrimary=null;If.length=0}var om=jn.ReactCurrentDispatcher,Of=jn.ReactCurrentBatchConfig,Qo=0,ls=null,Ns=null,As=null,Hm=!1,Tc=!1,ad=0,tI=0;function Gs(){throw Error(Oe(321))}function Av(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!br(t[a],s[a]))return!1;return!0}function Dv(t,s,a,r,n,o){if(Qo=o,ls=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,om.current=t===null||t.memoizedState===null?nI:oI,t=a(r,n),Tc){o=0;do{if(Tc=!1,ad=0,25<=o)throw Error(Oe(301));o+=1,As=Ns=null,s.updateQueue=null,om.current=iI,t=a(r,n)}while(Tc)}if(om.current=Wm,s=Ns!==null&&Ns.next!==null,Qo=0,As=Ns=ls=null,Hm=!1,s)throw Error(Oe(300));return t}function kv(){var t=ad!==0;return ad=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return As===null?ls.memoizedState=As=t:As=As.next=t,As}function er(){if(Ns===null){var t=ls.alternate;t=t!==null?t.memoizedState:null}else t=Ns.next;var s=As===null?ls.memoizedState:As.next;if(s!==null)As=s,Ns=t;else{if(t===null)throw Error(Oe(310));Ns=t,t={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},As===null?ls.memoizedState=As=t:As=As.next=t}return As}function rd(t,s){return typeof s=="function"?s(t):s}function zf(t){var s=er(),a=s.queue;if(a===null)throw Error(Oe(311));a.lastRenderedReducer=t;var r=Ns,n=r.baseQueue,o=a.pending;if(o!==null){if(n!==null){var i=n.next;n.next=o.next,o.next=i}r.baseQueue=n=o,a.pending=null}if(n!==null){o=n.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Qo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,ls.lanes|=d,Zo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,br(r,s.memoizedState)||(ga=!0),s.memoizedState=r,s.baseState=i,s.baseQueue=c,a.lastRenderedState=r}if(t=a.interleaved,t!==null){n=t;do o=n.lane,ls.lanes|=o,Zo|=o,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ff(t){var s=er(),a=s.queue;if(a===null)throw Error(Oe(311));a.lastRenderedReducer=t;var r=a.dispatch,n=a.pending,o=s.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do o=t(o,i.action),i=i.next;while(i!==n);br(o,s.memoizedState)||(ga=!0),s.memoizedState=o,s.baseQueue===null&&(s.baseState=o),a.lastRenderedState=o}return[o,r]}function xS(){}function fS(t,s){var a=ls,r=er(),n=s(),o=!br(r.memoizedState,n);if(o&&(r.memoizedState=n,ga=!0),r=r.queue,Tv(vS.bind(null,a,r,t),[t]),r.getSnapshot!==s||o||As!==null&&As.memoizedState.tag&1){if(a.flags|=2048,nd(9,gS.bind(null,a,r,n,s),void 0,null),Rs===null)throw Error(Oe(349));Qo&30||pS(a,s,n)}return n}function pS(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ls.updateQueue,s===null?(s={lastEffect:null,stores:null},ls.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function gS(t,s,a,r){s.value=a,s.getSnapshot=r,bS(s)&&jS(t)}function vS(t,s,a){return a(function(){bS(s)&&jS(t)})}function bS(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!br(t,a)}catch{return!0}}function jS(t){var s=mn(t,1);s!==null&&vr(s,t,1,-1)}function rN(t){var s=Rr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},s.queue=t,t=t.dispatch=rI.bind(null,ls,t),[s.memoizedState,t]}function nd(t,s,a,r){return t={tag:t,create:s,destroy:a,deps:r,next:null},s=ls.updateQueue,s===null?(s={lastEffect:null,stores:null},ls.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t)),t}function yS(){return er().memoizedState}function im(t,s,a,r){var n=Rr();ls.flags|=t,n.memoizedState=nd(1|s,a,void 0,r===void 0?null:r)}function qh(t,s,a,r){var n=er();r=r===void 0?null:r;var o=void 0;if(Ns!==null){var i=Ns.memoizedState;if(o=i.destroy,r!==null&&Av(r,i.deps)){n.memoizedState=nd(s,a,o,r);return}}ls.flags|=t,n.memoizedState=nd(1|s,a,o,r)}function nN(t,s){return im(8390656,8,t,s)}function Tv(t,s){return qh(2048,8,t,s)}function NS(t,s){return qh(4,2,t,s)}function wS(t,s){return qh(4,4,t,s)}function CS(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function SS(t,s,a){return a=a!=null?a.concat([t]):null,qh(4,4,CS.bind(null,s,t),a)}function Rv(){}function ES(t,s){var a=er();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Av(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function PS(t,s){var a=er();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Av(s,r[1])?r[0]:(t=t(),a.memoizedState=[t,s],t)}function AS(t,s,a){return Qo&21?(br(a,s)||(a=MC(),ls.lanes|=a,Zo|=a,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,ga=!0),t.memoizedState=a)}function sI(t,s){var a=Wt;Wt=a!==0&&4>a?a:4,t(!0);var r=Of.transition;Of.transition={};try{t(!1),s()}finally{Wt=a,Of.transition=r}}function DS(){return er().memoizedState}function aI(t,s,a){var r=Jn(t);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},kS(t))TS(s,a);else if(a=uS(t,s,a,r),a!==null){var n=na();vr(a,t,r,n),RS(a,s,r)}}function rI(t,s,a){var r=Jn(t),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(kS(t))TS(s,n);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=s.lastRenderedReducer,o!==null))try{var i=s.lastRenderedState,l=o(i,a);if(n.hasEagerState=!0,n.eagerState=l,br(l,i)){var c=s.interleaved;c===null?(n.next=n,wv(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}a=uS(t,s,n,r),a!==null&&(n=na(),vr(a,t,r,n),RS(a,s,r))}}function kS(t){var s=t.alternate;return t===ls||s!==null&&s===ls}function TS(t,s){Tc=Hm=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function RS(t,s,a){if(a&4194240){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,cv(t,a)}}var Wm={readContext:Za,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},nI={readContext:Za,useCallback:function(t,s){return Rr().memoizedState=[t,s===void 0?null:s],t},useContext:Za,useEffect:nN,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,im(4194308,4,CS.bind(null,s,t),a)},useLayoutEffect:function(t,s){return im(4194308,4,t,s)},useInsertionEffect:function(t,s){return im(4,2,t,s)},useMemo:function(t,s){var a=Rr();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var r=Rr();return s=a!==void 0?a(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=aI.bind(null,ls,t),[r.memoizedState,t]},useRef:function(t){var s=Rr();return t={current:t},s.memoizedState=t},useState:rN,useDebugValue:Rv,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=rN(!1),s=t[0];return t=sI.bind(null,t[1]),Rr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var r=ls,n=Rr();if(ss){if(a===void 0)throw Error(Oe(407));a=a()}else{if(a=s(),Rs===null)throw Error(Oe(349));Qo&30||pS(r,s,a)}n.memoizedState=a;var o={value:a,getSnapshot:s};return n.queue=o,nN(vS.bind(null,r,o,t),[t]),r.flags|=2048,nd(9,gS.bind(null,r,o,a,s),void 0,null),a},useId:function(){var t=Rr(),s=Rs.identifierPrefix;if(ss){var a=ln,r=on;a=(r&~(1<<32-gr(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=ad++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=tI++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},oI={readContext:Za,useCallback:ES,useContext:Za,useEffect:Tv,useImperativeHandle:SS,useInsertionEffect:NS,useLayoutEffect:wS,useMemo:PS,useReducer:zf,useRef:yS,useState:function(){return zf(rd)},useDebugValue:Rv,useDeferredValue:function(t){var s=er();return AS(s,Ns.memoizedState,t)},useTransition:function(){var t=zf(rd)[0],s=er().memoizedState;return[t,s]},useMutableSource:xS,useSyncExternalStore:fS,useId:DS,unstable_isNewReconciler:!1},iI={readContext:Za,useCallback:ES,useContext:Za,useEffect:Tv,useImperativeHandle:SS,useInsertionEffect:NS,useLayoutEffect:wS,useMemo:PS,useReducer:Ff,useRef:yS,useState:function(){return Ff(rd)},useDebugValue:Rv,useDeferredValue:function(t){var s=er();return Ns===null?s.memoizedState=t:AS(s,Ns.memoizedState,t)},useTransition:function(){var t=Ff(rd)[0],s=er().memoizedState;return[t,s]},useMutableSource:xS,useSyncExternalStore:fS,useId:DS,unstable_isNewReconciler:!1};function lr(t,s){if(t&&t.defaultProps){s=cs({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function vg(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:cs({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yh={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var r=na(),n=Jn(t),o=cn(r,n);o.payload=s,a!=null&&(o.callback=a),s=Kn(t,o,n),s!==null&&(vr(s,t,n,r),nm(s,t,n))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=na(),n=Jn(t),o=cn(r,n);o.tag=1,o.payload=s,a!=null&&(o.callback=a),s=Kn(t,o,n),s!==null&&(vr(s,t,n,r),nm(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=na(),r=Jn(t),n=cn(a,r);n.tag=2,s!=null&&(n.callback=s),s=Kn(t,n,r),s!==null&&(vr(s,t,r,a),nm(s,t,r))}};function oN(t,s,a,r,n,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):s.prototype&&s.prototype.isPureReactComponent?!Jc(a,r)||!Jc(n,o):!0}function MS(t,s,a){var r=!1,n=ao,o=s.contextType;return typeof o=="object"&&o!==null?o=Za(o):(n=ya(s)?Xo:Xs.current,r=s.contextTypes,o=(r=r!=null)?ml(t,n):ao),s=new s(a,o),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yh,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),s}function iN(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Yh.enqueueReplaceState(s,s.state,null)}function bg(t,s,a,r){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},Cv(t);var o=s.contextType;typeof o=="object"&&o!==null?n.context=Za(o):(o=ya(s)?Xo:Xs.current,n.context=ml(t,o)),n.state=t.memoizedState,o=s.getDerivedStateFromProps,typeof o=="function"&&(vg(t,s,o,a),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Yh.enqueueReplaceState(n,n.state,null),Bm(t,a,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,s){try{var a="",r=s;do a+=OR(r),r=r.return;while(r);var n=a}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:s,stack:n,digest:null}}function _f(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function jg(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var lI=typeof WeakMap=="function"?WeakMap:Map;function IS(t,s,a){a=cn(-1,a),a.tag=3,a.payload={element:null};var r=s.value;return a.callback=function(){Ym||(Ym=!0,kg=r),jg(t,s)},a}function OS(t,s,a){a=cn(-1,a),a.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;a.payload=function(){return r(n)},a.callback=function(){jg(t,s)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(a.callback=function(){jg(t,s),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),a}function lN(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new lI;var n=new Set;r.set(s,n)}else n=r.get(s),n===void 0&&(n=new Set,r.set(s,n));n.has(a)||(n.add(a),t=NI.bind(null,t,s,a),s.then(t,t))}function cN(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function dN(t,s,a,r,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=cn(-1,1),s.tag=2,Kn(a,s,1))),a.lanes|=1),t)}var cI=jn.ReactCurrentOwner,ga=!1;function ea(t,s,a,r){s.child=t===null?dS(s,null,a,r):xl(s,t.child,a,r)}function uN(t,s,a,r,n){a=a.render;var o=s.ref;return Hi(s,n),r=Dv(t,s,a,r,o,n),a=kv(),t!==null&&!ga?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,hn(t,s,n)):(ss&&a&&gv(s),s.flags|=1,ea(t,s,r,n),s.child)}function mN(t,s,a,r,n){if(t===null){var o=a.type;return typeof o=="function"&&!$v(o)&&o.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=o,zS(t,s,o,r,n)):(t=um(a.type,null,r,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(o=t.child,!(t.lanes&n)){var i=o.memoizedProps;if(a=a.compare,a=a!==null?a:Jc,a(i,r)&&t.ref===s.ref)return hn(t,s,n)}return s.flags|=1,t=Qn(o,r),t.ref=s.ref,t.return=s,s.child=t}function zS(t,s,a,r,n){if(t!==null){var o=t.memoizedProps;if(Jc(o,r)&&t.ref===s.ref)if(ga=!1,s.pendingProps=r=o,(t.lanes&n)!==0)t.flags&131072&&(ga=!0);else return s.lanes=t.lanes,hn(t,s,n)}return yg(t,s,a,r,n)}function FS(t,s,a){var r=s.pendingProps,n=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Oi,Da),Da|=a;else{if(!(a&1073741824))return t=o!==null?o.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Xt(Oi,Da),Da|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:a,Xt(Oi,Da),Da|=r}else o!==null?(r=o.baseLanes|a,s.memoizedState=null):r=a,Xt(Oi,Da),Da|=r;return ea(t,s,n,a),s.child}function _S(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function yg(t,s,a,r,n){var o=ya(a)?Xo:Xs.current;return o=ml(s,o),Hi(s,n),a=Dv(t,s,a,r,o,n),r=kv(),t!==null&&!ga?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,hn(t,s,n)):(ss&&r&&gv(s),s.flags|=1,ea(t,s,a,n),s.child)}function hN(t,s,a,r,n){if(ya(a)){var o=!0;_m(s)}else o=!1;if(Hi(s,n),s.stateNode===null)lm(t,s),MS(s,a,r),bg(s,a,r,n),r=!0;else if(t===null){var i=s.stateNode,l=s.memoizedProps;i.props=l;var c=i.context,u=a.contextType;typeof u=="object"&&u!==null?u=Za(u):(u=ya(a)?Xo:Xs.current,u=ml(s,u));var d=a.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&iN(s,i,r,u),Mn=!1;var x=s.memoizedState;i.state=x,Bm(s,r,i,n),c=s.memoizedState,l!==r||x!==c||ja.current||Mn?(typeof d=="function"&&(vg(s,a,d,r),c=s.memoizedState),(l=Mn||oN(s,a,l,r,x,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{i=s.stateNode,mS(t,s),l=s.memoizedProps,u=s.type===s.elementType?l:lr(s.type,l),i.props=u,h=s.pendingProps,x=i.context,c=a.contextType,typeof c=="object"&&c!==null?c=Za(c):(c=ya(a)?Xo:Xs.current,c=ml(s,c));var f=a.getDerivedStateFromProps;(d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||x!==c)&&iN(s,i,r,c),Mn=!1,x=s.memoizedState,i.state=x,Bm(s,r,i,n);var g=s.memoizedState;l!==h||x!==g||ja.current||Mn?(typeof f=="function"&&(vg(s,a,f,r),g=s.memoizedState),(u=Mn||oN(s,a,u,r,x,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),r=!1)}return Ng(t,s,a,r,o,n)}function Ng(t,s,a,r,n,o){_S(t,s);var i=(s.flags&128)!==0;if(!r&&!i)return n&&Qy(s,a,!1),hn(t,s,o);r=s.stateNode,cI.current=s;var l=i&&typeof a.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&i?(s.child=xl(s,t.child,null,o),s.child=xl(s,null,l,o)):ea(t,s,l,o),s.memoizedState=r.state,n&&Qy(s,a,!0),s.child}function LS(t){var s=t.stateNode;s.pendingContext?Jy(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Jy(t,s.context,!1),Sv(t,s.containerInfo)}function xN(t,s,a,r,n){return hl(),bv(n),s.flags|=256,ea(t,s,a,r),s.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function Cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function $S(t,s,a){var r=s.pendingProps,n=os.current,o=!1,i=(s.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(o=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Xt(os,n&1),t===null)return pg(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=r.children,t=r.fallback,o?(r=s.mode,o=s.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Jh(i,r,0,null),t=qo(t,r,a,null),o.return=s,t.return=s,o.sibling=t,s.child=o,s.child.memoizedState=Cg(a),s.memoizedState=wg,t):Mv(s,i));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return dI(t,s,i,r,l,n,a);if(o){o=r.fallback,i=s.mode,n=t.child,l=n.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&s.child!==n?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=Qn(n,c),r.subtreeFlags=n.subtreeFlags&14680064),l!==null?o=Qn(l,o):(o=qo(o,i,a,null),o.flags|=2),o.return=s,r.return=s,r.sibling=o,s.child=r,r=o,o=s.child,i=t.child.memoizedState,i=i===null?Cg(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~a,s.memoizedState=wg,r}return o=t.child,t=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=a),r.return=s,r.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=r,s.memoizedState=null,r}function Mv(t,s){return s=Jh({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Du(t,s,a,r){return r!==null&&bv(r),xl(s,t.child,null,a),t=Mv(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function dI(t,s,a,r,n,o,i){if(a)return s.flags&256?(s.flags&=-257,r=_f(Error(Oe(422))),Du(t,s,i,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(o=r.fallback,n=s.mode,r=Jh({mode:"visible",children:r.children},n,0,null),o=qo(o,n,i,null),o.flags|=2,r.return=s,o.return=s,r.sibling=o,s.child=r,s.mode&1&&xl(s,t.child,null,i),s.child.memoizedState=Cg(i),s.memoizedState=wg,o);if(!(s.mode&1))return Du(t,s,i,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Oe(419)),r=_f(o,r,void 0),Du(t,s,i,r)}if(l=(i&t.childLanes)!==0,ga||l){if(r=Rs,r!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|i)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,mn(t,n),vr(r,t,n,-1))}return Lv(),r=_f(Error(Oe(421))),Du(t,s,i,r)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=wI.bind(null,t),n._reactRetry=s,null):(t=o.treeContext,Ta=Yn(n.nextSibling),Ma=s,ss=!0,mr=null,t!==null&&(Wa[qa++]=on,Wa[qa++]=ln,Wa[qa++]=Jo,on=t.id,ln=t.overflow,Jo=s),s=Mv(s,r.children),s.flags|=4096,s)}function fN(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),gg(t.return,s,a)}function Lf(t,s,a,r,n){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(o.isBackwards=s,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=a,o.tailMode=n)}function VS(t,s,a){var r=s.pendingProps,n=r.revealOrder,o=r.tail;if(ea(t,s,r.children,a),r=os.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fN(t,a,s);else if(t.tag===19)fN(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xt(os,r),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(a=s.child,n=null;a!==null;)t=a.alternate,t!==null&&Um(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),Lf(s,!1,n,a,o);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&Um(t)===null){s.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}Lf(s,!0,a,null,o);break;case"together":Lf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lm(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function hn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Zo|=s.lanes,!(a&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(Oe(153));if(s.child!==null){for(t=s.child,a=Qn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Qn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function uI(t,s,a){switch(s.tag){case 3:LS(s),hl();break;case 5:hS(s);break;case 1:ya(s.type)&&_m(s);break;case 4:Sv(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,n=s.memoizedProps.value;Xt(Vm,r._currentValue),r._currentValue=n;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(Xt(os,os.current&1),s.flags|=128,null):a&s.child.childLanes?$S(t,s,a):(Xt(os,os.current&1),t=hn(t,s,a),t!==null?t.sibling:null);Xt(os,os.current&1);break;case 19:if(r=(a&s.childLanes)!==0,t.flags&128){if(r)return VS(t,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Xt(os,os.current),r)break;return null;case 22:case 23:return s.lanes=0,FS(t,s,a)}return hn(t,s,a)}var GS,Sg,BS,US;GS=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Sg=function(){};BS=function(t,s,a,r){var n=t.memoizedProps;if(n!==r){t=s.stateNode,Lo(Br.current);var o=null;switch(a){case"input":n=qp(t,n),r=qp(t,r),o=[];break;case"select":n=cs({},n,{value:void 0}),r=cs({},r,{value:void 0}),o=[];break;case"textarea":n=Xp(t,n),r=Xp(t,r),o=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zm)}Qp(a,r);var i;a=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(i in l)l.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=n!=null?n[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(a||(a={}),a[i]=c[i])}else a||(o||(o=[]),o.push(u,a)),a=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}a&&(o=o||[]).push("style",a);var u=o;(s.updateQueue=u)&&(s.flags|=4)}};US=function(t,s,a,r){a!==r&&(s.flags|=4)};function uc(t,s){if(!ss)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bs(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function mI(t,s,a){var r=s.pendingProps;switch(vv(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(s),null;case 1:return ya(s.type)&&Fm(),Bs(s),null;case 3:return r=s.stateNode,fl(),es(ja),es(Xs),Pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,mr!==null&&(Mg(mr),mr=null))),Sg(t,s),Bs(s),null;case 5:Ev(s);var n=Lo(sd.current);if(a=s.type,t!==null&&s.stateNode!=null)BS(t,s,a,r,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(Oe(166));return Bs(s),null}if(t=Lo(Br.current),Pu(s)){r=s.stateNode,a=s.type;var o=s.memoizedProps;switch(r[Fr]=s,r[ed]=o,t=(s.mode&1)!==0,a){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(n=0;n<yc.length;n++)Zt(yc[n],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":Cy(r,o),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zt("invalid",r);break;case"textarea":Ey(r,o),Zt("invalid",r)}Qp(a,o),n=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,l,t),n=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,l,t),n=["children",""+l]):Uc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Zt("scroll",r)}switch(a){case"input":vu(r),Sy(r,o,!0);break;case"textarea":vu(r),Py(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zm)}r=n,s.updateQueue=r,r!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vC(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(a,{is:r.is}):(t=i.createElement(a),a==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,a),t[Fr]=s,t[ed]=r,GS(t,s,!1,!1),s.stateNode=t;e:{switch(i=Zp(a,r),a){case"dialog":Zt("cancel",t),Zt("close",t),n=r;break;case"iframe":case"object":case"embed":Zt("load",t),n=r;break;case"video":case"audio":for(n=0;n<yc.length;n++)Zt(yc[n],t);n=r;break;case"source":Zt("error",t),n=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),n=r;break;case"details":Zt("toggle",t),n=r;break;case"input":Cy(t,r),n=qp(t,r),Zt("invalid",t);break;case"option":n=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=cs({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":Ey(t,r),n=Xp(t,r),Zt("invalid",t);break;default:n=r}Qp(a,n),l=n;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?yC(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bC(t,c)):o==="children"?typeof c=="string"?(a!=="textarea"||c!=="")&&Hc(t,c):typeof c=="number"&&Hc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Zt("scroll",t):c!=null&&av(t,o,c,i))}switch(a){case"input":vu(t),Sy(t,r,!1);break;case"textarea":vu(t),Py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+so(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Vi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=zm)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bs(s),null;case 6:if(t&&s.stateNode!=null)US(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(Oe(166));if(a=Lo(sd.current),Lo(Br.current),Pu(s)){if(r=s.stateNode,a=s.memoizedProps,r[Fr]=s,(o=r.nodeValue!==a)&&(t=Ma,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,a,(t.mode&1)!==0)}o&&(s.flags|=4)}else r=(a.nodeType===9?a:a.ownerDocument).createTextNode(r),r[Fr]=s,s.stateNode=r}return Bs(s),null;case 13:if(es(os),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ss&&Ta!==null&&s.mode&1&&!(s.flags&128))lS(),hl(),s.flags|=98560,o=!1;else if(o=Pu(s),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Oe(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[Fr]=s}else hl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bs(s),o=!1}else mr!==null&&(Mg(mr),mr=null),o=!0;if(!o)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||os.current&1?Cs===0&&(Cs=3):Lv())),s.updateQueue!==null&&(s.flags|=4),Bs(s),null);case 4:return fl(),Sg(t,s),t===null&&Qc(s.stateNode.containerInfo),Bs(s),null;case 10:return Nv(s.type._context),Bs(s),null;case 17:return ya(s.type)&&Fm(),Bs(s),null;case 19:if(es(os),o=s.memoizedState,o===null)return Bs(s),null;if(r=(s.flags&128)!==0,i=o.rendering,i===null)if(r)uc(o,!1);else{if(Cs!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=Um(t),i!==null){for(s.flags|=128,uc(o,!1),r=i.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=a,a=s.child;a!==null;)o=a,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Xt(os,os.current&1|2),s.child}t=t.sibling}o.tail!==null&&gs()>gl&&(s.flags|=128,r=!0,uc(o,!1),s.lanes=4194304)}else{if(!r)if(t=Um(i),t!==null){if(s.flags|=128,r=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),uc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ss)return Bs(s),null}else 2*gs()-o.renderingStartTime>gl&&a!==1073741824&&(s.flags|=128,r=!0,uc(o,!1),s.lanes=4194304);o.isBackwards?(i.sibling=s.child,s.child=i):(a=o.last,a!==null?a.sibling=i:s.child=i,o.last=i)}return o.tail!==null?(s=o.tail,o.rendering=s,o.tail=s.sibling,o.renderingStartTime=gs(),s.sibling=null,a=os.current,Xt(os,r?a&1|2:a&1),s):(Bs(s),null);case 22:case 23:return _v(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?Da&1073741824&&(Bs(s),s.subtreeFlags&6&&(s.flags|=8192)):Bs(s),null;case 24:return null;case 25:return null}throw Error(Oe(156,s.tag))}function hI(t,s){switch(vv(s),s.tag){case 1:return ya(s.type)&&Fm(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return fl(),es(ja),es(Xs),Pv(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Ev(s),null;case 13:if(es(os),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(Oe(340));hl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return es(os),null;case 4:return fl(),null;case 10:return Nv(s.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var ku=!1,Ws=!1,xI=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ii(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(r){xs(t,s,r)}else a.current=null}function Eg(t,s,a){try{a()}catch(r){xs(t,s,r)}}var pN=!1;function fI(t,s){if(cg=Mm,t=KC(),pv(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=t,x=null;t:for(;;){for(var f;h!==a||n!==0&&h.nodeType!==3||(l=i+n),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)x=h,h=f;for(;;){if(h===t)break t;if(x===a&&++u===n&&(l=i),x===o&&++d===r&&(c=i),(f=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=f}a=l===-1||c===-1?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(dg={focusedElem:t,selectionRange:a},Mm=!1,He=s;He!==null;)if(s=He,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,He=t;else for(;He!==null;){s=He;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,v=s.stateNode,b=v.getSnapshotBeforeUpdate(s.elementType===s.type?p:lr(s.type,p),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(w){xs(s,s.return,w)}if(t=s.sibling,t!==null){t.return=s.return,He=t;break}He=s.return}return g=pN,pN=!1,g}function Rc(t,s,a){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var o=n.destroy;n.destroy=void 0,o!==void 0&&Eg(s,a,o)}n=n.next}while(n!==r)}}function Kh(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var r=a.create;a.destroy=r()}a=a.next}while(a!==s)}}function Pg(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function HS(t){var s=t.alternate;s!==null&&(t.alternate=null,HS(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Fr],delete s[ed],delete s[hg],delete s[JM],delete s[QM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WS(t){return t.tag===5||t.tag===3||t.tag===4}function gN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ag(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=zm));else if(r!==4&&(t=t.child,t!==null))for(Ag(t,s,a),t=t.sibling;t!==null;)Ag(t,s,a),t=t.sibling}function Dg(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dg(t,s,a),t=t.sibling;t!==null;)Dg(t,s,a),t=t.sibling}var Is=null,ur=!1;function Sn(t,s,a){for(a=a.child;a!==null;)qS(t,s,a),a=a.sibling}function qS(t,s,a){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Vh,a)}catch{}switch(a.tag){case 5:Ws||Ii(a,s);case 6:var r=Is,n=ur;Is=null,Sn(t,s,a),Is=r,ur=n,Is!==null&&(ur?(t=Is,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Is.removeChild(a.stateNode));break;case 18:Is!==null&&(ur?(t=Is,a=a.stateNode,t.nodeType===8?Rf(t.parentNode,a):t.nodeType===1&&Rf(t,a),Kc(t)):Rf(Is,a.stateNode));break;case 4:r=Is,n=ur,Is=a.stateNode.containerInfo,ur=!0,Sn(t,s,a),Is=r,ur=n;break;case 0:case 11:case 14:case 15:if(!Ws&&(r=a.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var o=n,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Eg(a,s,i),n=n.next}while(n!==r)}Sn(t,s,a);break;case 1:if(!Ws&&(Ii(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(l){xs(a,s,l)}Sn(t,s,a);break;case 21:Sn(t,s,a);break;case 22:a.mode&1?(Ws=(r=Ws)||a.memoizedState!==null,Sn(t,s,a),Ws=r):Sn(t,s,a);break;default:Sn(t,s,a)}}function vN(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new xI),s.forEach(function(r){var n=CI.bind(null,t,r);a.has(r)||(a.add(r),r.then(n,n))})}}function nr(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];try{var o=t,i=s,l=i;e:for(;l!==null;){switch(l.tag){case 5:Is=l.stateNode,ur=!1;break e;case 3:Is=l.stateNode.containerInfo,ur=!0;break e;case 4:Is=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(Is===null)throw Error(Oe(160));qS(o,i,n),Is=null,ur=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){xs(n,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)YS(s,t),s=s.sibling}function YS(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(s,t),Tr(t),r&4){try{Rc(3,t,t.return),Kh(3,t)}catch(p){xs(t,t.return,p)}try{Rc(5,t,t.return)}catch(p){xs(t,t.return,p)}}break;case 1:nr(s,t),Tr(t),r&512&&a!==null&&Ii(a,a.return);break;case 5:if(nr(s,t),Tr(t),r&512&&a!==null&&Ii(a,a.return),t.flags&32){var n=t.stateNode;try{Hc(n,"")}catch(p){xs(t,t.return,p)}}if(r&4&&(n=t.stateNode,n!=null)){var o=t.memoizedProps,i=a!==null?a.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&pC(n,o),Zp(l,i);var u=Zp(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?yC(n,h):d==="dangerouslySetInnerHTML"?bC(n,h):d==="children"?Hc(n,h):av(n,d,h,u)}switch(l){case"input":Yp(n,o);break;case"textarea":gC(n,o);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Vi(n,!!o.multiple,f,!1):x!==!!o.multiple&&(o.defaultValue!=null?Vi(n,!!o.multiple,o.defaultValue,!0):Vi(n,!!o.multiple,o.multiple?[]:"",!1))}n[ed]=o}catch(p){xs(t,t.return,p)}}break;case 6:if(nr(s,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Oe(162));n=t.stateNode,o=t.memoizedProps;try{n.nodeValue=o}catch(p){xs(t,t.return,p)}}break;case 3:if(nr(s,t),Tr(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Kc(s.containerInfo)}catch(p){xs(t,t.return,p)}break;case 4:nr(s,t),Tr(t);break;case 13:nr(s,t),Tr(t),n=t.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(zv=gs())),r&4&&vN(t);break;case 22:if(d=a!==null&&a.memoizedState!==null,t.mode&1?(Ws=(u=Ws)||d,nr(s,t),Ws=u):nr(s,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(He=t,d=t.child;d!==null;){for(h=He=d;He!==null;){switch(x=He,f=x.child,x.tag){case 0:case 11:case 14:case 15:Rc(4,x,x.return);break;case 1:Ii(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){r=x,a=x.return;try{s=r,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(p){xs(r,a,p)}}break;case 5:Ii(x,x.return);break;case 22:if(x.memoizedState!==null){jN(h);continue}}f!==null?(f.return=x,He=f):jN(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jC("display",i))}catch(p){xs(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){xs(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nr(s,t),Tr(t),r&4&&vN(t);break;case 21:break;default:nr(s,t),Tr(t)}}function Tr(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(WS(a)){var r=a;break e}a=a.return}throw Error(Oe(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(Hc(n,""),r.flags&=-33);var o=gN(t);Dg(t,o,n);break;case 3:case 4:var i=r.stateNode.containerInfo,l=gN(t);Ag(t,l,i);break;default:throw Error(Oe(161))}}catch(c){xs(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function pI(t,s,a){He=t,KS(t)}function KS(t,s,a){for(var r=(t.mode&1)!==0;He!==null;){var n=He,o=n.child;if(n.tag===22&&r){var i=n.memoizedState!==null||ku;if(!i){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Ws;l=ku;var u=Ws;if(ku=i,(Ws=c)&&!u)for(He=n;He!==null;)i=He,c=i.child,i.tag===22&&i.memoizedState!==null?yN(n):c!==null?(c.return=i,He=c):yN(n);for(;o!==null;)He=o,KS(o),o=o.sibling;He=n,ku=l,Ws=u}bN(t)}else n.subtreeFlags&8772&&o!==null?(o.return=n,He=o):bN(t)}}function bN(t){for(;He!==null;){var s=He;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ws||Kh(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Ws)if(a===null)r.componentDidMount();else{var n=s.elementType===s.type?a.memoizedProps:lr(s.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=s.updateQueue;o!==null&&aN(s,o,r);break;case 3:var i=s.updateQueue;if(i!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}aN(s,i,a)}break;case 5:var l=s.stateNode;if(a===null&&s.flags&4){a=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Ws||s.flags&512&&Pg(s)}catch(x){xs(s,s.return,x)}}if(s===t){He=null;break}if(a=s.sibling,a!==null){a.return=s.return,He=a;break}He=s.return}}function jN(t){for(;He!==null;){var s=He;if(s===t){He=null;break}var a=s.sibling;if(a!==null){a.return=s.return,He=a;break}He=s.return}}function yN(t){for(;He!==null;){var s=He;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Kh(4,s)}catch(c){xs(s,a,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var n=s.return;try{r.componentDidMount()}catch(c){xs(s,n,c)}}var o=s.return;try{Pg(s)}catch(c){xs(s,o,c)}break;case 5:var i=s.return;try{Pg(s)}catch(c){xs(s,i,c)}}}catch(c){xs(s,s.return,c)}if(s===t){He=null;break}var l=s.sibling;if(l!==null){l.return=s.return,He=l;break}He=s.return}}var gI=Math.ceil,qm=jn.ReactCurrentDispatcher,Iv=jn.ReactCurrentOwner,Xa=jn.ReactCurrentBatchConfig,kt=0,Rs=null,ys=null,_s=0,Da=0,Oi=vo(0),Cs=0,od=null,Zo=0,Xh=0,Ov=0,Mc=null,pa=null,zv=0,gl=1/0,rn=null,Ym=!1,kg=null,Xn=null,Tu=!1,Bn=null,Km=0,Ic=0,Tg=null,cm=-1,dm=0;function na(){return kt&6?gs():cm!==-1?cm:cm=gs()}function Jn(t){return t.mode&1?kt&2&&_s!==0?_s&-_s:eI.transition!==null?(dm===0&&(dm=MC()),dm):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:$C(t.type)),t):1}function vr(t,s,a,r){if(50<Ic)throw Ic=0,Tg=null,Error(Oe(185));Fd(t,a,r),(!(kt&2)||t!==Rs)&&(t===Rs&&(!(kt&2)&&(Xh|=a),Cs===4&&zn(t,_s)),Na(t,r),a===1&&kt===0&&!(s.mode&1)&&(gl=gs()+500,Wh&&bo()))}function Na(t,s){var a=t.callbackNode;eM(t,s);var r=Rm(t,t===Rs?_s:0);if(r===0)a!==null&&ky(a),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(a!=null&&ky(a),s===1)t.tag===0?ZM(NN.bind(null,t)):nS(NN.bind(null,t)),KM(function(){!(kt&6)&&bo()}),a=null;else{switch(IC(r)){case 1:a=lv;break;case 4:a=TC;break;case 16:a=Tm;break;case 536870912:a=RC;break;default:a=Tm}a=a4(a,XS.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function XS(t,s){if(cm=-1,dm=0,kt&6)throw Error(Oe(327));var a=t.callbackNode;if(Wi()&&t.callbackNode!==a)return null;var r=Rm(t,t===Rs?_s:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=Xm(t,r);else{s=r;var n=kt;kt|=2;var o=QS();(Rs!==t||_s!==s)&&(rn=null,gl=gs()+500,Wo(t,s));do try{jI();break}catch(l){JS(t,l)}while(!0);yv(),qm.current=o,kt=n,ys!==null?s=0:(Rs=null,_s=0,s=Cs)}if(s!==0){if(s===2&&(n=rg(t),n!==0&&(r=n,s=Rg(t,n))),s===1)throw a=od,Wo(t,0),zn(t,r),Na(t,gs()),a;if(s===6)zn(t,r);else{if(n=t.current.alternate,!(r&30)&&!vI(n)&&(s=Xm(t,r),s===2&&(o=rg(t),o!==0&&(r=o,s=Rg(t,o))),s===1))throw a=od,Wo(t,0),zn(t,r),Na(t,gs()),a;switch(t.finishedWork=n,t.finishedLanes=r,s){case 0:case 1:throw Error(Oe(345));case 2:Ro(t,pa,rn);break;case 3:if(zn(t,r),(r&130023424)===r&&(s=zv+500-gs(),10<s)){if(Rm(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){na(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=mg(Ro.bind(null,t,pa,rn),s);break}Ro(t,pa,rn);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(s=t.eventTimes,n=-1;0<r;){var i=31-gr(r);o=1<<i,i=s[i],i>n&&(n=i),r&=~o}if(r=n,r=gs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gI(r/1960))-r,10<r){t.timeoutHandle=mg(Ro.bind(null,t,pa,rn),r);break}Ro(t,pa,rn);break;case 5:Ro(t,pa,rn);break;default:throw Error(Oe(329))}}}return Na(t,gs()),t.callbackNode===a?XS.bind(null,t):null}function Rg(t,s){var a=Mc;return t.current.memoizedState.isDehydrated&&(Wo(t,s).flags|=256),t=Xm(t,s),t!==2&&(s=pa,pa=a,s!==null&&Mg(s)),t}function Mg(t){pa===null?pa=t:pa.push.apply(pa,t)}function vI(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var r=0;r<a.length;r++){var n=a[r],o=n.getSnapshot;n=n.value;try{if(!br(o(),n))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zn(t,s){for(s&=~Ov,s&=~Xh,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-gr(s),r=1<<a;t[a]=-1,s&=~r}}function NN(t){if(kt&6)throw Error(Oe(327));Wi();var s=Rm(t,0);if(!(s&1))return Na(t,gs()),null;var a=Xm(t,s);if(t.tag!==0&&a===2){var r=rg(t);r!==0&&(s=r,a=Rg(t,r))}if(a===1)throw a=od,Wo(t,0),zn(t,s),Na(t,gs()),a;if(a===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ro(t,pa,rn),Na(t,gs()),null}function Fv(t,s){var a=kt;kt|=1;try{return t(s)}finally{kt=a,kt===0&&(gl=gs()+500,Wh&&bo())}}function ei(t){Bn!==null&&Bn.tag===0&&!(kt&6)&&Wi();var s=kt;kt|=1;var a=Xa.transition,r=Wt;try{if(Xa.transition=null,Wt=1,t)return t()}finally{Wt=r,Xa.transition=a,kt=s,!(kt&6)&&bo()}}function _v(){Da=Oi.current,es(Oi)}function Wo(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,YM(a)),ys!==null)for(a=ys.return;a!==null;){var r=a;switch(vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fm();break;case 3:fl(),es(ja),es(Xs),Pv();break;case 5:Ev(r);break;case 4:fl();break;case 13:es(os);break;case 19:es(os);break;case 10:Nv(r.type._context);break;case 22:case 23:_v()}a=a.return}if(Rs=t,ys=t=Qn(t.current,null),_s=Da=s,Cs=0,od=null,Ov=Xh=Zo=0,pa=Mc=null,_o!==null){for(s=0;s<_o.length;s++)if(a=_o[s],r=a.interleaved,r!==null){a.interleaved=null;var n=r.next,o=a.pending;if(o!==null){var i=o.next;o.next=n,r.next=i}a.pending=r}_o=null}return t}function JS(t,s){do{var a=ys;try{if(yv(),om.current=Wm,Hm){for(var r=ls.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Hm=!1}if(Qo=0,As=Ns=ls=null,Tc=!1,ad=0,Iv.current=null,a===null||a.return===null){Cs=1,od=s,ys=null;break}e:{var o=t,i=a.return,l=a,c=s;if(s=_s,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=cN(i);if(f!==null){f.flags&=-257,dN(f,i,l,o,s),f.mode&1&&lN(o,u,s),s=f,c=u;var g=s.updateQueue;if(g===null){var p=new Set;p.add(c),s.updateQueue=p}else g.add(c);break e}else{if(!(s&1)){lN(o,u,s),Lv();break e}c=Error(Oe(426))}}else if(ss&&l.mode&1){var y=cN(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dN(y,i,l,o,s),bv(pl(c,l));break e}}o=c=pl(c,l),Cs!==4&&(Cs=2),Mc===null?Mc=[o]:Mc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,s&=-s,o.lanes|=s;var v=IS(o,c,s);sN(o,v);break e;case 1:l=c;var b=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Xn===null||!Xn.has(j)))){o.flags|=65536,s&=-s,o.lanes|=s;var w=OS(o,l,s);sN(o,w);break e}}o=o.return}while(o!==null)}e4(a)}catch(N){s=N,ys===a&&a!==null&&(ys=a=a.return);continue}break}while(!0)}function QS(){var t=qm.current;return qm.current=Wm,t===null?Wm:t}function Lv(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),Rs===null||!(Zo&268435455)&&!(Xh&268435455)||zn(Rs,_s)}function Xm(t,s){var a=kt;kt|=2;var r=QS();(Rs!==t||_s!==s)&&(rn=null,Wo(t,s));do try{bI();break}catch(n){JS(t,n)}while(!0);if(yv(),kt=a,qm.current=r,ys!==null)throw Error(Oe(261));return Rs=null,_s=0,Cs}function bI(){for(;ys!==null;)ZS(ys)}function jI(){for(;ys!==null&&!HR();)ZS(ys)}function ZS(t){var s=s4(t.alternate,t,Da);t.memoizedProps=t.pendingProps,s===null?e4(t):ys=s,Iv.current=null}function e4(t){var s=t;do{var a=s.alternate;if(t=s.return,s.flags&32768){if(a=hI(a,s),a!==null){a.flags&=32767,ys=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cs=6,ys=null;return}}else if(a=mI(a,s,Da),a!==null){ys=a;return}if(s=s.sibling,s!==null){ys=s;return}ys=s=t}while(s!==null);Cs===0&&(Cs=5)}function Ro(t,s,a){var r=Wt,n=Xa.transition;try{Xa.transition=null,Wt=1,yI(t,s,a,r)}finally{Xa.transition=n,Wt=r}return null}function yI(t,s,a,r){do Wi();while(Bn!==null);if(kt&6)throw Error(Oe(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var o=a.lanes|a.childLanes;if(tM(t,o),t===Rs&&(ys=Rs=null,_s=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Tu||(Tu=!0,a4(Tm,function(){return Wi(),null})),o=(a.flags&15990)!==0,a.subtreeFlags&15990||o){o=Xa.transition,Xa.transition=null;var i=Wt;Wt=1;var l=kt;kt|=4,Iv.current=null,fI(t,a),YS(a,t),VM(dg),Mm=!!cg,dg=cg=null,t.current=a,pI(a),WR(),kt=l,Wt=i,Xa.transition=o}else t.current=a;if(Tu&&(Tu=!1,Bn=t,Km=n),o=t.pendingLanes,o===0&&(Xn=null),KR(a.stateNode),Na(t,gs()),s!==null)for(r=t.onRecoverableError,a=0;a<s.length;a++)n=s[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(Ym)throw Ym=!1,t=kg,kg=null,t;return Km&1&&t.tag!==0&&Wi(),o=t.pendingLanes,o&1?t===Tg?Ic++:(Ic=0,Tg=t):Ic=0,bo(),null}function Wi(){if(Bn!==null){var t=IC(Km),s=Xa.transition,a=Wt;try{if(Xa.transition=null,Wt=16>t?16:t,Bn===null)var r=!1;else{if(t=Bn,Bn=null,Km=0,kt&6)throw Error(Oe(331));var n=kt;for(kt|=4,He=t.current;He!==null;){var o=He,i=o.child;if(He.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(He=u;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:Rc(8,d,o)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var x=d.sibling,f=d.return;if(HS(d),d===u){He=null;break}if(x!==null){x.return=f,He=x;break}He=f}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}He=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,He=i;else e:for(;He!==null;){if(o=He,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,He=v;break e}He=o.return}}var b=t.current;for(He=b;He!==null;){i=He;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,He=j;else e:for(i=b;He!==null;){if(l=He,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kh(9,l)}}catch(N){xs(l,l.return,N)}if(l===i){He=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,He=w;break e}He=l.return}}if(kt=n,bo(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Wt=a,Xa.transition=s}}return!1}function wN(t,s,a){s=pl(a,s),s=IS(t,s,1),t=Kn(t,s,1),s=na(),t!==null&&(Fd(t,1,s),Na(t,s))}function xs(t,s,a){if(t.tag===3)wN(t,t,a);else for(;s!==null;){if(s.tag===3){wN(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=pl(a,t),t=OS(s,t,1),s=Kn(s,t,1),t=na(),s!==null&&(Fd(s,1,t),Na(s,t));break}}s=s.return}}function NI(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),s=na(),t.pingedLanes|=t.suspendedLanes&a,Rs===t&&(_s&a)===a&&(Cs===4||Cs===3&&(_s&130023424)===_s&&500>gs()-zv?Wo(t,0):Ov|=a),Na(t,s)}function t4(t,s){s===0&&(t.mode&1?(s=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):s=1);var a=na();t=mn(t,s),t!==null&&(Fd(t,s,a),Na(t,a))}function wI(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),t4(t,a)}function CI(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(s),t4(t,a)}var s4;s4=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||ja.current)ga=!0;else{if(!(t.lanes&a)&&!(s.flags&128))return ga=!1,uI(t,s,a);ga=!!(t.flags&131072)}else ga=!1,ss&&s.flags&1048576&&oS(s,$m,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;lm(t,s),t=s.pendingProps;var n=ml(s,Xs.current);Hi(s,a),n=Dv(null,s,r,t,n,a);var o=kv();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ya(r)?(o=!0,_m(s)):o=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Cv(s),n.updater=Yh,s.stateNode=n,n._reactInternals=s,bg(s,r,t,a),s=Ng(null,s,r,!0,o,a)):(s.tag=0,ss&&o&&gv(s),ea(null,s,n,a),s=s.child),s;case 16:r=s.elementType;e:{switch(lm(t,s),t=s.pendingProps,n=r._init,r=n(r._payload),s.type=r,n=s.tag=EI(r),t=lr(r,t),n){case 0:s=yg(null,s,r,t,a);break e;case 1:s=hN(null,s,r,t,a);break e;case 11:s=uN(null,s,r,t,a);break e;case 14:s=mN(null,s,r,lr(r.type,t),a);break e}throw Error(Oe(306,r,""))}return s;case 0:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),yg(t,s,r,n,a);case 1:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),hN(t,s,r,n,a);case 3:e:{if(LS(s),t===null)throw Error(Oe(387));r=s.pendingProps,o=s.memoizedState,n=o.element,mS(t,s),Bm(s,r,null,a);var i=s.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=o,s.memoizedState=o,s.flags&256){n=pl(Error(Oe(423)),s),s=xN(t,s,r,a,n);break e}else if(r!==n){n=pl(Error(Oe(424)),s),s=xN(t,s,r,a,n);break e}else for(Ta=Yn(s.stateNode.containerInfo.firstChild),Ma=s,ss=!0,mr=null,a=dS(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hl(),r===n){s=hn(t,s,a);break e}ea(t,s,r,a)}s=s.child}return s;case 5:return hS(s),t===null&&pg(s),r=s.type,n=s.pendingProps,o=t!==null?t.memoizedProps:null,i=n.children,ug(r,n)?i=null:o!==null&&ug(r,o)&&(s.flags|=32),_S(t,s),ea(t,s,i,a),s.child;case 6:return t===null&&pg(s),null;case 13:return $S(t,s,a);case 4:return Sv(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=xl(s,null,r,a):ea(t,s,r,a),s.child;case 11:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),uN(t,s,r,n,a);case 7:return ea(t,s,s.pendingProps,a),s.child;case 8:return ea(t,s,s.pendingProps.children,a),s.child;case 12:return ea(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(r=s.type._context,n=s.pendingProps,o=s.memoizedProps,i=n.value,Xt(Vm,r._currentValue),r._currentValue=i,o!==null)if(br(o.value,i)){if(o.children===n.children&&!ja.current){s=hn(t,s,a);break e}}else for(o=s.child,o!==null&&(o.return=s);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cn(-1,a&-a),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=a,c=o.alternate,c!==null&&(c.lanes|=a),gg(o.return,a,s),l.lanes|=a;break}c=c.next}}else if(o.tag===10)i=o.type===s.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Oe(341));i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),gg(i,a,s),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===s){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ea(t,s,n.children,a),s=s.child}return s;case 9:return n=s.type,r=s.pendingProps.children,Hi(s,a),n=Za(n),r=r(n),s.flags|=1,ea(t,s,r,a),s.child;case 14:return r=s.type,n=lr(r,s.pendingProps),n=lr(r.type,n),mN(t,s,r,n,a);case 15:return zS(t,s,s.type,s.pendingProps,a);case 17:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),lm(t,s),s.tag=1,ya(r)?(t=!0,_m(s)):t=!1,Hi(s,a),MS(s,r,n),bg(s,r,n,a),Ng(null,s,r,!0,t,a);case 19:return VS(t,s,a);case 22:return FS(t,s,a)}throw Error(Oe(156,s.tag))};function a4(t,s){return kC(t,s)}function SI(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(t,s,a,r){return new SI(t,s,a,r)}function $v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EI(t){if(typeof t=="function")return $v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nv)return 11;if(t===ov)return 14}return 2}function Qn(t,s){var a=t.alternate;return a===null?(a=Ya(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function um(t,s,a,r,n,o){var i=2;if(r=t,typeof t=="function")$v(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Si:return qo(a.children,n,o,s);case rv:i=8,n|=8;break;case Bp:return t=Ya(12,a,s,n|2),t.elementType=Bp,t.lanes=o,t;case Up:return t=Ya(13,a,s,n),t.elementType=Up,t.lanes=o,t;case Hp:return t=Ya(19,a,s,n),t.elementType=Hp,t.lanes=o,t;case hC:return Jh(a,n,o,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uC:i=10;break e;case mC:i=9;break e;case nv:i=11;break e;case ov:i=14;break e;case Rn:i=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return s=Ya(i,a,s,n),s.elementType=t,s.type=r,s.lanes=o,s}function qo(t,s,a,r){return t=Ya(7,t,r,s),t.lanes=a,t}function Jh(t,s,a,r){return t=Ya(22,t,r,s),t.elementType=hC,t.lanes=a,t.stateNode={isHidden:!1},t}function $f(t,s,a){return t=Ya(6,t,null,s),t.lanes=a,t}function Vf(t,s,a){return s=Ya(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function PI(t,s,a,r,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Vv(t,s,a,r,n,o,i,l,c){return t=new PI(t,s,a,l,c),s===1?(s=1,o===!0&&(s|=8)):s=0,o=Ya(3,null,null,s),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cv(o),t}function AI(t,s,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:r==null?null:""+r,children:t,containerInfo:s,implementation:a}}function r4(t){if(!t)return ao;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(Oe(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ya(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Oe(171))}if(t.tag===1){var a=t.type;if(ya(a))return rS(t,a,s)}return s}function n4(t,s,a,r,n,o,i,l,c){return t=Vv(a,r,!0,t,n,o,i,l,c),t.context=r4(null),a=t.current,r=na(),n=Jn(a),o=cn(r,n),o.callback=s??null,Kn(a,o,n),t.current.lanes=n,Fd(t,n,r),Na(t,r),t}function Qh(t,s,a,r){var n=s.current,o=na(),i=Jn(n);return a=r4(a),s.context===null?s.context=a:s.pendingContext=a,s=cn(o,i),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=Kn(n,s,i),t!==null&&(vr(t,n,i,o),nm(t,n,i)),i}function Jm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CN(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Gv(t,s){CN(t,s),(t=t.alternate)&&CN(t,s)}function DI(){return null}var o4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bv(t){this._internalRoot=t}Zh.prototype.render=Bv.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(Oe(409));Qh(t,s,null,null)};Zh.prototype.unmount=Bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ei(function(){Qh(null,t,null,null)}),s[un]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var s=FC();t={blockedOn:null,target:t,priority:s};for(var a=0;a<On.length&&s!==0&&s<On[a].priority;a++);On.splice(a,0,t),a===0&&LC(t)}};function Uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SN(){}function kI(t,s,a,r,n){if(n){if(typeof r=="function"){var o=r;r=function(){var u=Jm(i);o.call(u)}}var i=n4(s,r,t,0,null,!1,!1,"",SN);return t._reactRootContainer=i,t[un]=i.current,Qc(t.nodeType===8?t.parentNode:t),ei(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof r=="function"){var l=r;r=function(){var u=Jm(c);l.call(u)}}var c=Vv(t,0,!1,null,null,!1,!1,"",SN);return t._reactRootContainer=c,t[un]=c.current,Qc(t.nodeType===8?t.parentNode:t),ei(function(){Qh(s,c,a,r)}),c}function tx(t,s,a,r,n){var o=a._reactRootContainer;if(o){var i=o;if(typeof n=="function"){var l=n;n=function(){var c=Jm(i);l.call(c)}}Qh(s,i,t,n)}else i=kI(a,s,t,n,r);return Jm(i)}OC=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=jc(s.pendingLanes);a!==0&&(cv(s,a|1),Na(s,gs()),!(kt&6)&&(gl=gs()+500,bo()))}break;case 13:ei(function(){var r=mn(t,1);if(r!==null){var n=na();vr(r,t,1,n)}}),Gv(t,1)}};dv=function(t){if(t.tag===13){var s=mn(t,134217728);if(s!==null){var a=na();vr(s,t,134217728,a)}Gv(t,134217728)}};zC=function(t){if(t.tag===13){var s=Jn(t),a=mn(t,s);if(a!==null){var r=na();vr(a,t,s,r)}Gv(t,s)}};FC=function(){return Wt};_C=function(t,s){var a=Wt;try{return Wt=t,s()}finally{Wt=a}};tg=function(t,s,a){switch(s){case"input":if(Yp(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var n=Hh(r);if(!n)throw Error(Oe(90));fC(r),Yp(r,n)}}}break;case"textarea":gC(t,a);break;case"select":s=a.value,s!=null&&Vi(t,!!a.multiple,s,!1)}};CC=Fv;SC=ei;var TI={usingClientEntryPoint:!1,Events:[Ld,Di,Hh,NC,wC,Fv]},mc={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AC(t),t===null?null:t.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Vh=Ru.inject(RI),Gr=Ru}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TI;_a.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(s))throw Error(Oe(200));return AI(t,s,null,a)};_a.createRoot=function(t,s){if(!Uv(t))throw Error(Oe(299));var a=!1,r="",n=o4;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Vv(t,1,!1,null,null,a,!1,r,n),t[un]=s.current,Qc(t.nodeType===8?t.parentNode:t),new Bv(s)};_a.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=AC(s),t=t===null?null:t.stateNode,t};_a.flushSync=function(t){return ei(t)};_a.hydrate=function(t,s,a){if(!ex(s))throw Error(Oe(200));return tx(null,t,s,!0,a)};_a.hydrateRoot=function(t,s,a){if(!Uv(t))throw Error(Oe(405));var r=a!=null&&a.hydratedSources||null,n=!1,o="",i=o4;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),s=n4(s,null,t,1,a??null,n,!1,o,i),t[un]=s.current,Qc(t),r)for(t=0;t<r.length;t++)a=r[t],n=a._getVersion,n=n(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,n]:s.mutableSourceEagerHydrationData.push(a,n);return new Zh(s)};_a.render=function(t,s,a){if(!ex(s))throw Error(Oe(200));return tx(null,t,s,!1,a)};_a.unmountComponentAtNode=function(t){if(!ex(t))throw Error(Oe(40));return t._reactRootContainer?(ei(function(){tx(null,null,t,!1,function(){t._reactRootContainer=null,t[un]=null})}),!0):!1};_a.unstable_batchedUpdates=Fv;_a.unstable_renderSubtreeIntoContainer=function(t,s,a,r){if(!ex(a))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return tx(t,s,a,!1,r)};_a.version="18.3.1-next-f1338f8080-20240426";function i4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i4)}catch(t){console.error(t)}}i4(),iC.exports=_a;var Ka=iC.exports;const l4=Y2(Ka);var c4,EN=Ka;c4=EN.createRoot,EN.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},id.apply(this,arguments)}var Un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Un||(Un={}));const PN="popstate";function MI(t){t===void 0&&(t={});function s(r,n){let{pathname:o,search:i,hash:l}=r.location;return Ig("",{pathname:o,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:Qm(n)}return OI(s,a,null,t)}function bs(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function d4(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function II(){return Math.random().toString(36).substr(2,8)}function AN(t,s){return{usr:t.state,key:t.key,idx:s}}function Ig(t,s,a,r){return a===void 0&&(a=null),id({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ml(s):s,{state:a,key:s&&s.key||r||II()})}function Qm(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ml(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function OI(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,i=n.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(id({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=Un.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:v})}function x(y,v){l=Un.Push;let b=Ig(p.location,y,v);u=d()+1;let j=AN(b,u),w=p.createHref(b);try{i.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(w)}o&&c&&c({action:l,location:p.location,delta:1})}function f(y,v){l=Un.Replace;let b=Ig(p.location,y,v);u=d();let j=AN(b,u),w=p.createHref(b);i.replaceState(j,"",w),o&&c&&c({action:l,location:p.location,delta:0})}function g(y){let v=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof y=="string"?y:Qm(y);return b=b.replace(/ $/,"%20"),bs(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let p={get action(){return l},get location(){return t(n,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(PN,h),c=y,()=>{n.removeEventListener(PN,h),c=null}},createHref(y){return s(n,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:x,replace:f,go(y){return i.go(y)}};return p}var DN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DN||(DN={}));function zI(t,s,a){return a===void 0&&(a="/"),FI(t,s,a,!1)}function FI(t,s,a,r){let n=typeof s=="string"?Ml(s):s,o=Hv(n.pathname||"/",a);if(o==null)return null;let i=u4(t);_I(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=KI(o);l=qI(i[c],u,r)}return l}function u4(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(bs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zn([r,c.relativePath]),d=a.concat(c);o.children&&o.children.length>0&&(bs(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),u4(o.children,s,d,u)),!(o.path==null&&!o.index)&&s.push({path:u,score:HI(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,i);else for(let c of m4(o.path))n(o,i,c)}),s}function m4(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return n?[o,""]:[o];let i=m4(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),n&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _I(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:WI(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const LI=/^:[\w-]+$/,$I=3,VI=2,GI=1,BI=10,UI=-2,kN=t=>t==="*";function HI(t,s){let a=t.split("/"),r=a.length;return a.some(kN)&&(r+=UI),s&&(r+=VI),a.filter(n=>!kN(n)).reduce((n,o)=>n+(LI.test(o)?$I:o===""?GI:BI),r)}function WI(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function qI(t,s,a){let{routesMeta:r}=t,n={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?s:s.slice(o.length)||"/",h=TN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!h&&u&&a&&!r[r.length-1].route.index&&(h=TN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:Zn([o,h.pathname]),pathnameBase:ZI(Zn([o,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(o=Zn([o,h.pathnameBase]))}return i}function TN(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=YI(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:x,isOptional:f}=d;if(x==="*"){let p=l[h]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[x]=void 0:u[x]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function YI(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),d4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function KI(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return d4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Hv(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function XI(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?Ml(t):t;return{pathname:a?a.startsWith("/")?a:JI(a,s):s,search:eO(r),hash:tO(n)}}function JI(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Gf(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QI(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Wv(t,s){let a=QI(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function qv(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Ml(t):(n=id({},t),bs(!n.pathname||!n.pathname.includes("?"),Gf("?","pathname","search",n)),bs(!n.pathname||!n.pathname.includes("#"),Gf("#","pathname","hash",n)),bs(!n.search||!n.search.includes("#"),Gf("#","search","hash",n)));let o=t===""||n.pathname==="",i=o?"/":n.pathname,l;if(i==null)l=a;else{let h=s.length-1;if(!r&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}l=h>=0?s[h]:"/"}let c=XI(n,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),ZI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const h4=["post","put","patch","delete"];new Set(h4);const aO=["get",...h4];new Set(aO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ld.apply(this,arguments)}const Yv=m.createContext(null),rO=m.createContext(null),jo=m.createContext(null),sx=m.createContext(null),yn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),x4=m.createContext(null);function nO(t,s){let{relative:a}=s===void 0?{}:s;Il()||bs(!1);let{basename:r,navigator:n}=m.useContext(jo),{hash:o,pathname:i,search:l}=p4(t,{relative:a}),c=i;return r!=="/"&&(c=i==="/"?r:Zn([r,i])),n.createHref({pathname:c,search:l,hash:o})}function Il(){return m.useContext(sx)!=null}function sr(){return Il()||bs(!1),m.useContext(sx).location}function f4(t){m.useContext(jo).static||m.useLayoutEffect(t)}function fs(){let{isDataRoute:t}=m.useContext(yn);return t?vO():oO()}function oO(){Il()||bs(!1);let t=m.useContext(Yv),{basename:s,future:a,navigator:r}=m.useContext(jo),{matches:n}=m.useContext(yn),{pathname:o}=sr(),i=JSON.stringify(Wv(n,a.v7_relativeSplatPath)),l=m.useRef(!1);return f4(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=qv(u,JSON.parse(i),o,d.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Zn([s,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[s,r,i,o,t])}function ax(){let{matches:t}=m.useContext(yn),s=t[t.length-1];return s?s.params:{}}function p4(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=m.useContext(jo),{matches:n}=m.useContext(yn),{pathname:o}=sr(),i=JSON.stringify(Wv(n,r.v7_relativeSplatPath));return m.useMemo(()=>qv(t,JSON.parse(i),o,a==="path"),[t,i,o,a])}function iO(t,s){return lO(t,s)}function lO(t,s,a,r){Il()||bs(!1);let{navigator:n}=m.useContext(jo),{matches:o}=m.useContext(yn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=sr(),d;if(s){var h;let y=typeof s=="string"?Ml(s):s;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||bs(!1),d=y}else d=u;let x=d.pathname||"/",f=x;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=zI(t,{pathname:f}),p=hO(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zn([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Zn([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,a,r);return s&&p?m.createElement(sx.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},p):p}function cO(){let t=gO(),s=sO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},s),a?m.createElement("pre",{style:n},a):null,null)}const dO=m.createElement(cO,null);class uO extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?m.createElement(yn.Provider,{value:this.props.routeContext},m.createElement(x4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mO(t){let{routeContext:s,match:a,children:r}=t,n=m.useContext(Yv);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),m.createElement(yn.Provider,{value:s},r)}function hO(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,l=(n=a)==null?void 0:n.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||bs(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(a&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:x,errors:f}=a,g=h.route.loader&&x[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,x)=>{let f,g=!1,p=null,y=null;a&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||dO,c&&(u<0&&x===0?(g=!0,y=null):u===x&&(g=!0,y=h.route.hydrateFallbackElement||null)));let v=s.concat(i.slice(0,x+1)),b=()=>{let j;return f?j=p:g?j=y:h.route.Component?j=m.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,m.createElement(mO,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:a!=null},children:j})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?m.createElement(uO,{location:a.location,revalidation:a.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var g4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(g4||{}),Zm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zm||{});function xO(t){let s=m.useContext(Yv);return s||bs(!1),s}function fO(t){let s=m.useContext(rO);return s||bs(!1),s}function pO(t){let s=m.useContext(yn);return s||bs(!1),s}function v4(t){let s=pO(),a=s.matches[s.matches.length-1];return a.route.id||bs(!1),a.route.id}function gO(){var t;let s=m.useContext(x4),a=fO(Zm.UseRouteError),r=v4(Zm.UseRouteError);return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function vO(){let{router:t}=xO(g4.UseNavigateStable),s=v4(Zm.UseNavigateStable),a=m.useRef(!1);return f4(()=>{a.current=!0}),m.useCallback(function(n,o){o===void 0&&(o={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,ld({fromRouteId:s},o)))},[t,s])}function Og(t){let{to:s,replace:a,state:r,relative:n}=t;Il()||bs(!1);let{future:o,static:i}=m.useContext(jo),{matches:l}=m.useContext(yn),{pathname:c}=sr(),u=fs(),d=qv(s,Wv(l,o.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:a,state:r,relative:n}),[u,h,n,a,r]),null}function ts(t){bs(!1)}function bO(t){let{basename:s="/",children:a=null,location:r,navigationType:n=Un.Pop,navigator:o,static:i=!1,future:l}=t;Il()&&bs(!1);let c=s.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:ld({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Ml(r));let{pathname:d="/",search:h="",hash:x="",state:f=null,key:g="default"}=r,p=m.useMemo(()=>{let y=Hv(d,c);return y==null?null:{location:{pathname:y,search:h,hash:x,state:f,key:g},navigationType:n}},[c,d,h,x,f,g,n]);return p==null?null:m.createElement(jo.Provider,{value:u},m.createElement(sx.Provider,{children:a,value:p}))}function jO(t){let{children:s,location:a}=t;return iO(zg(s),a)}new Promise(()=>{});function zg(t,s){s===void 0&&(s=[]);let a=[];return m.Children.forEach(t,(r,n)=>{if(!m.isValidElement(r))return;let o=[...s,n];if(r.type===m.Fragment){a.push.apply(a,zg(r.props.children,o));return}r.type!==ts&&bs(!1),!r.props.index||!r.props.children||bs(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=zg(r.props.children,o)),a.push(i)}),a}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fg.apply(this,arguments)}function yO(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function NO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wO(t,s){return t.button===0&&(!s||s==="_self")&&!NO(t)}const CO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SO="6";try{window.__reactRouterVersion=SO}catch{}const EO="startTransition",RN=nC[EO];function PO(t){let{basename:s,children:a,future:r,window:n}=t,o=m.useRef();o.current==null&&(o.current=MI({window:n,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&RN?RN(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(bO,{basename:s,children:a,location:l.location,navigationType:l.action,navigator:i,future:r})}const AO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cd=m.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=s,x=yO(s,CO),{basename:f}=m.useContext(jo),g,p=!1;if(typeof u=="string"&&DO.test(u)&&(g=u,AO))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=Hv(w.pathname,f);w.origin===j.origin&&N!=null?u=N+w.search+w.hash:p=!0}catch{}let y=nO(u,{relative:n}),v=kO(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:h});function b(j){r&&r(j),j.defaultPrevented||v(j)}return m.createElement("a",Fg({},x,{href:g||y,onClick:p||o?r:b,ref:a,target:c}))});var MN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MN||(MN={}));var IN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IN||(IN={}));function kO(t,s){let{target:a,replace:r,state:n,preventScrollReset:o,relative:i,viewTransition:l}=s===void 0?{}:s,c=fs(),u=sr(),d=p4(t,{relative:i});return m.useCallback(h=>{if(wO(h,a)){h.preventDefault();let x=r!==void 0?r:Qm(u)===Qm(d);c(t,{replace:x,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,n,a,t,o,i,l])}var rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nx=typeof window>"u"||"Deno"in globalThis;function cr(){}function TO(t,s){return typeof t=="function"?t(s):t}function RO(t){return typeof t=="number"&&t>=0&&t!==1/0}function MO(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ON(t,s){return typeof t=="function"?t(s):t}function IO(t,s){return typeof t=="function"?t(s):t}function zN(t,s){const{type:a="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:l}=t;if(i){if(r){if(s.queryHash!==Kv(i,s.options))return!1}else if(!ud(s.queryKey,i))return!1}if(a!=="all"){const c=s.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||n&&n!==s.state.fetchStatus||o&&!o(s))}function FN(t,s){const{exact:a,status:r,predicate:n,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(a){if(dd(s.options.mutationKey)!==dd(o))return!1}else if(!ud(s.options.mutationKey,o))return!1}return!(r&&s.state.status!==r||n&&!n(s))}function Kv(t,s){return((s==null?void 0:s.queryKeyHashFn)||dd)(t)}function dd(t){return JSON.stringify(t,(s,a)=>_g(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function ud(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(a=>!ud(t[a],s[a])):!1}function b4(t,s){if(t===s)return t;const a=_N(t)&&_N(s);if(a||_g(t)&&_g(s)){const r=a?t:Object.keys(t),n=r.length,o=a?s:Object.keys(s),i=o.length,l=a?[]:{};let c=0;for(let u=0;u<i;u++){const d=a?u:o[u];(!a&&r.includes(d)||a)&&t[d]===void 0&&s[d]===void 0?(l[d]=void 0,c++):(l[d]=b4(t[d],s[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return n===i&&c===n?t:l}return s}function _N(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _g(t){if(!LN(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!LN(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LN(t){return Object.prototype.toString.call(t)==="[object Object]"}function OO(t){return new Promise(s=>{setTimeout(s,t)})}function zO(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?b4(t,s):s}function FO(t,s,a=0){const r=[...t,s];return a&&r.length>a?r.slice(1):r}function _O(t,s,a=0){const r=[s,...t];return a&&r.length>a?r.slice(0,-1):r}var Xv=Symbol();function j4(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Go,Fn,sl,$2,LO=($2=class extends rx{constructor(){super();Bt(this,Go);Bt(this,Fn);Bt(this,sl);gt(this,sl,s=>{if(!nx&&window.addEventListener){const a=()=>s();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){Se(this,Fn)||this.setEventListener(Se(this,sl))}onUnsubscribe(){var s;this.hasListeners()||((s=Se(this,Fn))==null||s.call(this),gt(this,Fn,void 0))}setEventListener(s){var a;gt(this,sl,s),(a=Se(this,Fn))==null||a.call(this),gt(this,Fn,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){Se(this,Go)!==s&&(gt(this,Go,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(a=>{a(s)})}isFocused(){var s;return typeof Se(this,Go)=="boolean"?Se(this,Go):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Go=new WeakMap,Fn=new WeakMap,sl=new WeakMap,$2),y4=new LO,al,_n,rl,V2,$O=(V2=class extends rx{constructor(){super();Bt(this,al,!0);Bt(this,_n);Bt(this,rl);gt(this,rl,s=>{if(!nx&&window.addEventListener){const a=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,_n)||this.setEventListener(Se(this,rl))}onUnsubscribe(){var s;this.hasListeners()||((s=Se(this,_n))==null||s.call(this),gt(this,_n,void 0))}setEventListener(s){var a;gt(this,rl,s),(a=Se(this,_n))==null||a.call(this),gt(this,_n,s(this.setOnline.bind(this)))}setOnline(s){Se(this,al)!==s&&(gt(this,al,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return Se(this,al)}},al=new WeakMap,_n=new WeakMap,rl=new WeakMap,V2),eh=new $O;function VO(){let t,s;const a=new Promise((n,o)=>{t=n,s=o});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},a.reject=n=>{r({status:"rejected",reason:n}),s(n)},a}function GO(t){return Math.min(1e3*2**t,3e4)}function N4(t){return(t??"online")==="online"?eh.isOnline():!0}var w4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bf(t){return t instanceof w4}function C4(t){let s=!1,a=0,r=!1,n;const o=VO(),i=p=>{var y;r||(x(new w4(p)),(y=t.abort)==null||y.call(t))},l=()=>{s=!0},c=()=>{s=!1},u=()=>y4.isFocused()&&(t.networkMode==="always"||eh.isOnline())&&t.canRun(),d=()=>N4(t.networkMode)&&t.canRun(),h=p=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,p),n==null||n(),o.resolve(p))},x=p=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,p),n==null||n(),o.reject(p))},f=()=>new Promise(p=>{var y;n=v=>{(r||u())&&p(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;n=void 0,r||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(r)return;let p;const y=a===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{var E;if(r)return;const b=t.retry??(nx?0:3),j=t.retryDelay??GO,w=typeof j=="function"?j(a,v):j,N=b===!0||typeof b=="number"&&a<b||typeof b=="function"&&b(a,v);if(s||!N){x(v);return}a++,(E=t.onFail)==null||E.call(t,a,v),OO(w).then(()=>u()?void 0:f()).then(()=>{s?x(v):g()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():f().then(g),o)}}function BO(){let t=[],s=0,a=l=>{l()},r=l=>{l()},n=l=>setTimeout(l,0);const o=l=>{s?t.push(l):n(()=>{a(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{a(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{a=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var aa=BO(),Bo,G2,S4=(G2=class{constructor(){Bt(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RO(this.gcTime)&&gt(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nx?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Bo)&&(clearTimeout(Se(this,Bo)),gt(this,Bo,void 0))}},Bo=new WeakMap,G2),nl,ol,Ua,Us,Id,Uo,dr,an,B2,UO=(B2=class extends S4{constructor(s){super();Bt(this,dr);Bt(this,nl);Bt(this,ol);Bt(this,Ua);Bt(this,Us);Bt(this,Id);Bt(this,Uo);gt(this,Uo,!1),gt(this,Id,s.defaultOptions),this.setOptions(s.options),this.observers=[],gt(this,Ua,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,gt(this,nl,WO(this.options)),this.state=s.state??Se(this,nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Se(this,Us))==null?void 0:s.promise}setOptions(s){this.options={...Se(this,Id),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,Ua).remove(this)}setData(s,a){const r=zO(this.state.data,s,this.options);return Vs(this,dr,an).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(s,a){Vs(this,dr,an).call(this,{type:"setState",state:s,setStateOptions:a})}cancel(s){var r,n;const a=(r=Se(this,Us))==null?void 0:r.promise;return(n=Se(this,Us))==null||n.cancel(s),a?a.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,nl))}isActive(){return this.observers.some(s=>IO(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!MO(this.state.dataUpdatedAt,s)}onFocus(){var a;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(a=Se(this,Us))==null||a.continue()}onOnline(){var a;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(a=Se(this,Us))==null||a.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Se(this,Ua).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(a=>a!==s),this.observers.length||(Se(this,Us)&&(Se(this,Uo)?Se(this,Us).cancel({revert:!0}):Se(this,Us).cancelRetry()),this.scheduleGc()),Se(this,Ua).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vs(this,dr,an).call(this,{type:"invalidate"})}fetch(s,a){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(Se(this,Us))return Se(this,Us).continueRetry(),Se(this,Us).promise}if(s&&this.setOptions(s),!this.options.queryFn){const h=this.observers.find(x=>x.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(gt(this,Uo,!0),r.signal)})},o=()=>{const h=j4(this.options,a),x={queryKey:this.queryKey,meta:this.meta};return n(x),gt(this,Uo,!1),this.options.persister?this.options.persister(h,x,this):h(x)},i={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),gt(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Vs(this,dr,an).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=h=>{var x,f,g,p;Bf(h)&&h.silent||Vs(this,dr,an).call(this,{type:"error",error:h}),Bf(h)||((f=(x=Se(this,Ua).config).onError)==null||f.call(x,h,this),(p=(g=Se(this,Ua).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return gt(this,Us,C4({initialPromise:a==null?void 0:a.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var x,f,g,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(f=(x=Se(this,Ua).config).onSuccess)==null||f.call(x,h,this),(p=(g=Se(this,Ua).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,x)=>{Vs(this,dr,an).call(this,{type:"failed",failureCount:h,error:x})},onPause:()=>{Vs(this,dr,an).call(this,{type:"pause"})},onContinue:()=>{Vs(this,dr,an).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Se(this,Us).start()}},nl=new WeakMap,ol=new WeakMap,Ua=new WeakMap,Us=new WeakMap,Id=new WeakMap,Uo=new WeakMap,dr=new WeakSet,an=function(s){const a=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HO(r.data,this.options),fetchMeta:s.meta??null};case"success":return{...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=s.error;return Bf(n)&&n.revert&&Se(this,ol)?{...Se(this,ol),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=a(this.state),aa.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,Ua).notify({query:this,type:"updated",action:s})})},B2);function HO(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N4(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WO(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Ir,U2,qO=(U2=class extends rx{constructor(s={}){super();Bt(this,Ir);this.config=s,gt(this,Ir,new Map)}build(s,a,r){const n=a.queryKey,o=a.queryHash??Kv(n,a);let i=this.get(o);return i||(i=new UO({cache:this,queryKey:n,queryHash:o,options:s.defaultQueryOptions(a),state:r,defaultOptions:s.getQueryDefaults(n)}),this.add(i)),i}add(s){Se(this,Ir).has(s.queryHash)||(Se(this,Ir).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const a=Se(this,Ir).get(s.queryHash);a&&(s.destroy(),a===s&&Se(this,Ir).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){aa.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Se(this,Ir).get(s)}getAll(){return[...Se(this,Ir).values()]}find(s){const a={exact:!0,...s};return this.getAll().find(r=>zN(a,r))}findAll(s={}){const a=this.getAll();return Object.keys(s).length>0?a.filter(r=>zN(s,r)):a}notify(s){aa.batch(()=>{this.listeners.forEach(a=>{a(s)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Ir=new WeakMap,U2),Or,Zs,Ho,zr,Dn,H2,YO=(H2=class extends S4{constructor(s){super();Bt(this,zr);Bt(this,Or);Bt(this,Zs);Bt(this,Ho);this.mutationId=s.mutationId,gt(this,Zs,s.mutationCache),gt(this,Or,[]),this.state=s.state||KO(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Se(this,Or).includes(s)||(Se(this,Or).push(s),this.clearGcTimeout(),Se(this,Zs).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){gt(this,Or,Se(this,Or).filter(a=>a!==s)),this.scheduleGc(),Se(this,Zs).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Se(this,Or).length||(this.state.status==="pending"?this.scheduleGc():Se(this,Zs).remove(this))}continue(){var s;return((s=Se(this,Ho))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var n,o,i,l,c,u,d,h,x,f,g,p,y,v,b,j,w,N,E,A;gt(this,Ho,C4({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(P,z)=>{Vs(this,zr,Dn).call(this,{type:"failed",failureCount:P,error:z})},onPause:()=>{Vs(this,zr,Dn).call(this,{type:"pause"})},onContinue:()=>{Vs(this,zr,Dn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,Zs).canRun(this)}));const a=this.state.status==="pending",r=!Se(this,Ho).canStart();try{if(!a){Vs(this,zr,Dn).call(this,{type:"pending",variables:s,isPaused:r}),await((o=(n=Se(this,Zs).config).onMutate)==null?void 0:o.call(n,s,this));const z=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,s));z!==this.state.context&&Vs(this,zr,Dn).call(this,{type:"pending",context:z,variables:s,isPaused:r})}const P=await Se(this,Ho).start();return await((u=(c=Se(this,Zs).config).onSuccess)==null?void 0:u.call(c,P,s,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,s,this.state.context)),await((f=(x=Se(this,Zs).config).onSettled)==null?void 0:f.call(x,P,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,P,null,s,this.state.context)),Vs(this,zr,Dn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(y=Se(this,Zs).config).onError)==null?void 0:v.call(y,P,s,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,P,s,this.state.context)),await((N=(w=Se(this,Zs).config).onSettled)==null?void 0:N.call(w,void 0,P,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,P,s,this.state.context)),P}finally{Vs(this,zr,Dn).call(this,{type:"error",error:P})}}finally{Se(this,Zs).runNext(this)}}},Or=new WeakMap,Zs=new WeakMap,Ho=new WeakMap,zr=new WeakSet,Dn=function(s){const a=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=a(this.state),aa.batch(()=>{Se(this,Or).forEach(r=>{r.onMutationUpdate(s)}),Se(this,Zs).notify({mutation:this,type:"updated",action:s})})},H2);function KO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pa,Od,W2,XO=(W2=class extends rx{constructor(s={}){super();Bt(this,Pa);Bt(this,Od);this.config=s,gt(this,Pa,new Map),gt(this,Od,Date.now())}build(s,a,r){const n=new YO({mutationCache:this,mutationId:++fu(this,Od)._,options:s.defaultMutationOptions(a),state:r});return this.add(n),n}add(s){const a=Mu(s),r=Se(this,Pa).get(a)??[];r.push(s),Se(this,Pa).set(a,r),this.notify({type:"added",mutation:s})}remove(s){var r;const a=Mu(s);if(Se(this,Pa).has(a)){const n=(r=Se(this,Pa).get(a))==null?void 0:r.filter(o=>o!==s);n&&(n.length===0?Se(this,Pa).delete(a):Se(this,Pa).set(a,n))}this.notify({type:"removed",mutation:s})}canRun(s){var r;const a=(r=Se(this,Pa).get(Mu(s)))==null?void 0:r.find(n=>n.state.status==="pending");return!a||a===s}runNext(s){var r;const a=(r=Se(this,Pa).get(Mu(s)))==null?void 0:r.find(n=>n!==s&&n.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}clear(){aa.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...Se(this,Pa).values()].flat()}find(s){const a={exact:!0,...s};return this.getAll().find(r=>FN(a,r))}findAll(s={}){return this.getAll().filter(a=>FN(s,a))}notify(s){aa.batch(()=>{this.listeners.forEach(a=>{a(s)})})}resumePausedMutations(){const s=this.getAll().filter(a=>a.state.isPaused);return aa.batch(()=>Promise.all(s.map(a=>a.continue().catch(cr))))}},Pa=new WeakMap,Od=new WeakMap,W2);function Mu(t){var s;return((s=t.options.scope)==null?void 0:s.id)??String(t.mutationId)}function $N(t){return{onFetch:(s,a)=>{var d,h,x,f,g;const r=s.options,n=(x=(h=(d=s.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,o=((f=s.state.data)==null?void 0:f.pages)||[],i=((g=s.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(s.signal.aborted?p=!0:s.signal.addEventListener("abort",()=>{p=!0}),s.signal)})},v=j4(s.options,s.fetchOptions),b=async(j,w,N)=>{if(p)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const E={queryKey:s.queryKey,pageParam:w,direction:N?"backward":"forward",meta:s.options.meta};y(E);const A=await v(E),{maxPages:P}=s.options,z=N?_O:FO;return{pages:z(j.pages,A,P),pageParams:z(j.pageParams,w,P)}};if(n&&o.length){const j=n==="backward",w=j?JO:VN,N={pages:o,pageParams:i},E=w(r,N);l=await b(N,E,j)}else{const j=t??o.length;do{const w=c===0?i[0]??r.initialPageParam:VN(r,l);if(c>0&&w==null)break;l=await b(l,w),c++}while(c<j)}return l};s.options.persister?s.fetchFn=()=>{var p,y;return(y=(p=s.options).persister)==null?void 0:y.call(p,u,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a)}:s.fetchFn=u}}}function VN(t,{pages:s,pageParams:a}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,a[r],a):void 0}function JO(t,{pages:s,pageParams:a}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,a[0],a):void 0}var us,Ln,$n,il,ll,Vn,cl,dl,q2,QO=(q2=class{constructor(t={}){Bt(this,us);Bt(this,Ln);Bt(this,$n);Bt(this,il);Bt(this,ll);Bt(this,Vn);Bt(this,cl);Bt(this,dl);gt(this,us,t.queryCache||new qO),gt(this,Ln,t.mutationCache||new XO),gt(this,$n,t.defaultOptions||{}),gt(this,il,new Map),gt(this,ll,new Map),gt(this,Vn,0)}mount(){fu(this,Vn)._++,Se(this,Vn)===1&&(gt(this,cl,y4.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,us).onFocus())})),gt(this,dl,eh.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,us).onOnline())})))}unmount(){var t,s;fu(this,Vn)._--,Se(this,Vn)===0&&((t=Se(this,cl))==null||t.call(this),gt(this,cl,void 0),(s=Se(this,dl))==null||s.call(this),gt(this,dl,void 0))}isFetching(t){return Se(this,us).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Se(this,Ln).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=Se(this,us).get(s.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const s=this.getQueryData(t.queryKey);if(s===void 0)return this.fetchQuery(t);{const a=this.defaultQueryOptions(t),r=Se(this,us).build(this,a);return t.revalidateIfStale&&r.isStaleByTime(ON(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(s)}}getQueriesData(t){return Se(this,us).findAll(t).map(({queryKey:s,state:a})=>{const r=a.data;return[s,r]})}setQueryData(t,s,a){const r=this.defaultQueryOptions({queryKey:t}),n=Se(this,us).get(r.queryHash),o=n==null?void 0:n.state.data,i=TO(s,o);if(i!==void 0)return Se(this,us).build(this,r).setData(i,{...a,manual:!0})}setQueriesData(t,s,a){return aa.batch(()=>Se(this,us).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,a)]))}getQueryState(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=Se(this,us).get(s.queryHash))==null?void 0:a.state}removeQueries(t){const s=Se(this,us);aa.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=Se(this,us),r={type:"active",...t};return aa.batch(()=>(a.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,s)))}cancelQueries(t={},s={}){const a={revert:!0,...s},r=aa.batch(()=>Se(this,us).findAll(t).map(n=>n.cancel(a)));return Promise.all(r).then(cr).catch(cr)}invalidateQueries(t={},s={}){return aa.batch(()=>{if(Se(this,us).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const a={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(a,s)})}refetchQueries(t={},s){const a={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},r=aa.batch(()=>Se(this,us).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,a);return a.throwOnError||(o=o.catch(cr)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(cr)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=Se(this,us).build(this,s);return a.isStaleByTime(ON(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cr).catch(cr)}fetchInfiniteQuery(t){return t.behavior=$N(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cr).catch(cr)}ensureInfiniteQueryData(t){return t.behavior=$N(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eh.isOnline()?Se(this,Ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,us)}getMutationCache(){return Se(this,Ln)}getDefaultOptions(){return Se(this,$n)}setDefaultOptions(t){gt(this,$n,t)}setQueryDefaults(t,s){Se(this,il).set(dd(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...Se(this,il).values()];let a={};return s.forEach(r=>{ud(t,r.queryKey)&&(a={...a,...r.defaultOptions})}),a}setMutationDefaults(t,s){Se(this,ll).set(dd(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...Se(this,ll).values()];let a={};return s.forEach(r=>{ud(t,r.mutationKey)&&(a={...a,...r.defaultOptions})}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...Se(this,$n).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Kv(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===Xv&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Se(this,$n).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Se(this,us).clear(),Se(this,Ln).clear()}},us=new WeakMap,Ln=new WeakMap,$n=new WeakMap,il=new WeakMap,ll=new WeakMap,Vn=new WeakMap,cl=new WeakMap,dl=new WeakMap,q2),ZO=m.createContext(void 0),ez=({client:t,children:s})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(ZO.Provider,{value:t,children:s}));function E4(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=E4(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function P4(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=E4(t))&&(r&&(r+=" "),r+=s);return r}const Jv="-",tz=t=>{const s=az(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const l=i.split(Jv);return l[0]===""&&l.length!==1&&l.shift(),A4(l,s)||sz(i)},getConflictingClassGroupIds:(i,l)=>{const c=a[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},A4=(t,s)=>{var i;if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),n=r?A4(t.slice(1),r):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(Jv);return(i=s.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},GN=/^\[(.+)\]$/,sz=t=>{if(GN.test(t)){const s=GN.exec(t)[1],a=s==null?void 0:s.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},az=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return nz(Object.entries(t.classGroups),a).forEach(([o,i])=>{Lg(i,r,o,s)}),r},Lg=(t,s,a,r)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:BN(s,n);o.classGroupId=a;return}if(typeof n=="function"){if(rz(n)){Lg(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([o,i])=>{Lg(i,BN(s,o),a,r)})})},BN=(t,s)=>{let a=t;return s.split(Jv).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},rz=t=>t.isThemeGetter,nz=(t,s)=>s?t.map(([a,r])=>{const n=r.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[a,n]}):t,oz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const n=(o,i)=>{a.set(o,i),s++,s>t&&(s=0,r=a,a=new Map)};return{get(o){let i=a.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return n(o,i),i},set(o,i){a.has(o)?a.set(o,i):n(o,i)}}},D4="!",iz=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,n=s[0],o=s.length,i=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let v=l[y];if(u===0){if(v===n&&(r||l.slice(y,y+o)===s)){c.push(l.slice(d,y)),d=y+o;continue}if(v==="/"){h=y;continue}}v==="["?u++:v==="]"&&u--}const x=c.length===0?l:l.substring(d),f=x.startsWith(D4),g=f?x.substring(1):x,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}};return a?l=>a({className:l,parseClassName:i}):i},lz=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},cz=t=>({cache:oz(t.cacheSize),parseClassName:iz(t),...tz(t)}),dz=/\s+/,uz=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=s,o=[],i=t.trim().split(dz);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:f}=a(u);let g=!!f,p=r(g?x.substring(0,f):x);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(x),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=lz(d).join(":"),v=h?y+D4:y,b=v+p;if(o.includes(b))continue;o.push(b);const j=n(p,g);for(let w=0;w<j.length;++w){const N=j[w];o.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function mz(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=k4(s))&&(r&&(r+=" "),r+=a);return r}const k4=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=k4(t[r]))&&(a&&(a+=" "),a+=s);return a};function hz(t,...s){let a,r,n,o=i;function i(c){const u=s.reduce((d,h)=>h(d),t());return a=cz(u),r=a.cache.get,n=a.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=uz(c,a);return n(c,d),d}return function(){return o(mz.apply(null,arguments))}}const Qt=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},T4=/^\[(?:([a-z-]+):)?(.+)\]$/i,xz=/^\d+\/\d+$/,fz=new Set(["px","full","screen"]),pz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=t=>qi(t)||fz.has(t)||xz.test(t),En=t=>Ol(t,"length",Az),qi=t=>!!t&&!Number.isNaN(Number(t)),Uf=t=>Ol(t,"number",qi),hc=t=>!!t&&Number.isInteger(Number(t)),yz=t=>t.endsWith("%")&&qi(t.slice(0,-1)),ft=t=>T4.test(t),Pn=t=>pz.test(t),Nz=new Set(["length","size","percentage"]),wz=t=>Ol(t,Nz,R4),Cz=t=>Ol(t,"position",R4),Sz=new Set(["image","url"]),Ez=t=>Ol(t,Sz,kz),Pz=t=>Ol(t,"",Dz),xc=()=>!0,Ol=(t,s,a)=>{const r=T4.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},Az=t=>gz.test(t)&&!vz.test(t),R4=()=>!1,Dz=t=>bz.test(t),kz=t=>jz.test(t),Tz=()=>{const t=Qt("colors"),s=Qt("spacing"),a=Qt("blur"),r=Qt("brightness"),n=Qt("borderColor"),o=Qt("borderRadius"),i=Qt("borderSpacing"),l=Qt("borderWidth"),c=Qt("contrast"),u=Qt("grayscale"),d=Qt("hueRotate"),h=Qt("invert"),x=Qt("gap"),f=Qt("gradientColorStops"),g=Qt("gradientColorStopPositions"),p=Qt("inset"),y=Qt("margin"),v=Qt("opacity"),b=Qt("padding"),j=Qt("saturate"),w=Qt("scale"),N=Qt("sepia"),E=Qt("skew"),A=Qt("space"),P=Qt("translate"),z=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ft,s],L=()=>[ft,s],U=()=>["",tn,En],Y=()=>["auto",qi,ft],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ft],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qi,ft];return{cacheSize:500,separator:":",theme:{colors:[xc],spacing:[tn,En],blur:["none","",Pn,ft],brightness:J(),borderColor:[t],borderRadius:["none","","full",Pn,ft],borderSpacing:L(),borderWidth:U(),contrast:J(),grayscale:$(),hueRotate:J(),invert:$(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[yz,En],inset:k(),margin:k(),opacity:J(),padding:L(),saturate:J(),scale:J(),sepia:$(),skew:J(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[Pn]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ft]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hc,ft]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",hc,ft]}],"grid-cols":[{"grid-cols":[xc]}],"col-start-end":[{col:["auto",{span:["full",hc,ft]},ft]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[xc]}],"row-start-end":[{row:["auto",{span:[hc,ft]},ft]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,s]}],"min-w":[{"min-w":[ft,s,"min","max","fit"]}],"max-w":[{"max-w":[ft,s,"none","full","min","max","fit","prose",{screen:[Pn]},Pn]}],h:[{h:[ft,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Pn,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uf]}],"font-family":[{font:[xc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",qi,Uf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,En]}],"underline-offset":[{"underline-offset":["auto",tn,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Cz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ez]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[tn,ft]}],"outline-w":[{outline:[tn,En]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tn,En]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pn,Pz]}],"shadow-color":[{shadow:[xc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pn,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[hc,ft]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,En,Uf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rz=hz(Tz);function je(...t){return Rz(P4(t))}function Je(t){if(!t)return"";try{const s=new Date(t);return isNaN(s.getTime())?"":s.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(s){return console.error("Erro ao formatar data:",s),""}}function Es(t){if(!t)return"";try{const s=new Date(t);return isNaN(s.getTime())?"":s.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(s){return console.error("Erro ao formatar data e hora:",s),""}}function Mz(t,s){const a=new Date(t),r=new Date;let n=0;const o=new Date(a);for(;o<=r;)o.getDay()!==0&&o.getDay()!==6&&n++,o.setDate(o.getDate()+1);return n}function Iz(t){const s=t.match(/(\d+)\s*dia/);return s?parseInt(s[1]):0}function Oz(t,s,a){if(t==="concluido"||!s)return!1;const r=Mz(s),n=Iz(a);return r>n}function M4(t,s,a){return t==="concluido"?"border-green-500":Oz(t,s,a)?"border-red-500":t==="andamento"?"border-blue-500":"border-gray-300"}function ox(t){return t===null?"Sem prazo definido":t<0?"dias em atraso":t<=2?"dias restantes (urgente)":"dias restantes"}function Qv(t){return t===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:t<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:t<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"}}const Ge=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));Ge.displayName="Card";const _t=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:je("flex flex-col space-y-1.5 p-6",t),...s}));_t.displayName="CardHeader";const Lt=m.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:je("text-2xl font-semibold leading-none tracking-tight",t),...s}));Lt.displayName="CardTitle";const Ra=m.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:je("text-sm text-muted-foreground",t),...s}));Ra.displayName="CardDescription";const We=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:je("p-6 pt-0",t),...s}));We.displayName="CardContent";const zz=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:je("flex items-center p-6 pt-0",t),...s}));zz.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I4=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=m.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,..._z,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:I4("lucide",n),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,s)=>{const a=m.forwardRef(({className:r,...n},o)=>m.createElement(Lz,{ref:o,iconNode:s,className:I4(`lucide-${Fz(t)}`,r),...n}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=pe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=pe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=pe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=pe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=pe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=pe("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=pe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=pe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=pe("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=pe("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=pe("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=pe("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=pe("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=pe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=pe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=pe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=pe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=pe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=pe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=pe("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=pe("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=pe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=pe("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=pe("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=pe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=pe("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=pe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=pe("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=pe("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=pe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=pe("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=pe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=pe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function qN(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function EF(...t){return s=>{let a=!1;const r=t.map(n=>{const o=qN(n,s);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let n=0;n<r.length;n++){const o=r[n];typeof o=="function"?o():qN(t[n],null)}}}}function PF(t){const s=DF(t),a=m.forwardRef((r,n)=>{const{children:o,...i}=r,l=m.Children.toArray(o),c=l.find(TF);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return e.jsx(s,{...i,ref:n,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return e.jsx(s,{...i,ref:n,children:o})});return a.displayName=`${t}.Slot`,a}var AF=PF("Slot");function DF(t){const s=m.forwardRef((a,r)=>{const{children:n,...o}=a;if(m.isValidElement(n)){const i=MF(n),l=RF(o,n.props);return n.type!==m.Fragment&&(l.ref=r?EF(r,i):i),m.cloneElement(n,l)}return m.Children.count(n)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var kF=Symbol("radix.slottable");function TF(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kF}function RF(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{const c=o(...l);return n(...l),c}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function MF(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const YN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KN=P4,Kr=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return KN(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:o}=s,i=Object.keys(n).map(u=>{const d=a==null?void 0:a[u],h=o==null?void 0:o[u];if(d===null)return null;const x=YN(d)||YN(h);return n[u][x]}),l=a&&Object.entries(a).reduce((u,d)=>{let[h,x]=d;return x===void 0||(u[h]=x),u},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:x,...f}=d;return Object.entries(f).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...o,...l}[p]):{...o,...l}[p]===y})?[...u,h,x]:u},[]);return KN(t,i,c,a==null?void 0:a.class,a==null?void 0:a.className)},cx=Kr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=m.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},o)=>{const i=r?AF:"button";return e.jsx(i,{className:je(cx({variant:s,size:a,className:t})),ref:o,...n})});C.displayName="Button";function IF(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function Pr(...t){return s=>t.forEach(a=>IF(a,s))}function ot(...t){return m.useCallback(Pr(...t),t)}function OF(t,s){const a=m.createContext(s),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return e.jsx(a.Provider,{value:c,children:i})};r.displayName=t+"Provider";function n(o){const i=m.useContext(a);if(i)return i;if(s!==void 0)return s;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,n]}function ua(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];const u=h=>{var v;const{scope:x,children:f,...g}=h,p=((v=x==null?void 0:x[t])==null?void 0:v[c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})};u.displayName=o+"Provider";function d(h,x){var p;const f=((p=x==null?void 0:x[t])==null?void 0:p[c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,zF(n,...s)]}function zF(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}function Ee(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t==null||t(n),a===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function as(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...a)=>{var r;return(r=s.current)==null?void 0:r.call(s,...a)},[])}function Qs({prop:t,defaultProp:s,onChange:a=()=>{}}){const[r,n]=FF({defaultProp:s,onChange:a}),o=t!==void 0,i=o?t:r,l=as(a),c=m.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else n(u)},[o,t,n,l]);return[i,c]}function FF({defaultProp:t,onChange:s}){const a=m.useState(t),[r]=a,n=m.useRef(r),o=as(s);return m.useEffect(()=>{n.current!==r&&(o(r),n.current=r)},[r,n,o]),a}function dx(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Ps=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function ux(t){const[s,a]=m.useState(void 0);return Ps(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;a({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else a(void 0)},[t]),s}function _F(t,s){return m.useReducer((a,r)=>s[a][r]??a,t)}var Ms=t=>{const{present:s,children:a}=t,r=LF(s),n=typeof a=="function"?a({present:r.isPresent}):m.Children.only(a),o=ot(r.ref,$F(n));return typeof a=="function"||r.isPresent?m.cloneElement(n,{ref:o}):null};Ms.displayName="Presence";function LF(t){const[s,a]=m.useState(),r=m.useRef({}),n=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[l,c]=_F(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ou(r.current);o.current=l==="mounted"?u:"none"},[l]),Ps(()=>{const u=r.current,d=n.current;if(d!==t){const x=o.current,f=Ou(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&x!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,c]),Ps(()=>{if(s){let u;const d=s.ownerDocument.defaultView??window,h=f=>{const p=Ou(r.current).includes(f.animationName);if(f.target===s&&p&&(c("ANIMATION_END"),!n.current)){const y=s.style.animationFillMode;s.style.animationFillMode="forwards",u=d.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=y)})}},x=f=>{f.target===s&&(o.current=Ou(r.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{d.clearTimeout(u),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),a(u)},[])}}function Ou(t){return(t==null?void 0:t.animationName)||"none"}function $F(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var J4=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(GF);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Vg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Vg,{...r,ref:s,children:a})});J4.displayName="Slot";var Vg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=UF(a);return m.cloneElement(a,{...BF(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Vg.displayName="SlotClone";var VF=({children:t})=>e.jsx(e.Fragment,{children:t});function GF(t){return m.isValidElement(t)&&t.type===VF}function BF(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function UF(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var HF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=HF.reduce((t,s)=>{const a=m.forwardRef((r,n)=>{const{asChild:o,...i}=r,l=o?J4:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...i,ref:n})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function nb(t,s){t&&Ka.flushSync(()=>t.dispatchEvent(s))}var ob="Checkbox",[WF,aae]=ua(ob),[qF,YF]=WF(ob),Q4=m.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:r,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[x,f]=m.useState(null),g=ot(s,w=>f(w)),p=m.useRef(!1),y=x?d||!!x.closest("form"):!0,[v=!1,b]=Qs({prop:n,defaultProp:o,onChange:u}),j=m.useRef(v);return m.useEffect(()=>{const w=x==null?void 0:x.form;if(w){const N=()=>b(j.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[x,b]),e.jsxs(qF,{scope:a,state:v,disabled:l,children:[e.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":eo(v)?"mixed":v,"aria-required":i,"data-state":tE(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:Ee(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ee(t.onClick,w=>{b(N=>eo(N)?!0:!N),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&e.jsx(KF,{control:x,bubbles:!p.current,name:r,value:c,checked:v,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:eo(o)?!1:o})]})});Q4.displayName=ob;var Z4="CheckboxIndicator",eE=m.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:r,...n}=t,o=YF(Z4,a);return e.jsx(Ms,{present:r||eo(o.state)||o.state===!0,children:e.jsx(Ve.span,{"data-state":tE(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});eE.displayName=Z4;var KF=t=>{const{control:s,checked:a,bubbles:r=!0,defaultChecked:n,...o}=t,i=m.useRef(null),l=dx(a),c=ux(s);m.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==a&&f){const g=new Event("click",{bubbles:r});d.indeterminate=eo(a),f.call(d,eo(a)?!1:a),d.dispatchEvent(g)}},[l,a,r]);const u=m.useRef(eo(a)?!1:a);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eo(t){return t==="indeterminate"}function tE(t){return eo(t)?"indeterminate":t?"checked":"unchecked"}var sE=Q4,XF=eE;const $t=m.forwardRef(({className:t,...s},a)=>e.jsx(sE,{ref:a,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(XF,{className:je("flex items-center justify-center text-current"),children:e.jsx(Fl,{className:"h-4 w-4"})})}));$t.displayName=sE.displayName;const pd="/fiscatus-app/assets/logo_fiscatus-BOfWUIgZ.png",De=m.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));De.displayName="Input";var JF="Label",aE=m.forwardRef((t,s)=>e.jsx(Ve.label,{...t,ref:s,onMouseDown:a=>{var n;a.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));aE.displayName=JF;var rE=aE;const QF=Kr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=m.forwardRef(({className:t,...s},a)=>e.jsx(rE,{ref:a,className:je(QF(),t),...s}));B.displayName=rE.displayName;var ZF=(t,s,a,r,n,o,i,l)=>{let c=document.documentElement,u=["light","dark"];function d(f){(Array.isArray(t)?t:[t]).forEach(g=>{let p=g==="class",y=p&&o?n.map(v=>o[v]||v):n;p?(c.classList.remove(...y),c.classList.add(o&&o[f]?o[f]:f)):c.setAttribute(g,f)}),h(f)}function h(f){l&&u.includes(f)&&(c.style.colorScheme=f)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let f=localStorage.getItem(s)||a,g=i&&f==="system"?x():f;d(g)}catch{}},XN=["light","dark"],nE="(prefers-color-scheme: dark)",e_=typeof window>"u",ib=m.createContext(void 0),t_={setTheme:t=>{},themes:[]},oE=()=>{var t;return(t=m.useContext(ib))!=null?t:t_},s_=t=>m.useContext(ib)?m.createElement(m.Fragment,null,t.children):m.createElement(r_,{...t}),a_=["light","dark"],r_=({forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:a=!0,enableColorScheme:r=!0,storageKey:n="theme",themes:o=a_,defaultTheme:i=a?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d,scriptProps:h})=>{let[x,f]=m.useState(()=>o_(n,i)),[g,p]=m.useState(()=>x==="system"?Hf():x),y=c?Object.values(c):o,v=m.useCallback(N=>{let E=N;if(!E)return;N==="system"&&a&&(E=Hf());let A=c?c[E]:E,P=s?i_(d):null,z=document.documentElement,T=k=>{k==="class"?(z.classList.remove(...y),A&&z.classList.add(A)):k.startsWith("data-")&&(A?z.setAttribute(k,A):z.removeAttribute(k))};if(Array.isArray(l)?l.forEach(T):T(l),r){let k=XN.includes(i)?i:null,L=XN.includes(E)?E:k;z.style.colorScheme=L}P==null||P()},[d]),b=m.useCallback(N=>{let E=typeof N=="function"?N(x):N;f(E);try{localStorage.setItem(n,E)}catch{}},[x]),j=m.useCallback(N=>{let E=Hf(N);p(E),x==="system"&&a&&!t&&v("system")},[x,t]);m.useEffect(()=>{let N=window.matchMedia(nE);return N.addListener(j),j(N),()=>N.removeListener(j)},[j]),m.useEffect(()=>{let N=E=>{E.key===n&&(E.newValue?f(E.newValue):b(i))};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[b]),m.useEffect(()=>{v(t??x)},[t,x]);let w=m.useMemo(()=>({theme:x,setTheme:b,forcedTheme:t,resolvedTheme:x==="system"?g:x,themes:a?[...o,"system"]:o,systemTheme:a?g:void 0}),[x,b,t,g,a,o]);return m.createElement(ib.Provider,{value:w},m.createElement(n_,{forcedTheme:t,storageKey:n,attribute:l,enableSystem:a,enableColorScheme:r,defaultTheme:i,value:c,themes:o,nonce:d,scriptProps:h}),u)},n_=m.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:i,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([a,s,o,t,l,i,r,n]).slice(1,-1);return m.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${ZF.toString()})(${d})`}})}),o_=(t,s)=>{if(e_)return;let a;try{a=localStorage.getItem(t)||void 0}catch{}return a||s},i_=t=>{let s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},Hf=t=>(t||(t=window.matchMedia(nE)),t.matches?"dark":"light");function l_(){const[t,s]=m.useState(!0),[a,r]=m.useState(!1),[n,o]=m.useState(!1),[i,l]=m.useState(!1),{theme:c,setTheme:u}=oE(),[d,h]=m.useState({fullName:"",email:"",password:"",confirmPassword:""}),[x,f]=m.useState(!1),g=(v,b)=>{h(j=>({...j,[v]:b}))},p=v=>{v.preventDefault(),f(!0),(t||i)&&console.log("Form submitted:",{isLogin:t,formData:d})},y=()=>(t?d.email&&d.password:d.fullName&&d.email&&d.password&&d.confirmPassword)&&(t||i);return e.jsx("div",{className:"min-h-screen bg-background dark:bg-background flex items-center justify-center p-4",children:e.jsx(Ge,{className:"w-full max-w-4xl bg-card shadow-2xl border-0 rounded-2xl",children:e.jsx(We,{className:"p-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 min-h-[600px]",children:[e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("div",{}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>u(c==="dark"?"light":"dark"),className:"text-muted-foreground hover:text-foreground",children:c==="dark"?e.jsx(q4,{className:"h-5 w-5"}):e.jsx(U4,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:t?"Bem-vindo de volta":"Criar conta"}),e.jsx("p",{className:"text-muted-foreground",children:t?"Entre na sua conta":"Digite seus dados para começar"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"fullName",className:"text-foreground",children:"Nome completo"}),e.jsx(De,{id:"fullName",type:"text",value:d.fullName,onChange:v=>g("fullName",v.target.value),className:"bg-background border-border rounded-md",placeholder:"Digite seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"email",className:"text-foreground",children:"Email"}),e.jsx(De,{id:"email",type:"email",value:d.email,onChange:v=>g("email",v.target.value),className:"bg-background border-border rounded-md",placeholder:"Digite seu email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"password",className:"text-foreground",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"password",type:a?"text":"password",value:d.password,onChange:v=>g("password",v.target.value),className:"bg-background border-border pr-10 rounded-md",placeholder:"Digite sua senha"}),e.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?e.jsx(Yi,{className:"h-4 w-4"}):e.jsx(Ze,{className:"h-4 w-4"})})]})]}),!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"confirmPassword",type:n?"text":"password",value:d.confirmPassword,onChange:v=>g("confirmPassword",v.target.value),className:"bg-background border-border pr-10 rounded-md",placeholder:"Confirme sua senha"}),e.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground",onClick:()=>o(!n),children:n?e.jsx(Yi,{className:"h-4 w-4"}):e.jsx(Ze,{className:"h-4 w-4"})})]})]}),t&&e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",children:"Esqueceu a senha?"})}),!t&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"terms",checked:i,onCheckedChange:v=>l(v===!0)}),e.jsxs(B,{htmlFor:"terms",className:"text-sm text-muted-foreground",children:["Li e aceito a"," ",e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",children:"política de privacidade"})]})]}),e.jsx(C,{type:"submit",className:"w-full bg-gradient-brand hover:bg-gradient-brand-hover text-primary-foreground",disabled:!y(),children:t?"Entrar":"Registrar"}),t&&e.jsxs(C,{type:"button",variant:"outline",className:"w-full border-border text-foreground flex items-center gap-2",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Entrar com Google"]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:[t?"Não tem uma conta?":"Já tem uma conta?"," ",e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",onClick:()=>{s(!t),h({fullName:"",email:"",password:"",confirmPassword:""}),f(!1)},children:t?"Cadastre-se":"Entrar"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex bg-gradient-to-br from-[#7F3FFF] via-[#4F8CFF] to-[#00E0FF] relative overflow-hidden items-center justify-center rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 text-center text-white",children:[e.jsx("div",{className:"relative mb-8",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:pd,alt:"Brain AI",className:"w-50 h-50 drop-shadow-2xl"}),e.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl"})]})})})}),e.jsx("h2",{className:"text-4xl font-bold tracking-wide",children:"FISCATUS"})]})]})]})})})})}const c_=()=>e.jsx(l_,{}),d_=()=>{const t=sr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},u_=Kr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:t,variant:s,...a}){return e.jsx("div",{className:je(u_({variant:s}),t),...a})}const m_=Kr("absolute pointer-events-none",{variants:{variant:{above:"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",below:"bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",left:"left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",right:"right-0 top-1/2 -translate-y-1/2 translate-x-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},size:{sm:"w-32 h-32",md:"w-48 h-48",lg:"w-64 h-64",xl:"w-80 h-80","2xl":"w-96 h-96"},color:{brand:"bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20",green:"bg-green-500/20",yellow:"bg-yellow-500/20",red:"bg-red-500/20"}},defaultVariants:{variant:"center",size:"lg",color:"brand"}}),iE=m.forwardRef(({className:t,variant:s,size:a,color:r,blur:n=60,...o},i)=>e.jsx("div",{ref:i,className:je(m_({variant:s,size:a,color:r,className:t})),style:{filter:`blur(${n}px)`,...o.style},...o}));iE.displayName="Glow";const h_=Kr("relative overflow-hidden rounded-lg border border-gray-200 bg-white shadow-lg",{variants:{variant:{default:"border-gray-200",gradient:"border-transparent bg-gradient-to-br from-blue-50 to-purple-50",dark:"border-gray-800 bg-gray-900"},size:{sm:"w-64 h-40",md:"w-80 h-48",lg:"w-96 h-56",xl:"w-[28rem] h-64","2xl":"w-[32rem] h-72",full:"w-full h-auto"},shadow:{none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl","2xl":"shadow-2xl"}},defaultVariants:{variant:"default",size:"lg",shadow:"lg"}}),lE=m.forwardRef(({className:t,variant:s,size:a,shadow:r,image:n,children:o,...i},l)=>e.jsx("div",{ref:l,className:je(h_({variant:s,size:a,shadow:r,className:t})),...i,children:n?e.jsx("img",{src:n.src,alt:n.alt,width:n.width,height:n.height,className:"w-full h-full object-cover"}):o}));lE.displayName="Mockup";const x_=Kr("relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-br from-gray-50 to-white",gradient:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",dark:"bg-gradient-to-br from-gray-900 to-gray-800"},size:{sm:"py-12 md:py-16",md:"py-16 md:py-20",lg:"py-20 md:py-24",xl:"py-24 md:py-32"}},defaultVariants:{variant:"default",size:"lg"}}),cE=m.forwardRef(({className:t,variant:s,size:a,title:r,description:n,primaryCta:o,secondaryCta:i,mockupImage:l,mockupContent:c,glowVariant:u="above",glowSize:d="xl",glowColor:h="brand",...x},f)=>{const g=m.useRef(null);return m.useEffect(()=>{const p=()=>{const y=window.scrollY;g.current&&(g.current.style.transform=`translateY(${Math.min(y*.08,40)}px)`)};return window.addEventListener("scroll",p,{passive:!0}),()=>window.removeEventListener("scroll",p)},[]),e.jsx("section",{ref:f,className:je(x_({variant:s,size:a,className:t})),...x,children:e.jsx("div",{className:"container mx-auto px-6 md:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-gray-900 leading-tight",children:r}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl",children:n})]}),(o||i)&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o&&e.jsx(C,{size:"lg",className:"h-12 px-6 gap-3 hover:translate-y-[-1px] transition-all duration-200 shadow-sm",onClick:o.onClick,asChild:!!o.href,children:o.href?e.jsx("a",{href:o.href,children:o.text}):o.text}),i&&e.jsx(C,{variant:"outline",size:"lg",className:"h-12 px-6 gap-3 hover:translate-y-[-1px] transition-all duration-200 border-gray-300 hover:border-indigo-300",onClick:i.onClick,asChild:!!i.href,children:i.href?e.jsx("a",{href:i.href,children:i.text}):i.text})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(lE,{size:"full",image:l,className:"animate-appear-zoom opacity-0 [animation-delay:500ms]",children:c}),e.jsx("div",{ref:g,className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx(iE,{variant:u,size:d,color:h,className:"animate-appear-zoom opacity-0 [animation-delay:1000ms]"})})]})]})})})});cE.displayName="HeroWithMockup";function f_(t="[data-reveal], [data-reveal-stagger]",s){const a=m.useRef(0),r=5;m.useEffect(()=>{let n=null,o=null;const i=()=>{const l=Array.from(document.querySelectorAll(t));if(l.length===0){a.current<r&&(a.current++,o=setTimeout(i,200));return}a.current=0,n=new IntersectionObserver(c=>{c.forEach(u=>{if(u.isIntersecting){u.target.classList.add("is-visible");const d=u.target.dataset.revealDelay;d&&(u.target.style.animationDelay=d),n==null||n.unobserve(u.target)}})},{rootMargin:"0px 0px -10% 0px",threshold:.15,...s}),l.forEach(c=>{n==null||n.observe(c)})};return i(),()=>{n&&n.disconnect(),o&&clearTimeout(o)}},[t,s])}function p_(){const t=m.useRef(null),s=m.useRef(0);return m.useEffect(()=>{const a=document.querySelector(".read-progress"),r=document.querySelector(".topbar");if(!a)return;const n=()=>{const i=document.documentElement,l=i.scrollTop||document.body.scrollTop;if(Math.abs(l-s.current)<1){t.current=null;return}s.current=l;const c=i.scrollHeight-i.clientHeight,u=Math.max(0,Math.min(1,l/c));a.style.width=`${u*100}%`,r&&(l>8?r.classList.add("shrink"):r.classList.remove("shrink")),t.current=null},o=()=>{t.current===null&&(t.current=requestAnimationFrame(n))};return n(),window.addEventListener("scroll",o,{passive:!0}),()=>{window.removeEventListener("scroll",o),t.current!==null&&cancelAnimationFrame(t.current)}},[]),null}function g_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t);m.useEffect(()=>{const r=n=>{n.key==="Escape"&&a(n)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[a,s])}var v_="DismissableLayer",Gg="dismissableLayer.update",b_="dismissableLayer.pointerDownOutside",j_="dismissableLayer.focusOutside",JN,dE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ui=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=m.useContext(dE),[d,h]=m.useState(null),x=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),g=ot(s,A=>h(A)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(y),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=v,N=N_(A=>{const P=A.target,z=[...u.branches].some(T=>T.contains(P));!w||z||(n==null||n(A),i==null||i(A),A.defaultPrevented||l==null||l())},x),E=w_(A=>{const P=A.target;[...u.branches].some(T=>T.contains(P))||(o==null||o(A),i==null||i(A),A.defaultPrevented||l==null||l())},x);return g_(A=>{b===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},x),m.useEffect(()=>{if(d)return a&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(JN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QN(),()=>{a&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=JN)}},[d,x,a,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QN())},[d,u]),m.useEffect(()=>{const A=()=>f({});return document.addEventListener(Gg,A),()=>document.removeEventListener(Gg,A)},[]),e.jsx(Ve.div,{...c,ref:g,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,N.onPointerDownCapture)})});ui.displayName=v_;var y_="DismissableLayerBranch",uE=m.forwardRef((t,s)=>{const a=m.useContext(dE),r=m.useRef(null),n=ot(s,r);return m.useEffect(()=>{const o=r.current;if(o)return a.branches.add(o),()=>{a.branches.delete(o)}},[a.branches]),e.jsx(Ve.div,{...t,ref:n})});uE.displayName=y_;function N_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t),r=m.useRef(!1),n=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){mE(b_,a,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=c,s.addEventListener("click",n.current,{once:!0})):c()}else s.removeEventListener("click",n.current);r.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",o),s.removeEventListener("click",n.current)}},[s,a]),{onPointerDownCapture:()=>r.current=!0}}function w_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t),r=m.useRef(!1);return m.useEffect(()=>{const n=o=>{o.target&&!r.current&&mE(j_,a,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QN(){const t=new CustomEvent(Gg);document.dispatchEvent(t)}function mE(t,s,a,{discrete:r}){const n=a.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?nb(n,o):n.dispatchEvent(o)}var C_=ui,S_=uE,E_=nC.useId||(()=>{}),P_=0;function oa(t){const[s,a]=m.useState(E_());return Ps(()=>{a(r=>r??String(P_++))},[t]),s?`radix-${s}`:""}const A_=["top","right","bottom","left"],oo=Math.min,ka=Math.max,lh=Math.round,zu=Math.floor,io=t=>({x:t,y:t}),D_={left:"right",right:"left",bottom:"top",top:"bottom"},k_={start:"end",end:"start"};function Bg(t,s,a){return ka(t,oo(s,a))}function pn(t,s){return typeof t=="function"?t(s):t}function gn(t){return t.split("-")[0]}function $l(t){return t.split("-")[1]}function lb(t){return t==="x"?"y":"x"}function cb(t){return t==="y"?"height":"width"}function lo(t){return["top","bottom"].includes(gn(t))?"y":"x"}function db(t){return lb(lo(t))}function T_(t,s,a){a===void 0&&(a=!1);const r=$l(t),n=db(t),o=cb(n);let i=n==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(i=ch(i)),[i,ch(i)]}function R_(t){const s=ch(t);return[Ug(t),s,Ug(s)]}function Ug(t){return t.replace(/start|end/g,s=>k_[s])}function M_(t,s,a){const r=["left","right"],n=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return a?s?n:r:s?r:n;case"left":case"right":return s?o:i;default:return[]}}function I_(t,s,a,r){const n=$l(t);let o=M_(gn(t),a==="start",r);return n&&(o=o.map(i=>i+"-"+n),s&&(o=o.concat(o.map(Ug)))),o}function ch(t){return t.replace(/left|right|bottom|top/g,s=>D_[s])}function O_(t){return{top:0,right:0,bottom:0,left:0,...t}}function hE(t){return typeof t!="number"?O_(t):{top:t,right:t,bottom:t,left:t}}function dh(t){const{x:s,y:a,width:r,height:n}=t;return{width:r,height:n,top:a,left:s,right:s+r,bottom:a+n,x:s,y:a}}function ZN(t,s,a){let{reference:r,floating:n}=t;const o=lo(s),i=db(s),l=cb(i),c=gn(s),u=o==="y",d=r.x+r.width/2-n.width/2,h=r.y+r.height/2-n.height/2,x=r[l]/2-n[l]/2;let f;switch(c){case"top":f={x:d,y:r.y-n.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-n.width,y:h};break;default:f={x:r.x,y:r.y}}switch($l(s)){case"start":f[i]-=x*(a&&u?-1:1);break;case"end":f[i]+=x*(a&&u?-1:1);break}return f}const z_=async(t,s,a)=>{const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:i}=a,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(s));let u=await i.getElementRects({reference:t,floating:s,strategy:n}),{x:d,y:h}=ZN(u,r,c),x=r,f={},g=0;for(let p=0;p<l.length;p++){const{name:y,fn:v}=l[p],{x:b,y:j,data:w,reset:N}=await v({x:d,y:h,initialPlacement:r,placement:x,strategy:n,middlewareData:f,rects:u,platform:i,elements:{reference:t,floating:s}});d=b??d,h=j??h,f={...f,[y]:{...f[y],...w}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(x=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:n}):N.rects),{x:d,y:h}=ZN(u,x,c)),p=-1)}return{x:d,y:h,placement:x,strategy:n,middlewareData:f}};async function gd(t,s){var a;s===void 0&&(s={});const{x:r,y:n,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:x=!1,padding:f=0}=pn(s,t),g=hE(f),y=l[x?h==="floating"?"reference":"floating":h],v=dh(await o.getClippingRect({element:(a=await(o.isElement==null?void 0:o.isElement(y)))==null||a?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:n,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},N=dh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(v.top-N.top+g.top)/w.y,bottom:(N.bottom-v.bottom+g.bottom)/w.y,left:(v.left-N.left+g.left)/w.x,right:(N.right-v.right+g.right)/w.x}}const F_=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:r,placement:n,rects:o,platform:i,elements:l,middlewareData:c}=s,{element:u,padding:d=0}=pn(t,s)||{};if(u==null)return{};const h=hE(d),x={x:a,y:r},f=db(n),g=cb(f),p=await i.getDimensions(u),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",j=y?"clientHeight":"clientWidth",w=o.reference[g]+o.reference[f]-x[f]-o.floating[g],N=x[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=E?E[j]:0;(!A||!await(i.isElement==null?void 0:i.isElement(E)))&&(A=l.floating[j]||o.floating[g]);const P=w/2-N/2,z=A/2-p[g]/2-1,T=oo(h[v],z),k=oo(h[b],z),L=T,U=A-p[g]-k,Y=A/2-p[g]/2+P,K=Bg(L,Y,U),F=!c.arrow&&$l(n)!=null&&Y!==K&&o.reference[g]/2-(Y<L?T:k)-p[g]/2<0,O=F?Y<L?Y-L:Y-U:0;return{[f]:x[f]+O,data:{[f]:K,centerOffset:Y-K-O,...F&&{alignmentOffset:O}},reset:F}}}),__=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,r;const{placement:n,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=s,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=pn(t,s);if((a=o.arrow)!=null&&a.alignmentOffset)return{};const v=gn(n),b=lo(l),j=gn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=x||(j||!p?[ch(l)]:R_(l)),E=g!=="none";!x&&E&&N.push(...I_(l,p,g,w));const A=[l,...N],P=await gd(s,y),z=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&z.push(P[v]),h){const Y=T_(n,i,w);z.push(P[Y[0]],P[Y[1]])}if(T=[...T,{placement:n,overflows:z}],!z.every(Y=>Y<=0)){var k,L;const Y=(((k=o.flip)==null?void 0:k.index)||0)+1,K=A[Y];if(K)return{data:{index:Y,overflows:T},reset:{placement:K}};let F=(L=T.filter(O=>O.overflows[0]<=0).sort((O,S)=>O.overflows[1]-S.overflows[1])[0])==null?void 0:L.placement;if(!F)switch(f){case"bestFit":{var U;const O=(U=T.filter(S=>{if(E){const $=lo(S.placement);return $===b||$==="y"}return!0}).map(S=>[S.placement,S.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((S,$)=>S[1]-$[1])[0])==null?void 0:U[0];O&&(F=O);break}case"initialPlacement":F=l;break}if(n!==F)return{reset:{placement:F}}}return{}}}};function ew(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function tw(t){return A_.some(s=>t[s]>=0)}const L_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:r="referenceHidden",...n}=pn(t,s);switch(r){case"referenceHidden":{const o=await gd(s,{...n,elementContext:"reference"}),i=ew(o,a.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:tw(i)}}}case"escaped":{const o=await gd(s,{...n,altBoundary:!0}),i=ew(o,a.floating);return{data:{escapedOffsets:i,escaped:tw(i)}}}default:return{}}}}};async function $_(t,s){const{placement:a,platform:r,elements:n}=t,o=await(r.isRTL==null?void 0:r.isRTL(n.floating)),i=gn(a),l=$l(a),c=lo(a)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,h=pn(s,t);let{mainAxis:x,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*d,y:x*u}:{x:x*u,y:f*d}}const V_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,r;const{x:n,y:o,placement:i,middlewareData:l}=s,c=await $_(s,t);return i===((a=l.offset)==null?void 0:a.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:n+c.x,y:o+c.y,data:{...c,placement:i}}}}},G_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:r,placement:n}=s,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=pn(t,s),u={x:a,y:r},d=await gd(s,c),h=lo(gn(n)),x=lb(h);let f=u[x],g=u[h];if(o){const y=x==="y"?"top":"left",v=x==="y"?"bottom":"right",b=f+d[y],j=f-d[v];f=Bg(b,f,j)}if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=g+d[y],j=g-d[v];g=Bg(b,g,j)}const p=l.fn({...s,[x]:f,[h]:g});return{...p,data:{x:p.x-a,y:p.y-r,enabled:{[x]:o,[h]:i}}}}}},B_=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:r,placement:n,rects:o,middlewareData:i}=s,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pn(t,s),d={x:a,y:r},h=lo(n),x=lb(h);let f=d[x],g=d[h];const p=pn(l,s),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=x==="y"?"height":"width",w=o.reference[x]-o.floating[j]+y.mainAxis,N=o.reference[x]+o.reference[j]-y.mainAxis;f<w?f=w:f>N&&(f=N)}if(u){var v,b;const j=x==="y"?"width":"height",w=["top","left"].includes(gn(n)),N=o.reference[h]-o.floating[j]+(w&&((v=i.offset)==null?void 0:v[h])||0)+(w?0:y.crossAxis),E=o.reference[h]+o.reference[j]+(w?0:((b=i.offset)==null?void 0:b[h])||0)-(w?y.crossAxis:0);g<N?g=N:g>E&&(g=E)}return{[x]:f,[h]:g}}}},U_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,r;const{placement:n,rects:o,platform:i,elements:l}=s,{apply:c=()=>{},...u}=pn(t,s),d=await gd(s,u),h=gn(n),x=$l(n),f=lo(n)==="y",{width:g,height:p}=o.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=x===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,y=x==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=g-d.left-d.right,w=oo(p-d[y],b),N=oo(g-d[v],j),E=!s.middlewareData.shift;let A=w,P=N;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(P=j),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(A=b),E&&!x){const T=ka(d.left,0),k=ka(d.right,0),L=ka(d.top,0),U=ka(d.bottom,0);f?P=g-2*(T!==0||k!==0?T+k:ka(d.left,d.right)):A=p-2*(L!==0||U!==0?L+U:ka(d.top,d.bottom))}await c({...s,availableWidth:P,availableHeight:A});const z=await i.getDimensions(l.floating);return g!==z.width||p!==z.height?{reset:{rects:!0}}:{}}}};function mx(){return typeof window<"u"}function Vl(t){return xE(t)?(t.nodeName||"").toLowerCase():"#document"}function Ia(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Xr(t){var s;return(s=(xE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function xE(t){return mx()?t instanceof Node||t instanceof Ia(t).Node:!1}function jr(t){return mx()?t instanceof Element||t instanceof Ia(t).Element:!1}function qr(t){return mx()?t instanceof HTMLElement||t instanceof Ia(t).HTMLElement:!1}function sw(t){return!mx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ia(t).ShadowRoot}function Gd(t){const{overflow:s,overflowX:a,overflowY:r,display:n}=yr(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+a)&&!["inline","contents"].includes(n)}function H_(t){return["table","td","th"].includes(Vl(t))}function hx(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function ub(t){const s=mb(),a=jr(t)?yr(t):t;return a.transform!=="none"||a.perspective!=="none"||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(a.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(a.contain||"").includes(r))}function W_(t){let s=co(t);for(;qr(s)&&!jl(s);){if(ub(s))return s;if(hx(s))return null;s=co(s)}return null}function mb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jl(t){return["html","body","#document"].includes(Vl(t))}function yr(t){return Ia(t).getComputedStyle(t)}function xx(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function co(t){if(Vl(t)==="html")return t;const s=t.assignedSlot||t.parentNode||sw(t)&&t.host||Xr(t);return sw(s)?s.host:s}function fE(t){const s=co(t);return jl(s)?t.ownerDocument?t.ownerDocument.body:t.body:qr(s)&&Gd(s)?s:fE(s)}function vd(t,s,a){var r;s===void 0&&(s=[]),a===void 0&&(a=!0);const n=fE(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),i=Ia(n);if(o){const l=Hg(i);return s.concat(i,i.visualViewport||[],Gd(n)?n:[],l&&a?vd(l):[])}return s.concat(n,vd(n,[],a))}function Hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pE(t){const s=yr(t);let a=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const n=qr(t),o=n?t.offsetWidth:a,i=n?t.offsetHeight:r,l=lh(a)!==o||lh(r)!==i;return l&&(a=o,r=i),{width:a,height:r,$:l}}function hb(t){return jr(t)?t:t.contextElement}function Xi(t){const s=hb(t);if(!qr(s))return io(1);const a=s.getBoundingClientRect(),{width:r,height:n,$:o}=pE(s);let i=(o?lh(a.width):a.width)/r,l=(o?lh(a.height):a.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const q_=io(0);function gE(t){const s=Ia(t);return!mb()||!s.visualViewport?q_:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Y_(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==Ia(t)?!1:s}function ri(t,s,a,r){s===void 0&&(s=!1),a===void 0&&(a=!1);const n=t.getBoundingClientRect(),o=hb(t);let i=io(1);s&&(r?jr(r)&&(i=Xi(r)):i=Xi(t));const l=Y_(o,a,r)?gE(o):io(0);let c=(n.left+l.x)/i.x,u=(n.top+l.y)/i.y,d=n.width/i.x,h=n.height/i.y;if(o){const x=Ia(o),f=r&&jr(r)?Ia(r):r;let g=x,p=Hg(g);for(;p&&r&&f!==g;){const y=Xi(p),v=p.getBoundingClientRect(),b=yr(p),j=v.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,w=v.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=j,u+=w,g=Ia(p),p=Hg(g)}}return dh({width:d,height:h,x:c,y:u})}function K_(t){let{elements:s,rect:a,offsetParent:r,strategy:n}=t;const o=n==="fixed",i=Xr(r),l=s?hx(s.floating):!1;if(r===i||l&&o)return a;let c={scrollLeft:0,scrollTop:0},u=io(1);const d=io(0),h=qr(r);if((h||!h&&!o)&&((Vl(r)!=="body"||Gd(i))&&(c=xx(r)),qr(r))){const x=ri(r);u=Xi(r),d.x=x.x+r.clientLeft,d.y=x.y+r.clientTop}return{width:a.width*u.x,height:a.height*u.y,x:a.x*u.x-c.scrollLeft*u.x+d.x,y:a.y*u.y-c.scrollTop*u.y+d.y}}function X_(t){return Array.from(t.getClientRects())}function Wg(t,s){const a=xx(t).scrollLeft;return s?s.left+a:ri(Xr(t)).left+a}function J_(t){const s=Xr(t),a=xx(t),r=t.ownerDocument.body,n=ka(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),o=ka(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let i=-a.scrollLeft+Wg(t);const l=-a.scrollTop;return yr(r).direction==="rtl"&&(i+=ka(s.clientWidth,r.clientWidth)-n),{width:n,height:o,x:i,y:l}}function Q_(t,s){const a=Ia(t),r=Xr(t),n=a.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(n){o=n.width,i=n.height;const u=mb();(!u||u&&s==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:o,height:i,x:l,y:c}}function Z_(t,s){const a=ri(t,!0,s==="fixed"),r=a.top+t.clientTop,n=a.left+t.clientLeft,o=qr(t)?Xi(t):io(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=n*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function aw(t,s,a){let r;if(s==="viewport")r=Q_(t,a);else if(s==="document")r=J_(Xr(t));else if(jr(s))r=Z_(s,a);else{const n=gE(t);r={...s,x:s.x-n.x,y:s.y-n.y}}return dh(r)}function vE(t,s){const a=co(t);return a===s||!jr(a)||jl(a)?!1:yr(a).position==="fixed"||vE(a,s)}function e8(t,s){const a=s.get(t);if(a)return a;let r=vd(t,[],!1).filter(l=>jr(l)&&Vl(l)!=="body"),n=null;const o=yr(t).position==="fixed";let i=o?co(t):t;for(;jr(i)&&!jl(i);){const l=yr(i),c=ub(i);!c&&l.position==="fixed"&&(n=null),(o?!c&&!n:!c&&l.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Gd(i)&&!c&&vE(t,i))?r=r.filter(d=>d!==i):n=l,i=co(i)}return s.set(t,r),r}function t8(t){let{element:s,boundary:a,rootBoundary:r,strategy:n}=t;const i=[...a==="clippingAncestors"?hx(s)?[]:e8(s,this._c):[].concat(a),r],l=i[0],c=i.reduce((u,d)=>{const h=aw(s,d,n);return u.top=ka(h.top,u.top),u.right=oo(h.right,u.right),u.bottom=oo(h.bottom,u.bottom),u.left=ka(h.left,u.left),u},aw(s,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s8(t){const{width:s,height:a}=pE(t);return{width:s,height:a}}function a8(t,s,a){const r=qr(s),n=Xr(s),o=a==="fixed",i=ri(t,!0,o,s);let l={scrollLeft:0,scrollTop:0};const c=io(0);if(r||!r&&!o)if((Vl(s)!=="body"||Gd(n))&&(l=xx(s)),r){const f=ri(s,!0,o,s);c.x=f.x+s.clientLeft,c.y=f.y+s.clientTop}else n&&(c.x=Wg(n));let u=0,d=0;if(n&&!r&&!o){const f=n.getBoundingClientRect();d=f.top+l.scrollTop,u=f.left+l.scrollLeft-Wg(n,f)}const h=i.left+l.scrollLeft-c.x-u,x=i.top+l.scrollTop-c.y-d;return{x:h,y:x,width:i.width,height:i.height}}function Wf(t){return yr(t).position==="static"}function rw(t,s){if(!qr(t)||yr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Xr(t)===a&&(a=a.ownerDocument.body),a}function bE(t,s){const a=Ia(t);if(hx(t))return a;if(!qr(t)){let n=co(t);for(;n&&!jl(n);){if(jr(n)&&!Wf(n))return n;n=co(n)}return a}let r=rw(t,s);for(;r&&H_(r)&&Wf(r);)r=rw(r,s);return r&&jl(r)&&Wf(r)&&!ub(r)?a:r||W_(t)||a}const r8=async function(t){const s=this.getOffsetParent||bE,a=this.getDimensions,r=await a(t.floating);return{reference:a8(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n8(t){return yr(t).direction==="rtl"}const o8={convertOffsetParentRelativeRectToViewportRelativeRect:K_,getDocumentElement:Xr,getClippingRect:t8,getOffsetParent:bE,getElementRects:r8,getClientRects:X_,getDimensions:s8,getScale:Xi,isElement:jr,isRTL:n8};function i8(t,s){let a=null,r;const n=Xr(t);function o(){var l;clearTimeout(r),(l=a)==null||l.disconnect(),a=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:h,height:x}=t.getBoundingClientRect();if(l||s(),!h||!x)return;const f=zu(d),g=zu(n.clientWidth-(u+h)),p=zu(n.clientHeight-(d+x)),y=zu(u),b={rootMargin:-f+"px "+-g+"px "+-p+"px "+-y+"px",threshold:ka(0,oo(1,c))||1};let j=!0;function w(N){const E=N[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j=!1}try{a=new IntersectionObserver(w,{...b,root:n.ownerDocument})}catch{a=new IntersectionObserver(w,b)}a.observe(t)}return i(!0),o}function l8(t,s,a,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=hb(t),d=n||o?[...u?vd(u):[],...vd(s)]:[];d.forEach(v=>{n&&v.addEventListener("scroll",a,{passive:!0}),o&&v.addEventListener("resize",a)});const h=u&&l?i8(u,a):null;let x=-1,f=null;i&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&f&&(f.unobserve(s),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=f)==null||j.observe(s)})),a()}),u&&!c&&f.observe(u),f.observe(s));let g,p=c?ri(t):null;c&&y();function y(){const v=ri(t);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&a(),p=v,g=requestAnimationFrame(y)}return a(),()=>{var v;d.forEach(b=>{n&&b.removeEventListener("scroll",a),o&&b.removeEventListener("resize",a)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const c8=V_,d8=G_,u8=__,m8=U_,h8=L_,nw=F_,x8=B_,f8=(t,s,a)=>{const r=new Map,n={platform:o8,...a},o={...n.platform,_c:r};return z_(t,s,{...n,platform:o})};var xm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function uh(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,r,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(r=a;r--!==0;)if(!uh(t[r],s[r]))return!1;return!0}if(n=Object.keys(t),a=n.length,a!==Object.keys(s).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(s,n[r]))return!1;for(r=a;r--!==0;){const o=n[r];if(!(o==="_owner"&&t.$$typeof)&&!uh(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function jE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ow(t,s){const a=jE(t);return Math.round(s*a)/a}function qf(t){const s=m.useRef(t);return xm(()=>{s.current=t}),s}function p8(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=m.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[x,f]=m.useState(r);uh(x,r)||f(r);const[g,p]=m.useState(null),[y,v]=m.useState(null),b=m.useCallback(S=>{S!==E.current&&(E.current=S,p(S))},[]),j=m.useCallback(S=>{S!==A.current&&(A.current=S,v(S))},[]),w=o||g,N=i||y,E=m.useRef(null),A=m.useRef(null),P=m.useRef(d),z=c!=null,T=qf(c),k=qf(n),L=qf(u),U=m.useCallback(()=>{if(!E.current||!A.current)return;const S={placement:s,strategy:a,middleware:x};k.current&&(S.platform=k.current),f8(E.current,A.current,S).then($=>{const H={...$,isPositioned:L.current!==!1};Y.current&&!uh(P.current,H)&&(P.current=H,Ka.flushSync(()=>{h(H)}))})},[x,s,a,k,L]);xm(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[u]);const Y=m.useRef(!1);xm(()=>(Y.current=!0,()=>{Y.current=!1}),[]),xm(()=>{if(w&&(E.current=w),N&&(A.current=N),w&&N){if(T.current)return T.current(w,N,U);U()}},[w,N,U,T,z]);const K=m.useMemo(()=>({reference:E,floating:A,setReference:b,setFloating:j}),[b,j]),F=m.useMemo(()=>({reference:w,floating:N}),[w,N]),O=m.useMemo(()=>{const S={position:a,left:0,top:0};if(!F.floating)return S;const $=ow(F.floating,d.x),H=ow(F.floating,d.y);return l?{...S,transform:"translate("+$+"px, "+H+"px)",...jE(F.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:$,top:H}},[a,l,F.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:U,refs:K,elements:F,floatingStyles:O}),[d,U,K,F,O])}const g8=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:r,padding:n}=typeof t=="function"?t(a):t;return r&&s(r)?r.current!=null?nw({element:r.current,padding:n}).fn(a):{}:r?nw({element:r,padding:n}).fn(a):{}}}},v8=(t,s)=>({...c8(t),options:[t,s]}),b8=(t,s)=>({...d8(t),options:[t,s]}),j8=(t,s)=>({...x8(t),options:[t,s]}),y8=(t,s)=>({...u8(t),options:[t,s]}),N8=(t,s)=>({...m8(t),options:[t,s]}),w8=(t,s)=>({...h8(t),options:[t,s]}),C8=(t,s)=>({...g8(t),options:[t,s]});var S8="Arrow",yE=m.forwardRef((t,s)=>{const{children:a,width:r=10,height:n=5,...o}=t;return e.jsx(Ve.svg,{...o,ref:s,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});yE.displayName=S8;var E8=yE;function P8(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...g}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,A8(n,...s)]}function A8(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var xb="Popper",[NE,No]=P8(xb),[D8,wE]=NE(xb),CE=t=>{const{__scopePopper:s,children:a}=t,[r,n]=m.useState(null);return e.jsx(D8,{scope:s,anchor:r,onAnchorChange:n,children:a})};CE.displayName=xb;var SE="PopperAnchor",EE=m.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:r,...n}=t,o=wE(SE,a),i=m.useRef(null),l=ot(s,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:e.jsx(Ve.div,{...n,ref:l})});EE.displayName=SE;var fb="PopperContent",[k8,T8]=NE(fb),PE=m.forwardRef((t,s)=>{var ae,be,xe,ne,Ae,ye;const{__scopePopper:a,side:r="bottom",sideOffset:n=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=t,y=wE(fb,a),[v,b]=m.useState(null),j=ot(s,Be=>b(Be)),[w,N]=m.useState(null),E=ux(w),A=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,z=r+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],L=k.length>0,U={padding:T,boundary:k.filter(M8),altBoundary:L},{refs:Y,floatingStyles:K,placement:F,isPositioned:O,middlewareData:S}=p8({strategy:"fixed",placement:z,whileElementsMounted:(...Be)=>l8(...Be,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[v8({mainAxis:n+P,alignmentAxis:i}),c&&b8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?j8():void 0,...U}),c&&y8({...U}),N8({...U,apply:({elements:Be,rects:de,availableWidth:Te,availableHeight:Pe})=>{const{width:D,height:M}=de.reference,q=Be.floating.style;q.setProperty("--radix-popper-available-width",`${Te}px`),q.setProperty("--radix-popper-available-height",`${Pe}px`),q.setProperty("--radix-popper-anchor-width",`${D}px`),q.setProperty("--radix-popper-anchor-height",`${M}px`)}}),w&&C8({element:w,padding:l}),I8({arrowWidth:A,arrowHeight:P}),x&&w8({strategy:"referenceHidden",...U})]}),[$,H]=kE(F),J=as(g);Ps(()=>{O&&(J==null||J())},[O,J]);const re=(ae=S.arrow)==null?void 0:ae.x,le=(be=S.arrow)==null?void 0:be.y,we=((xe=S.arrow)==null?void 0:xe.centerOffset)!==0,[ke,he]=m.useState();return Ps(()=>{v&&he(window.getComputedStyle(v).zIndex)},[v]),e.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(ne=S.transformOrigin)==null?void 0:ne.x,(Ae=S.transformOrigin)==null?void 0:Ae.y].join(" "),...((ye=S.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(k8,{scope:a,placedSide:$,onArrowChange:N,arrowX:re,arrowY:le,shouldHideArrow:we,children:e.jsx(Ve.div,{"data-side":$,"data-align":H,...p,ref:j,style:{...p.style,animation:O?void 0:"none"}})})})});PE.displayName=fb;var AE="PopperArrow",R8={top:"bottom",right:"left",bottom:"top",left:"right"},DE=m.forwardRef(function(s,a){const{__scopePopper:r,...n}=s,o=T8(AE,r),i=R8[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(E8,{...n,ref:a,style:{...n.style,display:"block"}})})});DE.displayName=AE;function M8(t){return t!==null}var I8=t=>({name:"transformOrigin",options:t,fn(s){var y,v,b;const{placement:a,rects:r,middlewareData:n}=s,i=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=kE(a),h={start:"0%",center:"50%",end:"100%"}[d],x=(((v=n.arrow)==null?void 0:v.x)??0)+l/2,f=(((b=n.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?h:`${x}px`,p=`${-c}px`):u==="top"?(g=i?h:`${x}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?h:`${f}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=i?h:`${f}px`),{data:{x:g,y:p}}}});function kE(t){const[s,a="center"]=t.split("-");return[s,a]}var fx=CE,Bd=EE,px=PE,gx=DE,O8="Portal",Gl=m.forwardRef((t,s)=>{var l;const{container:a,...r}=t,[n,o]=m.useState(!1);Ps(()=>o(!0),[]);const i=a||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?l4.createPortal(e.jsx(Ve.div,{...r,ref:s}),i):null});Gl.displayName=O8;var z8=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(F8);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(qg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(qg,{...r,ref:s,children:a})});z8.displayName="Slot";var qg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=L8(a);return m.cloneElement(a,{..._8(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});qg.displayName="SlotClone";var TE=({children:t})=>e.jsx(e.Fragment,{children:t});function F8(t){return m.isValidElement(t)&&t.type===TE}function _8(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function L8(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var $8="VisuallyHidden",Ud=m.forwardRef((t,s)=>e.jsx(Ve.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ud.displayName=$8;var V8=Ud,[vx,rae]=ua("Tooltip",[No]),bx=No(),RE="TooltipProvider",G8=700,Yg="tooltip.open",[B8,pb]=vx(RE),ME=t=>{const{__scopeTooltip:s,delayDuration:a=G8,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:o}=t,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),e.jsx(B8,{scope:s,isOpenDelayed:i,delayDuration:a,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:n,children:o})};ME.displayName=RE;var jx="Tooltip",[U8,yx]=vx(jx),IE=t=>{const{__scopeTooltip:s,children:a,open:r,defaultOpen:n=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=t,c=pb(jx,t.__scopeTooltip),u=bx(s),[d,h]=m.useState(null),x=oa(),f=m.useRef(0),g=i??c.disableHoverableContent,p=l??c.delayDuration,y=m.useRef(!1),[v=!1,b]=Qs({prop:r,defaultProp:n,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(Yg))):c.onClose(),o==null||o(A)}}),j=m.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),w=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,b(!0)},[b]),N=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),E=m.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,b(!0),f.current=0},p)},[p,b]);return m.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),e.jsx(fx,{...u,children:e.jsx(U8,{scope:s,contentId:x,open:v,stateAttribute:j,trigger:d,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?E():w()},[c.isOpenDelayed,E,w]),onTriggerLeave:m.useCallback(()=>{g?N():(window.clearTimeout(f.current),f.current=0)},[N,g]),onOpen:w,onClose:N,disableHoverableContent:g,children:a})})};IE.displayName=jx;var Kg="TooltipTrigger",OE=m.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=yx(Kg,a),o=pb(Kg,a),i=bx(a),l=m.useRef(null),c=ot(s,l,n.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(Bd,{asChild:!0,...i,children:e.jsx(Ve.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:c,onPointerMove:Ee(t.onPointerMove,x=>{x.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||n.onOpen()}),onBlur:Ee(t.onBlur,n.onClose),onClick:Ee(t.onClick,n.onClose)})})});OE.displayName=Kg;var H8="TooltipPortal",[nae,W8]=vx(H8,{forceMount:void 0}),yl="TooltipContent",zE=m.forwardRef((t,s)=>{const a=W8(yl,t.__scopeTooltip),{forceMount:r=a.forceMount,side:n="top",...o}=t,i=yx(yl,t.__scopeTooltip);return e.jsx(Ms,{present:r||i.open,children:i.disableHoverableContent?e.jsx(FE,{side:n,...o,ref:s}):e.jsx(q8,{side:n,...o,ref:s})})}),q8=m.forwardRef((t,s)=>{const a=yx(yl,t.__scopeTooltip),r=pb(yl,t.__scopeTooltip),n=m.useRef(null),o=ot(s,n),[i,l]=m.useState(null),{trigger:c,onClose:u}=a,d=n.current,{onPointerInTransitChange:h}=r,x=m.useCallback(()=>{l(null),h(!1)},[h]),f=m.useCallback((g,p)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},b=J8(v,y.getBoundingClientRect()),j=Q8(v,b),w=Z8(p.getBoundingClientRect()),N=tL([...j,...w]);l(N),h(!0)},[h]);return m.useEffect(()=>()=>x(),[x]),m.useEffect(()=>{if(c&&d){const g=y=>f(y,d),p=y=>f(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,f,x]),m.useEffect(()=>{if(i){const g=p=>{const y=p.target,v={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!eL(v,i);b?x():j&&(x(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,x]),e.jsx(FE,{...t,ref:o})}),[Y8,K8]=vx(jx,{isInside:!1}),FE=m.forwardRef((t,s)=>{const{__scopeTooltip:a,children:r,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=yx(yl,a),u=bx(a),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Yg,d),()=>document.removeEventListener(Yg,d)),[d]),m.useEffect(()=>{if(c.trigger){const h=x=>{const f=x.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),e.jsx(ui,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:e.jsxs(px,{"data-state":c.stateAttribute,...u,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(TE,{children:r}),e.jsx(Y8,{scope:a,isInside:!0,children:e.jsx(V8,{id:c.contentId,role:"tooltip",children:n||r})})]})})});zE.displayName=yl;var _E="TooltipArrow",X8=m.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=bx(a);return K8(_E,a).isInside?null:e.jsx(gx,{...n,...r,ref:s})});X8.displayName=_E;function J8(t,s){const a=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(a,r,n,o)){case o:return"left";case n:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Q8(t,s,a=5){const r=[];switch(s){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function Z8(t){const{top:s,right:a,bottom:r,left:n}=t;return[{x:n,y:s},{x:a,y:s},{x:a,y:r},{x:n,y:r}]}function eL(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o].x,c=s[o].y,u=s[i].x,d=s[i].y;c>r!=d>r&&a<(u-l)*(r-c)/(d-c)+l&&(n=!n)}return n}function tL(t){const s=t.slice();return s.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),sL(s)}function sL(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const n=t[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}s.pop();const a=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;a.length>=2;){const o=a[a.length-1],i=a[a.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))a.pop();else break}a.push(n)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var aL=ME,rL=IE,nL=OE,LE=zE;const Rt=aL,Pt=rL,At=nL,St=m.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(LE,{ref:r,sideOffset:s,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));St.displayName=LE.displayName;var gb="Avatar",[oL,oae]=ua(gb),[iL,$E]=oL(gb),VE=m.forwardRef((t,s)=>{const{__scopeAvatar:a,...r}=t,[n,o]=m.useState("idle");return e.jsx(iL,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:e.jsx(Ve.span,{...r,ref:s})})});VE.displayName=gb;var GE="AvatarImage",BE=m.forwardRef((t,s)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...o}=t,i=$E(GE,a),l=lL(r,o.referrerPolicy),c=as(u=>{n(u),i.onImageLoadingStatusChange(u)});return Ps(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(Ve.img,{...o,ref:s,src:r}):null});BE.displayName=GE;var UE="AvatarFallback",HE=m.forwardRef((t,s)=>{const{__scopeAvatar:a,delayMs:r,...n}=t,o=$E(UE,a),[i,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?e.jsx(Ve.span,{...n,ref:s}):null});HE.displayName=UE;function lL(t,s){const[a,r]=m.useState("idle");return Ps(()=>{if(!t){r("error");return}let n=!0;const o=new window.Image,i=l=>()=>{n&&r(l)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,s&&(o.referrerPolicy=s),()=>{n=!1}},[t,s]),a}var WE=VE,qE=BE,YE=HE;const hr=m.forwardRef(({className:t,...s},a)=>e.jsx(WE,{ref:a,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));hr.displayName=WE.displayName;const xr=m.forwardRef(({className:t,...s},a)=>e.jsx(qE,{ref:a,className:je("aspect-square h-full w-full",t),...s}));xr.displayName=qE.displayName;const fr=m.forwardRef(({className:t,...s},a)=>e.jsx(YE,{ref:a,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));fr.displayName=YE.displayName;const KE=m.createContext(void 0),vb=[{_id:"1",name:"Administrador da Plataforma",permissions:["platform.admin","users.manage","roles.manage","invites.manage","organizations.manage","processes.manage","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"2",name:"Administrador da Organização",permissions:["org.admin","users.manage","roles.manage","invites.create","processes.manage","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"3",name:"Gerente de Processos",permissions:["processes.create","processes.edit","processes.view","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"4",name:"Analista",permissions:["processes.view","processes.edit","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"5",name:"Visualizador",permissions:["processes.view","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],bd=[{_id:"1",email:"lara.fraguas@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",gerencia:"GSP - Gerência de Soluções e Projetos"},{_id:"2",email:"diran.rodrigues@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"GRH - Gerência de Recursos Humanos"},{_id:"3",email:"georgia.guimaraes@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"GUE - Gerência de Urgência e Emergência"},{_id:"4",email:"yasmin.pissolati@hospital.gov.br",password:"hashed_password",orgs:[{role:"1",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!0,nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{_id:"5",email:"guilherme.carvalho@hospital.gov.br",password:"hashed_password",orgs:[{role:"3",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Guilherme de Carvalho Silva",cargo:"Gerente de Licitações",gerencia:"GLC - Gerência de Licitações"},{_id:"6",email:"lucas.moreira@hospital.gov.br",password:"hashed_password",orgs:[{role:"3",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Lucas Moreira Brito",cargo:"Gerente de Recursos Humanos",gerencia:"GRH - Gerência de Recursos Humanos"},{_id:"7",email:"andressa.sterfany@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",gerencia:"GUE - Gerência de Urgência e Emergência"},{_id:"8",email:"leticia.bonfim@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações",gerencia:"GLC - Gerência de Licitações"},{_id:"9",email:"dallas.kelson@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira"},{_id:"10",email:"gabriel.radamesis@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",gerencia:"NAJ - Assessoria Jurídica"},{_id:"11",email:"usuario.sem.org@hospital.gov.br",password:"hashed_password",orgs:[],isActive:!0,isPlatformAdmin:!1,nome:"Usuário Sem Organização",cargo:"Analista",gerencia:"GLC - Gerência de Licitações"},{_id:"12",email:"novo.usuario@hospital.gov.br",password:"hashed_password",orgs:[],isActive:!0,isPlatformAdmin:!1,nome:"Novo Usuário",cargo:"Consultor",gerencia:"GFC - Gerência Financeira"}];function cL({children:t}){const[s,a]=m.useState(bd[3]),n={user:s,setUser:a,isAuthenticated:!!s,acceptInvite:async(o,i)=>{try{await new Promise(d=>setTimeout(d,1e3));const c=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()}].find(d=>d.token===o);if(!c||!vb.find(d=>d._id===c.role))return!1;if(s){const d={...s,nome:i.nome||s.nome,email:i.email||s.email,cargo:i.cargo||s.cargo,gerencia:i.gerencia||s.gerencia,orgs:[...s.orgs,{role:c.role,isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}]};a(d)}return!0}catch(l){return console.error("Erro ao aceitar convite:",l),!1}}};return e.jsx(KE.Provider,{value:n,children:t})}function Dt(){const t=m.useContext(KE);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}const dL=1,uL=1e6;let Yf=0;function mL(){return Yf=(Yf+1)%Number.MAX_SAFE_INTEGER,Yf.toString()}const Kf=new Map,iw=t=>{if(Kf.has(t))return;const s=setTimeout(()=>{Kf.delete(t),Oc({type:"REMOVE_TOAST",toastId:t})},uL);Kf.set(t,s)},hL=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,dL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?iw(a):t.toasts.forEach(r=>{iw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},fm=[];let pm={toasts:[]};function Oc(t){pm=hL(pm,t),fm.forEach(s=>{s(pm)})}function yt({...t}){const s=mL(),a=n=>Oc({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>Oc({type:"DISMISS_TOAST",toastId:s});return Oc({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function Kt(){const[t,s]=m.useState(pm);return m.useEffect(()=>(fm.push(s),()=>{const a=fm.indexOf(s);a>-1&&fm.splice(a,1)}),[t]),{...t,toast:yt,dismiss:a=>Oc({type:"DISMISS_TOAST",toastId:a})}}const fi={label:"Início",icon:e.jsx(sb,{className:"w-5 h-5"}),path:"/",description:"Painel inicial do sistema"},xL=[{label:"Planejamento da Contratação",icon:e.jsx(nh,{className:"w-5 h-5"}),path:"/planejamento-da-contratacao",description:"Organize todas as fases da contratação"},{label:"Gestão Contratual",icon:e.jsx(qt,{className:"w-5 h-5"}),path:"/gestao-contratual",description:"Gerencie contratos e documentos",disabled:!0},{label:"Execução Contratual",icon:e.jsx(th,{className:"w-5 h-5"}),path:"/execucao-contratual",description:"Monitore a execução do contrato",disabled:!0},{label:"Processo Licitatório",icon:e.jsx($4,{className:"w-5 h-5"}),path:"/processo-licitatorio",description:"Acompanhe o processo licitatório",disabled:!0},{label:"Relatórios",icon:e.jsx(Zv,{className:"w-5 h-5"}),path:"/relatorios",description:"Visualize dados estratégicos",disabled:!0},{label:"Configurações do Fluxo",icon:e.jsx(Ft,{className:"w-5 h-5"}),path:"/configuracoes-fluxo",description:"Personalize o fluxo de trabalho",disabled:!0}];function fL({open:t,onClose:s}){const a=fs(),r=sr(),{user:n}=Dt();Z.useEffect(()=>{function c(u){u.key==="Escape"&&s()}return t&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,s]);const o=c=>{if(c.disabled){yt({title:"Módulo em Desenvolvimento",description:`O módulo "${c.label}" estará disponível em breve.`,variant:"default"});return}c.restricted,a(c.path),s()},i=c=>r.pathname===c||c==="/"&&r.pathname==="/"||c==="/planejamento-da-contratacao"&&r.pathname==="/planejamento-da-contratacao"||c==="/administracao"&&r.pathname==="/administracao",l=c=>r.pathname===c;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-200 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),e.jsxs("aside",{className:`fixed top-0 left-0 h-screen w-80 bg-white shadow-lg z-50 flex flex-col transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full"}`,tabIndex:-1,children:[e.jsxs("div",{className:"flex items-center justify-center h-16 px-6 border-b border-gray-200 bg-gray-50 relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:pd,className:"w-8 h-8",alt:"Logo Fiscatus"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Fiscatus"})]}),e.jsx("button",{onClick:s,className:"absolute right-4 p-2 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Fechar sidebar",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx("div",{className:"px-4 mb-6",children:e.jsxs("button",{onClick:()=>o(fi),className:`w-full flex items-start gap-3 px-6 py-3 text-left transition-all duration-200 group ${l(fi.path)?"bg-blue-50 border-l-4 border-blue-600 text-blue-700":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent hover:border-gray-300"} cursor-pointer`,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${l(fi.path)?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:fi.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"block font-medium leading-tight",children:fi.label}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:fi.description})]})]})}),e.jsx("div",{className:"px-4 mb-4",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Módulos do Sistema"})}),xL.map((c,u)=>e.jsxs("button",{onClick:()=>o(c),className:`w-full flex items-start gap-3 px-6 py-3 text-left transition-all duration-200 group ${i(c.path)?"bg-blue-50 border-l-4 border-blue-600 text-blue-700":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent hover:border-gray-300"} ${c.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,disabled:c.disabled,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i(c.path)?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:c.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`block font-medium leading-tight ${c.disabled?"text-gray-400":""}`,children:c.label}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:c.description})]}),c.disabled&&e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0 mt-0.5",children:"Em breve"})]},c.label))]}),(n==null?void 0:n.gerencia)==="Comissão de Implantação"&&e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Acesso Rápido"})}),e.jsxs("button",{onClick:()=>o({label:"Administração",icon:e.jsx(Ca,{className:"w-4 h-4"}),path:"/administracao",description:"Painel de administração"}),className:`w-full flex items-start gap-3 px-4 py-3 text-left transition-all duration-200 group rounded-lg ${i("/administracao")?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 border border-transparent hover:border-gray-200"} cursor-pointer`,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i("/administracao")?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:e.jsx(Ca,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"block font-medium text-sm leading-tight",children:"Administração"}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:"Painel de administração"})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.jsx("p",{children:"Fiscatus v1.0.0"}),e.jsx("p",{className:"mt-1",children:"Gestão inteligente e integrada para contratações públicas."})]})})]})]})}const XE=[{id:"1",type:"mention",title:"Você foi mencionado",description:"Yasmin Pissolati Mattos Bretz mencionou você em um comentário.",timestamp:"há 30 minutos",isRead:!1,link:"/processo/1#comentario-123",icon:e.jsx(zl,{className:"w-4 h-4"})},{id:"2",type:"signature",title:"Assinatura solicitada",description:"DFD 010/2025 está aguardando sua assinatura",timestamp:"há 2 horas",isRead:!1,link:"/processos/10",icon:e.jsx(ar,{className:"w-4 h-4"})},{id:"3",type:"process",title:"Processo atualizado",description:"ETP 011/2025 foi movido para 'Em andamento'",timestamp:"há 5 horas",isRead:!1,link:"/processos/11",icon:e.jsx($e,{className:"w-4 h-4"})},{id:"3",type:"warning",title:"Prazo próximo",description:"TR 012/2025 vence em 2 dias",timestamp:"ontem",isRead:!0,link:"/processos/12",icon:e.jsx(pt,{className:"w-4 h-4"})},{id:"4",type:"success",title:"Processo concluído",description:"DFD 013/2025 foi finalizado com sucesso",timestamp:"2 dias atrás",isRead:!0,link:"/processos/13",icon:e.jsx(Re,{className:"w-4 h-4"})},{id:"5",type:"info",title:"Nova atribuição",description:"Você foi designado para analisar ETP 014/2025",timestamp:"3 dias atrás",isRead:!0,link:"/processos/14",icon:e.jsx(Fe,{className:"w-4 h-4"})}];function JE({isOpen:t,onClose:s}){const[a,r]=m.useState(XE),[n,o]=m.useState(!1),i=m.useRef(null),l=fs(),c=a.filter(h=>!h.isRead).length;m.useEffect(()=>{const h=x=>{i.current&&!i.current.contains(x.target)&&s()};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t,s]),m.useEffect(()=>{const h=x=>{x.key==="Escape"&&s()};return t&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t,s]);const u=h=>{r(x=>x.map(f=>f.id===h.id?{...f,isRead:!0}:f)),l(h.link),s()},d=h=>{switch(h){case"signature":return e.jsx(ar,{className:"w-4 h-4 text-blue-500"});case"process":return e.jsx($e,{className:"w-4 h-4 text-green-500"});case"warning":return e.jsx(pt,{className:"w-4 h-4 text-orange-500"});case"success":return e.jsx(Re,{className:"w-4 h-4 text-green-600"});case"info":return e.jsx(Fe,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ro,{className:"w-4 h-4 text-gray-500"})}};return t?e.jsx("div",{className:"absolute right-0 mt-2 w-[320px] rounded-lg shadow-xl bg-white border border-gray-200 z-50",children:e.jsxs("div",{ref:i,className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notificações"}),c>0&&e.jsx(oe,{variant:"destructive",className:"text-xs px-2 py-0.5",children:c})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:s,className:"h-6 w-6 p-0 hover:bg-gray-100",children:e.jsx(Yt,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n?e.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full mt-1"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]})]},h))}):a.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(ro,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Você não possui novas notificações."}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Acesse a página de notificações para ver o histórico completo."}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{l("/notificacoes"),s()},className:"text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200",children:["Acessar notificações",e.jsx(Fs,{className:"w-3 h-3 ml-1"})]})]}):e.jsx("div",{className:"p-0",children:a.slice(0,5).map((h,x)=>e.jsx("div",{children:e.jsx("button",{onClick:()=>u(h),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${h.isRead?"":"bg-blue-50"} ${x!==a.length-1?"border-b border-gray-100":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${h.isRead?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d(h.type),e.jsx("p",{className:`text-sm ${h.isRead?"text-gray-700":"text-gray-900 font-semibold"}`,children:h.title})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:h.description}),e.jsx("p",{className:"text-xs text-gray-400",children:h.timestamp})]})]})})},h.id))})}),e.jsx("div",{className:"p-3 border-t border-gray-100",children:e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>{l("/notificacoes"),s()},className:"w-full text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[a.length>0?"Ver todas as notificações":"Acessar página de notificações",e.jsx(Fs,{className:"w-3 h-3 ml-1"})]})})]})}):null}function pL({onClick:t,onDoubleClick:s}){const a=XE.filter(r=>!r.isRead).length;return e.jsx("div",{className:"relative",children:e.jsxs(C,{variant:"ghost",size:"sm",onClick:t,onDoubleClick:s,className:"relative p-2 hover:bg-gray-100 rounded-full",title:a>0?`${a} notificação${a!==1?"s":""} não lida${a!==1?"s":""} (clique duplo para ir à página)`:"Ver notificações (clique duplo para ir à página)",children:[e.jsx(ro,{className:"w-5 h-5 text-gray-600"}),a>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:a>9?"9+":a})]})})}function gL(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...g}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,vL(n,...s)]}function vL(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Xg=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(jL);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Jg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Jg,{...r,ref:s,children:a})});Xg.displayName="Slot";var Jg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=NL(a);return m.cloneElement(a,{...yL(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Jg.displayName="SlotClone";var bL=({children:t})=>e.jsx(e.Fragment,{children:t});function jL(t){return m.isValidElement(t)&&t.type===bL}function yL(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function NL(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Bl(t){const s=t+"CollectionProvider",[a,r]=gL(s),[n,o]=a(s,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:g,children:p}=f,y=Z.useRef(null),v=Z.useRef(new Map).current;return e.jsx(n,{scope:g,itemMap:v,collectionRef:y,children:p})};i.displayName=s;const l=t+"CollectionSlot",c=Z.forwardRef((f,g)=>{const{scope:p,children:y}=f,v=o(l,p),b=ot(g,v.collectionRef);return e.jsx(Xg,{ref:b,children:y})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Z.forwardRef((f,g)=>{const{scope:p,children:y,...v}=f,b=Z.useRef(null),j=ot(g,b),w=o(u,p);return Z.useEffect(()=>(w.itemMap.set(b,{ref:b,...v}),()=>void w.itemMap.delete(b))),e.jsx(Xg,{[d]:"",ref:j,children:y})});h.displayName=u;function x(f){const g=o(t+"CollectionConsumer",f);return Z.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((w,N)=>v.indexOf(w.ref.current)-v.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},x,r]}var wL=m.createContext(void 0);function wo(t){const s=m.useContext(wL);return t||s||"ltr"}var Xf=0;function Nx(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lw()),document.body.insertAdjacentElement("beforeend",t[1]??lw()),Xf++,()=>{Xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Xf--}},[])}function lw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",cw={bubbles:!1,cancelable:!0},CL="FocusScope",Hd=m.forwardRef((t,s)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...i}=t,[l,c]=m.useState(null),u=as(n),d=as(o),h=m.useRef(null),x=ot(s,p=>c(p)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(j){if(f.paused||!l)return;const w=j.target;l.contains(w)?h.current=w:kn(h.current,{select:!0})},y=function(j){if(f.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||kn(h.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&kn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,f.paused]),m.useEffect(()=>{if(l){uw.add(f);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Jf,cw);l.addEventListener(Jf,u),l.dispatchEvent(v),v.defaultPrevented||(SL(kL(QE(l)),{select:!0}),document.activeElement===p&&kn(l))}return()=>{l.removeEventListener(Jf,u),setTimeout(()=>{const v=new CustomEvent(Qf,cw);l.addEventListener(Qf,d),l.dispatchEvent(v),v.defaultPrevented||kn(p??document.body,{select:!0}),l.removeEventListener(Qf,d),uw.remove(f)},0)}}},[l,u,d,f]);const g=m.useCallback(p=>{if(!a&&!r||f.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(y&&v){const b=p.currentTarget,[j,w]=EL(b);j&&w?!p.shiftKey&&v===w?(p.preventDefault(),a&&kn(j,{select:!0})):p.shiftKey&&v===j&&(p.preventDefault(),a&&kn(w,{select:!0})):v===b&&p.preventDefault()}},[a,r,f.paused]);return e.jsx(Ve.div,{tabIndex:-1,...i,ref:x,onKeyDown:g})});Hd.displayName=CL;function SL(t,{select:s=!1}={}){const a=document.activeElement;for(const r of t)if(kn(r,{select:s}),document.activeElement!==a)return}function EL(t){const s=QE(t),a=dw(s,t),r=dw(s.reverse(),t);return[a,r]}function QE(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function dw(t,s){for(const a of t)if(!PL(a,{upTo:s}))return a}function PL(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AL(t){return t instanceof HTMLInputElement&&"select"in t}function kn(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&AL(t)&&s&&t.select()}}var uw=DL();function DL(){let t=[];return{add(s){const a=t[0];s!==a&&(a==null||a.pause()),t=mw(t,s),t.unshift(s)},remove(s){var a;t=mw(t,s),(a=t[0])==null||a.resume()}}}function mw(t,s){const a=[...t],r=a.indexOf(s);return r!==-1&&a.splice(r,1),a}function kL(t){return t.filter(s=>s.tagName!=="A")}function TL(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...g}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,RL(n,...s)]}function RL(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Zf="rovingFocusGroup.onEntryFocus",ML={bubbles:!1,cancelable:!0},wx="RovingFocusGroup",[Qg,ZE,IL]=Bl(wx),[OL,Co]=TL(wx,[IL]),[zL,FL]=OL(wx),eP=m.forwardRef((t,s)=>e.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(_L,{...t,ref:s})})}));eP.displayName=wx;var _L=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,x=m.useRef(null),f=ot(s,x),g=wo(o),[p=null,y]=Qs({prop:i,defaultProp:l,onChange:c}),[v,b]=m.useState(!1),j=as(u),w=ZE(a),N=m.useRef(!1),[E,A]=m.useState(0);return m.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(Zf,j),()=>P.removeEventListener(Zf,j)},[j]),e.jsx(zL,{scope:a,orientation:r,dir:g,loop:n,currentTabStopId:p,onItemFocus:m.useCallback(P=>y(P),[y]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>A(P=>P-1),[]),children:e.jsx(Ve.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{N.current=!0}),onFocus:Ee(t.onFocus,P=>{const z=!N.current;if(P.target===P.currentTarget&&z&&!v){const T=new CustomEvent(Zf,ML);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=w().filter(F=>F.focusable),L=k.find(F=>F.active),U=k.find(F=>F.id===p),K=[L,U,...k].filter(Boolean).map(F=>F.ref.current);aP(K,d)}}N.current=!1}),onBlur:Ee(t.onBlur,()=>b(!1))})})}),tP="RovingFocusGroupItem",sP=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:o,...i}=t,l=oa(),c=o||l,u=FL(tP,a),d=u.currentTabStopId===c,h=ZE(a),{onFocusableItemAdd:x,onFocusableItemRemove:f}=u;return m.useEffect(()=>{if(r)return x(),()=>f()},[r,x,f]),e.jsx(Qg.ItemSlot,{scope:a,id:c,focusable:r,active:n,children:e.jsx(Ve.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:s,onMouseDown:Ee(t.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:Ee(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ee(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=VL(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const b=v.indexOf(g.currentTarget);v=u.loop?GL(v,b+1):v.slice(b+1)}setTimeout(()=>aP(v))}})})})});sP.displayName=tP;var LL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $L(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VL(t,s,a){const r=$L(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LL[r]}function aP(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function GL(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Cx=eP,Sx=sP,rP=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(UL);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Zg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Zg,{...r,ref:s,children:a})});rP.displayName="Slot";var Zg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=WL(a);return m.cloneElement(a,{...HL(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Zg.displayName="SlotClone";var BL=({children:t})=>e.jsx(e.Fragment,{children:t});function UL(t){return m.isValidElement(t)&&t.type===BL}function HL(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function WL(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var qL=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},pi=new WeakMap,Fu=new WeakMap,_u={},ep=0,nP=function(t){return t&&(t.host||nP(t.parentNode))},YL=function(t,s){return s.map(function(a){if(t.contains(a))return a;var r=nP(a);return r&&t.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},KL=function(t,s,a,r){var n=YL(s,Array.isArray(t)?t:[t]);_u[a]||(_u[a]=new WeakMap);var o=_u[a],i=[],l=new Set,c=new Set(n),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};n.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(x){if(l.has(x))d(x);else try{var f=x.getAttribute(r),g=f!==null&&f!=="false",p=(pi.get(x)||0)+1,y=(o.get(x)||0)+1;pi.set(x,p),o.set(x,y),i.push(x),p===1&&g&&Fu.set(x,!0),y===1&&x.setAttribute(a,"true"),g||x.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",x,v)}})};return d(s),l.clear(),ep++,function(){i.forEach(function(h){var x=pi.get(h)-1,f=o.get(h)-1;pi.set(h,x),o.set(h,f),x||(Fu.has(h)||h.removeAttribute(r),Fu.delete(h)),f||h.removeAttribute(a)}),ep--,ep||(pi=new WeakMap,pi=new WeakMap,Fu=new WeakMap,_u={})}},Ex=function(t,s,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=qL(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),KL(r,n,a,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_r.apply(this,arguments)};function oP(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function XL(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}var gm="right-scroll-bar-position",vm="width-before-scroll-bar",JL="with-scroll-bars-hidden",QL="--removed-body-scroll-bar-size";function tp(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function ZL(t,s){var a=m.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(r){var n=a.value;n!==r&&(a.value=r,a.callback(r,n))}}}})[0];return a.callback=s,a.facade}var e7=typeof window<"u"?m.useLayoutEffect:m.useEffect,hw=new WeakMap;function t7(t,s){var a=ZL(null,function(r){return t.forEach(function(n){return tp(n,r)})});return e7(function(){var r=hw.get(a);if(r){var n=new Set(r),o=new Set(t),i=a.current;n.forEach(function(l){o.has(l)||tp(l,null)}),o.forEach(function(l){n.has(l)||tp(l,i)})}hw.set(a,t)},[t]),a}function s7(t){return t}function a7(t,s){s===void 0&&(s=s7);var a=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(o){var i=s(o,r);return a.push(i),function(){a=a.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;a.length;){var i=a;a=[],i.forEach(o)}a={push:function(l){return o(l)},filter:function(){return a}}},assignMedium:function(o){r=!0;var i=[];if(a.length){var l=a;a=[],l.forEach(o),i=a}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),a={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),a}}}};return n}function r7(t){t===void 0&&(t={});var s=a7(null);return s.options=_r({async:!0,ssr:!1},t),s}var iP=function(t){var s=t.sideCar,a=oP(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,_r({},a))};iP.isSideCarExport=!0;function n7(t,s){return t.useMedium(s),iP}var lP=r7(),sp=function(){},Px=m.forwardRef(function(t,s){var a=m.useRef(null),r=m.useState({onScrollCapture:sp,onWheelCapture:sp,onTouchMoveCapture:sp}),n=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,x=t.sideCar,f=t.noIsolation,g=t.inert,p=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,b=t.gapMode,j=oP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=x,N=t7([a,s]),E=_r(_r({},j),n);return m.createElement(m.Fragment,null,d&&m.createElement(w,{sideCar:lP,removeScrollBar:u,shards:h,noIsolation:f,inert:g,setCallbacks:o,allowPinchZoom:!!p,lockRef:a,gapMode:b}),i?m.cloneElement(m.Children.only(l),_r(_r({},E),{ref:N})):m.createElement(v,_r({},E,{className:c,ref:N}),l))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:vm,zeroRight:gm};var o7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=o7();return s&&t.setAttribute("nonce",s),t}function l7(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function c7(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var d7=function(){var t=0,s=null;return{add:function(a){t==0&&(s=i7())&&(l7(s,a),c7(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},u7=function(){var t=d7();return function(s,a){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},cP=function(){var t=u7(),s=function(a){var r=a.styles,n=a.dynamic;return t(r,n),null};return s},m7={left:0,top:0,right:0,gap:0},ap=function(t){return parseInt(t||"",10)||0},h7=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[ap(a),ap(r),ap(n)]},x7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m7;var s=h7(t),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-a+s[2]-s[0])}},f7=cP(),Ji="data-scroll-locked",p7=function(t,s,a,r){var n=t.left,o=t.top,i=t.right,l=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(JL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ji,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ji,`] {
    `).concat(QL,": ").concat(l,`px;
  }
`)},xw=function(){var t=parseInt(document.body.getAttribute(Ji)||"0",10);return isFinite(t)?t:0},g7=function(){m.useEffect(function(){return document.body.setAttribute(Ji,(xw()+1).toString()),function(){var t=xw()-1;t<=0?document.body.removeAttribute(Ji):document.body.setAttribute(Ji,t.toString())}},[])},v7=function(t){var s=t.noRelative,a=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;g7();var o=m.useMemo(function(){return x7(n)},[n]);return m.createElement(f7,{styles:p7(o,!s,n,a?"":"!important")})},e0=!1;if(typeof window<"u")try{var Lu=Object.defineProperty({},"passive",{get:function(){return e0=!0,!0}});window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{e0=!1}var gi=e0?{passive:!1}:!1,b7=function(t){return t.tagName==="TEXTAREA"},dP=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!b7(t)&&a[s]==="visible")},j7=function(t){return dP(t,"overflowY")},y7=function(t){return dP(t,"overflowX")},fw=function(t,s){var a=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=uP(t,r);if(n){var o=mP(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},N7=function(t){var s=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;return[s,a,r]},w7=function(t){var s=t.scrollLeft,a=t.scrollWidth,r=t.clientWidth;return[s,a,r]},uP=function(t,s){return t==="v"?j7(s):y7(s)},mP=function(t,s){return t==="v"?N7(s):w7(s)},C7=function(t,s){return t==="h"&&s==="rtl"?-1:1},S7=function(t,s,a,r,n){var o=C7(t,window.getComputedStyle(s).direction),i=o*r,l=a.target,c=s.contains(l),u=!1,d=i>0,h=0,x=0;do{var f=mP(t,l),g=f[0],p=f[1],y=f[2],v=p-y-o*g;(g||v)&&uP(t,l)&&(h+=v,x+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(d&&(Math.abs(h)<1||!n)||!d&&(Math.abs(x)<1||!n))&&(u=!0),u},$u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pw=function(t){return[t.deltaX,t.deltaY]},gw=function(t){return t&&"current"in t?t.current:t},E7=function(t,s){return t[0]===s[0]&&t[1]===s[1]},P7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},A7=0,vi=[];function D7(t){var s=m.useRef([]),a=m.useRef([0,0]),r=m.useRef(),n=m.useState(A7++)[0],o=m.useState(cP)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var p=XL([t.lockRef.current],(t.shards||[]).map(gw),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=$u(p),b=a.current,j="deltaX"in p?p.deltaX:b[0]-v[0],w="deltaY"in p?p.deltaY:b[1]-v[1],N,E=p.target,A=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&A==="h"&&E.type==="range")return!1;var P=fw(A,E);if(!P)return!0;if(P?N=A:(N=A==="v"?"h":"v",P=fw(A,E)),!P)return!1;if(!r.current&&"changedTouches"in p&&(j||w)&&(r.current=N),!N)return!0;var z=r.current||N;return S7(z,y,p,z==="h"?j:w,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!vi.length||vi[vi.length-1]!==o)){var v="deltaY"in y?pw(y):$u(y),b=s.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&E7(N.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(i.current.shards||[]).map(gw).filter(Boolean).filter(function(N){return N.contains(y.target)}),w=j.length>0?l(y,j[0]):!i.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,v,b){var j={name:p,delta:y,target:v,should:b,shadowParent:k7(v)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(w){return w!==j})},1)},[]),d=m.useCallback(function(p){a.current=$u(p),r.current=void 0},[]),h=m.useCallback(function(p){u(p.type,pw(p),p.target,l(p,t.lockRef.current))},[]),x=m.useCallback(function(p){u(p.type,$u(p),p.target,l(p,t.lockRef.current))},[]);m.useEffect(function(){return vi.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",c,gi),document.addEventListener("touchmove",c,gi),document.addEventListener("touchstart",d,gi),function(){vi=vi.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,gi),document.removeEventListener("touchmove",c,gi),document.removeEventListener("touchstart",d,gi)}},[]);var f=t.removeScrollBar,g=t.inert;return m.createElement(m.Fragment,null,g?m.createElement(o,{styles:P7(n)}):null,f?m.createElement(v7,{gapMode:t.gapMode}):null)}function k7(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const T7=n7(lP,D7);var Wd=m.forwardRef(function(t,s){return m.createElement(Px,_r({},t,{ref:s,sideCar:T7}))});Wd.classNames=Px.classNames;var t0=["Enter"," "],R7=["ArrowDown","PageUp","Home"],hP=["ArrowUp","PageDown","End"],M7=[...R7,...hP],I7={ltr:[...t0,"ArrowRight"],rtl:[...t0,"ArrowLeft"]},O7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qd="Menu",[jd,z7,F7]=Bl(qd),[mi,bb]=ua(qd,[F7,No,Co]),Ax=No(),xP=Co(),[_7,hi]=mi(qd),[L7,Yd]=mi(qd),fP=t=>{const{__scopeMenu:s,open:a=!1,children:r,dir:n,onOpenChange:o,modal:i=!0}=t,l=Ax(s),[c,u]=m.useState(null),d=m.useRef(!1),h=as(o),x=wo(n);return m.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(fx,{...l,children:e.jsx(_7,{scope:s,open:a,onOpenChange:h,content:c,onContentChange:u,children:e.jsx(L7,{scope:s,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:x,modal:i,children:r})})})};fP.displayName=qd;var $7="MenuAnchor",jb=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Ax(a);return e.jsx(Bd,{...n,...r,ref:s})});jb.displayName=$7;var yb="MenuPortal",[V7,pP]=mi(yb,{forceMount:void 0}),gP=t=>{const{__scopeMenu:s,forceMount:a,children:r,container:n}=t,o=hi(yb,s);return e.jsx(V7,{scope:s,forceMount:a,children:e.jsx(Ms,{present:a||o.open,children:e.jsx(Gl,{asChild:!0,container:n,children:r})})})};gP.displayName=yb;var Ja="MenuContent",[G7,Nb]=mi(Ja),vP=m.forwardRef((t,s)=>{const a=pP(Ja,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=hi(Ja,t.__scopeMenu),i=Yd(Ja,t.__scopeMenu);return e.jsx(jd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ms,{present:r||o.open,children:e.jsx(jd.Slot,{scope:t.__scopeMenu,children:i.modal?e.jsx(B7,{...n,ref:s}):e.jsx(U7,{...n,ref:s})})})})}),B7=m.forwardRef((t,s)=>{const a=hi(Ja,t.__scopeMenu),r=m.useRef(null),n=ot(s,r);return m.useEffect(()=>{const o=r.current;if(o)return Ex(o)},[]),e.jsx(wb,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),U7=m.forwardRef((t,s)=>{const a=hi(Ja,t.__scopeMenu);return e.jsx(wb,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),wb=m.forwardRef((t,s)=>{const{__scopeMenu:a,loop:r=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:x,onDismiss:f,disableOutsideScroll:g,...p}=t,y=hi(Ja,a),v=Yd(Ja,a),b=Ax(a),j=xP(a),w=z7(a),[N,E]=m.useState(null),A=m.useRef(null),P=ot(s,A,y.onContentChange),z=m.useRef(0),T=m.useRef(""),k=m.useRef(0),L=m.useRef(null),U=m.useRef("right"),Y=m.useRef(0),K=g?Wd:m.Fragment,F=g?{as:rP,allowPinchZoom:!0}:void 0,O=$=>{var ae,be;const H=T.current+$,J=w().filter(xe=>!xe.disabled),re=document.activeElement,le=(ae=J.find(xe=>xe.ref.current===re))==null?void 0:ae.textValue,we=J.map(xe=>xe.textValue),ke=s$(we,H,le),he=(be=J.find(xe=>xe.textValue===ke))==null?void 0:be.ref.current;(function xe(ne){T.current=ne,window.clearTimeout(z.current),ne!==""&&(z.current=window.setTimeout(()=>xe(""),1e3))})(H),he&&setTimeout(()=>he.focus())};m.useEffect(()=>()=>window.clearTimeout(z.current),[]),Nx();const S=m.useCallback($=>{var J,re;return U.current===((J=L.current)==null?void 0:J.side)&&r$($,(re=L.current)==null?void 0:re.area)},[]);return e.jsx(G7,{scope:a,searchRef:T,onItemEnter:m.useCallback($=>{S($)&&$.preventDefault()},[S]),onItemLeave:m.useCallback($=>{var H;S($)||((H=A.current)==null||H.focus(),E(null))},[S]),onTriggerLeave:m.useCallback($=>{S($)&&$.preventDefault()},[S]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback($=>{L.current=$},[]),children:e.jsx(K,{...F,children:e.jsx(Hd,{asChild:!0,trapped:n,onMountAutoFocus:Ee(o,$=>{var H;$.preventDefault(),(H=A.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(ui,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:x,onDismiss:f,children:e.jsx(Cx,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:E,onEntryFocus:Ee(c,$=>{v.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(px,{role:"menu","aria-orientation":"vertical","data-state":IP(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,$=>{const J=$.target.closest("[data-radix-menu-content]")===$.currentTarget,re=$.ctrlKey||$.altKey||$.metaKey,le=$.key.length===1;J&&($.key==="Tab"&&$.preventDefault(),!re&&le&&O($.key));const we=A.current;if($.target!==we||!M7.includes($.key))return;$.preventDefault();const he=w().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);hP.includes($.key)&&he.reverse(),e$(he)}),onBlur:Ee(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(z.current),T.current="")}),onPointerMove:Ee(t.onPointerMove,yd($=>{const H=$.target,J=Y.current!==$.clientX;if($.currentTarget.contains(H)&&J){const re=$.clientX>Y.current?"right":"left";U.current=re,Y.current=$.clientX}}))})})})})})})});vP.displayName=Ja;var H7="MenuGroup",Cb=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ve.div,{role:"group",...r,ref:s})});Cb.displayName=H7;var W7="MenuLabel",bP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ve.div,{...r,ref:s})});bP.displayName=W7;var mh="MenuItem",vw="menu.itemSelect",Dx=m.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:r,...n}=t,o=m.useRef(null),i=Yd(mh,t.__scopeMenu),l=Nb(mh,t.__scopeMenu),c=ot(s,o),u=m.useRef(!1),d=()=>{const h=o.current;if(!a&&h){const x=new CustomEvent(vw,{bubbles:!0,cancelable:!0});h.addEventListener(vw,f=>r==null?void 0:r(f),{once:!0}),nb(h,x),x.defaultPrevented?u.current=!1:i.onClose()}};return e.jsx(jP,{...n,ref:c,disabled:a,onClick:Ee(t.onClick,d),onPointerDown:h=>{var x;(x=t.onPointerDown)==null||x.call(t,h),u.current=!0},onPointerUp:Ee(t.onPointerUp,h=>{var x;u.current||(x=h.currentTarget)==null||x.click()}),onKeyDown:Ee(t.onKeyDown,h=>{const x=l.searchRef.current!=="";a||x&&h.key===" "||t0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Dx.displayName=mh;var jP=m.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:r=!1,textValue:n,...o}=t,i=Nb(mh,a),l=xP(a),c=m.useRef(null),u=ot(s,c),[d,h]=m.useState(!1),[x,f]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[o.children]),e.jsx(jd.ItemSlot,{scope:a,disabled:r,textValue:n??x,children:e.jsx(Sx,{asChild:!0,...l,focusable:!r,children:e.jsx(Ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:Ee(t.onPointerMove,yd(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,yd(g=>i.onItemLeave(g))),onFocus:Ee(t.onFocus,()=>h(!0)),onBlur:Ee(t.onBlur,()=>h(!1))})})})}),q7="MenuCheckboxItem",yP=m.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:r,...n}=t;return e.jsx(EP,{scope:t.__scopeMenu,checked:a,children:e.jsx(Dx,{role:"menuitemcheckbox","aria-checked":hh(a)?"mixed":a,...n,ref:s,"data-state":Eb(a),onSelect:Ee(n.onSelect,()=>r==null?void 0:r(hh(a)?!0:!a),{checkForDefaultPrevented:!1})})})});yP.displayName=q7;var NP="MenuRadioGroup",[Y7,K7]=mi(NP,{value:void 0,onValueChange:()=>{}}),wP=m.forwardRef((t,s)=>{const{value:a,onValueChange:r,...n}=t,o=as(r);return e.jsx(Y7,{scope:t.__scopeMenu,value:a,onValueChange:o,children:e.jsx(Cb,{...n,ref:s})})});wP.displayName=NP;var CP="MenuRadioItem",SP=m.forwardRef((t,s)=>{const{value:a,...r}=t,n=K7(CP,t.__scopeMenu),o=a===n.value;return e.jsx(EP,{scope:t.__scopeMenu,checked:o,children:e.jsx(Dx,{role:"menuitemradio","aria-checked":o,...r,ref:s,"data-state":Eb(o),onSelect:Ee(r.onSelect,()=>{var i;return(i=n.onValueChange)==null?void 0:i.call(n,a)},{checkForDefaultPrevented:!1})})})});SP.displayName=CP;var Sb="MenuItemIndicator",[EP,X7]=mi(Sb,{checked:!1}),PP=m.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:r,...n}=t,o=X7(Sb,a);return e.jsx(Ms,{present:r||hh(o.checked)||o.checked===!0,children:e.jsx(Ve.span,{...n,ref:s,"data-state":Eb(o.checked)})})});PP.displayName=Sb;var J7="MenuSeparator",AP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});AP.displayName=J7;var Q7="MenuArrow",DP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Ax(a);return e.jsx(gx,{...n,...r,ref:s})});DP.displayName=Q7;var Z7="MenuSub",[iae,kP]=mi(Z7),Nc="MenuSubTrigger",TP=m.forwardRef((t,s)=>{const a=hi(Nc,t.__scopeMenu),r=Yd(Nc,t.__scopeMenu),n=kP(Nc,t.__scopeMenu),o=Nb(Nc,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),e.jsx(jb,{asChild:!0,...u,children:e.jsx(jP,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":n.contentId,"data-state":IP(a.open),...t,ref:Pr(s,n.onTriggerChange),onClick:h=>{var x;(x=t.onClick)==null||x.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,yd(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!a.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{a.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(t.onPointerLeave,yd(h=>{var f,g;d();const x=(f=a.content)==null?void 0:f.getBoundingClientRect();if(x){const p=(g=a.content)==null?void 0:g.dataset.side,y=p==="right",v=y?-5:5,b=x[y?"left":"right"],j=x[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:b,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:b,y:x.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,h=>{var f;const x=o.searchRef.current!=="";t.disabled||x&&h.key===" "||I7[r.dir].includes(h.key)&&(a.onOpenChange(!0),(f=a.content)==null||f.focus(),h.preventDefault())})})})});TP.displayName=Nc;var RP="MenuSubContent",MP=m.forwardRef((t,s)=>{const a=pP(Ja,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=hi(Ja,t.__scopeMenu),i=Yd(Ja,t.__scopeMenu),l=kP(RP,t.__scopeMenu),c=m.useRef(null),u=ot(s,c);return e.jsx(jd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ms,{present:r||o.open,children:e.jsx(jd.Slot,{scope:t.__scopeMenu,children:e.jsx(wb,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),x=O7[i.dir].includes(d.key);h&&x&&(o.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});MP.displayName=RP;function IP(t){return t?"open":"closed"}function hh(t){return t==="indeterminate"}function Eb(t){return hh(t)?"indeterminate":t?"checked":"unchecked"}function e$(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function t$(t,s){return t.map((a,r)=>t[(s+r)%t.length])}function s$(t,s,a){const n=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let i=t$(t,Math.max(o,0));n.length===1&&(i=i.filter(u=>u!==a));const c=i.find(u=>u.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}function a$(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o].x,c=s[o].y,u=s[i].x,d=s[i].y;c>r!=d>r&&a<(u-l)*(r-c)/(d-c)+l&&(n=!n)}return n}function r$(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return a$(a,s)}function yd(t){return s=>s.pointerType==="mouse"?t(s):void 0}var OP=fP,zP=jb,FP=gP,_P=vP,LP=Cb,$P=bP,VP=Dx,GP=yP,BP=wP,UP=SP,HP=PP,WP=AP,qP=DP,YP=TP,KP=MP,kx="Menubar",[s0,n$,o$]=Bl(kx),[XP,lae]=ua(kx,[o$,Co]),ma=bb(),JP=Co(),[i$,Pb]=XP(kx),QP=m.forwardRef((t,s)=>{const{__scopeMenubar:a,value:r,onValueChange:n,defaultValue:o,loop:i=!0,dir:l,...c}=t,u=wo(l),d=JP(a),[h="",x]=Qs({prop:r,onChange:n,defaultProp:o}),[f,g]=m.useState(null);return e.jsx(i$,{scope:a,value:h,onMenuOpen:m.useCallback(p=>{x(p),g(p)},[x]),onMenuClose:m.useCallback(()=>x(""),[x]),onMenuToggle:m.useCallback(p=>{x(y=>y?"":p),g(p)},[x]),dir:u,loop:i,children:e.jsx(s0.Provider,{scope:a,children:e.jsx(s0.Slot,{scope:a,children:e.jsx(Cx,{asChild:!0,...d,orientation:"horizontal",loop:i,dir:u,currentTabStopId:f,onCurrentTabStopIdChange:g,children:e.jsx(Ve.div,{role:"menubar",...c,ref:s})})})})})});QP.displayName=kx;var Ab="MenubarMenu",[l$,ZP]=XP(Ab),eA=t=>{const{__scopeMenubar:s,value:a,...r}=t,n=oa(),o=a||n||"LEGACY_REACT_AUTO_VALUE",i=Pb(Ab,s),l=ma(s),c=m.useRef(null),u=m.useRef(!1),d=i.value===o;return m.useEffect(()=>{d||(u.current=!1)},[d]),e.jsx(l$,{scope:s,value:o,triggerId:oa(),triggerRef:c,contentId:oa(),wasKeyboardTriggerOpenRef:u,children:e.jsx(OP,{...l,open:d,onOpenChange:h=>{h||i.onMenuClose()},modal:!1,dir:i.dir,...r})})};eA.displayName=Ab;var a0="MenubarTrigger",tA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,disabled:r=!1,...n}=t,o=JP(a),i=ma(a),l=Pb(a0,a),c=ZP(a0,a),u=m.useRef(null),d=ot(s,u,c.triggerRef),[h,x]=m.useState(!1),f=l.value===c.value;return e.jsx(s0.ItemSlot,{scope:a,value:c.value,disabled:r,children:e.jsx(Sx,{asChild:!0,...o,focusable:!r,tabStopId:c.value,children:e.jsx(zP,{asChild:!0,...i,children:e.jsx(Ve.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?c.contentId:void 0,"data-highlighted":h?"":void 0,"data-state":f?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:d,onPointerDown:Ee(t.onPointerDown,g=>{!r&&g.button===0&&g.ctrlKey===!1&&(l.onMenuOpen(c.value),f||g.preventDefault())}),onPointerEnter:Ee(t.onPointerEnter,()=>{var p;!!l.value&&!f&&(l.onMenuOpen(c.value),(p=u.current)==null||p.focus())}),onKeyDown:Ee(t.onKeyDown,g=>{r||(["Enter"," "].includes(g.key)&&l.onMenuToggle(c.value),g.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(g.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,g.preventDefault()))}),onFocus:Ee(t.onFocus,()=>x(!0)),onBlur:Ee(t.onBlur,()=>x(!1))})})})})});tA.displayName=a0;var c$="MenubarPortal",sA=t=>{const{__scopeMenubar:s,...a}=t,r=ma(s);return e.jsx(FP,{...r,...a})};sA.displayName=c$;var r0="MenubarContent",aA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,align:r="start",...n}=t,o=ma(a),i=Pb(r0,a),l=ZP(r0,a),c=n$(a),u=m.useRef(!1);return e.jsx(_P,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...o,...n,ref:s,align:r,onCloseAutoFocus:Ee(t.onCloseAutoFocus,d=>{var x;!!!i.value&&!u.current&&((x=l.triggerRef.current)==null||x.focus()),u.current=!1,d.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,d=>{const h=d.target;c().some(f=>{var g;return(g=f.ref.current)==null?void 0:g.contains(h)})&&d.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,()=>{u.current=!0}),onEntryFocus:d=>{l.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:Ee(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const h=d.target,x=h.hasAttribute("data-radix-menubar-subtrigger"),f=h.closest("[data-radix-menubar-content]")!==d.currentTarget,p=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!p&&x||f&&p)return;let b=c().filter(N=>!N.disabled).map(N=>N.value);p&&b.reverse();const j=b.indexOf(l.value);b=i.loop?C$(b,j+1):b.slice(j+1);const[w]=b;w&&i.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});aA.displayName=r0;var d$="MenubarGroup",u$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(LP,{...n,...r,ref:s})});u$.displayName=d$;var m$="MenubarLabel",rA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx($P,{...n,...r,ref:s})});rA.displayName=m$;var h$="MenubarItem",nA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(VP,{...n,...r,ref:s})});nA.displayName=h$;var x$="MenubarCheckboxItem",oA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(GP,{...n,...r,ref:s})});oA.displayName=x$;var f$="MenubarRadioGroup",p$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(BP,{...n,...r,ref:s})});p$.displayName=f$;var g$="MenubarRadioItem",iA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(UP,{...n,...r,ref:s})});iA.displayName=g$;var v$="MenubarItemIndicator",lA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(HP,{...n,...r,ref:s})});lA.displayName=v$;var b$="MenubarSeparator",cA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(WP,{...n,...r,ref:s})});cA.displayName=b$;var j$="MenubarArrow",y$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(qP,{...n,...r,ref:s})});y$.displayName=j$;var N$="MenubarSubTrigger",dA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(YP,{"data-radix-menubar-subtrigger":"",...n,...r,ref:s})});dA.displayName=N$;var w$="MenubarSubContent",uA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(KP,{...n,"data-radix-menubar-content":"",...r,ref:s,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});uA.displayName=w$;function C$(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var mA=QP,S$=eA,hA=tA,E$=sA,xA=aA,fA=rA,pA=nA,gA=oA,vA=iA,bA=lA,jA=cA,yA=dA,NA=uA;const P$=S$,wA=m.forwardRef(({className:t,...s},a)=>e.jsx(mA,{ref:a,className:je("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...s}));wA.displayName=mA.displayName;const CA=m.forwardRef(({className:t,...s},a)=>e.jsx(hA,{ref:a,className:je("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...s}));CA.displayName=hA.displayName;const A$=m.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(yA,{ref:n,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",t),...r,children:[a,e.jsx(Fs,{className:"ml-auto h-4 w-4"})]}));A$.displayName=yA.displayName;const D$=m.forwardRef(({className:t,...s},a)=>e.jsx(NA,{ref:a,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));D$.displayName=NA.displayName;const SA=m.forwardRef(({className:t,align:s="start",alignOffset:a=-4,sideOffset:r=8,...n},o)=>e.jsx(E$,{children:e.jsx(xA,{ref:o,align:s,alignOffset:a,sideOffset:r,className:je("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));SA.displayName=xA.displayName;const EA=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(pA,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));EA.displayName=pA.displayName;const k$=m.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(gA,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(bA,{children:e.jsx(Fl,{className:"h-4 w-4"})})}),s]}));k$.displayName=gA.displayName;const T$=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(vA,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(bA,{children:e.jsx(_4,{className:"h-2 w-2 fill-current"})})}),s]}));T$.displayName=vA.displayName;const R$=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(fA,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));R$.displayName=fA.displayName;const M$=m.forwardRef(({className:t,...s},a)=>e.jsx(jA,{ref:a,className:je("-mx-1 my-1 h-px bg-muted",t),...s}));M$.displayName=jA.displayName;const PA=[{id:"planejamento",label:"Planejamento da Contratação",color:"text-indigo-600",pages:[{id:"home",label:"Planejamento da Contratação",href:"/planejamento-da-contratacao",icon:sb,shortcut:"G,H"},{id:"meus-processos",label:"Meus Processos",href:"/processos",icon:$e,shortcut:"G,M"},{id:"proc-gerencia",label:"Processos da Gerência",href:"/processos-gerencia",icon:qt,shortcut:"G,G"},{id:"minhas-assinaturas",label:"Minhas Assinaturas",href:"/assinaturas",icon:ar,shortcut:"G,A"},{id:"modelos-fluxo",label:"Modelos de Fluxo",href:"/modelos-de-fluxo",icon:zo,shortcut:"G,F"}]}];function I$(){const s=sr().pathname;return e.jsx("div",{className:"hidden md:block",children:e.jsx(wA,{className:"h-10 rounded-full border border-gray-200 bg-white/80 backdrop-blur px-1 py-0.5 shadow-xs hover:shadow-sm transition-shadow duration-200",children:PA.map(a=>e.jsxs(P$,{children:[e.jsxs(CA,{className:"rounded-full px-2.5 py-1 text-[13px] font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900 data-[state=open]:bg-gray-100 data-[state=open]:text-gray-900 transition-all duration-200 ease-in-out gap-1 group",children:[e.jsx("span",{className:a.color,children:a.label}),e.jsx(_l,{className:"ml-1 h-4 w-4 text-gray-400 group-data-[state=open]:rotate-180 transition-transform duration-200 ease-in-out"})]}),e.jsx(SA,{align:"start",alignOffset:-2,sideOffset:6,className:"min-w-[14rem] p-1 py-1.5 text-sm",children:a.pages.map(r=>{const n=s===r.href||s.startsWith(`${r.href}/`),o=r.icon;return e.jsx(cd,{to:r.href,children:e.jsxs(EA,{className:je("cursor-pointer px-2 py-1.5 rounded-sm transition-colors duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100",n&&"bg-indigo-50 text-indigo-700 font-medium"),"aria-current":n?"page":void 0,children:[o?e.jsx(o,{className:"mr-2 h-4 w-4"}):null,r.label]})},r.id)})})]},a.id))})})}var AA=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(z$);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(n0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(n0,{...r,ref:s,children:a})});AA.displayName="Slot";var n0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=_$(a);return m.cloneElement(a,{...F$(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});n0.displayName="SlotClone";var O$=({children:t})=>e.jsx(e.Fragment,{children:t});function z$(t){return m.isValidElement(t)&&t.type===O$}function F$(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function _$(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Db="Dialog",[DA,kA]=ua(Db),[L$,Ar]=DA(Db),TA=t=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:i=!0}=t,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(L$,{scope:s,triggerRef:l,contentRef:c,contentId:oa(),titleId:oa(),descriptionId:oa(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:i,children:a})};TA.displayName=Db;var RA="DialogTrigger",MA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(RA,a),o=ot(s,n.triggerRef);return e.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Rb(n.open),...r,ref:o,onClick:Ee(t.onClick,n.onOpenToggle)})});MA.displayName=RA;var kb="DialogPortal",[$$,IA]=DA(kb,{forceMount:void 0}),OA=t=>{const{__scopeDialog:s,forceMount:a,children:r,container:n}=t,o=Ar(kb,s);return e.jsx($$,{scope:s,forceMount:a,children:m.Children.map(r,i=>e.jsx(Ms,{present:a||o.open,children:e.jsx(Gl,{asChild:!0,container:n,children:i})}))})};OA.displayName=kb;var xh="DialogOverlay",zA=m.forwardRef((t,s)=>{const a=IA(xh,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=Ar(xh,t.__scopeDialog);return o.modal?e.jsx(Ms,{present:r||o.open,children:e.jsx(V$,{...n,ref:s})}):null});zA.displayName=xh;var V$=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(xh,a);return e.jsx(Wd,{as:AA,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(Ve.div,{"data-state":Rb(n.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),ni="DialogContent",FA=m.forwardRef((t,s)=>{const a=IA(ni,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=Ar(ni,t.__scopeDialog);return e.jsx(Ms,{present:r||o.open,children:o.modal?e.jsx(G$,{...n,ref:s}):e.jsx(B$,{...n,ref:s})})});FA.displayName=ni;var G$=m.forwardRef((t,s)=>{const a=Ar(ni,t.__scopeDialog),r=m.useRef(null),n=ot(s,a.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Ex(o)},[]),e.jsx(_A,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=a.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault())})}),B$=m.forwardRef((t,s)=>{const a=Ar(ni,t.__scopeDialog),r=m.useRef(!1),n=m.useRef(!1);return e.jsx(_A,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=a.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;((u=a.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),_A=m.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,...i}=t,l=Ar(ni,a),c=m.useRef(null),u=ot(s,c);return Nx(),e.jsxs(e.Fragment,{children:[e.jsx(Hd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(ui,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Rb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(H$,{titleId:l.titleId}),e.jsx(q$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tb="DialogTitle",LA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(Tb,a);return e.jsx(Ve.h2,{id:n.titleId,...r,ref:s})});LA.displayName=Tb;var $A="DialogDescription",VA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar($A,a);return e.jsx(Ve.p,{id:n.descriptionId,...r,ref:s})});VA.displayName=$A;var GA="DialogClose",BA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(GA,a);return e.jsx(Ve.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,()=>n.onOpenChange(!1))})});BA.displayName=GA;function Rb(t){return t?"open":"closed"}var UA="DialogTitleWarning",[U$,HA]=OF(UA,{contentName:ni,titleName:Tb,docsSlug:"dialog"}),H$=({titleId:t})=>{const s=HA(UA),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},W$="DialogDescriptionWarning",q$=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HA(W$).contentName}}.`;return m.useEffect(()=>{var o;const n=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");s&&n&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Mb=TA,Ib=MA,Ob=OA,Kd=zA,Xd=FA,Jd=LA,Qd=VA,Tx=BA;const zb=Mb,Y$=Ib,K$=Ob,WA=m.forwardRef(({className:t,...s},a)=>e.jsx(Kd,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));WA.displayName=Kd.displayName;const X$=Kr("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Rx=m.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(K$,{children:[e.jsx(WA,{}),e.jsxs(Xd,{ref:n,className:je(X$({side:t}),s),...r,children:[a,e.jsxs(Tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rx.displayName=Xd.displayName;const Mx=({className:t,...s})=>e.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...s});Mx.displayName="SheetHeader";const Ix=m.forwardRef(({className:t,...s},a)=>e.jsx(Jd,{ref:a,className:je("text-lg font-semibold text-foreground",t),...s}));Ix.displayName=Jd.displayName;const Fb=m.forwardRef(({className:t,...s},a)=>e.jsx(Qd,{ref:a,className:je("text-sm text-muted-foreground",t),...s}));Fb.displayName=Qd.displayName;function J$(){return e.jsxs(zb,{children:[e.jsx(Y$,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",className:"md:hidden gap-2",children:[e.jsx(aF,{className:"h-4 w-4"})," Módulos"]})}),e.jsxs(Rx,{side:"top",className:"h-[80vh] overflow-y-auto",children:[e.jsx(Mx,{children:e.jsx(Ix,{children:"Navegar por módulos"})}),e.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:PA.map(t=>{var s;return e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:t.label}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(cd,{to:t.pages&&((s=t.pages[0])==null?void 0:s.href)||"/",className:"block rounded-md px-2 py-1.5 hover:bg-gray-50",children:["Abrir ",t.label]}),t.pages.map(a=>e.jsx(cd,{to:a.href,className:"block rounded-md px-2 py-1.5 text-gray-600 hover:bg-gray-50",children:a.label},a.id))]})]},t.id)})})]})]})}var _b="DropdownMenu",[Q$,cae]=ua(_b,[bb]),ha=bb(),[Z$,qA]=Q$(_b),YA=t=>{const{__scopeDropdownMenu:s,children:a,dir:r,open:n,defaultOpen:o,onOpenChange:i,modal:l=!0}=t,c=ha(s),u=m.useRef(null),[d=!1,h]=Qs({prop:n,defaultProp:o,onChange:i});return e.jsx(Z$,{scope:s,triggerId:oa(),triggerRef:u,contentId:oa(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(x=>!x),[h]),modal:l,children:e.jsx(OP,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:a})})};YA.displayName=_b;var KA="DropdownMenuTrigger",XA=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:r=!1,...n}=t,o=qA(KA,a),i=ha(a);return e.jsx(zP,{asChild:!0,...i,children:e.jsx(Ve.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:Pr(s,o.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});XA.displayName=KA;var eV="DropdownMenuPortal",JA=t=>{const{__scopeDropdownMenu:s,...a}=t,r=ha(s);return e.jsx(FP,{...r,...a})};JA.displayName=eV;var QA="DropdownMenuContent",ZA=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=qA(QA,a),o=ha(a),i=m.useRef(!1);return e.jsx(_P,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...r,ref:s,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{var c;i.current||(c=n.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!n.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZA.displayName=QA;var tV="DropdownMenuGroup",sV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(LP,{...n,...r,ref:s})});sV.displayName=tV;var aV="DropdownMenuLabel",e5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx($P,{...n,...r,ref:s})});e5.displayName=aV;var rV="DropdownMenuItem",t5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(VP,{...n,...r,ref:s})});t5.displayName=rV;var nV="DropdownMenuCheckboxItem",s5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(GP,{...n,...r,ref:s})});s5.displayName=nV;var oV="DropdownMenuRadioGroup",iV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(BP,{...n,...r,ref:s})});iV.displayName=oV;var lV="DropdownMenuRadioItem",a5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(UP,{...n,...r,ref:s})});a5.displayName=lV;var cV="DropdownMenuItemIndicator",r5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(HP,{...n,...r,ref:s})});r5.displayName=cV;var dV="DropdownMenuSeparator",n5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(WP,{...n,...r,ref:s})});n5.displayName=dV;var uV="DropdownMenuArrow",mV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(qP,{...n,...r,ref:s})});mV.displayName=uV;var hV="DropdownMenuSubTrigger",o5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(YP,{...n,...r,ref:s})});o5.displayName=hV;var xV="DropdownMenuSubContent",i5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(KP,{...n,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i5.displayName=xV;var fV=YA,pV=XA,gV=JA,l5=ZA,c5=e5,d5=t5,u5=s5,m5=a5,h5=r5,x5=n5,f5=o5,p5=i5;const Ox=fV,zx=pV,vV=m.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(f5,{ref:n,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...r,children:[a,e.jsx(Fs,{className:"ml-auto h-4 w-4"})]}));vV.displayName=f5.displayName;const bV=m.forwardRef(({className:t,...s},a)=>e.jsx(p5,{ref:a,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));bV.displayName=p5.displayName;const Zd=m.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(gV,{children:e.jsx(l5,{ref:r,sideOffset:s,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Zd.displayName=l5.displayName;const pr=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(d5,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));pr.displayName=d5.displayName;const jV=m.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(u5,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(h5,{children:e.jsx(Fl,{className:"h-4 w-4"})})}),s]}));jV.displayName=u5.displayName;const yV=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(m5,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(h5,{children:e.jsx(_4,{className:"h-2 w-2 fill-current"})})}),s]}));yV.displayName=m5.displayName;const g5=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(c5,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));g5.displayName=c5.displayName;const fh=m.forwardRef(({className:t,...s},a)=>e.jsx(x5,{ref:a,className:je("-mx-1 my-1 h-px bg-muted",t),...s}));fh.displayName=x5.displayName;function NV({name:t,email:s,avatarUrl:a,onOpenSupport:r}){const n=fs(),{setUser:o}=Dt(),{toast:i}=Kt(),l=t==null?void 0:t.split(" ").map(u=>u[0]).slice(0,2).join("").toUpperCase(),c=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),o(null),i({title:"Logout realizado",description:"Você foi desconectado do sistema com sucesso.",variant:"default"}),n("/login")};return e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"outline",className:"h-9 w-9 rounded-full p-0 overflow-hidden","aria-label":"Abrir menu da conta",children:e.jsxs(hr,{className:"h-9 w-9 rounded-full",children:[e.jsx(xr,{src:a,alt:t,className:"object-cover"}),e.jsx(fr,{className:"h-9 w-9 rounded-full text-sm font-medium",children:l||"US"})]})})}),e.jsxs(Zd,{align:"end",sideOffset:8,className:"w-[280px]",children:[e.jsx(g5,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold leading-tight",children:t}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:s})]})}),e.jsx(fh,{}),e.jsx(pr,{asChild:!0,children:e.jsxs("button",{onClick:()=>n("/sobre"),"aria-label":"Saiba mais sobre o sistema",className:"flex items-center gap-2 w-full",children:[e.jsx(fn,{className:"h-4 w-4"}),e.jsx("span",{children:"Saiba mais"})]})}),e.jsx(pr,{asChild:!0,children:e.jsxs("button",{onClick:()=>n("/configuracoes"),"aria-label":"Abrir configurações",className:"flex items-center gap-2 w-full",children:[e.jsx(Ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Configurações"})]})}),e.jsxs(pr,{onSelect:u=>{u.preventDefault(),r?r():n("/suporte")},"aria-label":"Abrir suporte",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Ki,{className:"h-4 w-4"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(fh,{}),e.jsxs(pr,{onSelect:u=>{u.preventDefault(),c()},className:"text-red-600 focus:text-red-600","aria-label":"Sair do sistema",children:[e.jsx(G4,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair do sistema"})]})]})]})}function Jr(){const[t,s]=Z.useState(!1),[a,r]=m.useState(!1),n=fs(),{user:o,setUser:i}=Dt();Kt();const l=sr(),c=l.pathname==="/"?"Buscar no sistema...":"Buscar processos, documentos, usuários...",u=()=>{const h=new CustomEvent("open-support");window.dispatchEvent(h)},d=l.pathname==="/planejamento-da-contratacao"||l.pathname==="/processos"||l.pathname==="/processos-gerencia"||l.pathname==="/assinaturas"||l.pathname==="/modelos-de-fluxo"||l.pathname.startsWith("/processos/")||l.pathname.startsWith("/processo/")||l.pathname.startsWith("/assinaturas/")||l.pathname.startsWith("/processos-gerencia/");return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"fixed top-0 left-0 w-full z-50 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-gray-100",children:e.jsxs("div",{className:"w-full h-14 sm:h-16 grid grid-cols-[auto,1fr] items-center px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4",children:[e.jsx("button",{className:"h-9 w-9 grid place-items-center rounded-lg hover:bg-gray-100 focus-visible:outline-2 focus-visible:outline-indigo-500",onClick:()=>s(!0),"aria-label":"Abrir menu",children:e.jsx(lF,{className:"h-5 w-5 text-gray-700"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:pd,className:"w-8 h-8 md:w-10 md:h-10",alt:"Logo Fiscatus"}),e.jsx("span",{className:"text-base md:text-lg font-bold text-gray-800 truncate",children:"Fiscatus"})]}),d&&l.pathname!=="/"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(I$,{})}),e.jsx("div",{className:"sm:hidden",children:e.jsx(J$,{})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 md:gap-3.5 ml-2 sm:ml-3",children:[e.jsx("div",{className:"flex-1 relative",children:d?e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),e.jsx(De,{type:"text",placeholder:c,className:"h-10 rounded-full w-full min-w-[140px] sm:min-w-[200px] md:min-w-[280px] lg:min-w-[360px] xl:min-w-[420px] max-w-[720px] border-gray-200 focus-visible:ring-0 focus-visible:outline-2 focus-visible:outline-indigo-500 pl-10"})]})}):e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),e.jsx(De,{type:"text",placeholder:c,className:"h-10 rounded-full w-full min-w-[140px] sm:min-w-[200px] md:min-w-[280px] lg:min-w-[360px] xl:min-w-[420px] max-w-[720px] border-gray-200 focus-visible:ring-0 focus-visible:outline-2 focus-visible:outline-indigo-500 pl-10"})]})}),d&&l.pathname!=="/"&&e.jsx(C,{variant:"ghost",size:"icon",className:"h-9 w-9 shrink-0 sm:hidden","aria-label":"Buscar",onClick:()=>n("/buscar"),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.3-4.3"})]})}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs(C,{variant:"ghost",size:"icon",className:"h-9 w-9 relative","aria-label":"Notificações",onClick:()=>r(!a),children:[e.jsx(ro,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-4 min-w-4 rounded-full bg-red-500 text-[10px] text-white grid place-items-center px-1",children:"3"})]}),e.jsx(JE,{isOpen:a,onClose:()=>r(!1)})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(NV,{name:(o==null?void 0:o.nome)||"Usuário",email:(o==null?void 0:o.email)||"usuario@exemplo.com",onOpenSupport:u})})]})]})}),e.jsx(fL,{open:t,onClose:()=>s(!1)})]})}function rp(){var b;const t=fs(),{user:s}=Dt();f_();const a=Z.useRef(null),r=Z.useRef(null),[n,o]=Z.useState(!1),[i,l]=Z.useState(()=>[{id:1,role:"bot",text:"Olá! Sou o assistente Fiscatus. Como posso ajudar você hoje?",timestamp:new Date}]),[c,u]=Z.useState(""),[d,h]=Z.useState(!1),x=Z.useRef(null);Z.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[i]);const f=Z.useCallback(j=>{const w=j.toLowerCase();return w.includes("dfd")||w.includes("planejamento")?'Para iniciar um DFD, acesse o módulo "Planejamento da Contratação" no painel principal. Lá você encontrará todas as ferramentas para organizar sua demanda.':w.includes("fluxo")||w.includes("configurar")?'Os fluxos podem ser personalizados em "Configurações do Fluxo". Você pode definir etapas, responsáveis e regras específicas para sua instituição.':w.includes("relatório")||w.includes("dados")?'No módulo "Relatórios" você tem acesso a dashboards personalizáveis e relatórios automáticos. Que tipo de informação você precisa?':w.includes("assinatura")||w.includes("documento")?'As assinaturas digitais estão integradas em todo o sistema. Acesse "Minhas Assinaturas" para gerenciar documentos pendentes.':w.includes("ajuda")||w.includes("suporte")?"Posso ajudar com dúvidas sobre o sistema. Você também pode acessar a documentação completa ou falar com nossa equipe de suporte.":"Entendi sua pergunta. Para uma resposta mais específica, posso conectar você com nossa equipe de suporte especializada. Deseja que eu faça isso?"},[]),g=Z.useCallback(()=>{if(!c.trim())return;const j={id:Date.now(),role:"user",text:c.trim(),timestamp:new Date};l(w=>[...w,j]),u(""),h(!0),setTimeout(()=>{const w={id:Date.now()+1,role:"bot",text:f(c),timestamp:new Date};l(N=>[...N,w]),h(!1)},1500)},[c,f]),p=Z.useCallback(j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),g())},[g]),y=Z.useMemo(()=>[{nome:"Planejamento da Contratação",descricao:"Organize todas as fases da contratação: da demanda inicial à publicação do edital.",icon:e.jsx(nh,{className:"w-6 h-6"}),path:"/planejamento-da-contratacao"},{nome:"Gestão Contratual",descricao:"Gerencie contratos e documentos de forma centralizada.",icon:e.jsx(qt,{className:"w-6 h-6"}),path:"/gestao-contratual"},{nome:"Execução Contratual",descricao:"Monitore a execução do contrato com controle de entregas, fiscalizações e aditivos.",icon:e.jsx(th,{className:"w-6 h-6"}),path:"/execucao-contratual"},{nome:"Processo Licitatório",descricao:"Acompanhe o processo licitatório desde a abertura até a homologação.",icon:e.jsx($4,{className:"w-6 h-6"}),path:"/processo-licitatorio"},{nome:"Relatórios",descricao:"Visualize dados estratégicos em relatórios automáticos e dashboards personalizáveis.",icon:e.jsx(Zv,{className:"w-6 h-6"}),path:"/relatorios"},{nome:"Configurações do Fluxo",descricao:"Personalize o fluxo de trabalho e os modelos padrão conforme a instituição.",icon:e.jsx(Ft,{className:"w-6 h-6"}),path:"/configuracoes-fluxo"}],[]),v=Z.useCallback(j=>{t(j)},[t]);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"read-progress"}),e.jsx(p_,{}),e.jsx(Jr,{}),e.jsx("div",{className:"fixed right-3 md:right-5 bottom-4 md:bottom-6 z-40 flex flex-col gap-2 md:gap-3",children:e.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir chatbot de suporte",className:"w-10 h-10 md:w-11 md:h-11 rounded-full shadow-md border border-gray-200 bg-white hover:bg-gray-50 flex items-center justify-center",children:e.jsx(Ki,{"aria-label":"Suporte",className:"w-5 h-5 md:w-5 md:h-5 text-blue-600"})})}),e.jsxs("main",{className:"pt-16 md:pt-20 px-6 py-8 flex-1",children:[e.jsx("div",{"data-reveal":!0,children:e.jsx(cE,{title:`Bem-vindo, ${((b=s==null?void 0:s.nome)==null?void 0:b.split(" ")[0])||"Usuário"}`,description:"Sua central para gerenciar contratações públicas de forma inteligente e integrada.",primaryCta:{text:"Explorar Módulos",onClick:Z.useCallback(()=>{var j;return(j=a.current)==null?void 0:j.scrollIntoView({behavior:"smooth"})},[])},secondaryCta:{text:"Assistir Guia Rápido",onClick:Z.useCallback(()=>{var j;return(j=r.current)==null?void 0:j.scrollIntoView({behavior:"smooth"})},[])},mockupImage:{alt:"Painel do Fiscatus",width:1248,height:765,src:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1400&q=60"},glowVariant:"above",glowSize:"xl",glowColor:"brand"})}),e.jsxs("section",{ref:a,className:"mb-12",children:[e.jsx("header",{"data-reveal":!0,className:"mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Módulos do Sistema"})}),e.jsx("div",{"data-reveal-stagger":!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((j,w)=>e.jsx("div",{className:"group relative h-48 rounded-2xl p-[1px] bg-gradient-to-br from-gray-200/60 to-transparent hover:from-blue-200/60 hover:to-purple-200/60 transition-all duration-200",children:e.jsx("div",{className:"h-full rounded-2xl bg-white border border-gray-200 shadow-sm group-hover:shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-5 relative flex flex-col h-full",children:[e.jsx("div",{className:"pointer-events-none absolute -right-6 -top-6 w-20 h-20 bg-blue-100/40 rounded-full blur-2xl group-hover:bg-blue-200/60"}),e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 text-blue-600 ring-1 ring-blue-100",children:j.icon}),e.jsx("div",{className:"min-w-0",children:e.jsx("h3",{className:"text-[17px] font-semibold text-gray-900 leading-snug truncate",children:j.nome})})]})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.descricao})}),e.jsx("div",{className:"mt-4 flex items-center justify-start",children:j.path==="/planejamento-da-contratacao"?e.jsxs("button",{onClick:()=>v(j.path),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-600 text-white text-sm hover:bg-blue-700 shadow-sm",children:["Abrir",e.jsx(Fs,{className:"w-4 h-4"})]}):e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsxs("button",{disabled:!0,"aria-disabled":!0,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-gray-100 text-gray-500 text-sm cursor-not-allowed shadow-sm",children:["Em breve",e.jsx(fn,{className:"w-4 h-4"})]})})}),e.jsx(St,{children:e.jsx("p",{children:"Este módulo estará disponível em breve."})})]})})})]})})},w))})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{"data-reveal":!0,className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 shadow-sm h-full bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-blue-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -left-16 -bottom-16 w-52 h-52 bg-indigo-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 bg-purple-100/40 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative p-6 md:p-7 lg:p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("img",{src:pd,alt:"Logo Fiscatus",className:"w-12 h-12"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Sobre o Sistema"}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Plataforma unificada para contratações públicas"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("p",{className:"text-black leading-relaxed",children:"O Fiscatus foi criado para apoiar gestores públicos na condução das contratações, reunindo em uma única plataforma todas as etapas do processo, do planejamento à execução contratual. Nasceu da prática e do olhar atento de profissionais que conhecem de perto os desafios da administração, oferecendo uma ferramenta que alia simplicidade, inovação e segurança para tornar cada etapa mais clara e acessível."}),e.jsx("p",{className:"text-black leading-relaxed",children:"Com dashboards intuitivos, fluxos flexíveis e recursos de automação, o sistema ajuda a reduzir a burocracia e a dar mais agilidade às rotinas, permitindo que as equipes foquem no que realmente importa: resultados. O Fiscatus inspira confiança, fortalece a transparência e se apresenta como um parceiro de trabalho diário, trazendo tranquilidade e eficiência para quem lida com as contratações públicas."})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Fluxos Personalizados","Assinaturas Digitais","Notificações","Relatórios Inteligentes","Multi-Órgão"].map(j=>e.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-white/90 text-gray-700 border border-gray-200 shadow-sm",children:j},j))}),e.jsx("div",{className:"mt-auto",children:e.jsxs("button",{onClick:()=>t("/historia"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 shadow-sm transition-colors",children:["Conhecer a história completa",e.jsx(md,{className:"w-4 h-4"})]})})]})]})}),e.jsx("div",{"data-reveal":!0,className:"col-span-12 lg:col-span-6",children:e.jsxs(Ge,{className:"rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"px-6 pt-6 pb-5 bg-gradient-to-br from-indigo-50 via-white to-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-indigo-600/10 text-indigo-600 flex items-center justify-center",children:e.jsx(Ki,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Suporte"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs(oe,{variant:"secondary",className:"bg-green-50 text-green-700 ring-1 ring-green-200 w-fit",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1.5"}),"Online agora"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:"Tempo médio: 3 min"})]})]})]})]})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(hr,{className:"h-10 w-10 flex-shrink-0",children:[e.jsx(xr,{src:"https://randomuser.me/api/portraits/women/65.jpg",alt:"Agente"}),e.jsx(fr,{className:"bg-indigo-100 text-indigo-600",children:e.jsx(Iu,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"rounded-2xl border bg-white px-4 py-3 shadow-sm",children:e.jsx("p",{className:"text-[15px] text-gray-800 leading-relaxed",children:"Olá! Precisa de ajuda para iniciar um DFD ou configurar seu fluxo?"})})})]})}),e.jsx("div",{className:"px-6 pb-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Canais de atendimento"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(no,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Chat em tempo real"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(rb,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"suporte@fiscatus.gov.br"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(HN,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Central de ajuda"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"SLA e horário"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(ks,{className:"h-4 w-4 flex-shrink-0 text-green-600"}),e.jsx("span",{children:"Suporte instantâneo"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Atendimento: 8h–18h (dias úteis)"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(HN,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Incidentes 24/7"})]})]})]})]})}),e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100 bg-gray-50/50",children:[e.jsxs(C,{className:"w-full h-11 gap-2 font-medium",onClick:()=>o(!0),children:[e.jsx(no,{className:"h-5 w-5"})," Abrir suporte"]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 text-center leading-relaxed",children:"Horário comercial: 8h às 18h — suporte 24/7 para incidentes."})]})]})})]})}),e.jsxs("section",{ref:r,className:"mb-12",children:[e.jsxs("div",{"data-reveal":!0,className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tutoriais & Recursos"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",onClick:()=>t("/tutoriais"),children:"Ver todos os tutoriais"})]}),e.jsx("div",{"data-reveal-stagger":!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:Z.useMemo(()=>[{titulo:"Introdução ao Fiscatus",tempo:"4:32",thumb:"https://images.unsplash.com/photo-1552581234-26160f608093?auto=format&fit=crop&w=1200&q=60"},{titulo:"Modelando Fluxos",tempo:"7:18",thumb:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1200&q=60"},{titulo:"Relatórios Inteligentes",tempo:"5:05",thumb:"https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&w=1200&q=60"}],[]).map((j,w)=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[e.jsx("img",{src:j.thumb,alt:`Capa do vídeo: ${j.titulo}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),e.jsx("button",{className:"absolute inset-0 m-auto w-12 h-12 rounded-full bg-white/90 backdrop-blur flex items-center justify-center shadow hover:bg-white",children:e.jsx(W4,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:"absolute bottom-2 right-2 px-2 py-0.5 text-xs rounded bg-gray-900/80 text-white",children:j.tempo})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.titulo})})]},w))}),e.jsx("div",{"data-reveal":"zoom",className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:Z.useMemo(()=>[{q:"Como personalizar o fluxo?",a:"Acesse Configurações do Fluxo para editar etapas, responsáveis e regras."},{q:"Onde vejo minhas pendências?",a:"Abra Notificações ou o módulo Minhas Pendências no topo do painel."},{q:"Como gerar relatórios?",a:"No módulo Relatórios, selecione um template e ajuste os filtros desejados."}],[]).map((j,w)=>e.jsx(wV,{pergunta:j.q,resposta:j.a},w))})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{"data-reveal":!0,children:e.jsx(CV,{title:"Feedback de Usuários"})}),e.jsx("div",{"data-reveal":!0,children:e.jsx(SV,{title:"Feedback de Administrações Públicas"})}),e.jsxs("div",{"data-reveal":!0,className:"lg:col-span-1 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Treinamento Personalizado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Capacite sua equipe com um plano de adoção sob medida."}),e.jsxs("ul",{className:"text-sm text-gray-700 list-disc pl-5 space-y-1 mb-6",children:[e.jsx("li",{children:"Workshops práticos"}),e.jsx("li",{children:"Onboarding guiado"}),e.jsx("li",{children:"Materiais exclusivos"})]})]}),e.jsx("button",{onClick:()=>t("/treinamento"),className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Agendar Treinamento"})]})]})})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50",onClick:()=>o(!1)}),e.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(Iu,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Assistente Fiscatus"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Online agora"})]})]}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Yt,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[i.map(j=>e.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex gap-2 max-w-[80%] ${j.role==="user"?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j.role==="user"?"bg-blue-600":"bg-gray-200"}`,children:j.role==="user"?e.jsx(ht,{className:"w-4 h-4 text-white"}):e.jsx(Iu,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:`rounded-2xl px-4 py-2 ${j.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.text}),e.jsx("p",{className:`text-xs mt-1 ${j.role==="user"?"text-blue-100":"text-gray-500"}`,children:j.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})},j.id)),d&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex gap-2 max-w-[80%]",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Iu,{className:"w-4 h-4 text-gray-600"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:150ms]"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:300ms]"})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),onKeyPress:p,placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:g,disabled:!c.trim(),className:"w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:e.jsx(vs,{className:"w-4 h-4"})})]})})]})]}),e.jsxs("footer",{className:"bg-gray-50 border-t border-gray-200",children:[e.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 md:px-8 py-6 md:py-8 grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:pd,alt:"Logo Fiscatus",className:"w-8 h-8"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Fiscatus"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gestão moderna e integrada para contratações públicas."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Status do sistema"}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 text-xs",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Online"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Links úteis"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{className:"text-gray-700 hover:text-blue-700",href:"#",children:"Política de Privacidade"})}),e.jsx("li",{children:e.jsx("a",{className:"text-gray-700 hover:text-blue-700",href:"#",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/suporte"),className:"text-left text-gray-700 hover:text-blue-700",children:"Suporte"})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Informações técnicas"}),e.jsxs("ul",{className:"text-sm text-gray-700",children:[e.jsx("li",{children:"Versão: v1.0.0"}),e.jsx("li",{children:"Ano: 2025"}),e.jsx("li",{children:"Ambiente: Produção"})]})]})]}),e.jsx("div",{className:"py-3 text-center text-xs text-gray-600",children:"© 2025 Fiscatus — Feito com dedicação para a administração pública brasileira"})]})]})}function wV({pergunta:t,resposta:s}){const[a,r]=Z.useState(!1);return e.jsxs("div",{className:"px-4 py-3",children:[e.jsxs("button",{onClick:()=>r(n=>!n),className:"w-full flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t}),e.jsx(Fs,{className:"w-4 h-4 text-gray-400 transition-transform "+(a?"rotate-90":"")})]}),a&&e.jsx("p",{className:"text-sm text-gray-600 pb-3",children:s}),e.jsx("div",{className:"h-px bg-gray-100"})]})}const CV=Z.memo(({title:t})=>{const s=Z.useMemo(()=>[{nome:"Carla Nunes",cargo:"Gestora de Compras",frase:"O Fiscatus simplificou nosso processo de ponta a ponta.",foto:"https://randomuser.me/api/portraits/women/68.jpg",estrelas:5},{nome:"Rafael Lima",cargo:"Coordenador de TI",frase:"Integração fluida e relatórios que fazem diferença.",foto:"https://randomuser.me/api/portraits/men/32.jpg",estrelas:5},{nome:"Mariana Alves",cargo:"Analista Sênior",frase:"Onboarding rápido e suporte excelente.",foto:"https://randomuser.me/api/portraits/women/44.jpg",estrelas:4}],[]),[a,r]=Z.useState(0),n=Z.useCallback(()=>r((a+1)%s.length),[a,s.length]);Z.useCallback(()=>r((a-1+s.length)%s.length),[a,s.length]),Z.useEffect(()=>{const i=setInterval(n,6e3);return()=>clearInterval(i)},[n]);const o=s[a];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 flex flex-col",children:[t&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:o.foto,alt:o.nome,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",decoding:"async"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:o.cargo})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:5}).map((i,l)=>e.jsx("div",{className:"w-4 h-4 "+(l<o.estrelas?"text-yellow-500":"text-gray-300"),children:"★"},l))}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["“",o.frase,"”"]}),e.jsx("div",{className:"mt-auto flex items-center justify-center",children:e.jsx("div",{className:"flex gap-2",children:s.map((i,l)=>e.jsx("button",{onClick:()=>r(l),className:"w-2.5 h-2.5 rounded-full transition-colors "+(l===a?"bg-blue-600":"bg-gray-300 hover:bg-gray-400"),"aria-label":`Ir para depoimento ${l+1}`},l))})})]})}),SV=Z.memo(({title:t})=>{const s="/fiscatus-app/",a=Z.useMemo(()=>`${s}logos/brasao-generico.svg`,[s]),r=Z.useMemo(()=>[{nome:"Secretaria de Saúde",cargo:"Governo Estadual",logo:a,frase:"A adoção da plataforma trouxe transparência e agilidade às contratações.",estrelas:5},{nome:"Prefeitura Municipal",cargo:"Administração Pública",logo:a,frase:"Padronizamos fluxos e reduzimos retrabalho significativamente.",estrelas:5},{nome:"Hospital Público",cargo:"Instituição de Saúde",logo:a,frase:"Relatórios e notificações facilitaram nosso controle interno.",estrelas:4}],[a]),[n,o]=Z.useState(0),i=Z.useCallback(()=>o((n+1)%r.length),[n,r.length]);Z.useCallback(()=>o((n-1+r.length)%r.length),[n,r.length]),Z.useEffect(()=>{const c=setInterval(i,7e3);return()=>clearInterval(c)},[i]);const l=r[n];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 flex flex-col",children:[t&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-md overflow-hidden ring-1 ring-gray-200 bg-white flex items-center justify-center",children:e.jsx("img",{src:r[n].logo,alt:l.nome,className:"w-full h-full object-contain p-1",loading:"lazy",decoding:"async",onError:c=>{const u=c.target;u.style.display="none";const d=u.parentElement;d&&(d.innerHTML='<div class="w-6 h-6 text-gray-400"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>')}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:l.cargo})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:5}).map((c,u)=>e.jsx("div",{className:"w-4 h-4 "+(u<l.estrelas?"text-yellow-500":"text-gray-300"),children:"★"},u))}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["“",l.frase,"”"]}),e.jsx("div",{className:"mt-auto flex items-center justify-center",children:e.jsx("div",{className:"flex gap-2",children:r.map((c,u)=>e.jsx("button",{onClick:()=>o(u),className:"w-2.5 h-2.5 rounded-full transition-colors "+(u===n?"bg-blue-600":"bg-gray-300 hover:bg-gray-400"),"aria-label":`Ir para depoimento público ${u+1}`},u))})})]})});function EV(t,s,a,r,n,o){const i=t+r*Math.cos(n*Math.PI/180),l=s+r*Math.sin(n*Math.PI/180),c=t+r*Math.cos(o*Math.PI/180),u=s+r*Math.sin(o*Math.PI/180),d=o-n<=180?0:1,h=`A ${r} ${r} 0 ${d} 1 ${c} ${u}`,x=`L ${t+a*Math.cos(o*Math.PI/180)} ${s+a*Math.sin(o*Math.PI/180)}`,f=`A ${a} ${a} 0 ${d} 0 ${t+a*Math.cos(n*Math.PI/180)} ${s+a*Math.sin(n*Math.PI/180)}`;return`M ${i} ${l} ${h} ${x} ${f} Z`}function PV(t){switch(t.toLowerCase()){case"alta":return"bg-red-100 text-red-800";case"média":return"bg-yellow-100 text-yellow-800";case"baixa":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function AV(t){switch(t.toLowerCase()){case"em andamento":return"bg-blue-100 text-blue-800";case"concluído":return"bg-green-100 text-green-800";case"pendente":return"bg-yellow-100 text-yellow-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function DV(){const t=[{label:"Total de Processos",value:"1.247",trend:"+12% este mês",icon:e.jsx($e,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-600"},{label:"Em Andamento",value:"342",trend:"+8% este mês",icon:e.jsx(CF,{className:"w-4 h-4"}),color:"bg-green-100 text-green-600"},{label:"Concluídos",value:"856",trend:"+15% este mês",icon:e.jsx(ks,{className:"w-4 h-4"}),color:"bg-emerald-100 text-emerald-600"},{label:"Pendentes",value:"49",trend:"-5% este mês",icon:e.jsx(Fe,{className:"w-4 h-4"}),color:"bg-orange-100 text-orange-600"},{label:"Usuários Ativos",value:"89",trend:"+3% este mês",icon:e.jsx(qt,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-600"},{label:"Alertas",value:"12",trend:"-2% este mês",icon:e.jsx(pt,{className:"w-4 h-4"}),color:"bg-red-100 text-red-600"}],s=[{label:"Em Andamento",value:342,percentage:27,color:"#3B82F6",icon:e.jsx(qs,{className:"w-4 h-4"})},{label:"Concluído",value:856,percentage:69,color:"#10B981",icon:e.jsx(ks,{className:"w-4 h-4"})},{label:"Pendente",value:49,percentage:4,color:"#F59E0B",icon:e.jsx(Fe,{className:"w-4 h-4"})}],a=[{label:"Análise",value:45,color:"bg-blue-500"},{label:"Aprovação",value:32,color:"bg-green-500"},{label:"Execução",value:28,color:"bg-yellow-500"},{label:"Finalização",value:15,color:"bg-purple-500"}],r=[{id:1,descricao:"Aprovação de DFD pendente",processo:"DFD-2024-001",prazo:"2 dias",prioridade:"alta",link:"/processo/1"},{id:2,descricao:"Revisão de documentação",processo:"DFD-2024-015",prazo:"5 dias",prioridade:"média",link:"/processo/2"}],n=[{id:1,titulo:"Novo processo criado",texto:"DFD-2024-020 foi criado e aguarda sua análise",data:"há 2 horas",lida:!1},{id:2,titulo:"Processo aprovado",texto:"DFD-2024-018 foi aprovado com sucesso",data:"há 4 horas",lida:!0},{id:3,titulo:"Prazo vencendo",texto:"DFD-2024-012 vence em 3 dias",data:"há 1 dia",lida:!1}],o=[{id:1,numero:"DFD-2024-019",tipo:"DFD",status:"em andamento",ultimoAcesso:"há 2 horas",link:"/processo/1"},{id:2,numero:"DFD-2024-018",tipo:"DFD",status:"concluído",ultimoAcesso:"há 4 horas",link:"/processo/2"},{id:3,numero:"DFD-2024-017",tipo:"DFD",status:"pendente",ultimoAcesso:"há 1 dia",link:"/processo/3"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:"pt-16 md:pt-20 px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:t.map((i,l)=>e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.value}),e.jsx("p",{className:"text-xs text-green-600",children:i.trend})]}),e.jsx("div",{className:`p-3 rounded-lg ${i.color}`,children:i.icon})]})})},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsxs(We,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Processos"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("svg",{width:"200",height:"200",className:"mx-auto",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#E5E7EB",strokeWidth:"16"}),s.map((i,l)=>{const c=l===0?0:s.slice(0,l).reduce((d,h)=>d+h.percentage*3.6,0),u=c+i.percentage*3.6;return e.jsx("path",{d:EV(100,100,64,80,c,u),fill:i.color},i.label)})]})}),e.jsx("div",{className:"mt-4 space-y-2",children:s.map(i=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:i.icon}),e.jsx("span",{className:"text-sm text-gray-600",children:i.label})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.value})]},i.label))})]})}),e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsxs(We,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Processos por Etapa"}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-600 w-20",children:i.label}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${i.color}`,style:{width:`${i.value/Math.max(...a.map(l=>l.value))*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 w-8",children:i.value})]},i.label))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Pendências"}),e.jsx(pt,{className:"w-4 h-4 text-orange-500"})]}),r.length>0?e.jsx("div",{className:"space-y-3",children:r.map(i=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:i.descricao}),e.jsx("p",{className:"text-xs text-gray-500",children:i.processo})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${PV(i.prioridade)}`,children:i.prazo})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Prazo: ",i.prazo]}),e.jsxs("a",{href:i.link,className:"text-blue-600 hover:text-blue-700 text-xs font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Acessar"}),e.jsx(Fs,{className:"w-3 h-3"})]})]})]},i.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma pendência encontrada"})]})}),e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Notificações"}),e.jsx(ro,{className:"w-4 h-4 text-blue-500"})]}),e.jsx("div",{className:"space-y-2",children:n.map(i=>e.jsx("div",{className:`p-3 rounded-lg border transition-colors ${i.lida?"border-gray-100 bg-gray-50":"border-blue-100 bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${i.lida?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:i.titulo}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.texto}),e.jsx("p",{className:"text-xs text-gray-400",children:i.data})]})]})},i.id))})]})}),e.jsx(Ge,{className:"bg-white border-0 shadow-sm",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Acessos Recentes"}),e.jsx(xn,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("a",{href:i.link,className:"text-sm font-medium text-blue-600 hover:text-blue-700 flex items-center space-x-2",children:[e.jsx("span",{children:i.numero}),e.jsx(Fs,{className:"w-3 h-3"})]}),e.jsx("span",{className:"text-xs text-gray-400",children:i.tipo})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${AV(i.status)}`,children:i.status}),e.jsx("span",{className:"text-xs text-gray-400",children:i.ultimoAcesso})]})]},i.id))})]})})]}),e.jsx("footer",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-400",children:[e.jsx("span",{children:"Último login: 30/07/2025 08:15"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Versão 1.0.0"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Suporte: suporte@fiscatus.com.br"})]})})]})]})}function Nd(t,[s,a]){return Math.min(a,Math.max(s,t))}var v5=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(TV);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(o0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(o0,{...r,ref:s,children:a})});v5.displayName="Slot";var o0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=MV(a);return m.cloneElement(a,{...RV(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});o0.displayName="SlotClone";var kV=({children:t})=>e.jsx(e.Fragment,{children:t});function TV(t){return m.isValidElement(t)&&t.type===kV}function RV(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function MV(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var IV=[" ","Enter","ArrowUp","ArrowDown"],OV=[" ","Enter"],eu="Select",[Fx,_x,zV]=Bl(eu),[Ul,dae]=ua(eu,[zV,No]),Lx=No(),[FV,So]=Ul(eu),[_V,LV]=Ul(eu),b5=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:n,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:x,required:f,form:g}=t,p=Lx(s),[y,v]=m.useState(null),[b,j]=m.useState(null),[w,N]=m.useState(!1),E=wo(u),[A=!1,P]=Qs({prop:r,defaultProp:n,onChange:o}),[z,T]=Qs({prop:i,defaultProp:l,onChange:c}),k=m.useRef(null),L=y?g||!!y.closest("form"):!0,[U,Y]=m.useState(new Set),K=Array.from(U).map(F=>F.props.value).join(";");return e.jsx(fx,{...p,children:e.jsxs(FV,{required:f,scope:s,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:oa(),value:z,onValueChange:T,open:A,onOpenChange:P,dir:E,triggerPointerDownPosRef:k,disabled:x,children:[e.jsx(Fx.Provider,{scope:s,children:e.jsx(_V,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(F=>{Y(O=>new Set(O).add(F))},[]),onNativeOptionRemove:m.useCallback(F=>{Y(O=>{const S=new Set(O);return S.delete(F),S})},[]),children:a})}),L?e.jsxs(U5,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:z,onChange:F=>T(F.target.value),disabled:x,form:g,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(U)]},K):null]})})};b5.displayName=eu;var j5="SelectTrigger",y5=m.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...n}=t,o=Lx(a),i=So(j5,a),l=i.disabled||r,c=ot(s,i.onTriggerChange),u=_x(a),d=m.useRef("touch"),[h,x,f]=H5(p=>{const y=u().filter(j=>!j.disabled),v=y.find(j=>j.value===i.value),b=W5(y,p,v);b!==void 0&&i.onValueChange(b.value)}),g=p=>{l||(i.onOpenChange(!0),f()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Bd,{asChild:!0,...o,children:e.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":B5(i.value)?"":void 0,...n,ref:c,onClick:Ee(n.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ee(n.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ee(n.onKeyDown,p=>{const y=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&x(p.key),!(y&&p.key===" ")&&IV.includes(p.key)&&(g(),p.preventDefault())})})})});y5.displayName=j5;var N5="SelectValue",w5=m.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,children:o,placeholder:i="",...l}=t,c=So(N5,a),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=ot(s,c.onValueNodeChange);return Ps(()=>{u(d)},[u,d]),e.jsx(Ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:B5(c.value)?e.jsx(e.Fragment,{children:i}):o})});w5.displayName=N5;var $V="SelectIcon",C5=m.forwardRef((t,s)=>{const{__scopeSelect:a,children:r,...n}=t;return e.jsx(Ve.span,{"aria-hidden":!0,...n,ref:s,children:r||"▼"})});C5.displayName=$V;var VV="SelectPortal",S5=t=>e.jsx(Gl,{asChild:!0,...t});S5.displayName=VV;var oi="SelectContent",E5=m.forwardRef((t,s)=>{const a=So(oi,t.__scopeSelect),[r,n]=m.useState();if(Ps(()=>{n(new DocumentFragment)},[]),!a.open){const o=r;return o?Ka.createPortal(e.jsx(P5,{scope:t.__scopeSelect,children:e.jsx(Fx.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(A5,{...t,ref:s})});E5.displayName=oi;var or=10,[P5,Eo]=Ul(oi),GV="SelectContentImpl",A5=m.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:x,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:y,...v}=t,b=So(oi,a),[j,w]=m.useState(null),[N,E]=m.useState(null),A=ot(s,ae=>w(ae)),[P,z]=m.useState(null),[T,k]=m.useState(null),L=_x(a),[U,Y]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(j)return Ex(j)},[j]),Nx();const F=m.useCallback(ae=>{const[be,...xe]=L().map(ye=>ye.ref.current),[ne]=xe.slice(-1),Ae=document.activeElement;for(const ye of ae)if(ye===Ae||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===be&&N&&(N.scrollTop=0),ye===ne&&N&&(N.scrollTop=N.scrollHeight),ye==null||ye.focus(),document.activeElement!==Ae))return},[L,N]),O=m.useCallback(()=>F([P,j]),[F,P,j]);m.useEffect(()=>{U&&O()},[U,O]);const{onOpenChange:S,triggerPointerDownPosRef:$}=b;m.useEffect(()=>{if(j){let ae={x:0,y:0};const be=ne=>{var Ae,ye;ae={x:Math.abs(Math.round(ne.pageX)-(((Ae=$.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((ye=$.current)==null?void 0:ye.y)??0))}},xe=ne=>{ae.x<=10&&ae.y<=10?ne.preventDefault():j.contains(ne.target)||S(!1),document.removeEventListener("pointermove",be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",xe,{capture:!0})}}},[j,S,$]),m.useEffect(()=>{const ae=()=>S(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[S]);const[H,J]=H5(ae=>{const be=L().filter(Ae=>!Ae.disabled),xe=be.find(Ae=>Ae.ref.current===document.activeElement),ne=W5(be,ae,xe);ne&&setTimeout(()=>ne.ref.current.focus())}),re=m.useCallback((ae,be,xe)=>{const ne=!K.current&&!xe;(b.value!==void 0&&b.value===be||ne)&&(z(ae),ne&&(K.current=!0))},[b.value]),le=m.useCallback(()=>j==null?void 0:j.focus(),[j]),we=m.useCallback((ae,be,xe)=>{const ne=!K.current&&!xe;(b.value!==void 0&&b.value===be||ne)&&k(ae)},[b.value]),ke=r==="popper"?i0:D5,he=ke===i0?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:x,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return e.jsx(P5,{scope:a,content:j,viewport:N,onViewportChange:E,itemRefCallback:re,selectedItem:P,onItemLeave:le,itemTextRefCallback:we,focusSelectedItem:O,selectedItemText:T,position:r,isPositioned:U,searchRef:H,children:e.jsx(Wd,{as:v5,allowPinchZoom:!0,children:e.jsx(Hd,{asChild:!0,trapped:b.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ee(n,ae=>{var be;(be=b.trigger)==null||be.focus({preventScroll:!0}),ae.preventDefault()}),children:e.jsx(ui,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ae=>ae.preventDefault(),...v,...he,onPlaced:()=>Y(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,ae=>{const be=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!be&&ae.key.length===1&&J(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ne=L().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ae=ae.target,ye=ne.indexOf(Ae);ne=ne.slice(ye+1)}setTimeout(()=>F(ne)),ae.preventDefault()}})})})})})})});A5.displayName=GV;var BV="SelectItemAlignedPosition",D5=m.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...n}=t,o=So(oi,a),i=Eo(oi,a),[l,c]=m.useState(null),[u,d]=m.useState(null),h=ot(s,A=>d(A)),x=_x(a),f=m.useRef(!1),g=m.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=i,j=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&y&&v){const A=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),z=o.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(o.dir!=="rtl"){const Ae=T.left-P.left,ye=z.left-Ae,Be=A.left-ye,de=A.width+Be,Te=Math.max(de,P.width),Pe=window.innerWidth-or,D=Nd(ye,[or,Math.max(or,Pe-Te)]);l.style.minWidth=de+"px",l.style.left=D+"px"}else{const Ae=P.right-T.right,ye=window.innerWidth-z.right-Ae,Be=window.innerWidth-A.right-ye,de=A.width+Be,Te=Math.max(de,P.width),Pe=window.innerWidth-or,D=Nd(ye,[or,Math.max(or,Pe-Te)]);l.style.minWidth=de+"px",l.style.right=D+"px"}const k=x(),L=window.innerHeight-or*2,U=p.scrollHeight,Y=window.getComputedStyle(u),K=parseInt(Y.borderTopWidth,10),F=parseInt(Y.paddingTop,10),O=parseInt(Y.borderBottomWidth,10),S=parseInt(Y.paddingBottom,10),$=K+F+U+S+O,H=Math.min(y.offsetHeight*5,$),J=window.getComputedStyle(p),re=parseInt(J.paddingTop,10),le=parseInt(J.paddingBottom,10),we=A.top+A.height/2-or,ke=L-we,he=y.offsetHeight/2,ae=y.offsetTop+he,be=K+F+ae,xe=$-be;if(be<=we){const Ae=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-p.offsetTop-p.offsetHeight,Be=Math.max(ke,he+(Ae?le:0)+ye+O),de=be+Be;l.style.height=de+"px"}else{const Ae=k.length>0&&y===k[0].ref.current;l.style.top="0px";const Be=Math.max(we,K+p.offsetTop+(Ae?re:0)+he)+xe;l.style.height=Be+"px",p.scrollTop=be-we+p.offsetTop}l.style.margin=`${or}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[x,o.trigger,o.valueNode,l,u,p,y,v,o.dir,r]);Ps(()=>j(),[j]);const[w,N]=m.useState();Ps(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(A=>{A&&g.current===!0&&(j(),b==null||b(),g.current=!1)},[j,b]);return e.jsx(HV,{scope:a,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(Ve.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});D5.displayName=BV;var UV="SelectPopperPosition",i0=m.forwardRef((t,s)=>{const{__scopeSelect:a,align:r="start",collisionPadding:n=or,...o}=t,i=Lx(a);return e.jsx(px,{...i,...o,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});i0.displayName=UV;var[HV,Lb]=Ul(oi,{}),l0="SelectViewport",k5=m.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...n}=t,o=Eo(l0,a),i=Lb(l0,a),l=ot(s,o.onViewportChange),c=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Fx.Slot,{scope:a,children:e.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ee(n.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=i;if(x!=null&&x.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const g=window.innerHeight-or*2,p=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(p,y);if(v<g){const b=v+f,j=Math.min(g,b),w=b-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});k5.displayName=l0;var T5="SelectGroup",[WV,qV]=Ul(T5),YV=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=oa();return e.jsx(WV,{scope:a,id:n,children:e.jsx(Ve.div,{role:"group","aria-labelledby":n,...r,ref:s})})});YV.displayName=T5;var R5="SelectLabel",M5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=qV(R5,a);return e.jsx(Ve.div,{id:n.id,...r,ref:s})});M5.displayName=R5;var ph="SelectItem",[KV,I5]=Ul(ph),O5=m.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:n=!1,textValue:o,...i}=t,l=So(ph,a),c=Eo(ph,a),u=l.value===r,[d,h]=m.useState(o??""),[x,f]=m.useState(!1),g=ot(s,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,r,n)}),p=oa(),y=m.useRef("touch"),v=()=>{n||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(KV,{scope:a,value:r,disabled:n,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{h(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:e.jsx(Fx.ItemSlot,{scope:a,value:r,disabled:n,textValue:d,children:e.jsx(Ve.div,{role:"option","aria-labelledby":p,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:g,onFocus:Ee(i.onFocus,()=>f(!0)),onBlur:Ee(i.onBlur,()=>f(!1)),onClick:Ee(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ee(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ee(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Ee(i.onPointerMove,b=>{var j;y.current=b.pointerType,n?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(i.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ee(i.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(OV.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});O5.displayName=ph;var wc="SelectItemText",z5=m.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,...o}=t,i=So(wc,a),l=Eo(wc,a),c=I5(wc,a),u=LV(wc,a),[d,h]=m.useState(null),x=ot(s,v=>h(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),f=d==null?void 0:d.textContent,g=m.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return Ps(()=>(p(g),()=>y(g)),[p,y,g]),e.jsxs(e.Fragment,{children:[e.jsx(Ve.span,{id:c.textId,...o,ref:x}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ka.createPortal(o.children,i.valueNode):null]})});z5.displayName=wc;var F5="SelectItemIndicator",_5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return I5(F5,a).isSelected?e.jsx(Ve.span,{"aria-hidden":!0,...r,ref:s}):null});_5.displayName=F5;var c0="SelectScrollUpButton",L5=m.forwardRef((t,s)=>{const a=Eo(c0,t.__scopeSelect),r=Lb(c0,t.__scopeSelect),[n,o]=m.useState(!1),i=ot(s,r.onScrollButtonChange);return Ps(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=a.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?e.jsx(V5,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=a;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});L5.displayName=c0;var d0="SelectScrollDownButton",$5=m.forwardRef((t,s)=>{const a=Eo(d0,t.__scopeSelect),r=Lb(d0,t.__scopeSelect),[n,o]=m.useState(!1),i=ot(s,r.onScrollButtonChange);return Ps(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=a.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?e.jsx(V5,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=a;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$5.displayName=d0;var V5=m.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...n}=t,o=Eo("SelectScrollButton",a),i=m.useRef(null),l=_x(a),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ps(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),e.jsx(Ve.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:Ee(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ee(n.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ee(n.onPointerLeave,()=>{c()})})}),XV="SelectSeparator",G5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return e.jsx(Ve.div,{"aria-hidden":!0,...r,ref:s})});G5.displayName=XV;var u0="SelectArrow",JV=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Lx(a),o=So(u0,a),i=Eo(u0,a);return o.open&&i.position==="popper"?e.jsx(gx,{...n,...r,ref:s}):null});JV.displayName=u0;function B5(t){return t===""||t===void 0}var U5=m.forwardRef((t,s)=>{const{value:a,...r}=t,n=m.useRef(null),o=ot(s,n),i=dx(a);return m.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==a&&d){const h=new Event("change",{bubbles:!0});d.call(l,a),l.dispatchEvent(h)}},[i,a]),e.jsx(Ud,{asChild:!0,children:e.jsx("select",{...r,ref:o,defaultValue:a})})});U5.displayName="BubbleSelect";function H5(t){const s=as(t),a=m.useRef(""),r=m.useRef(0),n=m.useCallback(i=>{const l=a.current+i;s(l),function c(u){a.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),o=m.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,o]}function W5(t,s,a){const n=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let i=QV(t,Math.max(o,0));n.length===1&&(i=i.filter(u=>u!==a));const c=i.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}function QV(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var ZV=b5,q5=y5,eG=w5,tG=C5,sG=S5,Y5=E5,aG=k5,K5=M5,X5=O5,rG=z5,nG=_5,J5=L5,Q5=$5,Z5=G5;const rt=ZV,nt=eG,st=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(q5,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(tG,{asChild:!0,children:e.jsx(_l,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=q5.displayName;const eD=m.forwardRef(({className:t,...s},a)=>e.jsx(J5,{ref:a,className:je("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Yz,{className:"h-4 w-4"})}));eD.displayName=J5.displayName;const tD=m.forwardRef(({className:t,...s},a)=>e.jsx(Q5,{ref:a,className:je("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(_l,{className:"h-4 w-4"})}));tD.displayName=Q5.displayName;const at=m.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(sG,{children:e.jsxs(Y5,{ref:n,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(eD,{}),e.jsx(aG,{className:je("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(tD,{})]})}));at.displayName=Y5.displayName;const oG=m.forwardRef(({className:t,...s},a)=>e.jsx(K5,{ref:a,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));oG.displayName=K5.displayName;const ve=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(X5,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nG,{children:e.jsx(Fl,{className:"h-4 w-4"})})}),e.jsx(rG,{children:s})]}));ve.displayName=X5.displayName;const iG=m.forwardRef(({className:t,...s},a)=>e.jsx(Z5,{ref:a,className:je("-mx-1 my-1 h-px bg-muted",t),...s}));iG.displayName=Z5.displayName;function lG({searchTerm:t,statusFilter:s,prazoFilter:a,tipoFilter:r,onSearchChange:n,onStatusChange:o,onPrazoChange:i,onTipoChange:l}){return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 w-full",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{type:"text",placeholder:"Buscar por número ou nome do documento",value:t,onChange:c=>n(c.target.value),className:"pl-10 border-gray-200 focus:border-blue-300 focus:ring-blue-200 w-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 flex-shrink-0",children:[e.jsx("div",{children:e.jsxs(rt,{value:s,onValueChange:o,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Status"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todos"}),e.jsx(ve,{value:"pendentes",children:"Pendentes"}),e.jsx(ve,{value:"assinados",children:"Assinados"})]})]})}),e.jsx("div",{children:e.jsxs(rt,{value:a,onValueChange:i,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Prazo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todos"}),e.jsx(ve,{value:"vencendo",children:"Vencendo em 3 dias"}),e.jsx(ve,{value:"vencidos",children:"Vencidos"})]})]})}),e.jsx("div",{children:e.jsxs(rt,{value:r,onValueChange:l,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Tipo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todos"}),e.jsx(ve,{value:"dfd",children:"DFD"}),e.jsx(ve,{value:"etp",children:"ETP"}),e.jsx(ve,{value:"termo",children:"Termo de Referência"})]})]})})]})]})})}function cG({status:t,className:s=""}){const r={pendente:{label:"Pendente",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:e.jsx(Fe,{className:"w-3 h-3"})},assinado:{label:"Assinado",className:"bg-green-100 text-green-700 border-green-200",icon:e.jsx(Re,{className:"w-3 h-3"})},atrasado:{label:"Atrasado",className:"bg-red-100 text-red-700 border-red-200",icon:e.jsx(pt,{className:"w-3 h-3"})}}[t];return e.jsxs(oe,{variant:"outline",className:`flex items-center gap-1 px-3 py-2 text-xs font-medium ${r.className} ${s}`,children:[r.icon,r.label]})}function dG({documento:t,onVisualizar:s}){t.status;const a=t.status==="atrasado";return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${a?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:t.numeroProcesso,children:t.numeroProcesso})}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:e.jsx("div",{className:"break-words line-clamp-2",title:t.nome,children:t.nome})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap",children:t.tipo})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("div",{className:"truncate",title:t.prazo,children:t.prazo})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(cG,{status:t.status})})}),e.jsx("td",{className:"flex justify-center items-center gap-2 min-w-[200px] px-4 py-2",children:t.status==="assinado"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm whitespace-nowrap",children:[e.jsx(Re,{className:"w-4 h-4"}),"Assinado"]}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>s(t.id),className:"h-8 w-8","aria-label":"Visualizar documento",children:e.jsx(Ze,{className:"w-5 h-5 text-muted-foreground"})})]}):e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>s(t.id),className:"flex items-center gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 whitespace-nowrap",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Visualizar e Assinar"]})})]})}const Ke=Mb,gh=Ib,uG=Ob,sD=m.forwardRef(({className:t,...s},a)=>e.jsx(Kd,{ref:a,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));sD.displayName=Kd.displayName;const Ye=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(uG,{children:[e.jsx(sD,{}),e.jsxs(Xd,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=Xd.displayName;const Qe=({className:t,...s})=>e.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Qe.displayName="DialogHeader";const zt=({className:t,...s})=>e.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});zt.displayName="DialogFooter";const Xe=m.forwardRef(({className:t,...s},a)=>e.jsx(Jd,{ref:a,className:je("text-lg font-semibold leading-none tracking-tight",t),...s}));Xe.displayName=Jd.displayName;const tt=m.forwardRef(({className:t,...s},a)=>e.jsx(Qd,{ref:a,className:je("text-sm text-muted-foreground",t),...s}));tt.displayName=Qd.displayName;function mG({onClose:t}){return e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 bg-white sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-lg",children:"📄"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Visualizar Documento"})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 hover:bg-gray-100",children:e.jsx(Yt,{className:"h-4 w-4"})})]})}function hG({documento:t}){const a={pendente:{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",className:"bg-yellow-100 text-yellow-700 border-yellow-200"},assinado:{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",className:"bg-green-100 text-green-700 border-green-200"},atrasado:{icon:e.jsx(Ss,{className:"w-4 h-4 text-red-600"}),label:"Atrasado",className:"bg-red-100 text-red-700 border-red-200"}}[t.status];return e.jsx(Ge,{className:"bg-gray-50 border-gray-200",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.nome}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t.numeroProcesso})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Prazo para assinar: ",t.prazo]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 justify-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tipo:"}),e.jsx(oe,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200",children:t.tipo})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsxs(oe,{variant:"outline",className:a.className,children:[a.icon,a.label]})]})]})]})})})}function xG({documento:t}){return e.jsxs("div",{className:"flex-1 flex flex-col bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-gray-50 flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center text-gray-500 p-8",children:[e.jsx($e,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Preview do Documento PDF"}),e.jsxs("p",{className:"text-sm text-gray-400 max-w-md",children:['Aqui seria exibido o conteúdo do documento "',t.nome,'"']}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:t.numeroProcesso})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white flex gap-3",children:[e.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Visualizar Completo"]}),e.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4"}),"Baixar PDF"]})]})]})}function fG(t,s){return m.useReducer((a,r)=>s[a][r]??a,t)}var $b="ScrollArea",[aD,uae]=ua($b),[pG,rr]=aD($b),rD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,type:r="hover",dir:n,scrollHideDelay:o=600,...i}=t,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,x]=m.useState(null),[f,g]=m.useState(null),[p,y]=m.useState(null),[v,b]=m.useState(0),[j,w]=m.useState(0),[N,E]=m.useState(!1),[A,P]=m.useState(!1),z=ot(s,k=>c(k)),T=wo(n);return e.jsx(pG,{scope:a,type:r,dir:T,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:x,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:A,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:w,children:e.jsx(Ve.div,{dir:T,...i,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});rD.displayName=$b;var nD="ScrollAreaViewport",oD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,children:r,asChild:n,nonce:o,...i}=t,l=rr(nD,a),c=m.useRef(null),u=ot(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),e.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...i,asChild:n,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:EG({asChild:n,children:r},d=>e.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});oD.displayName=nD;var Qr="ScrollAreaScrollbar",Vb=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=n,l=t.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),n.type==="hover"?e.jsx(gG,{...r,ref:s,forceMount:a}):n.type==="scroll"?e.jsx(vG,{...r,ref:s,forceMount:a}):n.type==="auto"?e.jsx(iD,{...r,ref:s,forceMount:a}):n.type==="always"?e.jsx(Gb,{...r,ref:s}):null});Vb.displayName=Qr;var gG=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(Ms,{present:a||o,children:e.jsx(iD,{"data-state":o?"visible":"hidden",...r,ref:s})})}),vG=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Vx(()=>c("SCROLL_END"),100),[l,c]=fG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,c]),m.useEffect(()=>{const u=n.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const x=()=>{const f=u[d];h!==f&&(c("SCROLL"),i()),h=f};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[n.viewport,o,c,i]),e.jsx(Ms,{present:a||l!=="hidden",children:e.jsx(Gb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:Ee(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),iD=m.forwardRef((t,s)=>{const a=rr(Qr,t.__scopeScrollArea),{forceMount:r,...n}=t,[o,i]=m.useState(!1),l=t.orientation==="horizontal",c=Vx(()=>{if(a.viewport){const u=a.viewport.offsetWidth<a.viewport.scrollWidth,d=a.viewport.offsetHeight<a.viewport.scrollHeight;i(l?u:d)}},10);return Nl(a.viewport,c),Nl(a.content,c),e.jsx(Ms,{present:r||o,children:e.jsx(Gb,{"data-state":o?"visible":"hidden",...n,ref:s})})}),Gb=m.forwardRef((t,s)=>{const{orientation:a="vertical",...r}=t,n=rr(Qr,t.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mD(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:x=>i.current=x};function h(x,f){return CG(x,i.current,l,f)}return a==="horizontal"?e.jsx(bG,{...d,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const x=n.viewport.scrollLeft,f=bw(x,l,n.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollLeft=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollLeft=h(x,n.dir))}}):a==="vertical"?e.jsx(jG,{...d,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const x=n.viewport.scrollTop,f=bw(x,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollTop=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollTop=h(x))}}):null}),bG=m.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,o=rr(Qr,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ot(s,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(cD,{"data-orientation":"horizontal",...n,ref:u,sizes:a,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$x(a)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const x=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(x),xD(x,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bh(i.paddingLeft),paddingEnd:bh(i.paddingRight)}})}})}),jG=m.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,o=rr(Qr,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ot(s,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(cD,{"data-orientation":"vertical",...n,ref:u,sizes:a,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$x(a)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const x=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(x),xD(x,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bh(i.paddingTop),paddingEnd:bh(i.paddingBottom)}})}})}),[yG,lD]=aD(Qr),cD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:n,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...x}=t,f=rr(Qr,a),[g,p]=m.useState(null),y=ot(s,z=>p(z)),v=m.useRef(null),b=m.useRef(""),j=f.viewport,w=r.content-r.viewport,N=as(d),E=as(c),A=Vx(h,10);function P(z){if(v.current){const T=z.clientX-v.current.left,k=z.clientY-v.current.top;u({x:T,y:k})}}return m.useEffect(()=>{const z=T=>{const k=T.target;(g==null?void 0:g.contains(k))&&N(T,w)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[j,g,w,N]),m.useEffect(E,[r,E]),Nl(g,A),Nl(f.content,A),e.jsx(yG,{scope:a,scrollbar:g,hasThumb:n,onThumbChange:as(o),onThumbPointerUp:as(i),onThumbPositionChange:E,onThumbPointerDown:as(l),children:e.jsx(Ve.div,{...x,ref:y,style:{position:"absolute",...x.style},onPointerDown:Ee(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(z))}),onPointerMove:Ee(t.onPointerMove,P),onPointerUp:Ee(t.onPointerUp,z=>{const T=z.target;T.hasPointerCapture(z.pointerId)&&T.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),vh="ScrollAreaThumb",dD=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=lD(vh,t.__scopeScrollArea);return e.jsx(Ms,{present:a||n.hasThumb,children:e.jsx(NG,{ref:s,...r})})}),NG=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,style:r,...n}=t,o=rr(vh,a),i=lD(vh,a),{onThumbPositionChange:l}=i,c=ot(s,h=>i.onThumbChange(h)),u=m.useRef(),d=Vx(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=o.viewport;if(h){const x=()=>{if(d(),!u.current){const f=SG(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[o.viewport,d,l]),e.jsx(Ve.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ee(t.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),g=h.clientX-f.left,p=h.clientY-f.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ee(t.onPointerUp,i.onThumbPointerUp)})});dD.displayName=vh;var Bb="ScrollAreaCorner",uD=m.forwardRef((t,s)=>{const a=rr(Bb,t.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?e.jsx(wG,{...t,ref:s}):null});uD.displayName=Bb;var wG=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,...r}=t,n=rr(Bb,a),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return Nl(n.scrollbarX,()=>{var h;const d=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(d),c(d)}),Nl(n.scrollbarY,()=>{var h;const d=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(d),i(d)}),u?e.jsx(Ve.div,{...r,ref:s,style:{width:o,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bh(t){return t?parseInt(t,10):0}function mD(t,s){const a=t/s;return isNaN(a)?0:a}function $x(t){const s=mD(t.viewport,t.content),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-a)*s;return Math.max(r,18)}function CG(t,s,a,r="ltr"){const n=$x(a),o=n/2,i=s||o,l=n-i,c=a.scrollbar.paddingStart+i,u=a.scrollbar.size-a.scrollbar.paddingEnd-l,d=a.content-a.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return hD([c,u],h)(t)}function bw(t,s,a="ltr"){const r=$x(s),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,o=s.scrollbar.size-n,i=s.content-s.viewport,l=o-r,c=a==="ltr"?[0,i]:[i*-1,0],u=Nd(t,c);return hD([0,i],[0,l])(u)}function hD(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function xD(t,s){return t>0&&t<s}var SG=(t,s=()=>{})=>{let a={left:t.scrollLeft,top:t.scrollTop},r=0;return function n(){const o={left:t.scrollLeft,top:t.scrollTop},i=a.left!==o.left,l=a.top!==o.top;(i||l)&&s(),a=o,r=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(r)};function Vx(t,s){const a=as(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,s)},[a,s])}function Nl(t,s){const a=as(s);Ps(()=>{let r=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return n.observe(t),()=>{window.cancelAnimationFrame(r),n.unobserve(t)}}},[t,a])}function EG(t,s){const{asChild:a,children:r}=t;if(!a)return typeof s=="function"?s(r):s;const n=m.Children.only(r);return m.cloneElement(n,{children:typeof s=="function"?s(n.props.children):s})}var fD=rD,PG=oD,AG=uD;const Ub=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(fD,{ref:r,className:je("relative overflow-hidden",t),...a,children:[e.jsx(PG,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(pD,{}),e.jsx(AG,{})]}));Ub.displayName=fD.displayName;const pD=m.forwardRef(({className:t,orientation:s="vertical",...a},r)=>e.jsx(Vb,{ref:r,orientation:s,className:je("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:e.jsx(dD,{className:"relative flex-1 rounded-full bg-border"})}));pD.displayName=Vb.displayName;function DG({assinatura:t}){const a={assinado:{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),badge:{className:"bg-green-100 text-green-700 border-green-200",text:"Assinado"},textColor:"text-green-600"},pendente:{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),badge:{className:"bg-yellow-100 text-yellow-700 border-yellow-200",text:"Pendente"},textColor:"text-yellow-600"},recusado:{icon:e.jsx(Y4,{className:"w-4 h-4 text-red-600"}),badge:{className:"bg-red-100 text-red-700 border-red-200",text:"Recusado"},textColor:"text-red-600"}}[t.status];return e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.nome}),e.jsx("p",{className:"text-xs text-gray-600",children:t.cargo})]})]}),a.icon]}),e.jsx("div",{className:"flex items-center justify-between",children:t.status==="assinado"&&t.data?e.jsxs("p",{className:"text-xs text-gray-500",children:["Assinado em ",t.data]}):e.jsx(oe,{variant:"outline",className:`text-xs ${a.badge.className}`,children:a.badge.text})})]})}function kG({assinaturas:t}){const s=t.filter(r=>r.status==="assinado").length,a=t.length;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Assinaturas"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Re,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{children:[s,"/",a," assinaram"]})]})]}),e.jsx(Ub,{className:"flex-1",children:e.jsx("div",{className:"space-y-3",children:t.map((r,n)=>e.jsx(DG,{assinatura:r},n))})})]})}function TG({status:t,onAssinar:s}){return t==="pendente"||t==="atrasado"?e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(ab,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Pronto para assinar"})]}),e.jsxs(C,{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})}):e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Documento já assinado"})]})})}function RG({isOpen:t,onClose:s,documento:a}){const r=m.useRef(null);if(m.useEffect(()=>{t&&a&&a.status==="pendente"&&r.current&&setTimeout(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth",block:"center"})},500)},[t,a==null?void 0:a.status]),!a)return null;const n=[{nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",data:"15/01/2025",status:"assinado"},{nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",data:"16/01/2025",status:"assinado"},{nome:"Gabriel Miranda",cargo:"Analista de Contratos",data:a.status==="assinado"?"17/01/2025":"",status:a.status==="assinado"?"assinado":"pendente"}],o=()=>{console.log("Assinando documento:",a.id),s()};return e.jsx(Ke,{open:t,onOpenChange:s,children:e.jsx(Ye,{className:"max-w-none w-screen h-screen p-0 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(mG,{onClose:s}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 p-6 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-w-0",children:[e.jsx(hG,{documento:a}),e.jsx(xG,{documento:a})]}),e.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:[e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(kG,{assinaturas:n})}),e.jsx("div",{ref:r,children:e.jsx(TG,{status:a.status,onAssinar:o})})]})]})]})})})}function MG({type:t}){const a={pendentes:{icon:e.jsx($e,{className:"w-16 h-16 text-gray-300"}),title:"Nenhum documento pendente",description:"Você não possui documentos aguardando sua assinatura no momento.",action:"Todos os seus documentos foram assinados ou estão em análise."},assinados:{icon:e.jsx(Re,{className:"w-16 h-16 text-green-300"}),title:"Nenhum documento assinado",description:"Você ainda não assinou nenhum documento.",action:"Os documentos aparecerão aqui após serem assinados."},geral:{icon:e.jsx($e,{className:"w-16 h-16 text-gray-300"}),title:"Nenhum documento encontrado",description:"Não foram encontrados documentos com os filtros aplicados.",action:"Tente ajustar os filtros de busca para encontrar mais resultados."}}[t];return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[a.icon,e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:a.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 text-center max-w-md",children:a.description}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:a.action})]})}const bi=[{id:"1",numeroProcesso:"Processo administrativo 012/2025",nome:"Termo de Referência - Aquisição de Equipamentos Médicos",tipo:"DFD",prazo:"30/01/2025",status:"pendente"},{id:"2",numeroProcesso:"Processo administrativo 045/2025",nome:"Estudo Técnico Preliminar - Serviços de Limpeza",tipo:"ETP",prazo:"25/01/2025",status:"atrasado"},{id:"3",numeroProcesso:"Processo administrativo 008/2025",nome:"Termo de Referência - Contratação de Consultoria",tipo:"DFD",prazo:"15/02/2025",status:"assinado"},{id:"4",numeroProcesso:"Processo administrativo 052/2025",nome:"Estudo Técnico - Aquisição de Medicamentos",tipo:"ETP",prazo:"05/02/2025",status:"pendente"},{id:"5",numeroProcesso:"Processo administrativo 015/2025",nome:"Termo de Referência - Serviços de TI",tipo:"DFD",prazo:"20/02/2025",status:"pendente"},{id:"6",numeroProcesso:"Processo administrativo 038/2025",nome:"Estudo Técnico - Manutenção Predial",tipo:"ETP",prazo:"10/01/2025",status:"assinado"}];function jw(){const t=fs(),{id:s}=ax(),[a,r]=m.useState(""),[n,o]=m.useState("todos"),[i,l]=m.useState("todos"),[c,u]=m.useState("todos"),[d,h]=m.useState(!1),[x,f]=m.useState(null);m.useEffect(()=>{if(s){const b=bi.find(j=>j.id===s);b&&(f(b),h(!0))}},[s]);const g=m.useMemo(()=>bi.filter(b=>{const j=a===""||b.numeroProcesso.toLowerCase().includes(a.toLowerCase())||b.nome.toLowerCase().includes(a.toLowerCase()),w=n==="todos"||n==="pendentes"&&(b.status==="pendente"||b.status==="atrasado")||n==="assinados"&&b.status==="assinado",N=i==="todos"||i==="vencendo"&&b.status==="pendente"||i==="vencidos"&&b.status==="atrasado",E=c==="todos"||b.tipo.toLowerCase()===c.toLowerCase();return j&&w&&N&&E}),[a,n,i,c]),p=m.useMemo(()=>{const b=bi.filter(N=>N.status==="pendente").length,j=bi.filter(N=>N.status==="atrasado").length,w=bi.filter(N=>N.status==="assinado").length;return{pendentes:b,atrasados:j,assinados:w}},[]),y=b=>{const j=bi.find(w=>w.id===b);f(j||null),h(!0)},v=()=>{h(!1),f(null),s&&t("/assinaturas")};return e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx(Jr,{}),e.jsx("div",{className:"flex-1 px-4 pt-16 md:pt-20 pb-4 overflow-hidden",children:e.jsxs("div",{className:"h-full w-full flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full mb-2 flex-shrink-0",children:[e.jsx(Ge,{children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Fe,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.pendentes})]})]})})}),e.jsx(Ge,{children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(pt,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Atrasados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.atrasados})]})]})})}),e.jsx(Ge,{children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Re,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Assinados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.assinados})]})]})})})]}),e.jsx("div",{className:"flex-shrink-0 mb-2",children:e.jsx(lG,{searchTerm:a,statusFilter:n,prazoFilter:i,tipoFilter:c,onSearchChange:r,onStatusChange:o,onPrazoChange:l,onTipoChange:u})}),e.jsx(Ge,{className:"flex-1 flex flex-col min-h-0",children:e.jsxs(We,{className:"p-0 flex flex-col h-full",children:[e.jsx("div",{className:"p-2 border-b border-gray-200 flex-shrink-0",children:e.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-blue-600"}),"Documentos Pendentes e Assinados"]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:g.length>0?e.jsx("div",{className:"h-full overflow-auto scroll-behavior-smooth",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[15%]",children:"Nº Processo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[35%]",children:"Documento"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%] min-w-[80px]",children:"Tipo"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[12%] min-w-[120px]",children:"Prazo para Assinar"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[12%] min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[16%] min-w-[200px]",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:g.map(b=>e.jsx(dG,{documento:b,onVisualizar:y},b.id))})]})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(MG,{type:n==="pendentes"?"pendentes":n==="assinados"?"assinados":"geral"})})})]})})]})}),e.jsx(RG,{isOpen:d,onClose:v,documento:x})]})}const uo=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:je("w-full caption-bottom text-sm",t),...s})}));uo.displayName="Table";const mo=m.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:je("[&_tr]:border-b",t),...s}));mo.displayName="TableHeader";const ho=m.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:je("[&_tr:last-child]:border-0",t),...s}));ho.displayName="TableBody";const IG=m.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));IG.displayName="TableFooter";const Ys=m.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ys.displayName="TableRow";const dt=m.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));dt.displayName="TableHead";const ct=m.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));ct.displayName="TableCell";const OG=m.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:je("mt-4 text-sm text-muted-foreground",t),...s}));OG.displayName="TableCaption";const ji=[{id:"1",numeroProcesso:"Processo administrativo 012/2025",tipo:"Pregão",faseAtual:"Elaboração DFD",prazoFinal:"30/01/2025",status:"em_andamento",pendenciaUsuario:"Assinar",objeto:"Aquisição de Equipamentos Médicos para UTI",responsavel:"Dr. Maria Silva",dataCriacao:"15/01/2025",ultimaAtualizacao:"25/01/2025"},{id:"2",numeroProcesso:"Processo administrativo 045/2025",tipo:"Dispensa",faseAtual:"Assinatura ETP",prazoFinal:"25/01/2025",status:"atrasado",pendenciaUsuario:"Corrigir",objeto:"Estudo Técnico Preliminar - Serviços de Limpeza Hospitalar",responsavel:"Eng. João Santos",dataCriacao:"10/01/2025",ultimaAtualizacao:"24/01/2025"},{id:"3",numeroProcesso:"Processo administrativo 001/2025",tipo:"Concorrência",faseAtual:"TR",prazoFinal:"20/02/2025",status:"concluido",pendenciaUsuario:"Nenhuma",objeto:"Contratação de Consultoria Especializada",responsavel:"Andressa Sterfany Santos da Silva",dataCriacao:"05/01/2025",ultimaAtualizacao:"20/01/2025"},{id:"4",numeroProcesso:"Processo administrativo 052/2025",tipo:"Inexigibilidade",faseAtual:"Matriz de Risco",prazoFinal:"05/02/2025",status:"em_andamento",pendenciaUsuario:"Analisar",objeto:"Estudo Técnico - Aquisição de Medicamentos Especializados",responsavel:"Lucas Moreira Brito",dataCriacao:"12/01/2025",ultimaAtualizacao:"22/01/2025"},{id:"5",numeroProcesso:"Processo administrativo 015/2025",tipo:"Credenciamento",faseAtual:"Edital",prazoFinal:"20/02/2025",status:"concluido",pendenciaUsuario:"Nenhuma",objeto:"Serviços de TI e Infraestrutura",responsavel:"Leticia Bonfim Guilherme",dataCriacao:"08/01/2025",ultimaAtualizacao:"18/01/2025"},{id:"6",numeroProcesso:"Processo administrativo 038/2025",tipo:"Dispensa",faseAtual:"Publicação",prazoFinal:"10/01/2025",status:"atrasado",pendenciaUsuario:"Assinar",objeto:"Manutenção Predial e Serviços Gerais",responsavel:"Lucas Moreira Brito",dataCriacao:"03/01/2025",ultimaAtualizacao:"12/01/2025"},{id:"7",numeroProcesso:"Processo administrativo 023/2025",tipo:"Pregão",faseAtual:"Matriz de Risco",prazoFinal:"28/01/2025",status:"pendente",pendenciaUsuario:"Corrigir",objeto:"Análise de Riscos - Projeto de Expansão Hospitalar",responsavel:"Dr. Roberto Alves",dataCriacao:"14/01/2025",ultimaAtualizacao:"23/01/2025"},{id:"8",numeroProcesso:"Processo administrativo 019/2025",tipo:"Concorrência",faseAtual:"TR",prazoFinal:"08/02/2025",status:"em_andamento",pendenciaUsuario:"Assinar",objeto:"Termo de Referência - Serviços de Segurança",responsavel:"Cap. Luiz Silva",dataCriacao:"16/01/2025",ultimaAtualizacao:"24/01/2025"}];function zG({status:t}){const a={em_andamento:{label:"Em andamento",className:"bg-blue-100 text-blue-800 border-blue-200"},pendente:{label:"Pendente",className:"bg-orange-100 text-orange-800 border-orange-200"},atrasado:{label:"Atrasado",className:"bg-red-100 text-red-800 border-red-200"},concluido:{label:"Concluído",className:"bg-green-100 text-green-800 border-green-200"}}[t];return e.jsx(oe,{className:`${a.className} border text-xs font-medium`,children:a.label})}function FG({prazo:t}){const s=new Date,r=new Date(t.split("/").reverse().join("-")).getTime()-s.getTime(),n=Math.ceil(r/(1e3*60*60*24));let o="bg-green-100 text-green-800 border-green-200",i=e.jsx(Re,{className:"w-3 h-3"});return n<0?(o="bg-red-100 text-red-800 border-red-200",i=e.jsx(pt,{className:"w-3 h-3"})):n<=3&&(o="bg-yellow-100 text-yellow-800 border-yellow-200",i=e.jsx(Fe,{className:"w-3 h-3"})),e.jsxs(oe,{className:`${o} border flex items-center gap-1 text-xs font-medium`,children:[i,t]})}function _G({pendencia:t,onAction:s,processId:a}){if(t==="Nenhuma")return e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Sem pendência"]});const n={Assinar:{className:"bg-blue-600 hover:bg-blue-700 text-white",icon:e.jsx(ar,{className:"w-3 h-3"})},Corrigir:{className:"bg-red-600 hover:bg-red-700 text-white",icon:e.jsx(pt,{className:"w-3 h-3"})},Analisar:{className:"bg-purple-600 hover:bg-purple-700 text-white",icon:e.jsx(Ze,{className:"w-3 h-3"})}}[t];return e.jsxs(C,{size:"sm",onClick:()=>s(a,t),className:`${n.className} text-xs h-8 px-3 font-medium`,children:[n.icon&&e.jsx("span",{className:"mr-1",children:n.icon}),t]})}function LG({process:t,onVerDetalhes:s}){return e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>s(t),className:"text-xs h-8 px-3 font-medium",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})}function $G({searchTerm:t,tipoFilter:s,statusFilter:a,pendenciaFilter:r,onSearchChange:n,onTipoChange:o,onStatusChange:i,onPendenciaChange:l}){return e.jsx(Ge,{className:"bg-white shadow-md rounded-xl border-0 mb-6",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{type:"text",placeholder:"Buscar por nº do processo ou objeto",value:t,onChange:c=>n(c.target.value),className:"pl-10 border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg"})]}),e.jsxs(rt,{value:s,onValueChange:o,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Tipo do processo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Tipo do processo"}),e.jsx(ve,{value:"Pregão",children:"Pregão"}),e.jsx(ve,{value:"Dispensa",children:"Dispensa"}),e.jsx(ve,{value:"Inexigibilidade",children:"Inexigibilidade"}),e.jsx(ve,{value:"Concorrência",children:"Concorrência"}),e.jsx(ve,{value:"Credenciamento",children:"Credenciamento"})]})]}),e.jsxs(rt,{value:a,onValueChange:i,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Status do processo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Status do processo"}),e.jsx(ve,{value:"em_andamento",children:"Em andamento"}),e.jsx(ve,{value:"pendente",children:"Pendente"}),e.jsx(ve,{value:"concluido",children:"Concluído"}),e.jsx(ve,{value:"atrasado",children:"Atrasado"})]})]}),e.jsxs(rt,{value:r,onValueChange:l,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Pendência"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Pendência"}),e.jsx(ve,{value:"com_pendencia",children:"Com pendência"}),e.jsx(ve,{value:"sem_pendencia",children:"Sem pendência"})]})]})]})})})}function VG(){const t=fs();Dt();const[s,a]=m.useState(""),[r,n]=m.useState("todos"),[o,i]=m.useState("todos"),[l,c]=m.useState("todos"),[u,d]=m.useState("numero"),[h,x]=m.useState("asc"),f=m.useMemo(()=>ji.filter(N=>{const E=s===""||N.numeroProcesso.toLowerCase().includes(s.toLowerCase())||N.objeto.toLowerCase().includes(s.toLowerCase()),A=r==="todos"||N.tipo===r,P=o==="todos"||N.status===o,z=l==="todos"||l==="com_pendencia"&&N.pendenciaUsuario!=="Nenhuma"||l==="sem_pendencia"&&N.pendenciaUsuario==="Nenhuma";return E&&A&&P&&z}),[s,r,o,l]),g=(N,E)=>N.localeCompare(E,"pt-BR",{sensitivity:"base"}),p=(N,E)=>{var T,k;const A=/(\d+)/,P=parseInt(((T=N.match(A))==null?void 0:T[1])||"0",10),z=parseInt(((k=E.match(A))==null?void 0:k[1])||"0",10);return!isNaN(P)&&!isNaN(z)&&P!==z?P-z:g(N,E)},y=N=>({em_andamento:"Em andamento",pendente:"Pendente",atrasado:"Atrasado",concluido:"Concluído"})[N],v=m.useMemo(()=>{const N=[...f];return N.sort((E,A)=>{let P=0;return u==="numero"&&(P=p(E.numeroProcesso,A.numeroProcesso)),u==="fase"&&(P=g(E.faseAtual||"",A.faseAtual||"")),u==="prazo"&&(P=g(E.prazoFinal||"",A.prazoFinal||"")),u==="status"&&(P=g(y(E.status),y(A.status))),u==="pendencia"&&(P=g(E.pendenciaUsuario||"",A.pendenciaUsuario||"")),h==="asc"?P:-P}),N},[f,u,h]),b=({activeKey:N})=>e.jsx(C,{variant:"ghost",size:"icon",className:`h-7 w-7 ml-1 ${u===N?"text-blue-600":"text-gray-400"}`,onClick:()=>{u===N?x(E=>E==="asc"?"desc":"asc"):(d(N),x("asc"))},title:u===N?h==="asc"?"Ordenar desc":"Ordenar asc":"Ordenar","aria-label":"Ordenar coluna",children:u===N&&h==="desc"?e.jsx(O4,{className:"w-4 h-4"}):e.jsx(z4,{className:"w-4 h-4"})});m.useMemo(()=>{const N=ji.length,E=ji.filter(z=>z.pendenciaUsuario!=="Nenhuma").length,A=ji.filter(z=>z.status==="atrasado").length,P=ji.filter(z=>{const T=new Date,L=new Date(z.prazoFinal.split("/").reverse().join("-")).getTime()-T.getTime(),U=Math.ceil(L/(1e3*60*60*24));return U<=3&&U>=0}).length;return{total:N,comPendencia:E,atrasados:A,vencendo:P}},[]);const j=N=>{t(`/processos/${N.id}`)},w=(N,E)=>{console.log(`Executando ação ${E} no processo ${N}`),E==="Assinar"?ji.find(P=>P.id===N)&&t(`/assinaturas/${N}`):console.log(`Ação ${E} executada para o processo ${N}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 px-6 pb-6",children:[e.jsx($G,{searchTerm:s,tipoFilter:r,statusFilter:o,pendenciaFilter:l,onSearchChange:a,onTipoChange:n,onStatusChange:i,onPendenciaChange:c}),e.jsx(Ge,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsxs(We,{className:"p-0",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Processos (",v.length,")"]})}),e.jsx(Ub,{className:"w-full",children:e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{className:"border-b border-gray-100",children:[e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 w-2/5",children:e.jsxs("div",{className:"flex items-center",children:["Nº do Processo ",e.jsx(b,{activeKey:"numero"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Fase Atual ",e.jsx(b,{activeKey:"fase"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Prazo Final ",e.jsx(b,{activeKey:"prazo"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Status ",e.jsx(b,{activeKey:"status"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Pendência ",e.jsx(b,{activeKey:"pendencia"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:"Ação"})]})}),e.jsx(ho,{children:v.map(N=>e.jsxs(Ys,{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsxs(ct,{className:"px-6 py-4 w-2/5 min-w-0",children:[e.jsx("div",{className:"font-semibold text-blue-900 text-sm",children:N.numeroProcesso}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:N.objeto})]}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:N.faseAtual})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(FG,{prazo:N.prazoFinal})})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(zG,{status:N.status})})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(_G,{pendencia:N.pendenciaUsuario,onAction:w,processId:N.id})})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(LG,{process:N,onVerDetalhes:j})})})]},N.id))})]})})]})})]})]})}const Hb=m.createContext({});function Wb(t){const s=m.useRef(null);return s.current===null&&(s.current=t()),s.current}const qb=typeof window<"u",gD=qb?m.useLayoutEffect:m.useEffect,Gx=m.createContext(null);function Yb(t,s){t.indexOf(s)===-1&&t.push(s)}function Kb(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const vn=(t,s,a)=>a>s?s:a<t?t:a;let jh=()=>{};const bn={},vD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bD(t){return typeof t=="object"&&t!==null}const jD=t=>/^0[^.\s]+$/u.test(t);function Xb(t){let s;return()=>(s===void 0&&(s=t()),s)}const Qa=t=>t,GG=(t,s)=>a=>s(t(a)),tu=(...t)=>t.reduce(GG),wd=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r};class Jb{constructor(){this.subscriptions=[]}add(s){return Yb(this.subscriptions,s),()=>Kb(this.subscriptions,s)}notify(s,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,a,r);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ur=t=>t*1e3,Hr=t=>t/1e3;function yD(t,s){return s?t*(1e3/s):0}const ND=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,BG=1e-7,UG=12;function HG(t,s,a,r,n){let o,i,l=0;do i=s+(a-s)/2,o=ND(i,r,n)-t,o>0?a=i:s=i;while(Math.abs(o)>BG&&++l<UG);return i}function su(t,s,a,r){if(t===s&&a===r)return Qa;const n=o=>HG(o,0,1,t,a);return o=>o===0||o===1?o:ND(n(o),s,r)}const wD=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,CD=t=>s=>1-t(1-s),SD=su(.33,1.53,.69,.99),Qb=CD(SD),ED=wD(Qb),PD=t=>(t*=2)<1?.5*Qb(t):.5*(2-Math.pow(2,-10*(t-1))),Zb=t=>1-Math.sin(Math.acos(t)),AD=CD(Zb),DD=wD(Zb),WG=su(.42,0,1,1),qG=su(0,0,.58,1),kD=su(.42,0,.58,1),YG=t=>Array.isArray(t)&&typeof t[0]!="number",TD=t=>Array.isArray(t)&&typeof t[0]=="number",yw={linear:Qa,easeIn:WG,easeInOut:kD,easeOut:qG,circIn:Zb,circInOut:DD,circOut:AD,backIn:Qb,backInOut:ED,backOut:SD,anticipate:PD},KG=t=>typeof t=="string",Nw=t=>{if(TD(t)){jh(t.length===4);const[s,a,r,n]=t;return su(s,a,r,n)}else if(KG(t))return jh(yw[t]!==void 0),yw[t];return t},Vu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ww={value:null,addProjectionMetrics:null};function XG(t,s){let a=new Set,r=new Set,n=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){i.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,x=!1,f=!1)=>{const p=f&&n?a:r;return x&&i.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),i.delete(h)},process:h=>{if(l=h,n){o=!0;return}n=!0,[a,r]=[r,a],a.forEach(u),s&&ww.value&&ww.value.frameloop[s].push(c),c=0,a.clear(),n=!1,o&&(o=!1,d.process(h))}};return d}const JG=40;function RD(t,s){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>a=!0,i=Vu.reduce((j,w)=>(j[w]=XG(o,s?w:void 0),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:x,render:f,postRender:g}=i,p=()=>{const j=bn.useManualTiming?n.timestamp:performance.now();a=!1,bn.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(j-n.timestamp,JG),1)),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),d.process(n),h.process(n),x.process(n),f.process(n),g.process(n),n.isProcessing=!1,a&&s&&(r=!1,t(p))},y=()=>{a=!0,r=!0,n.isProcessing||t(p)};return{schedule:Vu.reduce((j,w)=>{const N=i[w];return j[w]=(E,A=!1,P=!1)=>(a||y(),N.schedule(E,A,P)),j},{}),cancel:j=>{for(let w=0;w<Vu.length;w++)i[Vu[w]].cancel(j)},state:n,steps:i}}const{schedule:rs,cancel:xo,state:Os,steps:np}=RD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qa,!0);let bm;function QG(){bm=void 0}const va={now:()=>(bm===void 0&&va.set(Os.isProcessing||bn.useManualTiming?Os.timestamp:performance.now()),bm),set:t=>{bm=t,queueMicrotask(QG)}},MD=t=>s=>typeof s=="string"&&s.startsWith(t),ej=MD("--"),ZG=MD("var(--"),tj=t=>ZG(t)?e9.test(t.split("/*")[0].trim()):!1,e9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cd={...Hl,transform:t=>vn(0,1,t)},Gu={...Hl,default:1},zc=t=>Math.round(t*1e5)/1e5,sj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t9(t){return t==null}const s9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aj=(t,s)=>a=>!!(typeof a=="string"&&s9.test(a)&&a.startsWith(t)||s&&!t9(a)&&Object.prototype.hasOwnProperty.call(a,s)),ID=(t,s,a)=>r=>{if(typeof r!="string")return r;const[n,o,i,l]=r.match(sj);return{[t]:parseFloat(n),[s]:parseFloat(o),[a]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},a9=t=>vn(0,255,t),op={...Hl,transform:t=>Math.round(a9(t))},$o={test:aj("rgb","red"),parse:ID("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+op.transform(t)+", "+op.transform(s)+", "+op.transform(a)+", "+zc(Cd.transform(r))+")"};function r9(t){let s="",a="",r="",n="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),s+=s,a+=a,r+=r,n+=n),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const m0={test:aj("#"),parse:r9,transform:$o.transform},au=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Tn=au("deg"),Wr=au("%"),it=au("px"),n9=au("vh"),o9=au("vw"),Cw={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},zi={test:aj("hsl","hue"),parse:ID("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(zc(s))+", "+Wr.transform(zc(a))+", "+zc(Cd.transform(r))+")"},js={test:t=>$o.test(t)||m0.test(t)||zi.test(t),parse:t=>$o.test(t)?$o.parse(t):zi.test(t)?zi.parse(t):m0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$o.transform(t):zi.transform(t),getAnimatableNone:t=>{const s=js.parse(t);return s.alpha=0,js.transform(s)}},i9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l9(t){var s,a;return isNaN(t)&&typeof t=="string"&&(((s=t.match(sj))==null?void 0:s.length)||0)+(((a=t.match(i9))==null?void 0:a.length)||0)>0}const OD="number",zD="color",c9="var",d9="var(",Sw="${}",u9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sd(t){const s=t.toString(),a=[],r={color:[],number:[],var:[]},n=[];let o=0;const l=s.replace(u9,c=>(js.test(c)?(r.color.push(o),n.push(zD),a.push(js.parse(c))):c.startsWith(d9)?(r.var.push(o),n.push(c9),a.push(c)):(r.number.push(o),n.push(OD),a.push(parseFloat(c))),++o,Sw)).split(Sw);return{values:a,split:l,indexes:r,types:n}}function FD(t){return Sd(t).values}function _D(t){const{split:s,types:a}=Sd(t),r=s.length;return n=>{let o="";for(let i=0;i<r;i++)if(o+=s[i],n[i]!==void 0){const l=a[i];l===OD?o+=zc(n[i]):l===zD?o+=js.transform(n[i]):o+=n[i]}return o}}const m9=t=>typeof t=="number"?0:js.test(t)?js.getAnimatableNone(t):t;function h9(t){const s=FD(t);return _D(t)(s.map(m9))}const fo={test:l9,parse:FD,createTransformer:_D,getAnimatableNone:h9};function ip(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function x9({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let n=0,o=0,i=0;if(!s)n=o=i=a;else{const l=a<.5?a*(1+s):a+s-a*s,c=2*a-l;n=ip(c,l,t+1/3),o=ip(c,l,t),i=ip(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function yh(t,s){return a=>a>0?s:t}const is=(t,s,a)=>t+(s-t)*a,lp=(t,s,a)=>{const r=t*t,n=a*(s*s-r)+r;return n<0?0:Math.sqrt(n)},f9=[m0,$o,zi],p9=t=>f9.find(s=>s.test(t));function Ew(t){const s=p9(t);if(!s)return!1;let a=s.parse(t);return s===zi&&(a=x9(a)),a}const Pw=(t,s)=>{const a=Ew(t),r=Ew(s);if(!a||!r)return yh(t,s);const n={...a};return o=>(n.red=lp(a.red,r.red,o),n.green=lp(a.green,r.green,o),n.blue=lp(a.blue,r.blue,o),n.alpha=is(a.alpha,r.alpha,o),$o.transform(n))},h0=new Set(["none","hidden"]);function g9(t,s){return h0.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function v9(t,s){return a=>is(t,s,a)}function rj(t){return typeof t=="number"?v9:typeof t=="string"?tj(t)?yh:js.test(t)?Pw:y9:Array.isArray(t)?LD:typeof t=="object"?js.test(t)?Pw:b9:yh}function LD(t,s){const a=[...t],r=a.length,n=t.map((o,i)=>rj(o)(o,s[i]));return o=>{for(let i=0;i<r;i++)a[i]=n[i](o);return a}}function b9(t,s){const a={...t,...s},r={};for(const n in a)t[n]!==void 0&&s[n]!==void 0&&(r[n]=rj(t[n])(t[n],s[n]));return n=>{for(const o in r)a[o]=r[o](n);return a}}function j9(t,s){const a=[],r={color:0,var:0,number:0};for(let n=0;n<s.values.length;n++){const o=s.types[n],i=t.indexes[o][r[o]],l=t.values[i]??0;a[n]=l,r[o]++}return a}const y9=(t,s)=>{const a=fo.createTransformer(s),r=Sd(t),n=Sd(s);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?h0.has(t)&&!n.values.length||h0.has(s)&&!r.values.length?g9(t,s):tu(LD(j9(r,n),n.values),a):yh(t,s)};function $D(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?is(t,s,a):rj(t)(t,s)}const N9=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>rs.update(s,a),stop:()=>xo(s),now:()=>Os.isProcessing?Os.timestamp:va.now()}},VD=(t,s,a=10)=>{let r="";const n=Math.max(Math.round(s/a),2);for(let o=0;o<n;o++)r+=Math.round(t(o/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nh=2e4;function nj(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<Nh;)s+=a,r=t.next(s);return s>=Nh?1/0:s}function w9(t,s=100,a){const r=a({...t,keyframes:[0,s]}),n=Math.min(nj(r),Nh);return{type:"keyframes",ease:o=>r.next(n*o).value/s,duration:Hr(n)}}const C9=5;function GD(t,s,a){const r=Math.max(s-C9,0);return yD(a-t(r),s-r)}const hs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function S9({duration:t=hs.duration,bounce:s=hs.bounce,velocity:a=hs.velocity,mass:r=hs.mass}){let n,o,i=1-s;i=vn(hs.minDamping,hs.maxDamping,i),t=vn(hs.minDuration,hs.maxDuration,Hr(t)),i<1?(n=u=>{const d=u*i,h=d*t,x=d-a,f=x0(u,i),g=Math.exp(-h);return cp-x/f*g},o=u=>{const h=u*i*t,x=h*a+a,f=Math.pow(i,2)*Math.pow(u,2)*t,g=Math.exp(-h),p=x0(Math.pow(u,2),i);return(-n(u)+cp>0?-1:1)*((x-f)*g)/p}):(n=u=>{const d=Math.exp(-u*t),h=(u-a)*t+1;return-cp+d*h},o=u=>{const d=Math.exp(-u*t),h=(a-u)*(t*t);return d*h});const l=5/t,c=P9(n,o,l);if(t=Ur(t),isNaN(c))return{stiffness:hs.stiffness,damping:hs.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const E9=12;function P9(t,s,a){let r=a;for(let n=1;n<E9;n++)r=r-t(r)/s(r);return r}function x0(t,s){return t*Math.sqrt(1-s*s)}const A9=["duration","bounce"],D9=["stiffness","damping","mass"];function Aw(t,s){return s.some(a=>t[a]!==void 0)}function k9(t){let s={velocity:hs.velocity,stiffness:hs.stiffness,damping:hs.damping,mass:hs.mass,isResolvedFromDuration:!1,...t};if(!Aw(t,D9)&&Aw(t,A9))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,o=2*vn(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:hs.mass,stiffness:n,damping:o}}else{const a=S9(t);s={...s,...a,mass:hs.mass},s.isResolvedFromDuration=!0}return s}function wh(t=hs.visualDuration,s=hs.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:n}=a;const o=a.keyframes[0],i=a.keyframes[a.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:x,isResolvedFromDuration:f}=k9({...a,velocity:-Hr(a.velocity||0)}),g=x||0,p=u/(2*Math.sqrt(c*d)),y=i-o,v=Hr(Math.sqrt(c/d)),b=Math.abs(y)<5;r||(r=b?hs.restSpeed.granular:hs.restSpeed.default),n||(n=b?hs.restDelta.granular:hs.restDelta.default);let j;if(p<1){const N=x0(v,p);j=E=>{const A=Math.exp(-p*v*E);return i-A*((g+p*v*y)/N*Math.sin(N*E)+y*Math.cos(N*E))}}else if(p===1)j=N=>i-Math.exp(-v*N)*(y+(g+v*y)*N);else{const N=v*Math.sqrt(p*p-1);j=E=>{const A=Math.exp(-p*v*E),P=Math.min(N*E,300);return i-A*((g+p*v*y)*Math.sinh(P)+N*y*Math.cosh(P))/N}}const w={calculatedDuration:f&&h||null,next:N=>{const E=j(N);if(f)l.done=N>=h;else{let A=N===0?g:0;p<1&&(A=N===0?Ur(g):GD(j,N,E));const P=Math.abs(A)<=r,z=Math.abs(i-E)<=n;l.done=P&&z}return l.value=l.done?i:E,l},toString:()=>{const N=Math.min(nj(w),Nh),E=VD(A=>w.next(N*A).value,N,30);return N+"ms "+E},toTransition:()=>{}};return w}wh.applyToOptions=t=>{const s=w9(t,100,wh);return t.ease=s.ease,t.duration=Ur(s.duration),t.type="keyframes",t};function f0({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],x={done:!1,value:h},f=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=a*s;const y=h+p,v=i===void 0?y:i(y);v!==y&&(p=v-h);const b=P=>-p*Math.exp(-P/r),j=P=>v+b(P),w=P=>{const z=b(P),T=j(P);x.done=Math.abs(z)<=u,x.value=x.done?v:T};let N,E;const A=P=>{f(x.value)&&(N=P,E=wh({keyframes:[x.value,g(x.value)],velocity:GD(j,P,x.value),damping:n,stiffness:o,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:P=>{let z=!1;return!E&&N===void 0&&(z=!0,w(P),A(P)),N!==void 0&&P>=N?E.next(P-N):(!z&&w(P),x)}}}function T9(t,s,a){const r=[],n=a||bn.mix||$D,o=t.length-1;for(let i=0;i<o;i++){let l=n(t[i],t[i+1]);if(s){const c=Array.isArray(s)?s[i]||Qa:s;l=tu(c,l)}r.push(l)}return r}function R9(t,s,{clamp:a=!0,ease:r,mixer:n}={}){const o=t.length;if(jh(o===s.length),o===1)return()=>s[0];if(o===2&&s[0]===s[1])return()=>s[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),s=[...s].reverse());const l=T9(s,r,n),c=l.length,u=d=>{if(i&&d<t[0])return s[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const x=wd(t[h],t[h+1],d);return l[h](x)};return a?d=>u(vn(t[0],t[o-1],d)):u}function M9(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const n=wd(0,s,r);t.push(is(a,1,n))}}function I9(t){const s=[0];return M9(s,t.length-1),s}function O9(t,s){return t.map(a=>a*s)}function z9(t,s){return t.map(()=>s||kD).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const n=YG(r)?r.map(Nw):Nw(r),o={done:!1,value:s[0]},i=O9(a&&a.length===s.length?a:I9(s),t),l=R9(i,s,{ease:Array.isArray(n)?n:z9(s,n)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const F9=t=>t!==null;function oj(t,{repeat:s,repeatType:a="loop"},r,n=1){const o=t.filter(F9),l=n<0||s&&a!=="loop"&&s%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const _9={decay:f0,inertia:f0,tween:Fc,keyframes:Fc,spring:wh};function BD(t){typeof t.type=="string"&&(t.type=_9[t.type])}class ij{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const L9=t=>t/100;class lj extends ij{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:a}=this.options;a&&a.updatedAt!==va.now()&&this.tick(va.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;BD(s);const{type:a=Fc,repeat:r=0,repeatDelay:n=0,repeatType:o,velocity:i=0}=s;let{keyframes:l}=s;const c=a||Fc;c!==Fc&&typeof l[0]!="number"&&(this.mixKeyframes=tu(L9,$D(l[0],l[1])),l=[0,100]);const u=c({...s,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=nj(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=u}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:r,totalDuration:n,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:x,repeatDelay:f,type:g,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-n/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>n;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let j=this.currentTime,w=r;if(h){const P=Math.min(this.currentTime,n)/l;let z=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&z--,z=Math.min(z,h+1),!!(z%2)&&(x==="reverse"?(T=1-T,f&&(T-=f/l)):x==="mirror"&&(w=i)),j=vn(0,1,T)*l}const N=b?{done:!1,value:d[0]}:w.next(j);o&&(N.value=o(N.value));let{done:E}=N;!b&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return A&&g!==f0&&(N.value=oj(d,this.options,y,this.speed)),p&&p(N.value),A&&this.finish(),N}then(s,a){return this.finished.then(s,a)}get duration(){return Hr(this.calculatedDuration)}get time(){return Hr(this.currentTime)}set time(s){var a;s=Ur(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(va.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=Hr(this.currentTime))}play(){var n,o;if(this.isStopped)return;const{driver:s=N9,startTime:a}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),(o=(n=this.options).onPlay)==null||o.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(va.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(s=this.options).onComplete)==null||a.call(s)}cancel(){var s,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(s=this.options).onCancel)==null||a.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),s.observe(this)}}function $9(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Vo=t=>t*180/Math.PI,p0=t=>{const s=Vo(Math.atan2(t[1],t[0]));return g0(s)},V9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:p0,rotateZ:p0,skewX:t=>Vo(Math.atan(t[1])),skewY:t=>Vo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},g0=t=>(t=t%360,t<0&&(t+=360),t),Dw=p0,kw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kw,scaleY:Tw,scale:t=>(kw(t)+Tw(t))/2,rotateX:t=>g0(Vo(Math.atan2(t[6],t[5]))),rotateY:t=>g0(Vo(Math.atan2(-t[2],t[0]))),rotateZ:Dw,rotate:Dw,skewX:t=>Vo(Math.atan(t[4])),skewY:t=>Vo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function v0(t){return t.includes("scale")?1:0}function b0(t,s){if(!t||t==="none")return v0(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=G9,n=a;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=V9,n=l}if(!n)return v0(s);const o=r[s],i=n[1].split(",").map(U9);return typeof o=="function"?o(i):i[o]}const B9=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return b0(a,s)};function U9(t){return parseFloat(t.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ql=new Set(Wl),Rw=t=>t===Hl||t===it,H9=new Set(["x","y","z"]),W9=Wl.filter(t=>!H9.has(t));function q9(t){const s=[];return W9.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s}const Yo={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>b0(s,"x"),y:(t,{transform:s})=>b0(s,"y")};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const Ko=new Set;let j0=!1,y0=!1,N0=!1;function UD(){if(y0){const t=Array.from(Ko).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),a=new Map;s.forEach(r=>{const n=q9(r);n.length&&(a.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([o,i])=>{var l;(l=r.getValue(o))==null||l.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}y0=!1,j0=!1,Ko.forEach(t=>t.complete(N0)),Ko.clear()}function HD(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(y0=!0)})}function Y9(){N0=!0,HD(),UD(),N0=!1}class cj{constructor(s,a,r,n,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=r,this.motionValue=n,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),j0||(j0=!0,rs.read(HD),rs.resolveKeyframes(UD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:r,motionValue:n}=this;if(s[0]===null){const o=n==null?void 0:n.get(),i=s[s.length-1];if(o!==void 0)s[0]=o;else if(r&&a){const l=r.readValue(a,i);l!=null&&(s[0]=l)}s[0]===void 0&&(s[0]=i),n&&o===void 0&&n.set(s[0])}$9(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K9=t=>t.startsWith("--");function X9(t,s,a){K9(s)?t.style.setProperty(s,a):t.style[s]=a}const J9=Xb(()=>window.ScrollTimeline!==void 0),Q9={};function Z9(t,s){const a=Xb(t);return()=>Q9[s]??a()}const WD=Z9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,Mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function qD(t,s){if(t)return typeof t=="function"?WD()?VD(t,s):"ease-out":TD(t)?Cc(t):Array.isArray(t)?t.map(a=>qD(a,s)||Mw.easeOut):Mw[t]}function eB(t,s,a,{delay:r=0,duration:n=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[s]:a};c&&(d.offset=c);const h=qD(l,n);Array.isArray(h)&&(d.easing=h);const x={delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(x.pseudoElement=u),t.animate(d,x)}function YD(t){return typeof t=="function"&&"applyToOptions"in t}function tB({type:t,...s}){return YD(t)&&WD()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class sB extends ij{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:r,keyframes:n,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=s;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=s,jh(typeof s.type!="string");const u=tB(s);this.animation=eB(a,r,n,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=oj(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):X9(a,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,a;(a=(s=this.animation).finish)==null||a.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,a;this.isPseudoElement||(a=(s=this.animation).commitStyles)==null||a.call(s)}get duration(){var a,r;const s=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return Hr(Number(s))}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ur(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&J9()?(this.animation.timeline=s,Qa):a(this)}}const KD={anticipate:PD,backInOut:ED,circInOut:DD};function aB(t){return t in KD}function rB(t){typeof t.ease=="string"&&aB(t.ease)&&(t.ease=KD[t.ease])}const Iw=10;class nB extends sB{constructor(s){rB(s),BD(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:r,onComplete:n,element:o,...i}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const l=new lj({...i,autoplay:!1}),c=Ur(this.finishedTime??this.time);a.setWithVelocity(l.sample(c-Iw).value,l.sample(c).value,Iw),l.stop()}}const Ow=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function oB(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function iB(t,s,a,r){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const o=t[t.length-1],i=Ow(n,s),l=Ow(o,s);return!i||!l?!1:oB(t)||(a==="spring"||YD(a))&&r}function w0(t){t.duration=0,t.type}const lB=new Set(["opacity","clipPath","filter","transform"]),cB=Xb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dB(t){var d;const{motionValue:s,name:a,repeatDelay:r,repeatType:n,damping:o,type:i}=t;if(!(((d=s==null?void 0:s.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return cB()&&a&&lB.has(a)&&(a!=="transform"||!u)&&!c&&!r&&n!=="mirror"&&o!==0&&i!=="inertia"}const uB=40;class mB extends ij{constructor({autoplay:s=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=va.now();const x={autoplay:s,delay:a,type:r,repeat:n,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...h},f=(d==null?void 0:d.KeyframeResolver)||cj;this.keyframeResolver=new f(l,(p,y,v)=>this.onKeyframesResolved(p,y,x,!v),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(s,a,r,n){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=va.now(),iB(s,o,i,l)||((bn.instantAnimations||!c)&&(d==null||d(oj(s,r,a))),s[0]=s[s.length-1],w0(r),r.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>uB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:s},f=!u&&dB(x)?new nB({...x,element:x.motionValue.owner.current}):new lj(x);f.finished.then(()=>this.notifyFinished()).catch(Qa),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),Y9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const hB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xB(t){const s=hB.exec(t);if(!s)return[,];const[,a,r,n]=s;return[`--${a??r}`,n]}function XD(t,s,a=1){const[r,n]=xB(t);if(!r)return;const o=window.getComputedStyle(s).getPropertyValue(r);if(o){const i=o.trim();return vD(i)?parseFloat(i):i}return tj(n)?XD(n,s,a+1):n}function dj(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const JD=new Set(["width","height","top","left","right","bottom",...Wl]),fB={test:t=>t==="auto",parse:t=>t},QD=t=>s=>s.test(t),ZD=[Hl,it,Wr,Tn,o9,n9,fB],zw=t=>ZD.find(QD(t));function pB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jD(t):!0}const gB=new Set(["brightness","contrast","saturate","opacity"]);function vB(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(sj)||[];if(!r)return t;const n=a.replace(r,"");let o=gB.has(s)?1:0;return r!==a&&(o*=100),s+"("+o+n+")"}const bB=/\b([a-z-]*)\(.*?\)/gu,C0={...fo,getAnimatableNone:t=>{const s=t.match(bB);return s?s.map(vB).join(" "):t}},Fw={...Hl,transform:Math.round},jB={rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:Gu,scaleX:Gu,scaleY:Gu,scaleZ:Gu,skew:Tn,skewX:Tn,skewY:Tn,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Cd,originX:Cw,originY:Cw,originZ:it},uj={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it,...jB,zIndex:Fw,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:Fw},yB={...uj,color:js,backgroundColor:js,outlineColor:js,fill:js,stroke:js,borderColor:js,borderTopColor:js,borderRightColor:js,borderBottomColor:js,borderLeftColor:js,filter:C0,WebkitFilter:C0},ek=t=>yB[t];function tk(t,s){let a=ek(t);return a!==C0&&(a=fo),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const NB=new Set(["auto","none","0"]);function wB(t,s,a){let r=0,n;for(;r<t.length&&!n;){const o=t[r];typeof o=="string"&&!NB.has(o)&&Sd(o).values.length&&(n=t[r]),r++}if(n&&a)for(const o of s)t[o]=tk(a,n)}class CB extends cj{constructor(s,a,r,n,o){super(s,a,r,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let u=s[c];if(typeof u=="string"&&(u=u.trim(),tj(u))){const d=XD(u,a.current);d!==void 0&&(s[c]=d),c===s.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!JD.has(r)||s.length!==2)return;const[n,o]=s,i=zw(n),l=zw(o);if(i!==l)if(Rw(i)&&Rw(l))for(let c=0;c<s.length;c++){const u=s[c];typeof u=="string"&&(s[c]=parseFloat(u))}else Yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,r=[];for(let n=0;n<s.length;n++)(s[n]===null||pB(s[n]))&&r.push(n);r.length&&wB(s,r,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&s.getValue(r,n).jump(n,!1)}measureEndState(){var l;const{element:s,name:a,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const n=s.getValue(a);n&&n.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Yo[a](s.measureViewportBox(),window.getComputedStyle(s.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function SB(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const sk=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function ak(t){return bD(t)&&"offsetHeight"in t}const _w=30,EB=t=>!isNaN(parseFloat(t));class PB{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const n=va.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=va.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=EB(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Jb);const r=this.events[s].add(a);return s==="change"?()=>{r(),rs.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>_w)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,_w);return yD(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,a;(s=this.dependents)==null||s.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(t,s){return new PB(t,s)}const{schedule:mj,cancel:mae}=RD(queueMicrotask,!1),ir={x:!1,y:!1};function rk(){return ir.x||ir.y}function AB(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function nk(t,s){const a=SB(t),r=new AbortController,n={passive:!0,...s,signal:r.signal};return[a,n,()=>r.abort()]}function Lw(t){return!(t.pointerType==="touch"||rk())}function DB(t,s,a={}){const[r,n,o]=nk(t,a),i=l=>{if(!Lw(l))return;const{target:c}=l,u=s(c,l);if(typeof u!="function"||!c)return;const d=h=>{Lw(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return r.forEach(l=>{l.addEventListener("pointerenter",i,n)}),o}const ok=(t,s)=>s?t===s?!0:ok(t,s.parentElement):!1,hj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TB(t){return kB.has(t.tagName)||t.tabIndex!==-1}const jm=new WeakSet;function $w(t){return s=>{s.key==="Enter"&&t(s)}}function dp(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const RB=(t,s)=>{const a=t.currentTarget;if(!a)return;const r=$w(()=>{if(jm.has(a))return;dp(a,"down");const n=$w(()=>{dp(a,"up")}),o=()=>dp(a,"cancel");a.addEventListener("keyup",n,s),a.addEventListener("blur",o,s)});a.addEventListener("keydown",r,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),s)};function Vw(t){return hj(t)&&!rk()}function MB(t,s,a={}){const[r,n,o]=nk(t,a),i=l=>{const c=l.currentTarget;if(!Vw(l))return;jm.add(c);const u=s(c,l),d=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",x),jm.has(c)&&jm.delete(c),Vw(f)&&typeof u=="function"&&u(f,{success:g})},h=f=>{d(f,c===window||c===document||a.useGlobalTarget||ok(c,f.target))},x=f=>{d(f,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",x,n)};return r.forEach(l=>{(a.useGlobalTarget?window:l).addEventListener("pointerdown",i,n),ak(l)&&(l.addEventListener("focus",u=>RB(u,n)),!TB(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function ik(t){return bD(t)&&"ownerSVGElement"in t}function IB(t){return ik(t)&&t.tagName==="svg"}const Ks=t=>!!(t&&t.getVelocity),OB=[...ZD,js,fo],zB=t=>OB.find(QD(t)),xj=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class FB extends m.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=ak(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _B({children:t,isPresent:s,anchorX:a,root:r}){const n=m.useId(),o=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(xj);return m.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:x}=i.current;if(s||!o.current||!c||!u)return;const f=a==="left"?`left: ${h}`:`right: ${x}`;o.current.dataset.motionPopId=n;const g=document.createElement("style");l&&(g.nonce=l);const p=r??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[s]),e.jsx(FB,{isPresent:s,childRef:o,sizeRef:i,children:m.cloneElement(t,{ref:o})})}const LB=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:o,mode:i,anchorX:l,root:c})=>{const u=Wb($B),d=m.useId();let h=!0,x=m.useMemo(()=>(h=!1,{id:d,initial:s,isPresent:a,custom:n,onExitComplete:f=>{u.set(f,!0);for(const g of u.values())if(!g)return;r&&r()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[a,u,r]);return o&&h&&(x={...x}),m.useMemo(()=>{u.forEach((f,g)=>u.set(g,!1))},[a]),m.useEffect(()=>{!a&&!u.size&&r&&r()},[a]),i==="popLayout"&&(t=e.jsx(_B,{isPresent:a,anchorX:l,root:c,children:t})),e.jsx(Gx.Provider,{value:x,children:t})};function $B(){return new Map}function lk(t=!0){const s=m.useContext(Gx);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=s,o=m.useId();m.useEffect(()=>{if(t)return n(o)},[t]);const i=m.useCallback(()=>t&&r&&r(o),[o,r,t]);return!a&&r?[!1,i]:[!0]}const Bu=t=>t.key||"";function Gw(t){const s=[];return m.Children.forEach(t,a=>{m.isValidElement(a)&&s.push(a)}),s}const ck=({children:t,custom:s,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=lk(i),h=m.useMemo(()=>Gw(t),[t]),x=i&&!u?[]:h.map(Bu),f=m.useRef(!0),g=m.useRef(h),p=Wb(()=>new Map),[y,v]=m.useState(h),[b,j]=m.useState(h);gD(()=>{f.current=!1,g.current=h;for(let E=0;E<b.length;E++){const A=Bu(b[E]);x.includes(A)?p.delete(A):p.get(A)!==!0&&p.set(A,!1)}},[b,x.length,x.join("-")]);const w=[];if(h!==y){let E=[...h];for(let A=0;A<b.length;A++){const P=b[A],z=Bu(P);x.includes(z)||(E.splice(A,0,P),w.push(P))}return o==="wait"&&w.length&&(E=w),j(Gw(E)),v(h),null}const{forceRender:N}=m.useContext(Hb);return e.jsx(e.Fragment,{children:b.map(E=>{const A=Bu(E),P=i&&!u?!1:h===b||x.includes(A),z=()=>{if(p.has(A))p.set(A,!0);else return;let T=!0;p.forEach(k=>{k||(T=!1)}),T&&(N==null||N(),j(g.current),i&&(d==null||d()),r&&r())};return e.jsx(LB,{isPresent:P,initial:!f.current||a?void 0:!1,custom:s,presenceAffectsLayout:n,mode:o,root:c,onExitComplete:P?void 0:z,anchorX:l,children:E},A)})})},dk=m.createContext({strict:!1}),Bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cl={};for(const t in Bw)Cl[t]={isEnabled:s=>Bw[t].some(a=>!!s[a])};function VB(t){for(const s in t)Cl[s]={...Cl[s],...t[s]}}const GB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GB.has(t)}let uk=t=>!Ch(t);function BB(t){typeof t=="function"&&(uk=s=>s.startsWith("on")?!Ch(s):t(s))}try{BB(require("@emotion/is-prop-valid").default)}catch{}function UB(t,s,a){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(uk(n)||a===!0&&Ch(n)||!s&&!Ch(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}const Bx=m.createContext({});function Ux(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ed(t){return typeof t=="string"||Array.isArray(t)}const fj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pj=["initial",...fj];function Hx(t){return Ux(t.animate)||pj.some(s=>Ed(t[s]))}function mk(t){return!!(Hx(t)||t.variants)}function HB(t,s){if(Hx(t)){const{initial:a,animate:r}=t;return{initial:a===!1||Ed(a)?a:void 0,animate:Ed(r)?r:void 0}}return t.inherit!==!1?s:{}}function WB(t){const{initial:s,animate:a}=HB(t,m.useContext(Bx));return m.useMemo(()=>({initial:s,animate:a}),[Uw(s),Uw(a)])}function Uw(t){return Array.isArray(t)?t.join(" "):t}const Pd={};function qB(t){for(const s in t)Pd[s]=t[s],ej(s)&&(Pd[s].isCSSVariable=!0)}function hk(t,{layout:s,layoutId:a}){return ql.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!Pd[t]||t==="opacity")}const YB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KB=Wl.length;function XB(t,s,a){let r="",n=!0;for(let o=0;o<KB;o++){const i=Wl[o],l=t[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||a){const u=sk(l,uj[i]);if(!c){n=!1;const d=YB[i]||i;r+=`${d}(${u}) `}a&&(s[i]=u)}}return r=r.trim(),a?r=a(s,n?"":r):n&&(r="none"),r}function gj(t,s,a){const{style:r,vars:n,transformOrigin:o}=t;let i=!1,l=!1;for(const c in s){const u=s[c];if(ql.has(c)){i=!0;continue}else if(ej(c)){n[c]=u;continue}else{const d=sk(u,uj[c]);c.startsWith("origin")?(l=!0,o[c]=d):r[c]=d}}if(s.transform||(i||a?r.transform=XB(s,t.transform,a):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${c} ${u} ${d}`}}const vj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xk(t,s,a){for(const r in s)!Ks(s[r])&&!hk(r,a)&&(t[r]=s[r])}function JB({transformTemplate:t},s){return m.useMemo(()=>{const a=vj();return gj(a,s,t),Object.assign({},a.vars,a.style)},[s])}function QB(t,s){const a=t.style||{},r={};return xk(r,a,t),Object.assign(r,JB(t,s)),r}function ZB(t,s){const a={},r=QB(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}const eU={offset:"stroke-dashoffset",array:"stroke-dasharray"},tU={offset:"strokeDashoffset",array:"strokeDasharray"};function sU(t,s,a=1,r=0,n=!0){t.pathLength=1;const o=n?eU:tU;t[o.offset]=it.transform(-r);const i=it.transform(s),l=it.transform(a);t[o.array]=`${i} ${l}`}function fk(t,{attrX:s,attrY:a,attrScale:r,pathLength:n,pathSpacing:o=1,pathOffset:i=0,...l},c,u,d){if(gj(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:x}=t;h.transform&&(x.transform=h.transform,delete h.transform),(x.transform||h.transformOrigin)&&(x.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),x.transform&&(x.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),s!==void 0&&(h.x=s),a!==void 0&&(h.y=a),r!==void 0&&(h.scale=r),n!==void 0&&sU(h,n,o,i,!1)}const pk=()=>({...vj(),attrs:{}}),gk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aU(t,s,a,r){const n=m.useMemo(()=>{const o=pk();return fk(o,s,gk(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[s]);if(t.style){const o={};xk(o,t.style,t),n.style={...o,...n.style}}return n}const rU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bj(t){return typeof t!="string"||t.includes("-")?!1:!!(rU.indexOf(t)>-1||/[A-Z]/u.test(t))}function nU(t,s,a,{latestValues:r},n,o=!1){const l=(bj(t)?aU:ZB)(s,r,n,t),c=UB(s,typeof t=="string",o),u=t!==m.Fragment?{...c,...l,ref:a}:{},{children:d}=s,h=m.useMemo(()=>Ks(d)?d.get():d,[d]);return m.createElement(t,{...u,children:h})}function Hw(t){const s=[{},{}];return t==null||t.values.forEach((a,r)=>{s[0][r]=a.get(),s[1][r]=a.getVelocity()}),s}function jj(t,s,a,r){if(typeof s=="function"){const[n,o]=Hw(r);s=s(a!==void 0?a:t.custom,n,o)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,o]=Hw(r);s=s(a!==void 0?a:t.custom,n,o)}return s}function ym(t){return Ks(t)?t.get():t}function oU({scrapeMotionValuesFromProps:t,createRenderState:s},a,r,n){return{latestValues:iU(a,r,n,t),renderState:s()}}function iU(t,s,a,r){const n={},o=r(t,{});for(const x in o)n[x]=ym(o[x]);let{initial:i,animate:l}=t;const c=Hx(t),u=mk(t);s&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=s.initial),l===void 0&&(l=s.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const h=d?l:i;if(h&&typeof h!="boolean"&&!Ux(h)){const x=Array.isArray(h)?h:[h];for(let f=0;f<x.length;f++){const g=jj(t,x[f]);if(g){const{transitionEnd:p,transition:y,...v}=g;for(const b in v){let j=v[b];if(Array.isArray(j)){const w=d?j.length-1:0;j=j[w]}j!==null&&(n[b]=j)}for(const b in p)n[b]=p[b]}}}return n}const vk=t=>(s,a)=>{const r=m.useContext(Bx),n=m.useContext(Gx),o=()=>oU(t,s,r,n);return a?o():Wb(o)};function yj(t,s,a){var o;const{style:r}=t,n={};for(const i in r)(Ks(r[i])||s.style&&Ks(s.style[i])||hk(i,t)||((o=a==null?void 0:a.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(n[i]=r[i]);return n}const lU=vk({scrapeMotionValuesFromProps:yj,createRenderState:vj});function bk(t,s,a){const r=yj(t,s,a);for(const n in t)if(Ks(t[n])||Ks(s[n])){const o=Wl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=t[n]}return r}const cU=vk({scrapeMotionValuesFromProps:bk,createRenderState:pk}),dU=Symbol.for("motionComponentSymbol");function Fi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uU(t,s,a){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):Fi(a)&&(a.current=r))},[s])}const Nj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mU="framerAppearId",jk="data-"+Nj(mU),yk=m.createContext({});function hU(t,s,a,r,n){var p,y;const{visualElement:o}=m.useContext(Bx),i=m.useContext(dk),l=m.useContext(Gx),c=m.useContext(xj).reducedMotion,u=m.useRef(null);r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:s,parent:o,props:a,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(yk);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&xU(u.current,a,n,h);const x=m.useRef(!1);m.useInsertionEffect(()=>{d&&x.current&&d.update(a,l)});const f=a[jk],g=m.useRef(!!f&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,f))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,f)));return gD(()=>{d&&(x.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,f)}),g.current=!1))}),d}function xU(t,s,a,r){const{layoutId:n,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:Nk(t.parent)),t.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!i||l&&Fi(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function Nk(t){if(t)return t.options.allowProjection!==!1?t.projection:Nk(t.parent)}function up(t,{forwardMotionProps:s=!1}={},a,r){a&&VB(a);const n=bj(t)?cU:lU;function o(l,c){let u;const d={...m.useContext(xj),...l,layoutId:fU(l)},{isStatic:h}=d,x=WB(l),f=n(l,h);if(!h&&qb){pU();const g=gU(d);u=g.MeasureLayout,x.visualElement=hU(t,f,d,r,g.ProjectionNode)}return e.jsxs(Bx.Provider,{value:x,children:[u&&x.visualElement?e.jsx(u,{visualElement:x.visualElement,...d}):null,nU(t,l,uU(f,x.visualElement,c),f,h,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const i=m.forwardRef(o);return i[dU]=t,i}function fU({layoutId:t}){const s=m.useContext(Hb).id;return s&&t!==void 0?s+"-"+t:t}function pU(t,s){m.useContext(dk).strict}function gU(t){const{drag:s,layout:a}=Cl;if(!s&&!a)return{};const r={...s,...a};return{MeasureLayout:s!=null&&s.isEnabled(t)||a!=null&&a.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vU(t,s){if(typeof Proxy>"u")return up;const a=new Map,r=(o,i)=>up(o,i,t,s),n=(o,i)=>r(o,i);return new Proxy(n,{get:(o,i)=>i==="create"?r:(a.has(i)||a.set(i,up(i,void 0,t,s)),a.get(i))})}function wk({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function bU({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function jU(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function mp(t){return t===void 0||t===1}function S0({scale:t,scaleX:s,scaleY:a}){return!mp(t)||!mp(s)||!mp(a)}function Mo(t){return S0(t)||Ck(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ck(t){return Ww(t.x)||Ww(t.y)}function Ww(t){return t&&t!=="0%"}function Sh(t,s,a){const r=t-a,n=s*r;return a+n}function qw(t,s,a,r,n){return n!==void 0&&(t=Sh(t,n,r)),Sh(t,a,r)+s}function E0(t,s=0,a=1,r,n){t.min=qw(t.min,s,a,r,n),t.max=qw(t.max,s,a,r,n)}function Sk(t,{x:s,y:a}){E0(t.x,s.translate,s.scale,s.originPoint),E0(t.y,a.translate,a.scale,a.originPoint)}const Yw=.999999999999,Kw=1.0000000000001;function yU(t,s,a,r=!1){const n=a.length;if(!n)return;s.x=s.y=1;let o,i;for(let l=0;l<n;l++){o=a[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Li(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,Sk(t,i)),r&&Mo(o.latestValues)&&Li(t,o.latestValues))}s.x<Kw&&s.x>Yw&&(s.x=1),s.y<Kw&&s.y>Yw&&(s.y=1)}function _i(t,s){t.min=t.min+s,t.max=t.max+s}function Xw(t,s,a,r,n=.5){const o=is(t.min,t.max,n);E0(t,s,a,o,r)}function Li(t,s){Xw(t.x,s.x,s.scaleX,s.scale,s.originX),Xw(t.y,s.y,s.scaleY,s.scale,s.originY)}function Ek(t,s){return wk(jU(t.getBoundingClientRect(),s))}function NU(t,s,a){const r=Ek(t,a),{scroll:n}=s;return n&&(_i(r.x,n.offset.x),_i(r.y,n.offset.y)),r}const Jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),$i=()=>({x:Jw(),y:Jw()}),Qw=()=>({min:0,max:0}),ps=()=>({x:Qw(),y:Qw()}),P0={current:null},Pk={current:!1};function wU(){if(Pk.current=!0,!!qb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>P0.current=t.matches;t.addEventListener("change",s),s()}else P0.current=!1}const CU=new WeakMap;function SU(t,s,a){for(const r in s){const n=s[r],o=a[r];if(Ks(n))t.addValue(r,n);else if(Ks(o))t.addValue(r,wl(n,{owner:t}));else if(o!==n)if(t.hasValue(r)){const i=t.getValue(r);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=t.getStaticValue(r);t.addValue(r,wl(i!==void 0?i:n,{owner:t}))}}for(const r in a)s[r]===void 0&&t.removeValue(r);return s}const Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EU{scrapeMotionValuesFromProps(s,a,r){return{}}constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=va.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,rs.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=u,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Hx(a),this.isVariantNode=mk(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in h){const f=h[x];c[x]!==void 0&&Ks(f)&&f.set(c[x])}}mount(s){this.current=s,CU.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Pk.current||wU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=ql.has(s);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",i=>{this.latestValues[s]=i,this.props.onUpdate&&rs.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{n(),o&&o(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Cl){const a=Cl[s];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[s]&&n&&r(this.props)&&(this.features[s]=new n(this)),this.features[s]){const o=this.features[s];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ps()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<Zw.length;r++){const n=Zw[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,i=s[o];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=SU(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const r=this.values.get(s);a!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=wl(a===null?void 0:a,{owner:this}),this.addValue(s,r)),r}readValue(s,a){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(vD(r)||jD(r))?r=parseFloat(r):!zB(r)&&fo.test(a)&&(r=tk(s,a)),this.setBaseTarget(s,Ks(r)?r.get():r)),Ks(r)?r.get():r}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var o;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=jj(this.props,a,(o=this.presenceContext)==null?void 0:o.custom);i&&(r=i[s])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,s);return n!==void 0&&!Ks(n)?n:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Jb),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){mj.render(this.render)}}class Ak extends EU{constructor(){super(...arguments),this.KeyframeResolver=CB}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Ks(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Dk(t,{style:s,vars:a},r,n){const o=t.style;let i;for(i in s)o[i]=s[i];n==null||n.applyProjectionStyles(o,r);for(i in a)o.setProperty(i,a[i])}function PU(t){return window.getComputedStyle(t)}class AU extends Ak{constructor(){super(...arguments),this.type="html",this.renderInstance=Dk}readValueFromInstance(s,a){var r;if(ql.has(a))return(r=this.projection)!=null&&r.isProjecting?v0(a):B9(s,a);{const n=PU(s),o=(ej(a)?n.getPropertyValue(a):n[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:a}){return Ek(s,a)}build(s,a,r){gj(s,a,r.transformTemplate)}scrapeMotionValuesFromProps(s,a,r){return yj(s,a,r)}}const kk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DU(t,s,a,r){Dk(t,s,void 0,r);for(const n in s.attrs)t.setAttribute(kk.has(n)?n:Nj(n),s.attrs[n])}class kU extends Ak{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ps}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(ql.has(a)){const r=ek(a);return r&&r.default||0}return a=kk.has(a)?a:Nj(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,r){return bk(s,a,r)}build(s,a,r){fk(s,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,a,r,n){DU(s,a,r,n)}mount(s){this.isSVGTag=gk(s.tagName),super.mount(s)}}const TU=(t,s)=>bj(t)?new kU(s):new AU(s,{allowProjection:t!==m.Fragment});function Ad(t,s,a){const r=t.getProps();return jj(r,s,a!==void 0?a:r.custom,t)}const A0=t=>Array.isArray(t);function RU(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,wl(a))}function MU(t){return A0(t)?t[t.length-1]||0:t}function IU(t,s){const a=Ad(t,s);let{transitionEnd:r={},transition:n={},...o}=a||{};o={...o,...r};for(const i in o){const l=MU(o[i]);RU(t,i,l)}}function OU(t){return!!(Ks(t)&&t.add)}function D0(t,s){const a=t.getValue("willChange");if(OU(a))return a.add(s);if(!a&&bn.WillChange){const r=new bn.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function Tk(t){return t.props[jk]}const zU=t=>t!==null;function FU(t,{repeat:s,repeatType:a="loop"},r){const n=t.filter(zU),o=s&&a!=="loop"&&s%2===1?0:n.length-1;return!o||r===void 0?n[o]:r}const _U={type:"spring",stiffness:500,damping:25,restSpeed:10},LU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$U={type:"keyframes",duration:.8},VU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GU=(t,{keyframes:s})=>s.length>2?$U:ql.has(t)?t.startsWith("scale")?LU(s[1]):_U:VU;function BU({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const wj=(t,s,a,r={},n,o)=>i=>{const l=dj(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ur(c);const d={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...l,delay:-u,onUpdate:x=>{s.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:t,motionValue:s,element:o?void 0:n};BU(l)||Object.assign(d,GU(t,d)),d.duration&&(d.duration=Ur(d.duration)),d.repeatDelay&&(d.repeatDelay=Ur(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(w0(d),d.delay===0&&(h=!0)),(bn.instantAnimations||bn.skipAnimations)&&(h=!0,w0(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!o&&s.get()!==void 0){const x=FU(d.keyframes,l);if(x!==void 0){rs.update(()=>{d.onUpdate(x),d.onComplete()});return}}return l.isSync?new lj(d):new mB(d)};function UU({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function Rk(t,s,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=s;r&&(o=r);const c=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),x=l[d];if(x===void 0||u&&UU(u,d))continue;const f={delay:a,...dj(o||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(x)&&x===g&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=Tk(t);if(v){const b=window.MotionHandoffAnimation(v,d,rs);b!==null&&(f.startTime=b,p=!0)}}D0(t,d),h.start(wj(d,h,x,t.shouldReduceMotion&&JD.has(d)?{type:!1}:f,t,p));const y=h.animation;y&&c.push(y)}return i&&Promise.all(c).then(()=>{rs.update(()=>{i&&IU(t,i)})}),c}function k0(t,s,a={}){var c;const r=Ad(t,s,a.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const o=r?()=>Promise.all(Rk(t,r,a)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:x}=n;return HU(t,s,u,d,h,x,a)}:()=>Promise.resolve(),{when:l}=n;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(a.delay)])}function HU(t,s,a=0,r=0,n=0,o=1,i){const l=[],c=t.variantChildren.size,u=(c-1)*n,d=typeof r=="function",h=d?x=>r(x,c):o===1?(x=0)=>x*n:(x=0)=>u-x*n;return Array.from(t.variantChildren).sort(WU).forEach((x,f)=>{x.notify("AnimationStart",s),l.push(k0(x,s,{...i,delay:a+(d?0:r)+h(f)}).then(()=>x.notify("AnimationComplete",s)))}),Promise.all(l)}function WU(t,s){return t.sortNodePosition(s)}function qU(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const n=s.map(o=>k0(t,o,a));r=Promise.all(n)}else if(typeof s=="string")r=k0(t,s,a);else{const n=typeof s=="function"?Ad(t,s,a.custom):s;r=Promise.all(Rk(t,n,a))}return r.then(()=>{t.notify("AnimationComplete",s)})}function Mk(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}const YU=pj.length;function Ik(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?Ik(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<YU;a++){const r=pj[a],n=t.props[r];(Ed(n)||n===!1)&&(s[r]=n)}return s}const KU=[...fj].reverse(),XU=fj.length;function JU(t){return s=>Promise.all(s.map(({animation:a,options:r})=>qU(t,a,r)))}function QU(t){let s=JU(t),a=e1(),r=!0;const n=c=>(u,d)=>{var x;const h=Ad(t,d,c==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(h){const{transition:f,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function o(c){s=c(t)}function i(c){const{props:u}=t,d=Ik(t.parent)||{},h=[],x=new Set;let f={},g=1/0;for(let y=0;y<XU;y++){const v=KU[y],b=a[v],j=u[v]!==void 0?u[v]:d[v],w=Ed(j),N=v===c?b.isActive:null;N===!1&&(g=y);let E=j===d[v]&&j!==u[v]&&w;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...f},!b.isActive&&N===null||!j&&!b.prevProp||Ux(j)||typeof j=="boolean")continue;const A=ZU(b.prevProp,j);let P=A||v===c&&b.isActive&&!E&&w||y>g&&w,z=!1;const T=Array.isArray(j)?j:[j];let k=T.reduce(n(v),{});N===!1&&(k={});const{prevResolvedValues:L={}}=b,U={...L,...k},Y=O=>{P=!0,x.has(O)&&(z=!0,x.delete(O)),b.needsAnimating[O]=!0;const S=t.getValue(O);S&&(S.liveStyle=!1)};for(const O in U){const S=k[O],$=L[O];if(f.hasOwnProperty(O))continue;let H=!1;A0(S)&&A0($)?H=!Mk(S,$):H=S!==$,H?S!=null?Y(O):x.add(O):S!==void 0&&x.has(O)?Y(O):b.protectedKeys[O]=!0}b.prevProp=j,b.prevResolvedValues=k,b.isActive&&(f={...f,...k}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(E&&A)||z)&&h.push(...T.map(O=>({animation:O,options:{type:v}})))}if(x.size){const y={};if(typeof u.initial!="boolean"){const v=Ad(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(y.transition=v.transition)}x.forEach(v=>{const b=t.getBaseTarget(v),j=t.getValue(v);j&&(j.liveStyle=!0),y[v]=b??null}),h.push({animation:y})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?s(h):Promise.resolve()}function l(c,u){var h;if(a[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(x=>{var f;return(f=x.animationState)==null?void 0:f.setActive(c,u)}),a[c].isActive=u;const d=i(c);for(const x in a)a[x].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>a,reset:()=>{a=e1(),r=!0}}}function ZU(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Mk(s,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e1(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class Po{constructor(s){this.isMounted=!1,this.node=s}update(){}}class eH extends Po{constructor(s){super(s),s.animationState||(s.animationState=QU(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Ux(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let tH=0;class sH extends Po{constructor(){super(...arguments),this.id=tH++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const n=this.node.animationState.setActive("exit",!s);a&&!s&&n.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const aH={animation:{Feature:eH},exit:{Feature:sH}};function Dd(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}function ru(t){return{point:{x:t.pageX,y:t.pageY}}}const rH=t=>s=>hj(s)&&t(s,ru(s));function _c(t,s,a,r){return Dd(t,s,rH(a),r)}const Ok=1e-4,nH=1-Ok,oH=1+Ok,zk=.01,iH=0-zk,lH=0+zk;function ra(t){return t.max-t.min}function cH(t,s,a){return Math.abs(t-s)<=a}function t1(t,s,a,r=.5){t.origin=r,t.originPoint=is(s.min,s.max,t.origin),t.scale=ra(a)/ra(s),t.translate=is(a.min,a.max,t.origin)-t.originPoint,(t.scale>=nH&&t.scale<=oH||isNaN(t.scale))&&(t.scale=1),(t.translate>=iH&&t.translate<=lH||isNaN(t.translate))&&(t.translate=0)}function Lc(t,s,a,r){t1(t.x,s.x,a.x,r?r.originX:void 0),t1(t.y,s.y,a.y,r?r.originY:void 0)}function s1(t,s,a){t.min=a.min+s.min,t.max=t.min+ra(s)}function dH(t,s,a){s1(t.x,s.x,a.x),s1(t.y,s.y,a.y)}function a1(t,s,a){t.min=s.min-a.min,t.max=t.min+ra(s)}function $c(t,s,a){a1(t.x,s.x,a.x),a1(t.y,s.y,a.y)}function Ba(t){return[t("x"),t("y")]}const Fk=({current:t})=>t?t.ownerDocument.defaultView:null,r1=(t,s)=>Math.abs(t-s);function uH(t,s){const a=r1(t.x,s.x),r=r1(t.y,s.y);return Math.sqrt(a**2+r**2)}class _k{constructor(s,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=uH(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:p}=x,{timestamp:y}=Os;this.history.push({...p,timestamp:y});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,x)},this.handlePointerMove=(x,f)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=hp(f,this.transformPagePoint),rs.update(this.updatePoint,!0)},this.handlePointerUp=(x,f)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xp(x.type==="pointercancel"?this.lastMoveEventInfo:hp(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(x,v),p&&p(x,v)},!hj(s))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=n||window;const l=ru(s),c=hp(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Os;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=a;h&&h(s,xp(c,this.history)),this.removeListeners=tu(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function hp(t,s){return s?{point:s(t.point)}:t}function n1(t,s){return{x:t.x-s.x,y:t.y-s.y}}function xp({point:t},s){return{point:t,delta:n1(t,Lk(s)),offset:n1(t,mH(s)),velocity:hH(s,.1)}}function mH(t){return t[0]}function Lk(t){return t[t.length-1]}function hH(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const n=Lk(t);for(;a>=0&&(r=t[a],!(n.timestamp-r.timestamp>Ur(s)));)a--;if(!r)return{x:0,y:0};const o=Hr(n.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-r.x)/o,y:(n.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function xH(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?is(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?is(a,t,r.max):Math.min(t,a)),t}function o1(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function fH(t,{top:s,left:a,bottom:r,right:n}){return{x:o1(t.x,a,n),y:o1(t.y,s,r)}}function i1(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function pH(t,s){return{x:i1(t.x,s.x),y:i1(t.y,s.y)}}function gH(t,s){let a=.5;const r=ra(t),n=ra(s);return n>r?a=wd(s.min,s.max-r,t.min):r>n&&(a=wd(t.min,t.max-n,s.min)),vn(0,1,a)}function vH(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const T0=.35;function bH(t=T0){return t===!1?t=0:t===!0&&(t=T0),{x:l1(t,"left","right"),y:l1(t,"top","bottom")}}function l1(t,s,a){return{min:c1(t,s),max:c1(t,a)}}function c1(t,s){return typeof t=="number"?t:t[s]||0}const jH=new WeakMap;class yH{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ps(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ru(h).point)},i=(h,x)=>{const{drag:f,dragPropagation:g,onDragStart:p}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AB(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ba(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Wr.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[v];w&&(b=ra(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&rs.postRender(()=>p(h,x)),D0(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:p,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=x;if(g&&this.currentDirection===null){this.currentDirection=NH(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",x.point,v),this.updateAxis("y",x.point,v),this.visualElement.render(),y&&y(h,x)},c=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x,this.stop(h,x),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ba(h=>{var x;return this.getAnimationState(h)==="paused"&&((x=this.getAxisMotionValue(h).animation)==null?void 0:x.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _k(s,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Fk(this.visualElement)})}stop(s,a){const r=s||this.latestPointerEvent,n=a||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!n||!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&rs.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:n}=this.getProps();if(!r||!Uu(s,n,this.currentDirection))return;const o=this.getAxisMotionValue(s);let i=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(i=xH(i,this.constraints[s],this.elastic[s])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:s,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,n=this.constraints;s&&Fi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=fH(r.layoutBox,s):this.constraints=!1,this.elastic=bH(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ba(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vH(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!Fi(s))return!1;const r=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=NU(r,n.root,this.visualElement.getTransformPagePoint());let i=pH(n.layout.layoutBox,o);if(a){const l=a(bU(i));this.hasMutatedConstraints=!!l,l&&(i=wk(l))}return i}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ba(d=>{if(!Uu(d,a,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const x=n?200:1e6,f=n?40:1e7,g={type:"inertia",velocity:r?s[d]:0,bounceStiffness:x,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return D0(this.visualElement,s),r.start(wj(s,r,0,a,this.visualElement,!1))}stopAnimation(){Ba(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Ba(s=>{var a;return(a=this.getAxisMotionValue(s).animation)==null?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)==null?void 0:a.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Ba(a=>{const{drag:r}=this.getProps();if(!Uu(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(a);if(n&&n.layout){const{min:i,max:l}=n.layout.layoutBox[a];o.set(s[a]-is(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Fi(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ba(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();n[i]=gH({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ba(i=>{if(!Uu(i,s,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(is(c,u,n[i]))})}addListeners(){if(!this.visualElement.current)return;jH.set(this.visualElement,this);const s=this.visualElement.current,a=_c(s,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Fi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),rs.read(r);const i=Dd(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ba(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),a(),o(),l&&l()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=T0,dragMomentum:l=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Uu(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function NH(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class wH extends Po{constructor(s){super(s),this.removeGroupControls=Qa,this.removeListeners=Qa,this.controls=new yH(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qa}unmount(){this.removeGroupControls(),this.removeListeners()}}const d1=t=>(s,a)=>{t&&rs.postRender(()=>t(s,a))};class CH extends Po{constructor(){super(...arguments),this.removePointerDownListener=Qa}onPointerDown(s){this.session=new _k(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fk(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:d1(s),onStart:d1(a),onMove:r,onEnd:(o,i)=>{delete this.session,n&&rs.postRender(()=>n(o,i))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u1(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const pc={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(it.test(t))t=parseFloat(t);else return t;const a=u1(t,s.target.x),r=u1(t,s.target.y);return`${a}% ${r}%`}},SH={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,n=fo.parse(t);if(n.length>5)return r;const o=fo.createTransformer(t),i=typeof n[0]!="number"?1:0,l=a.x.scale*s.x,c=a.y.scale*s.y;n[0+i]/=l,n[1+i]/=c;const u=is(l,c,.5);return typeof n[2+i]=="number"&&(n[2+i]/=u),typeof n[3+i]=="number"&&(n[3+i]/=u),o(n)}};let m1=!1;class EH extends m.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=s;qB(PH),o&&(a.group&&a.group.add(o),r&&r.register&&n&&r.register(o),m1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:n,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,m1=!0,n||s.layoutDependency!==a||a===void 0||s.isPresent!==o?i.willUpdate():this.safeToRemove(),s.isPresent!==o&&(o?i.promote():i.relegate()||rs.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),mj.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function $k(t){const[s,a]=lk(),r=m.useContext(Hb);return e.jsx(EH,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(yk),isPresent:s,safeToRemove:a})}const PH={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:SH};function AH(t,s,a){const r=Ks(t)?t:wl(t);return r.start(wj("",r,s,a)),r.animation}const DH=(t,s)=>t.depth-s.depth;class kH{constructor(){this.children=[],this.isDirty=!1}add(s){Yb(this.children,s),this.isDirty=!0}remove(s){Kb(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(DH),this.isDirty=!1,this.children.forEach(s)}}function TH(t,s){const a=va.now(),r=({timestamp:n})=>{const o=n-a;o>=s&&(xo(r),t(o-s))};return rs.setup(r,!0),()=>xo(r)}const Vk=["TopLeft","TopRight","BottomLeft","BottomRight"],RH=Vk.length,h1=t=>typeof t=="string"?parseFloat(t):t,x1=t=>typeof t=="number"||it.test(t);function MH(t,s,a,r,n,o){n?(t.opacity=is(0,a.opacity??1,IH(r)),t.opacityExit=is(s.opacity??1,0,OH(r))):o&&(t.opacity=is(s.opacity??1,a.opacity??1,r));for(let i=0;i<RH;i++){const l=`border${Vk[i]}Radius`;let c=f1(s,l),u=f1(a,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||x1(c)===x1(u)?(t[l]=Math.max(is(h1(c),h1(u),r),0),(Wr.test(u)||Wr.test(c))&&(t[l]+="%")):t[l]=u}(s.rotate||a.rotate)&&(t.rotate=is(s.rotate||0,a.rotate||0,r))}function f1(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const IH=Gk(0,.5,AD),OH=Gk(.5,.95,Qa);function Gk(t,s,a){return r=>r<t?0:r>s?1:a(wd(t,s,r))}function p1(t,s){t.min=s.min,t.max=s.max}function Ga(t,s){p1(t.x,s.x),p1(t.y,s.y)}function g1(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function v1(t,s,a,r,n){return t-=s,t=Sh(t,1/a,r),n!==void 0&&(t=Sh(t,1/n,r)),t}function zH(t,s=0,a=1,r=.5,n,o=t,i=t){if(Wr.test(s)&&(s=parseFloat(s),s=is(i.min,i.max,s/100)-i.min),typeof s!="number")return;let l=is(o.min,o.max,r);t===o&&(l-=s),t.min=v1(t.min,s,a,l,n),t.max=v1(t.max,s,a,l,n)}function b1(t,s,[a,r,n],o,i){zH(t,s[a],s[r],s[n],s.scale,o,i)}const FH=["x","scaleX","originX"],_H=["y","scaleY","originY"];function j1(t,s,a,r){b1(t.x,s,FH,a?a.x:void 0,r?r.x:void 0),b1(t.y,s,_H,a?a.y:void 0,r?r.y:void 0)}function y1(t){return t.translate===0&&t.scale===1}function Bk(t){return y1(t.x)&&y1(t.y)}function N1(t,s){return t.min===s.min&&t.max===s.max}function LH(t,s){return N1(t.x,s.x)&&N1(t.y,s.y)}function w1(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function Uk(t,s){return w1(t.x,s.x)&&w1(t.y,s.y)}function C1(t){return ra(t.x)/ra(t.y)}function S1(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class $H{constructor(){this.members=[]}add(s){Yb(this.members,s),s.scheduleRender()}remove(s){if(Kb(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(n=>s===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VH(t,s,a){let r="";const n=t.x.translate/s.x,o=t.y.translate/s.y,i=(a==null?void 0:a.z)||0;if((n||o||i)&&(r=`translate3d(${n}px, ${o}px, ${i}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:x,skewX:f,skewY:g}=a;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),x&&(r+=`rotateY(${x}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=t.x.scale*s.x,c=t.y.scale*s.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const fp=["","X","Y","Z"],GH=1e3;let BH=0;function pp(t,s,a,r){const{latestValues:n}=s;n[t]&&(a[t]=n[t],s.setStaticValue(t,0),r&&(r[t]=0))}function Hk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=Tk(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",rs,!(n||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Hk(r)}function Wk({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(i={},l=s==null?void 0:s()){this.id=BH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WH),this.nodes.forEach(XH),this.nodes.forEach(JH),this.nodes.forEach(qH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new kH)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Jb),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=ik(i)&&!IB(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const x=()=>this.root.updateBlockedByResize=!1;rs.read(()=>{h=window.innerWidth}),t(i,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,d&&d(),d=TH(x,250),Nm.hasAnimatedSinceResize&&(Nm.hasAnimatedSinceResize=!1,this.nodes.forEach(A1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:x,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||sW,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!Uk(this.targetLayout,f),b=!h&&x;if(this.options.layoutRoot||this.resumeFrom||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...dj(g,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else h||A1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(P1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KH),this.nodes.forEach(UH),this.nodes.forEach(HH)):this.nodes.forEach(P1),this.clearAllSnapshots();const l=va.now();Os.delta=vn(0,1e3/60,l-Os.timestamp),Os.timestamp=l,Os.isProcessing=!0,np.update.process(Os),np.preRender.process(Os),np.render.process(Os),Os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YH),this.sharedNodes.forEach(ZH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ra(this.snapshot.measuredBox.x)&&!ra(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Bk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Mo(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),aW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return ps();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rW))){const{scroll:d}=this.root;d&&(_i(l.x,d.offset.x),_i(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=ps();if(Ga(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:x}=d;d!==this.root&&h&&x.layoutScroll&&(h.wasRoot&&Ga(l,i),_i(l.x,h.offset.x),_i(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const c=ps();Ga(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Li(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mo(d.latestValues)&&Li(c,d.latestValues)}return Mo(this.latestValues)&&Li(c,this.latestValues),c}removeTransform(i){const l=ps();Ga(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mo(u.latestValues))continue;S0(u.latestValues)&&u.updateSnapshot();const d=ps(),h=u.measurePageBox();Ga(d,h),j1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mo(this.latestValues)&&j1(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Os.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ps(),this.relativeTargetOrigin=ps(),$c(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ps(),this.targetWithTransforms=ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ga(this.target,this.layout.layoutBox),Sk(this.target,this.targetDelta)):Ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ps(),this.relativeTargetOrigin=ps(),$c(this.relativeTargetOrigin,this.target,f.target),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||S0(this.parent.latestValues)||Ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Os.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ga(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,x=this.treeScale.y;yU(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=ps());const{target:f}=i;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g1(this.prevProjectionDelta.x,this.projectionDelta.x),g1(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==x||!S1(this.projectionDelta.x,this.prevProjectionDelta.x)||!S1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$i(),this.projectionDelta=$i(),this.projectionDeltaWithTransform=$i()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=$i();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=ps(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(tW));this.animationProgress=0;let j;this.mixTargetDelta=w=>{const N=w/1e3;D1(h.x,i.x,N),D1(h.y,i.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($c(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eW(this.relativeTarget,this.relativeTargetOrigin,x,N),j&&LH(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ps()),Ga(j,this.relativeTarget)),p&&(this.animationValues=d,MH(d,u,this.latestValues,N,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rs.update(()=>{Nm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wl(0)),this.currentAnimation=AH(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&qk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ps();const h=ra(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const x=ra(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+x}Ga(l,c),Li(l,d),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new $H),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pp("z",i,u,this.animationValues);for(let d=0;d<fp.length;d++)pp(`rotate${fp[d]}`,i,u,this.animationValues),pp(`skew${fp[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ym(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ym(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=VH(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),i.transform=h;const{x,y:f}=this.projectionDelta;i.transformOrigin=`${x.origin*100}% ${f.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Pd){if(d[g]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:v}=Pd[g],b=h==="none"?d[g]:p(d[g],u);if(y){const j=y.length;for(let w=0;w<j;w++)i[y[w]]=b}else v?this.options.visualElement.renderState.vars[g]=b:i[g]=b}this.options.layoutId&&(i.pointerEvents=u===this?ym(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(E1),this.root.sharedNodes.clear()}}}function UH(t){t.updateLayout()}function HH(t){var a;const s=((a=t.resumeFrom)==null?void 0:a.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:o}=t.options,i=s.source!==t.layout.source;o==="size"?Ba(h=>{const x=i?s.measuredBox[h]:s.layoutBox[h],f=ra(x);x.min=r[h].min,x.max=x.min+f}):qk(o,s.layoutBox,r)&&Ba(h=>{const x=i?s.measuredBox[h]:s.layoutBox[h],f=ra(r[h]);x.max=x.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=$i();Lc(l,r,s.layoutBox);const c=$i();i?Lc(c,t.applyTransform(n,!0),s.measuredBox):Lc(c,r,s.layoutBox);const u=!Bk(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:f}=h;if(x&&f){const g=ps();$c(g,s.layoutBox,x.layoutBox);const p=ps();$c(p,r,f.layoutBox),Uk(g,p)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YH(t){t.clearSnapshot()}function E1(t){t.clearMeasurements()}function P1(t){t.isLayoutDirty=!1}function KH(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function A1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XH(t){t.resolveTargetDelta()}function JH(t){t.calcProjection()}function QH(t){t.resetSkewAndRotation()}function ZH(t){t.removeLeadSnapshot()}function D1(t,s,a){t.translate=is(s.translate,0,a),t.scale=is(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function k1(t,s,a,r){t.min=is(s.min,a.min,r),t.max=is(s.max,a.max,r)}function eW(t,s,a,r){k1(t.x,s.x,a.x,r),k1(t.y,s.y,a.y,r)}function tW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sW={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R1=T1("applewebkit/")&&!T1("chrome/")?Math.round:Qa;function M1(t){t.min=R1(t.min),t.max=R1(t.max)}function aW(t){M1(t.x),M1(t.y)}function qk(t,s,a){return t==="position"||t==="preserve-aspect"&&!cH(C1(s),C1(a),.2)}function rW(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const nW=Wk({attachResizeListener:(t,s)=>Dd(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},Yk=Wk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gp.current){const t=new nW({});t.mount(window),t.setOptions({layoutScroll:!0}),gp.current=t}return gp.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oW={pan:{Feature:CH},drag:{Feature:wH,ProjectionNode:Yk,MeasureLayout:$k}};function I1(t,s,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,o=r[n];o&&rs.postRender(()=>o(s,ru(s)))}class iW extends Po{mount(){const{current:s}=this.node;s&&(this.unmount=DB(s,(a,r)=>(I1(this.node,r,"Start"),n=>I1(this.node,n,"End"))))}unmount(){}}class lW extends Po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tu(Dd(this.node.current,"focus",()=>this.onFocus()),Dd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O1(t,s,a){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),o=r[n];o&&rs.postRender(()=>o(s,ru(s)))}class cW extends Po{mount(){const{current:s}=this.node;s&&(this.unmount=MB(s,(a,r)=>(O1(this.node,r,"Start"),(n,{success:o})=>O1(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R0=new WeakMap,vp=new WeakMap,dW=t=>{const s=R0.get(t.target);s&&s(t)},uW=t=>{t.forEach(dW)};function mW({root:t,...s}){const a=t||document;vp.has(a)||vp.set(a,{});const r=vp.get(a),n=JSON.stringify(s);return r[n]||(r[n]=new IntersectionObserver(uW,{root:t,...s})),r[n]}function hW(t,s,a){const r=mW(s);return R0.set(t,a),r.observe(t),()=>{R0.delete(t),r.unobserve(t)}}const xW={some:0,all:1};class fW extends Po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:o}=s,i={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:xW[n]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),x=u?d:h;x&&x(c)};return hW(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(pW(s,a))&&this.startObserver()}unmount(){}}function pW({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const gW={inView:{Feature:fW},tap:{Feature:cW},focus:{Feature:lW},hover:{Feature:iW}},vW={layout:{ProjectionNode:Yk,MeasureLayout:$k}},bW={...aH,...gW,...oW,...vW},ms=vU(bW,TU);function Ot(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function za(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function sa(t,s){const a=Ot(t);return isNaN(s)?za(t,NaN):(s&&a.setDate(a.getDate()+s),a)}function Nr(t,s){const a=Ot(t);if(isNaN(s))return za(t,NaN);if(!s)return a;const r=a.getDate(),n=za(t,a.getTime());n.setMonth(a.getMonth()+s+1,0);const o=n.getDate();return r>=o?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}const Cj=6048e5,jW=864e5;let yW={};function nu(){return yW}function Yr(t,s){var l,c,u,d;const a=nu(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,n=Ot(t),o=n.getDay(),i=(o<r?7:0)+o-r;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function ii(t){return Yr(t,{weekStartsOn:1})}function Kk(t){const s=Ot(t),a=s.getFullYear(),r=za(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=ii(r),o=za(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const i=ii(o);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function Sl(t){const s=Ot(t);return s.setHours(0,0,0,0),s}function Eh(t){const s=Ot(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function Vr(t,s){const a=Sl(t),r=Sl(s),n=+a-Eh(a),o=+r-Eh(r);return Math.round((n-o)/jW)}function NW(t){const s=Kk(t),a=za(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),ii(a)}function M0(t,s){const a=s*7;return sa(t,a)}function wW(t,s){return Nr(t,s*12)}function CW(t){let s;return t.forEach(function(a){const r=Ot(a);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function SW(t){let s;return t.forEach(a=>{const r=Ot(a);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function ba(t,s){const a=Sl(t),r=Sl(s);return+a==+r}function Sj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wx(t){if(!Sj(t)&&typeof t!="number")return!1;const s=Ot(t);return!isNaN(Number(s))}function kd(t,s){const a=Ot(t),r=Ot(s),n=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return n*12+o}function EW(t,s,a){const r=Yr(t,a),n=Yr(s,a),o=+r-Eh(r),i=+n-Eh(n);return Math.round((o-i)/Cj)}function Ej(t){const s=Ot(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function wa(t){const s=Ot(t);return s.setDate(1),s.setHours(0,0,0,0),s}function Xk(t){const s=Ot(t),a=za(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Pj(t,s){var l,c,u,d;const a=nu(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,n=Ot(t),o=n.getDay(),i=(o<r?-7:0)+6-(o-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Jk(t){return Pj(t,{weekStartsOn:1})}const PW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AW=(t,s,a)=>{let r;const n=PW[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Qi(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const DW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RW={date:Qi({formats:DW,defaultWidth:"full"}),time:Qi({formats:kW,defaultWidth:"full"}),dateTime:Qi({formats:TW,defaultWidth:"full"})},MW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IW=(t,s,a,r)=>MW[t];function Lr(t){return(s,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=a!=null&&a.width?String(a.width):i;n=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(s):s;return n[o]}}const OW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_W={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$W={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VW=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},GW={ordinalNumber:VW,era:Lr({values:OW,defaultWidth:"wide"}),quarter:Lr({values:zW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lr({values:FW,defaultWidth:"wide"}),day:Lr({values:_W,defaultWidth:"wide"}),dayPeriod:Lr({values:LW,defaultWidth:"wide",formattingValues:$W,defaultFormattingWidth:"wide"})};function $r(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=s.match(n);if(!o)return null;const i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?UW(l,h=>h.test(i)):BW(l,h=>h.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=a.valueCallback?a.valueCallback(u):u;const d=s.slice(i.length);return{value:u,rest:d}}}function BW(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function UW(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function Qk(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],o=s.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;const l=s.slice(n.length);return{value:i,rest:l}}}const HW=/^(\d+)(th|st|nd|rd)?/i,WW=/\d+/i,qW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YW={any:[/^b/i,/^(a|c)/i]},KW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XW={any:[/1/i,/2/i,/3/i,/4/i]},JW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aq={ordinalNumber:Qk({matchPattern:HW,parsePattern:WW,valueCallback:t=>parseInt(t,10)}),era:$r({matchPatterns:qW,defaultMatchWidth:"wide",parsePatterns:YW,defaultParseWidth:"any"}),quarter:$r({matchPatterns:KW,defaultMatchWidth:"wide",parsePatterns:XW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$r({matchPatterns:JW,defaultMatchWidth:"wide",parsePatterns:QW,defaultParseWidth:"any"}),day:$r({matchPatterns:ZW,defaultMatchWidth:"wide",parsePatterns:eq,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:tq,defaultMatchWidth:"any",parsePatterns:sq,defaultParseWidth:"any"})},Zk={code:"en-US",formatDistance:AW,formatLong:RW,formatRelative:IW,localize:GW,match:aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rq(t){const s=Ot(t);return Vr(s,Xk(s))+1}function e3(t){const s=Ot(t),a=+ii(s)-+NW(s);return Math.round(a/Cj)+1}function t3(t,s){var d,h,x,f;const a=Ot(t),r=a.getFullYear(),n=nu(),o=(s==null?void 0:s.firstWeekContainsDate)??((h=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(x=n.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,i=za(t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Yr(i,s),c=za(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Yr(c,s);return a.getTime()>=l.getTime()?r+1:a.getTime()>=u.getTime()?r:r-1}function nq(t,s){var l,c,u,d;const a=nu(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,n=t3(t,s),o=za(t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),Yr(o,s)}function s3(t,s){const a=Ot(t),r=+Yr(a,s)-+nq(a,s);return Math.round(r/Cj)+1}function Ht(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const An={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Ht(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Ht(a+1,2)},d(t,s){return Ht(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Ht(t.getHours()%12||12,s.length)},H(t,s){return Ht(t.getHours(),s.length)},m(t,s){return Ht(t.getMinutes(),s.length)},s(t,s){return Ht(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Ht(n,s.length)}},yi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z1={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return An.y(t,s)},Y:function(t,s,a,r){const n=t3(t,r),o=n>0?n:1-n;if(s==="YY"){const i=o%100;return Ht(i,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):Ht(o,s.length)},R:function(t,s){const a=Kk(t);return Ht(a,s.length)},u:function(t,s){const a=t.getFullYear();return Ht(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Ht(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Ht(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return An.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Ht(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=s3(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Ht(n,s.length)},I:function(t,s,a){const r=e3(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Ht(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):An.d(t,s)},D:function(t,s,a){const r=rq(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Ht(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return Ht(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return Ht(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Ht(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=yi.noon:r===0?n=yi.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=yi.evening:r>=12?n=yi.afternoon:r>=4?n=yi.morning:n=yi.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return An.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):An.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Ht(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Ht(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):An.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):An.s(t,s)},S:function(t,s){return An.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return _1(r);case"XXXX":case"XX":return Io(r);case"XXXXX":case"XXX":default:return Io(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return _1(r);case"xxxx":case"xx":return Io(r);case"xxxxx":case"xxx":default:return Io(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+F1(r,":");case"OOOO":default:return"GMT"+Io(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+F1(r,":");case"zzzz":default:return"GMT"+Io(r,":")}},t:function(t,s,a){const r=Math.trunc(t.getTime()/1e3);return Ht(r,s.length)},T:function(t,s,a){const r=t.getTime();return Ht(r,s.length)}};function F1(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+s+Ht(o,2)}function _1(t,s){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):Io(t,s)}function Io(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Ht(Math.trunc(r/60),2),o=Ht(r%60,2);return a+n+s+o}const L1=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},a3=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},oq=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return L1(t,s);let o;switch(r){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",L1(r,s)).replace("{{time}}",a3(n,s))},iq={p:a3,P:oq},lq=/^D+$/,cq=/^Y+$/,dq=["D","DD","YY","YYYY"];function uq(t){return lq.test(t)}function mq(t){return cq.test(t)}function hq(t,s,a){const r=xq(t,s,a);if(console.warn(r),dq.includes(t))throw new RangeError(r)}function xq(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gq=/^'([^]*?)'?$/,vq=/''/g,bq=/[a-zA-Z]/;function Nn(t,s,a){var d,h,x,f,g,p,y,v;const r=nu(),n=(a==null?void 0:a.locale)??r.locale??Zk,o=(a==null?void 0:a.firstWeekContainsDate)??((h=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(x=r.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,i=(a==null?void 0:a.weekStartsOn)??((p=(g=a==null?void 0:a.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=Ot(t);if(!Wx(l))throw new RangeError("Invalid time value");let c=s.match(pq).map(b=>{const j=b[0];if(j==="p"||j==="P"){const w=iq[j];return w(b,n.formatLong)}return b}).join("").match(fq).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:jq(b)};if(z1[j])return{isToken:!0,value:b};if(j.match(bq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&mq(j)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&uq(j))&&hq(j,s,String(t));const w=z1[j[0]];return w(l,j,n.localize,u)}).join("")}function jq(t){const s=t.match(gq);return s?s[1].replace(vq,"'"):t}function yq(t){const s=Ot(t),a=s.getFullYear(),r=s.getMonth(),n=za(t,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function Nq(t){return Math.trunc(+Ot(t)/1e3)}function wq(t){const s=Ot(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),s}function Cq(t,s){return EW(wq(t),wa(t),s)+1}function I0(t,s){const a=Ot(t),r=Ot(s);return a.getTime()>r.getTime()}function r3(t,s){const a=Ot(t),r=Ot(s);return+a<+r}function Aj(t,s){const a=Ot(t),r=Ot(s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function Sq(t,s){const a=Ot(t),r=Ot(s);return a.getFullYear()===r.getFullYear()}function bp(t,s){return sa(t,-s)}function jp(t,s){const a=Ot(t),r=a.getFullYear(),n=a.getDate(),o=za(t,0);o.setFullYear(r,s,15),o.setHours(0,0,0,0);const i=yq(o);return a.setMonth(s,Math.min(n,i)),a}function $1(t,s){const a=Ot(t);return isNaN(+a)?za(t,NaN):(a.setFullYear(s),a)}const Eq={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Pq=(t,s,a)=>{let r;const n=Eq[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",String(s)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"em "+r:"há "+r:r},Aq={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Dq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kq={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tq={date:Qi({formats:Aq,defaultWidth:"full"}),time:Qi({formats:Dq,defaultWidth:"full"}),dateTime:Qi({formats:kq,defaultWidth:"full"})},Rq={lastWeek:t=>{const s=t.getDay();return"'"+(s===0||s===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Mq=(t,s,a,r)=>{const n=Rq[t];return typeof n=="function"?n(s):n},Iq={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Oq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},zq={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Fq={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},_q={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Lq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},$q=(t,s)=>{const a=Number(t);return(s==null?void 0:s.unit)==="week"?a+"ª":a+"º"},Vq={ordinalNumber:$q,era:Lr({values:Iq,defaultWidth:"wide"}),quarter:Lr({values:Oq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lr({values:zq,defaultWidth:"wide"}),day:Lr({values:Fq,defaultWidth:"wide"}),dayPeriod:Lr({values:_q,defaultWidth:"wide",formattingValues:Lq,defaultFormattingWidth:"wide"})},Gq=/^(\d+)[ºªo]?/i,Bq=/\d+/i,Uq={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Hq={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Wq={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},qq={any:[/1/i,/2/i,/3/i,/4/i]},Yq={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Kq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Xq={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Jq={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Qq={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Zq={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},eY={ordinalNumber:Qk({matchPattern:Gq,parsePattern:Bq,valueCallback:t=>parseInt(t,10)}),era:$r({matchPatterns:Uq,defaultMatchWidth:"wide",parsePatterns:Hq,defaultParseWidth:"any"}),quarter:$r({matchPatterns:Wq,defaultMatchWidth:"wide",parsePatterns:qq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$r({matchPatterns:Yq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any"}),day:$r({matchPatterns:Xq,defaultMatchWidth:"wide",parsePatterns:Jq,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:Qq,defaultMatchWidth:"any",parsePatterns:Zq,defaultParseWidth:"any"})},n3={code:"pt-BR",formatDistance:Pq,formatLong:Tq,formatRelative:Mq,localize:Vq,match:eY,options:{weekStartsOn:0,firstWeekContainsDate:1}};var lt=function(){return lt=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},lt.apply(this,arguments)};function tY(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function o3(t,s,a){for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}function ou(t){return t.mode==="multiple"}function iu(t){return t.mode==="range"}function qx(t){return t.mode==="single"}var sY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aY(t,s){return Nn(t,"LLLL y",s)}function rY(t,s){return Nn(t,"d",s)}function nY(t,s){return Nn(t,"LLLL",s)}function oY(t){return"".concat(t)}function iY(t,s){return Nn(t,"cccccc",s)}function lY(t,s){return Nn(t,"yyyy",s)}var cY=Object.freeze({__proto__:null,formatCaption:aY,formatDay:rY,formatMonthCaption:nY,formatWeekNumber:oY,formatWeekdayName:iY,formatYearCaption:lY}),dY=function(t,s,a){return Nn(t,"do MMMM (EEEE)",a)},uY=function(){return"Month: "},mY=function(){return"Go to next month"},hY=function(){return"Go to previous month"},xY=function(t,s){return Nn(t,"cccc",s)},fY=function(t){return"Week n. ".concat(t)},pY=function(){return"Year: "},gY=Object.freeze({__proto__:null,labelDay:dY,labelMonthDropdown:uY,labelNext:mY,labelPrevious:hY,labelWeekNumber:fY,labelWeekday:xY,labelYearDropdown:pY});function vY(){var t="buttons",s=sY,a=Zk,r={},n={},o=1,i={},l=new Date;return{captionLayout:t,classNames:s,formatters:cY,labels:gY,locale:a,modifiersClassNames:r,modifiers:n,numberOfMonths:o,styles:i,today:l,mode:"default"}}function bY(t){var s=t.fromYear,a=t.toYear,r=t.fromMonth,n=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=wa(r):s&&(o=new Date(s,0,1)),n?i=Ej(n):a&&(i=new Date(a,11,31)),{fromDate:o?Sl(o):void 0,toDate:i?Sl(i):void 0}}var i3=m.createContext(void 0);function jY(t){var s,a=t.initialProps,r=vY(),n=bY(a),o=n.fromDate,i=n.toDate,l=(s=a.captionLayout)!==null&&s!==void 0?s:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(qx(a)||ou(a)||iu(a))&&(c=a.onSelect);var u=lt(lt(lt({},r),a),{captionLayout:l,classNames:lt(lt({},r.classNames),a.classNames),components:lt({},a.components),formatters:lt(lt({},r.formatters),a.formatters),fromDate:o,labels:lt(lt({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:lt(lt({},r.modifiers),a.modifiers),modifiersClassNames:lt(lt({},r.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:lt(lt({},r.styles),a.styles),toDate:i});return e.jsx(i3.Provider,{value:u,children:t.children})}function Jt(){var t=m.useContext(i3);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function l3(t){var s=Jt(),a=s.locale,r=s.classNames,n=s.styles,o=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:a})})}function yY(t){return e.jsx("svg",lt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function c3(t){var s,a,r=t.onChange,n=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=Jt(),d=(a=(s=u.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&a!==void 0?a:yY;return e.jsxs("div",{className:l,style:c,children:[e.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:n,onChange:r,children:o}),e.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function NY(t){var s,a=Jt(),r=a.fromDate,n=a.toDate,o=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,c=a.classNames,u=a.components,d=a.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var h=[];if(Sq(r,n))for(var x=wa(r),f=r.getMonth();f<=n.getMonth();f++)h.push(jp(x,f));else for(var x=wa(new Date),f=0;f<=11;f++)h.push(jp(x,f));var g=function(y){var v=Number(y.target.value),b=jp(wa(t.displayMonth),v);t.onChange(b)},p=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:c3;return e.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:h.map(function(y){return e.jsx("option",{value:y.getMonth(),children:l(y,{locale:i})},y.getMonth())})})}function wY(t){var s,a=t.displayMonth,r=Jt(),n=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,x=[];if(!n)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var f=n.getFullYear(),g=o.getFullYear(),p=f;p<=g;p++)x.push($1(Xk(new Date),p));var y=function(b){var j=$1(wa(a),Number(b.target.value));t.onChange(j)},v=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:c3;return e.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:a.getFullYear(),caption:d(a,{locale:i}),children:x.map(function(b){return e.jsx("option",{value:b.getFullYear(),children:d(b,{locale:i})},b.getFullYear())})})}function CY(t,s){var a=m.useState(t),r=a[0],n=a[1],o=s===void 0?r:s;return[o,n]}function SY(t){var s=t.month,a=t.defaultMonth,r=t.today,n=s||a||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&kd(o,n)<0){var u=-1*(c-1);n=Nr(o,u)}return i&&kd(n,i)<0&&(n=i),wa(n)}function EY(){var t=Jt(),s=SY(t),a=CY(s,t.month),r=a[0],n=a[1],o=function(i){var l;if(!t.disableNavigation){var c=wa(i);n(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function PY(t,s){for(var a=s.reverseMonths,r=s.numberOfMonths,n=wa(t),o=wa(Nr(n,r)),i=kd(o,n),l=[],c=0;c<i;c++){var u=Nr(n,c);l.push(u)}return a&&(l=l.reverse()),l}function AY(t,s){if(!s.disableNavigation){var a=s.toDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=wa(t);if(!a)return Nr(l,i);var c=kd(a,t);if(!(c<o))return Nr(l,i)}}function DY(t,s){if(!s.disableNavigation){var a=s.fromDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=wa(t);if(!a)return Nr(l,-i);var c=kd(l,a);if(!(c<=0))return Nr(l,-i)}}var d3=m.createContext(void 0);function kY(t){var s=Jt(),a=EY(),r=a[0],n=a[1],o=PY(r,s),i=AY(r,s),l=DY(r,s),c=function(h){return o.some(function(x){return Aj(h,x)})},u=function(h,x){c(h)||(x&&r3(h,x)?n(Nr(h,1+s.numberOfMonths*-1)):n(h))},d={currentMonth:r,displayMonths:o,goToMonth:n,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return e.jsx(d3.Provider,{value:d,children:t.children})}function lu(){var t=m.useContext(d3);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function V1(t){var s,a=Jt(),r=a.classNames,n=a.styles,o=a.components,i=lu().goToMonth,l=function(d){i(Nr(d,t.displayIndex?-t.displayIndex:0))},c=(s=o==null?void 0:o.CaptionLabel)!==null&&s!==void 0?s:l3,u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:u}),e.jsx(NY,{onChange:l,displayMonth:t.displayMonth}),e.jsx(wY,{onChange:l,displayMonth:t.displayMonth})]})}function TY(t){return e.jsx("svg",lt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RY(t){return e.jsx("svg",lt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ph=m.forwardRef(function(t,s){var a=Jt(),r=a.classNames,n=a.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=lt(lt({},n.button_reset),n.button);return t.style&&Object.assign(l,t.style),e.jsx("button",lt({},t,{ref:s,type:"button",className:i,style:l}))});function MY(t){var s,a,r=Jt(),n=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var x=u(t.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),y=(s=h==null?void 0:h.IconRight)!==null&&s!==void 0?s:RY,v=(a=h==null?void 0:h.IconLeft)!==null&&a!==void 0?a:TY;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Ph,{name:"previous-month","aria-label":x,className:f,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Ph,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(v,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function G1(t){var s=Jt().numberOfMonths,a=lu(),r=a.previousMonth,n=a.nextMonth,o=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(g){return Aj(t.displayMonth,g)}),c=l===0,u=l===i.length-1,d=s>1&&(c||!u),h=s>1&&(u||!c),x=function(){r&&o(r)},f=function(){n&&o(n)};return e.jsx(MY,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:n,previousMonth:r,onPreviousClick:x,onNextClick:f})}function IY(t){var s,a=Jt(),r=a.classNames,n=a.disableNavigation,o=a.styles,i=a.captionLayout,l=a.components,c=(s=l==null?void 0:l.CaptionLabel)!==null&&s!==void 0?s:l3,u;return n?u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=e.jsx(V1,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=e.jsxs(e.Fragment,{children:[e.jsx(V1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(G1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(G1,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:o.caption,children:u})}function OY(t){var s=Jt(),a=s.footer,r=s.styles,n=s.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function zY(t,s,a){for(var r=a?ii(new Date):Yr(new Date,{locale:t,weekStartsOn:s}),n=[],o=0;o<7;o++){var i=sa(r,o);n.push(i)}return n}function FY(){var t=Jt(),s=t.classNames,a=t.styles,r=t.showWeekNumber,n=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=zY(n,o,i);return e.jsxs("tr",{style:a.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:a.head_cell,className:s.head_cell}),u.map(function(d,h){return e.jsx("th",{scope:"col",className:s.head_cell,style:a.head_cell,"aria-label":c(d,{locale:n}),children:l(d,{locale:n})},h)})]})}function _Y(){var t,s=Jt(),a=s.classNames,r=s.styles,n=s.components,o=(t=n==null?void 0:n.HeadRow)!==null&&t!==void 0?t:FY;return e.jsx("thead",{style:r.head,className:a.head,children:e.jsx(o,{})})}function LY(t){var s=Jt(),a=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:a})})}var Dj=m.createContext(void 0);function $Y(t){if(!ou(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Dj.Provider,{value:s,children:t.children})}return e.jsx(VY,{initialProps:t.initialProps,children:t.children})}function VY(t){var s=t.initialProps,a=t.children,r=s.selected,n=s.min,o=s.max,i=function(u,d,h){var x,f;(x=s.onDayClick)===null||x===void 0||x.call(s,u,d,h);var g=!!(d.selected&&n&&(r==null?void 0:r.length)===n);if(!g){var p=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var y=r?o3([],r):[];if(d.selected){var v=y.findIndex(function(b){return ba(u,b)});y.splice(v,1)}else y.push(u);(f=s.onSelect)===null||f===void 0||f.call(s,y,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,h=r.some(function(x){return ba(x,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return e.jsx(Dj.Provider,{value:c,children:a})}function kj(){var t=m.useContext(Dj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function GY(t,s){var a=s||{},r=a.from,n=a.to;return r&&n?ba(n,t)&&ba(r,t)?void 0:ba(n,t)?{from:n,to:void 0}:ba(r,t)?void 0:I0(r,t)?{from:t,to:n}:{from:r,to:t}:n?I0(t,n)?{from:n,to:t}:{from:t,to:n}:r?r3(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Tj=m.createContext(void 0);function BY(t){if(!iu(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Tj.Provider,{value:s,children:t.children})}return e.jsx(UY,{initialProps:t.initialProps,children:t.children})}function UY(t){var s=t.initialProps,a=t.children,r=s.selected,n=r||{},o=n.from,i=n.to,l=s.min,c=s.max,u=function(f,g,p){var y,v;(y=s.onDayClick)===null||y===void 0||y.call(s,f,g,p);var b=GY(f,r);(v=s.onSelect)===null||v===void 0||v.call(s,b,f,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],ba(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:bp(o,l-1),before:sa(o,l-1)}),o&&i&&d.disabled.push({after:o,before:sa(o,l-1)}),!o&&i&&d.disabled.push({after:bp(i,l-1),before:sa(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:sa(o,-c+1)}),d.disabled.push({after:sa(o,c-1)})),o&&i){var h=Vr(i,o)+1,x=c-h;d.disabled.push({before:bp(o,x)}),d.disabled.push({after:sa(i,x)})}!o&&i&&(d.disabled.push({before:sa(i,-c+1)}),d.disabled.push({after:sa(i,c-1)}))}return e.jsx(Tj.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:a})}function Rj(){var t=m.useContext(Tj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function wm(t){return Array.isArray(t)?o3([],t):t!==void 0?[t]:[]}function HY(t){var s={};return Object.entries(t).forEach(function(a){var r=a[0],n=a[1];s[r]=wm(n)}),s}var wr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(wr||(wr={}));var WY=wr.Selected,sn=wr.Disabled,qY=wr.Hidden,YY=wr.Today,yp=wr.RangeEnd,Np=wr.RangeMiddle,wp=wr.RangeStart,KY=wr.Outside;function XY(t,s,a){var r,n=(r={},r[WY]=wm(t.selected),r[sn]=wm(t.disabled),r[qY]=wm(t.hidden),r[YY]=[t.today],r[yp]=[],r[Np]=[],r[wp]=[],r[KY]=[],r);return t.fromDate&&n[sn].push({before:t.fromDate}),t.toDate&&n[sn].push({after:t.toDate}),ou(t)?n[sn]=n[sn].concat(s.modifiers[sn]):iu(t)&&(n[sn]=n[sn].concat(a.modifiers[sn]),n[wp]=a.modifiers[wp],n[Np]=a.modifiers[Np],n[yp]=a.modifiers[yp]),n}var u3=m.createContext(void 0);function JY(t){var s=Jt(),a=kj(),r=Rj(),n=XY(s,a,r),o=HY(s.modifiers),i=lt(lt({},n),o);return e.jsx(u3.Provider,{value:i,children:t.children})}function m3(){var t=m.useContext(u3);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function QY(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ZY(t){return!!(t&&typeof t=="object"&&"from"in t)}function eK(t){return!!(t&&typeof t=="object"&&"after"in t)}function tK(t){return!!(t&&typeof t=="object"&&"before"in t)}function sK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function aK(t,s){var a,r=s.from,n=s.to;if(r&&n){var o=Vr(n,r)<0;o&&(a=[n,r],r=a[0],n=a[1]);var i=Vr(t,r)>=0&&Vr(n,t)>=0;return i}return n?ba(n,t):r?ba(r,t):!1}function rK(t){return Sj(t)}function nK(t){return Array.isArray(t)&&t.every(Sj)}function oK(t,s){return s.some(function(a){if(typeof a=="boolean")return a;if(rK(a))return ba(t,a);if(nK(a))return a.includes(t);if(ZY(a))return aK(t,a);if(sK(a))return a.dayOfWeek.includes(t.getDay());if(QY(a)){var r=Vr(a.before,t),n=Vr(a.after,t),o=r>0,i=n<0,l=I0(a.before,a.after);return l?i&&o:o||i}return eK(a)?Vr(t,a.after)>0:tK(a)?Vr(a.before,t)>0:typeof a=="function"?a(t):!1})}function Mj(t,s,a){var r=Object.keys(s).reduce(function(o,i){var l=s[i];return oK(t,l)&&o.push(i),o},[]),n={};return r.forEach(function(o){return n[o]=!0}),a&&!Aj(t,a)&&(n.outside=!0),n}function iK(t,s){for(var a=wa(t[0]),r=Ej(t[t.length-1]),n,o,i=a;i<=r;){var l=Mj(i,s),c=!l.disabled&&!l.hidden;if(!c){i=sa(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),n||(n=i),i=sa(i,1)}return o||n}var lK=365;function h3(t,s){var a=s.moveBy,r=s.direction,n=s.context,o=s.modifiers,i=s.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=n.weekStartsOn,u=n.fromDate,d=n.toDate,h=n.locale,x={day:sa,week:M0,month:Nr,year:wW,startOfWeek:function(y){return n.ISOWeek?ii(y):Yr(y,{locale:h,weekStartsOn:c})},endOfWeek:function(y){return n.ISOWeek?Jk(y):Pj(y,{locale:h,weekStartsOn:c})}},f=x[a](t,r==="after"?1:-1);r==="before"&&u?f=CW([u,f]):r==="after"&&d&&(f=SW([d,f]));var g=!0;if(o){var p=Mj(f,o);g=!p.disabled&&!p.hidden}return g?f:l.count>lK?l.lastFocused:h3(f,{moveBy:a,direction:r,context:n,modifiers:o,retry:lt(lt({},l),{count:l.count+1})})}var x3=m.createContext(void 0);function cK(t){var s=lu(),a=m3(),r=m.useState(),n=r[0],o=r[1],i=m.useState(),l=i[0],c=i[1],u=iK(s.displayMonths,a),d=n??(l&&s.isDateDisplayed(l))?l:u,h=function(){c(n),o(void 0)},x=function(y){o(y)},f=Jt(),g=function(y,v){if(n){var b=h3(n,{moveBy:y,direction:v,context:f,modifiers:a});ba(n,b)||(s.goToDate(b,n),x(b))}},p={focusedDay:n,focusTarget:d,blur:h,focus:x,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return e.jsx(x3.Provider,{value:p,children:t.children})}function Ij(){var t=m.useContext(x3);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function dK(t,s){var a=m3(),r=Mj(t,a,s);return r}var Oj=m.createContext(void 0);function uK(t){if(!qx(t.initialProps)){var s={selected:void 0};return e.jsx(Oj.Provider,{value:s,children:t.children})}return e.jsx(mK,{initialProps:t.initialProps,children:t.children})}function mK(t){var s=t.initialProps,a=t.children,r=function(o,i,l){var c,u,d;if((c=s.onDayClick)===null||c===void 0||c.call(s,o,i,l),i.selected&&!s.required){(u=s.onSelect)===null||u===void 0||u.call(s,void 0,o,i,l);return}(d=s.onSelect)===null||d===void 0||d.call(s,o,o,i,l)},n={selected:s.selected,onDayClick:r};return e.jsx(Oj.Provider,{value:n,children:a})}function f3(){var t=m.useContext(Oj);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function hK(t,s){var a=Jt(),r=f3(),n=kj(),o=Rj(),i=Ij(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,x=i.focus,f=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,y=i.focusYearAfter,v=i.focusStartOfWeek,b=i.focusEndOfWeek,j=function(O){var S,$,H,J;qx(a)?(S=r.onDayClick)===null||S===void 0||S.call(r,t,s,O):ou(a)?($=n.onDayClick)===null||$===void 0||$.call(n,t,s,O):iu(a)?(H=o.onDayClick)===null||H===void 0||H.call(o,t,s,O):(J=a.onDayClick)===null||J===void 0||J.call(a,t,s,O)},w=function(O){var S;x(t),(S=a.onDayFocus)===null||S===void 0||S.call(a,t,s,O)},N=function(O){var S;h(),(S=a.onDayBlur)===null||S===void 0||S.call(a,t,s,O)},E=function(O){var S;(S=a.onDayMouseEnter)===null||S===void 0||S.call(a,t,s,O)},A=function(O){var S;(S=a.onDayMouseLeave)===null||S===void 0||S.call(a,t,s,O)},P=function(O){var S;(S=a.onDayPointerEnter)===null||S===void 0||S.call(a,t,s,O)},z=function(O){var S;(S=a.onDayPointerLeave)===null||S===void 0||S.call(a,t,s,O)},T=function(O){var S;(S=a.onDayTouchCancel)===null||S===void 0||S.call(a,t,s,O)},k=function(O){var S;(S=a.onDayTouchEnd)===null||S===void 0||S.call(a,t,s,O)},L=function(O){var S;(S=a.onDayTouchMove)===null||S===void 0||S.call(a,t,s,O)},U=function(O){var S;(S=a.onDayTouchStart)===null||S===void 0||S.call(a,t,s,O)},Y=function(O){var S;(S=a.onDayKeyUp)===null||S===void 0||S.call(a,t,s,O)},K=function(O){var S;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),a.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),a.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),u();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?p():f();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?y():g();break;case"Home":O.preventDefault(),O.stopPropagation(),v();break;case"End":O.preventDefault(),O.stopPropagation(),b();break}(S=a.onDayKeyDown)===null||S===void 0||S.call(a,t,s,O)},F={onClick:j,onFocus:w,onBlur:N,onKeyDown:K,onKeyUp:Y,onMouseEnter:E,onMouseLeave:A,onPointerEnter:P,onPointerLeave:z,onTouchCancel:T,onTouchEnd:k,onTouchMove:L,onTouchStart:U};return F}function xK(){var t=Jt(),s=f3(),a=kj(),r=Rj(),n=qx(t)?s.selected:ou(t)?a.selected:iu(t)?r.selected:void 0;return n}function fK(t){return Object.values(wr).includes(t)}function pK(t,s){var a=[t.classNames.day];return Object.keys(s).forEach(function(r){var n=t.modifiersClassNames[r];if(n)a.push(n);else if(fK(r)){var o=t.classNames["day_".concat(r)];o&&a.push(o)}}),a}function gK(t,s){var a=lt({},t.styles.day);return Object.keys(s).forEach(function(r){var n;a=lt(lt({},a),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),a}function vK(t,s,a){var r,n,o,i=Jt(),l=Ij(),c=dK(t,s),u=hK(t,c),d=xK(),h=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var E;c.outside||l.focusedDay&&h&&ba(l.focusedDay,t)&&((E=a.current)===null||E===void 0||E.focus())},[l.focusedDay,t,a,h,c.outside]);var x=pK(i,c).join(" "),f=gK(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:LY,y=e.jsx(p,{date:t,displayMonth:s,activeModifiers:c}),v={style:f,className:x,children:y,role:"gridcell"},b=l.focusTarget&&ba(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&ba(l.focusedDay,t),w=lt(lt(lt({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||b?0:-1,r)),u),N={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:w,divProps:v};return N}function bK(t){var s=m.useRef(null),a=vK(t.date,t.displayMonth,s);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Ph,lt({name:"day",ref:s},a.buttonProps)):e.jsx("div",lt({},a.divProps))}function jK(t){var s=t.number,a=t.dates,r=Jt(),n=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(s),{locale:l});if(!n)return e.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var h=c(Number(s),{locale:l}),x=function(f){n(s,a,f)};return e.jsx(Ph,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:x,children:d})}function yK(t){var s,a,r=Jt(),n=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(s=l==null?void 0:l.Day)!==null&&s!==void 0?s:bK,u=(a=l==null?void 0:l.WeekNumber)!==null&&a!==void 0?a:jK,d;return i&&(d=e.jsx("td",{className:o.cell,style:n.cell,children:e.jsx(u,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:o.row,style:n.row,children:[d,t.dates.map(function(h){return e.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:h})},Nq(h))})]})}function B1(t,s,a){for(var r=a!=null&&a.ISOWeek?Jk(s):Pj(s,a),n=a!=null&&a.ISOWeek?ii(t):Yr(t,a),o=Vr(r,n),i=[],l=0;l<=o;l++)i.push(sa(n,l));var c=i.reduce(function(u,d){var h=a!=null&&a.ISOWeek?e3(d):s3(d,a),x=u.find(function(f){return f.weekNumber===h});return x?(x.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function NK(t,s){var a=B1(wa(t),Ej(t),s);if(s!=null&&s.useFixedWeeks){var r=Cq(t,s);if(r<6){var n=a[a.length-1],o=n.dates[n.dates.length-1],i=M0(o,6-r),l=B1(M0(o,1),i,s);a.push.apply(a,l)}}return a}function wK(t){var s,a,r,n=Jt(),o=n.locale,i=n.classNames,l=n.styles,c=n.hideHead,u=n.fixedWeeks,d=n.components,h=n.weekStartsOn,x=n.firstWeekContainsDate,f=n.ISOWeek,g=NK(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:o,weekStartsOn:h,firstWeekContainsDate:x}),p=(s=d==null?void 0:d.Head)!==null&&s!==void 0?s:_Y,y=(a=d==null?void 0:d.Row)!==null&&a!==void 0?a:yK,v=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:OY;return e.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(p,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(b){return e.jsx(y,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),e.jsx(v,{displayMonth:t.displayMonth})]})}function CK(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SK=CK()?m.useLayoutEffect:m.useEffect,Cp=!1,EK=0;function U1(){return"react-day-picker-".concat(++EK)}function PK(t){var s,a=t??(Cp?U1():null),r=m.useState(a),n=r[0],o=r[1];return SK(function(){n===null&&o(U1())},[]),m.useEffect(function(){Cp===!1&&(Cp=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function AK(t){var s,a,r=Jt(),n=r.dir,o=r.classNames,i=r.styles,l=r.components,c=lu().displayMonths,u=PK(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[o.month],x=i.month,f=t.displayIndex===0,g=t.displayIndex===c.length-1,p=!f&&!g;n==="rtl"&&(s=[f,g],g=s[0],f=s[1]),f&&(h.push(o.caption_start),x=lt(lt({},x),i.caption_start)),g&&(h.push(o.caption_end),x=lt(lt({},x),i.caption_end)),p&&(h.push(o.caption_between),x=lt(lt({},x),i.caption_between));var y=(a=l==null?void 0:l.Caption)!==null&&a!==void 0?a:IY;return e.jsxs("div",{className:h.join(" "),style:x,children:[e.jsx(y,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(wK,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function DK(t){var s=Jt(),a=s.classNames,r=s.styles;return e.jsx("div",{className:a.months,style:r.months,children:t.children})}function kK(t){var s,a,r=t.initialProps,n=Jt(),o=Ij(),i=lu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){n.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[n.initialFocus,c,o.focus,o.focusTarget,o]);var d=[n.classNames.root,n.className];n.numberOfMonths>1&&d.push(n.classNames.multiple_months),n.showWeekNumber&&d.push(n.classNames.with_weeknumber);var h=lt(lt({},n.styles.root),n.style),x=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var y;return lt(lt({},g),(y={},y[p]=r[p],y))},{}),f=(a=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&a!==void 0?a:DK;return e.jsx("div",lt({className:d.join(" "),style:h,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:e.jsx(f,{children:i.displayMonths.map(function(g,p){return e.jsx(AK,{displayIndex:p,displayMonth:g},p)})})}))}function TK(t){var s=t.children,a=tY(t,["children"]);return e.jsx(jY,{initialProps:a,children:e.jsx(kY,{children:e.jsx(uK,{initialProps:a,children:e.jsx($Y,{initialProps:a,children:e.jsx(BY,{initialProps:a,children:e.jsx(JY,{children:e.jsx(cK,{children:s})})})})})})})}function RK(t){return e.jsx(TK,lt({},t,{children:e.jsx(kK,{initialProps:t})}))}var p3=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(IK);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(O0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(O0,{...r,ref:s,children:a})});p3.displayName="Slot";var O0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=zK(a);return m.cloneElement(a,{...OK(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});O0.displayName="SlotClone";var MK=({children:t})=>e.jsx(e.Fragment,{children:t});function IK(t){return m.isValidElement(t)&&t.type===MK}function OK(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function zK(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var zj="Popover",[g3,xae]=ua(zj,[No]),cu=No(),[FK,Ao]=g3(zj),v3=t=>{const{__scopePopover:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:i=!1}=t,l=cu(s),c=m.useRef(null),[u,d]=m.useState(!1),[h=!1,x]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(fx,{...l,children:e.jsx(FK,{scope:s,contentId:oa(),triggerRef:c,open:h,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(f=>!f),[x]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:a})})};v3.displayName=zj;var b3="PopoverAnchor",_K=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(b3,a),o=cu(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=n;return m.useEffect(()=>(i(),()=>l()),[i,l]),e.jsx(Bd,{...o,...r,ref:s})});_K.displayName=b3;var j3="PopoverTrigger",y3=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(j3,a),o=cu(a),i=ot(s,n.triggerRef),l=e.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":E3(n.open),...r,ref:i,onClick:Ee(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:e.jsx(Bd,{asChild:!0,...o,children:l})});y3.displayName=j3;var Fj="PopoverPortal",[LK,$K]=g3(Fj,{forceMount:void 0}),N3=t=>{const{__scopePopover:s,forceMount:a,children:r,container:n}=t,o=Ao(Fj,s);return e.jsx(LK,{scope:s,forceMount:a,children:e.jsx(Ms,{present:a||o.open,children:e.jsx(Gl,{asChild:!0,container:n,children:r})})})};N3.displayName=Fj;var El="PopoverContent",w3=m.forwardRef((t,s)=>{const a=$K(El,t.__scopePopover),{forceMount:r=a.forceMount,...n}=t,o=Ao(El,t.__scopePopover);return e.jsx(Ms,{present:r||o.open,children:o.modal?e.jsx(VK,{...n,ref:s}):e.jsx(GK,{...n,ref:s})})});w3.displayName=El;var VK=m.forwardRef((t,s)=>{const a=Ao(El,t.__scopePopover),r=m.useRef(null),n=ot(s,r),o=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Ex(i)},[]),e.jsx(Wd,{as:p3,allowPinchZoom:!0,children:e.jsx(C3,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=a.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),GK=m.forwardRef((t,s)=>{const a=Ao(El,t.__scopePopover),r=m.useRef(!1),n=m.useRef(!1);return e.jsx(C3,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=a.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;((u=a.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),C3=m.forwardRef((t,s)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,x=Ao(El,a),f=cu(a);return Nx(),e.jsx(Hd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(ui,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>x.onOpenChange(!1),children:e.jsx(px,{"data-state":E3(x.open),role:"dialog",id:x.contentId,...f,...h,ref:s,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),S3="PopoverClose",BK=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(S3,a);return e.jsx(Ve.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,()=>n.onOpenChange(!1))})});BK.displayName=S3;var UK="PopoverArrow",HK=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=cu(a);return e.jsx(gx,{...n,...r,ref:s})});HK.displayName=UK;function E3(t){return t?"open":"closed"}var WK=v3,qK=y3,YK=N3,P3=w3;const Pl=WK,Al=qK,li=m.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},n)=>e.jsx(YK,{children:e.jsx(P3,{ref:n,align:s,sideOffset:a,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));li.displayName=P3.displayName;var _j="Switch",[KK,fae]=ua(_j),[XK,JK]=KK(_j),A3=m.forwardRef((t,s)=>{const{__scopeSwitch:a,name:r,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[x,f]=m.useState(null),g=ot(s,j=>f(j)),p=m.useRef(!1),y=x?d||!!x.closest("form"):!0,[v=!1,b]=Qs({prop:n,defaultProp:o,onChange:u});return e.jsxs(XK,{scope:a,checked:v,disabled:l,children:[e.jsx(Ve.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":T3(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:Ee(t.onClick,j=>{b(w=>!w),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&e.jsx(QK,{control:x,bubbles:!p.current,name:r,value:c,checked:v,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});A3.displayName=_j;var D3="SwitchThumb",k3=m.forwardRef((t,s)=>{const{__scopeSwitch:a,...r}=t,n=JK(D3,a);return e.jsx(Ve.span,{"data-state":T3(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});k3.displayName=D3;var QK=t=>{const{control:s,checked:a,bubbles:r=!0,...n}=t,o=m.useRef(null),i=dx(a),l=ux(s);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==a&&h){const x=new Event("click",{bubbles:r});h.call(c,a),c.dispatchEvent(x)}},[i,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T3(t){return t?"checked":"unchecked"}var R3=A3,ZK=k3;const Mr=m.forwardRef(({className:t,...s},a)=>e.jsx(R3,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(ZK,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Mr.displayName=R3.displayName;const eX={locale:n3,weekStartsOn:1},M3={display:"dd/MM/yyyy",displayWithTime:"dd/MM/yyyy HH:mm",iso:"yyyy-MM-dd",isoWithTime:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx",monthYear:"MMMM yyyy",dayMonth:"dd/MM",weekday:"EEEE",weekdayShort:"EEE"},H1=(t,s=M3.display)=>{if(!t)return"";const a=typeof t=="string"?new Date(t):t;return Wx(a)?Nn(a,s,eX):""},W1=t=>!t||!Wx(t)?"":Nn(t,M3.iso),Hu=t=>{if(!t)return null;try{const[s,a,r]=t.split("-").map(Number),n=new Date(s,a-1,r,12,0,0,0);return Wx(n)?n:null}catch{return null}},z0=(t,s)=>{const a=new Date(t);return a.setMonth(a.getMonth()+s),a},q1=(t,s)=>z0(t,-s),tX=(t,s,a)=>!(s&&t<s||a&&t>a),sX=[{name:"Confraternização Universal",type:"fixed"},{name:"Tiradentes",type:"fixed"},{name:"Dia do Trabalho",type:"fixed"},{name:"Independência do Brasil",type:"fixed"},{name:"Nossa Senhora Aparecida",type:"fixed"},{name:"Finados",type:"fixed"},{name:"Proclamação da República",type:"fixed"},{name:"Natal",type:"fixed"}],aX=["01-01","04-21","05-01","09-07","10-12","11-02","11-15","12-25"];function rX(t){const s=t%19,a=Math.floor(t/100),r=t%100,n=Math.floor(a/4),o=a%4,i=Math.floor((a+8)/25),l=Math.floor((a-i+1)/3),c=(19*s+a-n-l+15)%30,u=Math.floor(r/4),d=r%4,h=(32+2*o+2*u-c-d)%7,x=Math.floor((s+11*c+22*h)/451),f=Math.floor((c+h-7*x+114)/31),g=(c+h-7*x+114)%31+1;return new Date(t,f-1,g)}function nX(t){const s=rX(t),a=s.getTime(),r=24*60*60*1e3;return[{dateISO:new Date(a-47*r).toISOString().split("T")[0],name:"Carnaval",type:"movable"},{dateISO:new Date(a-2*r).toISOString().split("T")[0],name:"Sexta-feira Santa",type:"movable"},{dateISO:s.toISOString().split("T")[0],name:"Páscoa",type:"movable"},{dateISO:new Date(a+60*r).toISOString().split("T")[0],name:"Corpus Christi",type:"movable"}]}function I3(t){const s=sX.map((r,n)=>({...r,dateISO:`${t}-${aX[n]}`})),a=nX(t);return[...s,...a]}function oX(t){const s=t.toISOString().split("T")[0],a=t.getFullYear(),n=I3(a).find(o=>o.dateISO===s);return n?n.name:null}function iX(t){return oX(t)!==null}const Sp=new Map;function lX(t){return Sp.has(t)||Sp.set(t,I3(t)),Sp.get(t)}const tr={timezone:"America/Sao_Paulo",includeOptional:!1,regional:{}};function cX(t){return{...tr,regional:t}}function O3(t,s=tr){var r;const a=((r=s.regional)==null?void 0:r[t])||[];return s.includeOptional?a:a.filter(n=>!n.optional)}function dX(t,s=tr){const a=t.toISOString().split("T")[0],r=t.getFullYear();return O3(r,s).some(o=>o.dateISO===a)}const Ep=new Map,Pp=new Map;function Ah(t){const s=t.getDay();return s===0||s===6}function Dh(t,s=tr){const r=`holiday_${t.toISOString().split("T")[0]}_${s.includeOptional?"opt":"noopt"}`;if(Pp.has(r))return Pp.get(r);const n=iX(t)||dX(t,s);return Pp.set(r,n),n}function to(t,s=tr){const r=`business_${t.toISOString().split("T")[0]}_${s.includeOptional?"opt":"noopt"}`;if(Ep.has(r))return Ep.get(r);const n=!Ah(t)&&!Dh(t,s);return Ep.set(r,n),n}function z3(t,s=tr){const a=new Date(t);do a.setDate(a.getDate()+1);while(!to(a,s));return a}function uX(t,s=tr){const a=new Date(t);do a.setDate(a.getDate()-1);while(!to(a,s));return a}function Ap(t,s,a=tr){if(s===0)return new Date(t);const r=new Date(t);let n=0;if(s>0)for(;n<s;)r.setDate(r.getDate()+1),to(r,a)&&n++;else for(;n<Math.abs(s);)r.setDate(r.getDate()-1),to(r,a)&&n++;return r}function Y1(t,s=tr,a="next"){return to(t,s)?new Date(t):a==="next"?z3(t,s):uX(t,s)}function mX(t,s=tr){if(Ah(t))return{type:"weekend",description:t.getDay()===0?"Domingo":"Sábado"};if(Dh(t,s)){const a=lX(t.getFullYear()).find(o=>o.dateISO===t.toISOString().split("T")[0]);if(a)return{type:"holiday",description:`Feriado Nacional: ${a.name}`};const n=O3(t.getFullYear(),s).find(o=>o.dateISO===t.toISOString().split("T")[0]);if(n)return{type:"holiday",description:`Feriado ${{state:"Estadual",city:"Municipal",org:"Organizacional"}[n.scope]}: ${n.label}`,isOptional:n.optional}}return{type:"business",description:"Dia útil"}}const F3=m.createContext(void 0);function hX({children:t,initialConfig:s={}}){const[a,r]=m.useState({...tr,...s}),n=m.useCallback(u=>{r(d=>({...d,...u}))},[]),o=m.useCallback(u=>{const d=cX(u);r(h=>({...h,regional:d.regional}))},[]),i=m.useCallback(()=>{r(u=>({...u,includeOptional:!u.includeOptional}))},[]),l=m.useCallback(()=>{r(tr)},[]),c={config:a,updateConfig:n,loadRegionalHolidays:o,toggleOptionalHolidays:i,resetConfig:l};return e.jsx(F3.Provider,{value:c,children:t})}function xX(){const t=m.useContext(F3);if(t===void 0)throw new Error("useBusinessCalendar deve ser usado dentro de um BusinessCalendarProvider");return t}function fX(){const{config:t}=xX();return t}const _3=[{label:"Próximo dia útil",value:"next-business-day",getDate:()=>z3(new Date),description:"Próximo dia útil (excluindo fins de semana e feriados)"},{label:"+5 dias úteis",value:"plus-5-business-days",getDate:()=>Ap(new Date,5),description:"5 dias úteis a partir de hoje"},{label:"+10 dias úteis",value:"plus-10-business-days",getDate:()=>Ap(new Date,10),description:"10 dias úteis a partir de hoje"},{label:"+20 dias úteis",value:"plus-20-business-days",getDate:()=>Ap(new Date,20),description:"20 dias úteis a partir de hoje"},{label:"+7 dias",value:"plus-7-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+7),t},description:"7 dias a partir de hoje"},{label:"+15 dias",value:"plus-15-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+15),t},description:"15 dias a partir de hoje"},{label:"+30 dias",value:"plus-30-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+30),t},description:"30 dias a partir de hoje"}],pX=t=>_3.find(s=>s.value===t),gX=t=>{const s=pX(t);return s?s.getDate():null};function K1(t="America/Sao_Paulo"){if(t==="America/Sao_Paulo"||t===Intl.DateTimeFormat().resolvedOptions().timeZone){const i=new Date,l=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0");return`${l}-${c}-${u}`}const a=new Intl.DateTimeFormat("pt-BR",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(new Date),r=a.find(i=>i.type==="day").value,n=a.find(i=>i.type==="month").value;return`${a.find(i=>i.type==="year").value}-${n}-${r}`}const vX="America/Sao_Paulo",Cm=({value:t,onChange:s,minDate:a,maxDate:r,disabledDates:n=[],disableWeekends:o=!1,disableHolidays:i=!1,businessDaysOnly:l=!0,holidays:c=[],defaultMonth:u,defaultYear:d,withTime:h=!1,defaultHour:x=9,defaultMinute:f=0,placeholder:g="Selecione uma data",label:p,description:y,required:v=!1,disabled:b=!1,error:j=!1,errorMessage:w,className:N,inputClassName:E,popoverClassName:A,showPresets:P=!0,showHolidays:z=!0,showTooltips:T=!0,showYearNavigation:k=!0,showMonthNavigation:L=!0,showOptionalToggle:U=!0,hideWeekends:Y=!1,annualView:K=!1,onOpenChange:F,defaultToToday:O=!0,readOnly:S=!1,timezone:$=vX})=>{const H=fX(),[J,re]=m.useState(!1),[le,we]=m.useState(t?typeof t=="string"?Hu(t):t:null),[ke,he]=m.useState(u||le||new Date),[ae,be]=m.useState({hour:x,minute:f}),[xe,ne]=m.useState(H.includeOptional);Z.useEffect(()=>{let I=t?typeof t=="string"?Hu(t):t:null;if(O&&!I&&s){const ee=K1($);I=Hu(ee),s(ee)}we(I),I&&he(I)},[t,O,s,$]);const Ae=m.useMemo(()=>({mode:"single",selected:le,onSelect:I=>{if(I){let ee=new Date(I.getFullYear(),I.getMonth(),I.getDate(),12,0,0,0);l&&!to(ee,{...H,includeOptional:xe})&&(ee=Y1(ee,{...H,includeOptional:xe})),h&&ee.setHours(ae.hour,ae.minute,0,0),we(ee),s&&s(W1(ee))}else if(O&&s){const ee=K1($),ue=Hu(ee);we(ue),s(ee)}},month:ke,onMonthChange:he,locale:n3,weekStartsOn:1,showOutsideDays:!0,fixedWeeks:!0,className:"p-0",classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0 w-full h-full",month:"space-y-4 w-full h-full",caption:"flex justify-center pt-3 relative items-center w-full text-center",caption_label:"text-sm font-medium text-center",nav:"space-x-1 flex items-center",nav_button:je("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full h-full border-collapse space-y-1",head_row:"flex w-full",head_cell:je("text-muted-foreground rounded-md w-full font-normal text-[0.8rem] flex-1 text-center",Y&&"hidden"),row:"flex w-full mt-2",cell:je("h-full w-full text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 flex-1",Y&&"hidden"),day:je("h-full w-full p-0 font-normal aria-selected:opacity-100","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary/90 focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},modifiers:{disabled:I=>!!(n.some(ee=>ee.toDateString()===I.toDateString())||!tX(I,a,r)||o&&Ah(I)||i&&Dh(I,{...H,includeOptional:xe})||l&&!to(I,{...H,includeOptional:xe})),holiday:I=>Dh(I,{...H,includeOptional:xe}),weekend:I=>Ah(I),optional:I=>mX(I,{...H,includeOptional:xe}).isOptional},modifiersStyles:{holiday:{color:"hsl(var(--destructive))",fontWeight:"bold"},weekend:{color:"hsl(var(--muted-foreground) / 0.6)"},optional:{color:"hsl(var(--orange-500))",fontStyle:"italic"}}}),[le,ke,ae,h,a,r,n,o,i,l,H,xe,Y]),ye=m.useCallback(I=>{const ee=gX(I);if(ee){let ue=new Date(ee);l&&!to(ue,{...H,includeOptional:xe})&&(ue=Y1(ue,{...H,includeOptional:xe})),h&&ue.setHours(ae.hour,ae.minute,0,0),we(ue),he(ue)}},[h,ae,l,H,xe]),Be=m.useCallback(()=>{if(le){const I=W1(le);s==null||s(I)}else s==null||s(null);re(!1)},[le,s]),de=m.useCallback(()=>{we(null),s==null||s(null)},[s]),Te=m.useCallback(()=>{const I=new Date;he(I),le||we(I)},[le]),Pe=m.useCallback(I=>{const ee=new Date(ke);ee.setFullYear(I),he(ee)},[ke]),D=m.useCallback(I=>{const ee=new Date(ke);ee.setMonth(I),he(ee)},[ke]),M=m.useMemo(()=>le?h?H1(le,"dd/MM/yyyy HH:mm"):H1(le):"",[le,h]),q=m.useMemo(()=>{const I=new Date().getFullYear(),ee=[];for(let ue=I-10;ue<=I+10;ue++)ee.push(ue);return ee},[]),W=m.useMemo(()=>["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],[]);return e.jsxs("div",{className:je("space-y-2",N),children:[p&&e.jsxs("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[p,v&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs(Pl,{open:S?!1:J,onOpenChange:I=>{S||(re(I),F==null||F(I))},children:[e.jsx(Al,{asChild:!0,children:e.jsxs(C,{variant:"outline",className:je("w-full justify-start text-left font-normal",!le&&"text-muted-foreground",j&&"border-destructive",S&&"bg-gray-50 cursor-not-allowed",E),disabled:b||S,children:[e.jsx(wt,{className:"mr-2 h-4 w-4"}),M||g]})}),e.jsx(li,{className:je("p-0 w-[min(95vw,520px)] md:w-[520px] max-w-[95vw] h-[min(80vh,580px)] max-h-[80vh] overflow-hidden",A),align:"start",avoidCollisions:!0,collisionPadding:16,sideOffset:8,children:e.jsxs("div",{className:"grid grid-rows-[auto_auto_auto_1fr_auto] h-full",children:[U&&e.jsx("div",{className:"px-3 pt-3 pb-2 border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mr,{id:"include-optional",checked:xe,onCheckedChange:ne}),e.jsx(B,{htmlFor:"include-optional",className:"text-sm",children:"Considerar pontos facultativos"})]})}),L&&e.jsxs("div",{className:"px-3 pt-3 pb-4 flex flex-wrap items-center gap-2 justify-center",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(q1(ke,1)),disabled:a&&q1(ke,1)<a,children:e.jsx(F4,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[k&&e.jsxs(rt,{value:ke.getFullYear().toString(),onValueChange:I=>Pe(parseInt(I)),children:[e.jsx(st,{className:"w-20",children:e.jsx(nt,{})}),e.jsx(at,{children:q.map(I=>e.jsx(ve,{value:I.toString(),children:I},I))})]}),e.jsxs(rt,{value:ke.getMonth().toString(),onValueChange:I=>D(parseInt(I)),children:[e.jsx(st,{className:"w-28",children:e.jsx(nt,{})}),e.jsx(at,{children:W.map((I,ee)=>e.jsx(ve,{value:ee.toString(),children:I},ee))})]})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(z0(ke,1)),disabled:r&&z0(ke,1)>r,children:e.jsx(Fs,{className:"h-4 w-4"})})]}),P&&e.jsx("div",{className:"px-3 pb-3 border-b overflow-x-auto",children:e.jsx("div",{className:"flex gap-3 min-w-max",children:_3.slice(0,6).map(I=>e.jsx(oe,{variant:"outline",className:"cursor-pointer hover:bg-accent text-xs whitespace-nowrap",onClick:()=>ye(I.value),children:I.label},I.value))})}),e.jsx("div",{className:"px-3 pb-2 h-full overflow-hidden",children:e.jsx("div",{className:"calendar-fill h-full",children:e.jsx(Rt,{children:e.jsx(RK,{...Ae})})})}),e.jsxs("div",{className:"px-3 py-2 border-t flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:Te,children:"Hoje"}),le&&e.jsx(C,{variant:"outline",size:"sm",onClick:de,children:"Limpar"})]}),e.jsx(C,{size:"sm",onClick:Be,disabled:!le,children:"Confirmar"})]})]})})]}),y&&e.jsx("p",{className:"text-sm text-muted-foreground",children:y}),j&&w&&e.jsx("p",{className:"text-sm text-destructive",children:w})]})};function kh({className:t="",variant:s="ghost",size:a="default"}){const r=fs(),n=sr(),o=()=>{const c=n.pathname;return c.match(/^\/processos\/[^\/]+$/)?{destination:"/processos",text:"Voltar para Meus Processos"}:c.match(/^\/processos-gerencia\/[^\/]+$/)?{destination:"/processos-gerencia",text:"Voltar para Processos da Gerência"}:c.match(/^\/processos\/[^\/]+\/documento\/[^\/]+$/)?{destination:`/processos/${c.split("/")[2]}`,text:"Voltar para o Processo"}:c==="/processos"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratação"}:c==="/assinaturas"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratação"}:c.match(/^\/assinaturas\/[^\/]+$/)?{destination:"/assinaturas",text:"Voltar para Minhas Assinaturas"}:c==="/novo-processo"?{destination:"/processos",text:"Voltar para Meus Processos"}:c==="/dfd/novo"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratação"}:c.match(/^\/processos-gerencia\/pasta\/[^\/]+$/)?{destination:"/processos-gerencia",text:"Voltar para Processos da Gerência"}:c==="/processos-gerencia"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratação"}:{destination:null,text:"Voltar"}},i=()=>{const c=o();c.destination?r(c.destination):r(-1)},l=o();return e.jsxs(C,{variant:s,size:a,onClick:i,className:`flex items-center gap-2 ${t}`,children:[e.jsx(ix,{className:"h-4 w-4"}),l.text]})}function bX(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return m.useMemo(()=>r=>{s.forEach(n=>n(r))},s)}const Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yl(t){const s=Object.prototype.toString.call(t);return s==="[object Window]"||s==="[object global]"}function Lj(t){return"nodeType"in t}function xa(t){var s,a;return t?Yl(t)?t:Lj(t)&&(s=(a=t.ownerDocument)==null?void 0:a.defaultView)!=null?s:window:window}function $j(t){const{Document:s}=xa(t);return t instanceof s}function du(t){return Yl(t)?!1:t instanceof xa(t).HTMLElement}function L3(t){return t instanceof xa(t).SVGElement}function Kl(t){return t?Yl(t)?t.document:Lj(t)?$j(t)?t:du(t)||L3(t)?t.ownerDocument:document:document:document}const Cr=Yx?m.useLayoutEffect:m.useEffect;function Kx(t){const s=m.useRef(t);return Cr(()=>{s.current=t}),m.useCallback(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s.current==null?void 0:s.current(...r)},[])}function jX(){const t=m.useRef(null),s=m.useCallback((r,n)=>{t.current=setInterval(r,n)},[]),a=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[s,a]}function Td(t,s){s===void 0&&(s=[t]);const a=m.useRef(t);return Cr(()=>{a.current!==t&&(a.current=t)},s),a}function uu(t,s){const a=m.useRef();return m.useMemo(()=>{const r=t(a.current);return a.current=r,r},[...s])}function Th(t){const s=Kx(t),a=m.useRef(null),r=m.useCallback(n=>{n!==a.current&&(s==null||s(n,a.current)),a.current=n},[]);return[a,r]}function Rh(t){const s=m.useRef();return m.useEffect(()=>{s.current=t},[t]),s.current}let Dp={};function mu(t,s){return m.useMemo(()=>{if(s)return s;const a=Dp[t]==null?0:Dp[t]+1;return Dp[t]=a,t+"-"+a},[t,s])}function $3(t){return function(s){for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=o[c];d!=null&&(o[c]=d+t*u)}return o},{...s})}}const Zi=$3(1),Rd=$3(-1);function yX(t){return"clientX"in t&&"clientY"in t}function Xx(t){if(!t)return!1;const{KeyboardEvent:s}=xa(t.target);return s&&t instanceof s}function NX(t){if(!t)return!1;const{TouchEvent:s}=xa(t.target);return s&&t instanceof s}function Mh(t){if(NX(t)){if(t.touches&&t.touches.length){const{clientX:s,clientY:a}=t.touches[0];return{x:s,y:a}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:s,clientY:a}=t.changedTouches[0];return{x:s,y:a}}}return yX(t)?{x:t.clientX,y:t.clientY}:null}const Sr=Object.freeze({Translate:{toString(t){if(!t)return;const{x:s,y:a}=t;return"translate3d("+(s?Math.round(s):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:s,scaleY:a}=t;return"scaleX("+s+") scaleY("+a+")"}},Transform:{toString(t){if(t)return[Sr.Translate.toString(t),Sr.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:s,duration:a,easing:r}=t;return s+" "+a+"ms "+r}}}),X1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wX(t){return t.matches(X1)?t:t.querySelector(X1)}const CX={display:"none"};function SX(t){let{id:s,value:a}=t;return Z.createElement("div",{id:s,style:CX},a)}function EX(t){let{id:s,announcement:a,ariaLiveType:r="assertive"}=t;const n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Z.createElement("div",{id:s,style:n,role:"status","aria-live":r,"aria-atomic":!0},a)}function PX(){const[t,s]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&s(r)},[]),announcement:t}}const V3=m.createContext(null);function AX(t){const s=m.useContext(V3);m.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(t)},[t,s])}function DX(){const[t]=m.useState(()=>new Set),s=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:n,event:o}=r;t.forEach(i=>{var l;return(l=i[n])==null?void 0:l.call(i,o)})},[t]),s]}const kX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TX={onDragStart(t){let{active:s}=t;return"Picked up draggable item "+s.id+"."},onDragOver(t){let{active:s,over:a}=t;return a?"Draggable item "+s.id+" was moved over droppable area "+a.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(t){let{active:s,over:a}=t;return a?"Draggable item "+s.id+" was dropped over droppable area "+a.id:"Draggable item "+s.id+" was dropped."},onDragCancel(t){let{active:s}=t;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function RX(t){let{announcements:s=TX,container:a,hiddenTextDescribedById:r,screenReaderInstructions:n=kX}=t;const{announce:o,announcement:i}=PX(),l=mu("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),AX(m.useMemo(()=>({onDragStart(h){let{active:x}=h;o(s.onDragStart({active:x}))},onDragMove(h){let{active:x,over:f}=h;s.onDragMove&&o(s.onDragMove({active:x,over:f}))},onDragOver(h){let{active:x,over:f}=h;o(s.onDragOver({active:x,over:f}))},onDragEnd(h){let{active:x,over:f}=h;o(s.onDragEnd({active:x,over:f}))},onDragCancel(h){let{active:x,over:f}=h;o(s.onDragCancel({active:x,over:f}))}}),[o,s])),!c)return null;const d=Z.createElement(Z.Fragment,null,Z.createElement(SX,{id:r,value:n.draggable}),Z.createElement(EX,{id:l,announcement:i}));return a?Ka.createPortal(d,a):d}var ws;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ws||(ws={}));function Ih(){}function po(t,s){return m.useMemo(()=>({sensor:t,options:s??{}}),[t,s])}function Jx(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return m.useMemo(()=>[...s].filter(r=>r!=null),[...s])}const Er=Object.freeze({x:0,y:0});function G3(t,s){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function MX(t,s){const a=Mh(t);if(!a)return"0 0";const r={x:(a.x-s.left)/s.width*100,y:(a.y-s.top)/s.height*100};return r.x+"% "+r.y+"%"}function B3(t,s){let{data:{value:a}}=t,{data:{value:r}}=s;return a-r}function IX(t,s){let{data:{value:a}}=t,{data:{value:r}}=s;return r-a}function J1(t){let{left:s,top:a,height:r,width:n}=t;return[{x:s,y:a},{x:s+n,y:a},{x:s,y:a+r},{x:s+n,y:a+r}]}function U3(t,s){if(!t||t.length===0)return null;const[a]=t;return a[s]}function Q1(t,s,a){return s===void 0&&(s=t.left),a===void 0&&(a=t.top),{x:s+t.width*.5,y:a+t.height*.5}}const Qx=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=Q1(s,s.left,s.top),o=[];for(const i of r){const{id:l}=i,c=a.get(l);if(c){const u=G3(Q1(c),n);o.push({id:l,data:{droppableContainer:i,value:u}})}}return o.sort(B3)},OX=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=J1(s),o=[];for(const i of r){const{id:l}=i,c=a.get(l);if(c){const u=J1(c),d=n.reduce((x,f,g)=>x+G3(u[g],f),0),h=Number((d/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:h}})}}return o.sort(B3)};function zX(t,s){const a=Math.max(s.top,t.top),r=Math.max(s.left,t.left),n=Math.min(s.left+s.width,t.left+t.width),o=Math.min(s.top+s.height,t.top+t.height),i=n-r,l=o-a;if(r<n&&a<o){const c=s.width*s.height,u=t.width*t.height,d=i*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const FX=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=[];for(const o of r){const{id:i}=o,l=a.get(i);if(l){const c=zX(l,s);c>0&&n.push({id:i,data:{droppableContainer:o,value:c}})}}return n.sort(IX)};function _X(t,s,a){return{...t,scaleX:s&&a?s.width/a.width:1,scaleY:s&&a?s.height/a.height:1}}function H3(t,s){return t&&s?{x:t.left-s.left,y:t.top-s.top}:Er}function LX(t){return function(a){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,l)=>({...i,top:i.top+t*l.y,bottom:i.bottom+t*l.y,left:i.left+t*l.x,right:i.right+t*l.x}),{...a})}}const $X=LX(1);function W3(t){if(t.startsWith("matrix3d(")){const s=t.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(t.startsWith("matrix(")){const s=t.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function VX(t,s,a){const r=W3(s);if(!r)return t;const{scaleX:n,scaleY:o,x:i,y:l}=r,c=t.left-i-(1-n)*parseFloat(a),u=t.top-l-(1-o)*parseFloat(a.slice(a.indexOf(" ")+1)),d=n?t.width/n:t.width,h=o?t.height/o:t.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const GX={ignoreTransform:!1};function Xl(t,s){s===void 0&&(s=GX);let a=t.getBoundingClientRect();if(s.ignoreTransform){const{transform:u,transformOrigin:d}=xa(t).getComputedStyle(t);u&&(a=VX(a,u,d))}const{top:r,left:n,width:o,height:i,bottom:l,right:c}=a;return{top:r,left:n,width:o,height:i,bottom:l,right:c}}function Z1(t){return Xl(t,{ignoreTransform:!0})}function BX(t){const s=t.innerWidth,a=t.innerHeight;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}function UX(t,s){return s===void 0&&(s=xa(t).getComputedStyle(t)),s.position==="fixed"}function HX(t,s){s===void 0&&(s=xa(t).getComputedStyle(t));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{const o=s[n];return typeof o=="string"?a.test(o):!1})}function Zx(t,s){const a=[];function r(n){if(s!=null&&a.length>=s||!n)return a;if($j(n)&&n.scrollingElement!=null&&!a.includes(n.scrollingElement))return a.push(n.scrollingElement),a;if(!du(n)||L3(n)||a.includes(n))return a;const o=xa(t).getComputedStyle(n);return n!==t&&HX(n,o)&&a.push(n),UX(n,o)?a:r(n.parentNode)}return t?r(t):a}function q3(t){const[s]=Zx(t,1);return s??null}function kp(t){return!Yx||!t?null:Yl(t)?t:Lj(t)?$j(t)||t===Kl(t).scrollingElement?window:du(t)?t:null:null}function Y3(t){return Yl(t)?t.scrollX:t.scrollLeft}function K3(t){return Yl(t)?t.scrollY:t.scrollTop}function F0(t){return{x:Y3(t),y:K3(t)}}var Ds;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ds||(Ds={}));function X3(t){return!Yx||!t?!1:t===document.scrollingElement}function J3(t){const s={x:0,y:0},a=X3(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-a.width,y:t.scrollHeight-a.height},n=t.scrollTop<=s.y,o=t.scrollLeft<=s.x,i=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:n,isLeft:o,isBottom:i,isRight:l,maxScroll:r,minScroll:s}}const WX={x:.2,y:.2};function qX(t,s,a,r,n){let{top:o,left:i,right:l,bottom:c}=a;r===void 0&&(r=10),n===void 0&&(n=WX);const{isTop:u,isBottom:d,isLeft:h,isRight:x}=J3(t),f={x:0,y:0},g={x:0,y:0},p={height:s.height*n.y,width:s.width*n.x};return!u&&o<=s.top+p.height?(f.y=Ds.Backward,g.y=r*Math.abs((s.top+p.height-o)/p.height)):!d&&c>=s.bottom-p.height&&(f.y=Ds.Forward,g.y=r*Math.abs((s.bottom-p.height-c)/p.height)),!x&&l>=s.right-p.width?(f.x=Ds.Forward,g.x=r*Math.abs((s.right-p.width-l)/p.width)):!h&&i<=s.left+p.width&&(f.x=Ds.Backward,g.x=r*Math.abs((s.left+p.width-i)/p.width)),{direction:f,speed:g}}function YX(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:s,left:a,right:r,bottom:n}=t.getBoundingClientRect();return{top:s,left:a,right:r,bottom:n,width:t.clientWidth,height:t.clientHeight}}function Q3(t){return t.reduce((s,a)=>Zi(s,F0(a)),Er)}function KX(t){return t.reduce((s,a)=>s+Y3(a),0)}function XX(t){return t.reduce((s,a)=>s+K3(a),0)}function Z3(t,s){if(s===void 0&&(s=Xl),!t)return;const{top:a,left:r,bottom:n,right:o}=s(t);q3(t)&&(n<=0||o<=0||a>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const JX=[["x",["left","right"],KX],["y",["top","bottom"],XX]];class Vj{constructor(s,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zx(a),n=Q3(r);this.rect={...s},this.width=s.width,this.height=s.height;for(const[o,i,l]of JX)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=n[o]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vc{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...a)})},this.target=s}add(s,a,r){var n;(n=this.target)==null||n.addEventListener(s,a,r),this.listeners.push([s,a,r])}}function QX(t){const{EventTarget:s}=xa(t);return t instanceof s?t:Kl(t)}function Tp(t,s){const a=Math.abs(t.x),r=Math.abs(t.y);return typeof s=="number"?Math.sqrt(a**2+r**2)>s:"x"in s&&"y"in s?a>s.x&&r>s.y:"x"in s?a>s.x:"y"in s?r>s.y:!1}var Ha;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ha||(Ha={}));function e2(t){t.preventDefault()}function ZX(t){t.stopPropagation()}var Ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ct||(Ct={}));const eT={start:[Ct.Space,Ct.Enter],cancel:[Ct.Esc],end:[Ct.Space,Ct.Enter,Ct.Tab]},eJ=(t,s)=>{let{currentCoordinates:a}=s;switch(t.code){case Ct.Right:return{...a,x:a.x+25};case Ct.Left:return{...a,x:a.x-25};case Ct.Down:return{...a,y:a.y+25};case Ct.Up:return{...a,y:a.y-25}}};class Jl{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:a}}=s;this.props=s,this.listeners=new Vc(Kl(a)),this.windowListeners=new Vc(xa(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ha.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:a}=this.props,r=s.node.current;r&&Z3(r),a(Er)}handleKeyDown(s){if(Xx(s)){const{active:a,context:r,options:n}=this.props,{keyboardCodes:o=eT,coordinateGetter:i=eJ,scrollBehavior:l="smooth"}=n,{code:c}=s;if(o.end.includes(c)){this.handleEnd(s);return}if(o.cancel.includes(c)){this.handleCancel(s);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Er;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(s,{active:a,context:r.current,currentCoordinates:d});if(h){const x=Rd(h,d),f={x:0,y:0},{scrollableAncestors:g}=r.current;for(const p of g){const y=s.code,{isTop:v,isRight:b,isLeft:j,isBottom:w,maxScroll:N,minScroll:E}=J3(p),A=YX(p),P={x:Math.min(y===Ct.Right?A.right-A.width/2:A.right,Math.max(y===Ct.Right?A.left:A.left+A.width/2,h.x)),y:Math.min(y===Ct.Down?A.bottom-A.height/2:A.bottom,Math.max(y===Ct.Down?A.top:A.top+A.height/2,h.y))},z=y===Ct.Right&&!b||y===Ct.Left&&!j,T=y===Ct.Down&&!w||y===Ct.Up&&!v;if(z&&P.x!==h.x){const k=p.scrollLeft+x.x,L=y===Ct.Right&&k<=N.x||y===Ct.Left&&k>=E.x;if(L&&!x.y){p.scrollTo({left:k,behavior:l});return}L?f.x=p.scrollLeft-k:f.x=y===Ct.Right?p.scrollLeft-N.x:p.scrollLeft-E.x,f.x&&p.scrollBy({left:-f.x,behavior:l});break}else if(T&&P.y!==h.y){const k=p.scrollTop+x.y,L=y===Ct.Down&&k<=N.y||y===Ct.Up&&k>=E.y;if(L&&!x.x){p.scrollTo({top:k,behavior:l});return}L?f.y=p.scrollTop-k:f.y=y===Ct.Down?p.scrollTop-N.y:p.scrollTop-E.y,f.y&&p.scrollBy({top:-f.y,behavior:l});break}}this.handleMove(s,Zi(Rd(h,this.referenceCoordinates),f))}}}handleMove(s,a){const{onMove:r}=this.props;s.preventDefault(),r(a)}handleEnd(s){const{onEnd:a}=this.props;s.preventDefault(),this.detach(),a()}handleCancel(s){const{onCancel:a}=this.props;s.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Jl.activators=[{eventName:"onKeyDown",handler:(t,s,a)=>{let{keyboardCodes:r=eT,onActivation:n}=s,{active:o}=a;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),n==null||n({event:t.nativeEvent}),!0)}return!1}}];function t2(t){return!!(t&&"distance"in t)}function s2(t){return!!(t&&"delay"in t)}class Gj{constructor(s,a,r){var n;r===void 0&&(r=QX(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=a;const{event:o}=s,{target:i}=o;this.props=s,this.events=a,this.document=Kl(i),this.documentListeners=new Vc(this.document),this.listeners=new Vc(r),this.windowListeners=new Vc(xa(i)),this.initialCoordinates=(n=Mh(o))!=null?n:Er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:a,bypassActivationConstraint:r}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.DragStart,e2),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),this.windowListeners.add(Ha.ContextMenu,e2),this.documentListeners.add(Ha.Keydown,this.handleKeydown),a){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(s2(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(t2(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,a){const{active:r,onPending:n}=this.props;n(r,s,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:s}=this,{onStart:a}=this.props;s&&(this.activated=!0,this.documentListeners.add(Ha.Click,ZX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ha.SelectionChange,this.removeTextSelection),a(s))}handleMove(s){var a;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!n)return;const c=(a=Mh(s))!=null?a:Er,u=Rd(n,c);if(!r&&l){if(t2(l)){if(l.tolerance!=null&&Tp(u,l.tolerance))return this.handleCancel();if(Tp(u,l.distance))return this.handleStart()}if(s2(l)&&Tp(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}s.cancelable&&s.preventDefault(),i(c)}handleEnd(){const{onAbort:s,onEnd:a}=this.props;this.detach(),this.activated||s(this.props.active),a()}handleCancel(){const{onAbort:s,onCancel:a}=this.props;this.detach(),this.activated||s(this.props.active),a()}handleKeydown(s){s.code===Ct.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const tJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ql extends Gj{constructor(s){const{event:a}=s,r=Kl(a.target);super(s,tJ,r)}}Ql.activators=[{eventName:"onPointerDown",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;return!a.isPrimary||a.button!==0?!1:(r==null||r({event:a}),!0)}}];const sJ={move:{name:"mousemove"},end:{name:"mouseup"}};var _0;(function(t){t[t.RightClick=2]="RightClick"})(_0||(_0={}));class aJ extends Gj{constructor(s){super(s,sJ,Kl(s.event.target))}}aJ.activators=[{eventName:"onMouseDown",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;return a.button===_0.RightClick?!1:(r==null||r({event:a}),!0)}}];const Rp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rJ extends Gj{constructor(s){super(s,Rp)}static setup(){return window.addEventListener(Rp.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(Rp.move.name,s)};function s(){}}}rJ.activators=[{eventName:"onTouchStart",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;const{touches:n}=a;return n.length>1?!1:(r==null||r({event:a}),!0)}}];var Gc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Gc||(Gc={}));var Oh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Oh||(Oh={}));function nJ(t){let{acceleration:s,activator:a=Gc.Pointer,canScroll:r,draggingRect:n,enabled:o,interval:i=5,order:l=Oh.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:x}=t;const f=iJ({delta:h,disabled:!o}),[g,p]=jX(),y=m.useRef({x:0,y:0}),v=m.useRef({x:0,y:0}),b=m.useMemo(()=>{switch(a){case Gc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Gc.DraggableRect:return n}},[a,n,c]),j=m.useRef(null),w=m.useCallback(()=>{const E=j.current;if(!E)return;const A=y.current.x*v.current.x,P=y.current.y*v.current.y;E.scrollBy(A,P)},[]),N=m.useMemo(()=>l===Oh.TreeOrder?[...u].reverse():u,[l,u]);m.useEffect(()=>{if(!o||!u.length||!b){p();return}for(const E of N){if((r==null?void 0:r(E))===!1)continue;const A=u.indexOf(E),P=d[A];if(!P)continue;const{direction:z,speed:T}=qX(E,P,b,s,x);for(const k of["x","y"])f[k][z[k]]||(T[k]=0,z[k]=0);if(T.x>0||T.y>0){p(),j.current=E,g(w,i),y.current=T,v.current=z;return}}y.current={x:0,y:0},v.current={x:0,y:0},p()},[s,w,r,p,o,i,JSON.stringify(b),JSON.stringify(f),g,u,N,d,JSON.stringify(x)])}const oJ={x:{[Ds.Backward]:!1,[Ds.Forward]:!1},y:{[Ds.Backward]:!1,[Ds.Forward]:!1}};function iJ(t){let{delta:s,disabled:a}=t;const r=Rh(s);return uu(n=>{if(a||!r||!n)return oJ;const o={x:Math.sign(s.x-r.x),y:Math.sign(s.y-r.y)};return{x:{[Ds.Backward]:n.x[Ds.Backward]||o.x===-1,[Ds.Forward]:n.x[Ds.Forward]||o.x===1},y:{[Ds.Backward]:n.y[Ds.Backward]||o.y===-1,[Ds.Forward]:n.y[Ds.Forward]||o.y===1}}},[a,s,r])}function lJ(t,s){const a=s!=null?t.get(s):void 0,r=a?a.node.current:null;return uu(n=>{var o;return s==null?null:(o=r??n)!=null?o:null},[r,s])}function cJ(t,s){return m.useMemo(()=>t.reduce((a,r)=>{const{sensor:n}=r,o=n.activators.map(i=>({eventName:i.eventName,handler:s(i.handler,r)}));return[...a,...o]},[]),[t,s])}var Md;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Md||(Md={}));var L0;(function(t){t.Optimized="optimized"})(L0||(L0={}));const a2=new Map;function dJ(t,s){let{dragging:a,dependencies:r,config:n}=s;const[o,i]=m.useState(null),{frequency:l,measure:c,strategy:u}=n,d=m.useRef(t),h=y(),x=Td(h),f=m.useCallback(function(v){v===void 0&&(v=[]),!x.current&&i(b=>b===null?v:b.concat(v.filter(j=>!b.includes(j))))},[x]),g=m.useRef(null),p=uu(v=>{if(h&&!a)return a2;if(!v||v===a2||d.current!==t||o!=null){const b=new Map;for(let j of t){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){b.set(j.id,j.rect.current);continue}const w=j.node.current,N=w?new Vj(c(w),w):null;j.rect.current=N,N&&b.set(j.id,N)}return b}return v},[t,o,a,h,c]);return m.useEffect(()=>{d.current=t},[t]),m.useEffect(()=>{h||f()},[a,h]),m.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),m.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{f(),g.current=null},l))},[l,h,f,...r]),{droppableRects:p,measureDroppableContainers:f,measuringScheduled:o!=null};function y(){switch(u){case Md.Always:return!1;case Md.BeforeDragging:return a;default:return!a}}}function Bj(t,s){return uu(a=>t?a||(typeof s=="function"?s(t):t):null,[s,t])}function uJ(t,s){return Bj(t,s)}function mJ(t){let{callback:s,disabled:a}=t;const r=Kx(s),n=m.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,a]);return m.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function ef(t){let{callback:s,disabled:a}=t;const r=Kx(s),n=m.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[a]);return m.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function hJ(t){return new Vj(Xl(t),t)}function r2(t,s,a){s===void 0&&(s=hJ);const[r,n]=m.useState(null);function o(){n(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??a)!=null?u:null}const d=s(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=mJ({callback(c){if(t)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),l=ef({callback:o});return Cr(()=>{o(),t?(l==null||l.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[t]),r}function xJ(t){const s=Bj(t);return H3(t,s)}const n2=[];function fJ(t){const s=m.useRef(t),a=uu(r=>t?r&&r!==n2&&t&&s.current&&t.parentNode===s.current.parentNode?r:Zx(t):n2,[t]);return m.useEffect(()=>{s.current=t},[t]),a}function pJ(t){const[s,a]=m.useState(null),r=m.useRef(t),n=m.useCallback(o=>{const i=kp(o.target);i&&a(l=>l?(l.set(i,F0(i)),new Map(l)):null)},[]);return m.useEffect(()=>{const o=r.current;if(t!==o){i(o);const l=t.map(c=>{const u=kp(c);return u?(u.addEventListener("scroll",n,{passive:!0}),[u,F0(u)]):null}).filter(c=>c!=null);a(l.length?new Map(l):null),r.current=t}return()=>{i(t),i(o)};function i(l){l.forEach(c=>{const u=kp(c);u==null||u.removeEventListener("scroll",n)})}},[n,t]),m.useMemo(()=>t.length?s?Array.from(s.values()).reduce((o,i)=>Zi(o,i),Er):Q3(t):Er,[t,s])}function o2(t,s){s===void 0&&(s=[]);const a=m.useRef(null);return m.useEffect(()=>{a.current=null},s),m.useEffect(()=>{const r=t!==Er;r&&!a.current&&(a.current=t),!r&&a.current&&(a.current=null)},[t]),a.current?Rd(t,a.current):Er}function gJ(t){m.useEffect(()=>{if(!Yx)return;const s=t.map(a=>{let{sensor:r}=a;return r.setup==null?void 0:r.setup()});return()=>{for(const a of s)a==null||a()}},t.map(s=>{let{sensor:a}=s;return a}))}function vJ(t,s){return m.useMemo(()=>t.reduce((a,r)=>{let{eventName:n,handler:o}=r;return a[n]=i=>{o(i,s)},a},{}),[t,s])}function tT(t){return m.useMemo(()=>t?BX(t):null,[t])}const i2=[];function bJ(t,s){s===void 0&&(s=Xl);const[a]=t,r=tT(a?xa(a):null),[n,o]=m.useState(i2);function i(){o(()=>t.length?t.map(c=>X3(c)?r:new Vj(s(c),c)):i2)}const l=ef({callback:i});return Cr(()=>{l==null||l.disconnect(),i(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),n}function sT(t){if(!t)return null;if(t.children.length>1)return t;const s=t.children[0];return du(s)?s:t}function jJ(t){let{measure:s}=t;const[a,r]=m.useState(null),n=m.useCallback(u=>{for(const{target:d}of u)if(du(d)){r(h=>{const x=s(d);return h?{...h,width:x.width,height:x.height}:x});break}},[s]),o=ef({callback:n}),i=m.useCallback(u=>{const d=sT(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?s(d):null)},[s,o]),[l,c]=Th(i);return m.useMemo(()=>({nodeRef:l,rect:a,setRef:c}),[a,l,c])}const yJ=[{sensor:Ql,options:{}},{sensor:Jl,options:{}}],NJ={current:{}},Sm={draggable:{measure:Z1},droppable:{measure:Z1,strategy:Md.WhileDragging,frequency:L0.Optimized},dragOverlay:{measure:Xl}};class Bc extends Map{get(s){var a;return s!=null&&(a=super.get(s))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:a}=s;return!a})}getNodeFor(s){var a,r;return(a=(r=this.get(s))==null?void 0:r.node.current)!=null?a:void 0}}const wJ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ih},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sm,measureDroppableContainers:Ih,windowRect:null,measuringScheduled:!1},aT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ih,draggableNodes:new Map,over:null,measureDroppableContainers:Ih},hu=m.createContext(aT),rT=m.createContext(wJ);function CJ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bc}}}function SJ(t,s){switch(s.type){case ws.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case ws.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:s.coordinates.x-t.draggable.initialCoordinates.x,y:s.coordinates.y-t.draggable.initialCoordinates.y}}};case ws.DragEnd:case ws.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ws.RegisterDroppable:{const{element:a}=s,{id:r}=a,n=new Bc(t.droppable.containers);return n.set(r,a),{...t,droppable:{...t.droppable,containers:n}}}case ws.SetDroppableDisabled:{const{id:a,key:r,disabled:n}=s,o=t.droppable.containers.get(a);if(!o||r!==o.key)return t;const i=new Bc(t.droppable.containers);return i.set(a,{...o,disabled:n}),{...t,droppable:{...t.droppable,containers:i}}}case ws.UnregisterDroppable:{const{id:a,key:r}=s,n=t.droppable.containers.get(a);if(!n||r!==n.key)return t;const o=new Bc(t.droppable.containers);return o.delete(a),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function EJ(t){let{disabled:s}=t;const{active:a,activatorEvent:r,draggableNodes:n}=m.useContext(hu),o=Rh(r),i=Rh(a==null?void 0:a.id);return m.useEffect(()=>{if(!s&&!r&&o&&i!=null){if(!Xx(o)||document.activeElement===o.target)return;const l=n.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=wX(d);if(h){h.focus();break}}})}},[r,s,n,i,o]),null}function nT(t,s){let{transform:a,...r}=s;return t!=null&&t.length?t.reduce((n,o)=>o({transform:n,...r}),a):a}function PJ(t){return m.useMemo(()=>({draggable:{...Sm.draggable,...t==null?void 0:t.draggable},droppable:{...Sm.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Sm.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function AJ(t){let{activeNode:s,measure:a,initialRect:r,config:n=!0}=t;const o=m.useRef(!1),{x:i,y:l}=typeof n=="boolean"?{x:n,y:n}:n;Cr(()=>{if(!i&&!l||!s){o.current=!1;return}if(o.current||!r)return;const u=s==null?void 0:s.node.current;if(!u||u.isConnected===!1)return;const d=a(u),h=H3(d,r);if(i||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const x=q3(u);x&&x.scrollBy({top:h.y,left:h.x})}},[s,i,l,r,a])}const tf=m.createContext({...Er,scaleX:1,scaleY:1});var In;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(In||(In={}));const sf=m.memo(function(s){var a,r,n,o;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=yJ,collisionDetection:h=FX,measuring:x,modifiers:f,...g}=s;const p=m.useReducer(SJ,void 0,CJ),[y,v]=p,[b,j]=DX(),[w,N]=m.useState(In.Uninitialized),E=w===In.Initialized,{draggable:{active:A,nodes:P,translate:z},droppable:{containers:T}}=y,k=A!=null?P.get(A):null,L=m.useRef({initial:null,translated:null}),U=m.useMemo(()=>{var ie;return A!=null?{id:A,data:(ie=k==null?void 0:k.data)!=null?ie:NJ,rect:L}:null},[A,k]),Y=m.useRef(null),[K,F]=m.useState(null),[O,S]=m.useState(null),$=Td(g,Object.values(g)),H=mu("DndDescribedBy",i),J=m.useMemo(()=>T.getEnabled(),[T]),re=PJ(x),{droppableRects:le,measureDroppableContainers:we,measuringScheduled:ke}=dJ(J,{dragging:E,dependencies:[z.x,z.y],config:re.droppable}),he=lJ(P,A),ae=m.useMemo(()=>O?Mh(O):null,[O]),be=V(),xe=uJ(he,re.draggable.measure);AJ({activeNode:A!=null?P.get(A):null,config:be.layoutShiftCompensation,initialRect:xe,measure:re.draggable.measure});const ne=r2(he,re.draggable.measure,xe),Ae=r2(he?he.parentElement:null),ye=m.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=T.getNodeFor((a=ye.current.over)==null?void 0:a.id),de=jJ({measure:re.dragOverlay.measure}),Te=(r=de.nodeRef.current)!=null?r:he,Pe=E?(n=de.rect)!=null?n:ne:null,D=!!(de.nodeRef.current&&de.rect),M=xJ(D?null:ne),q=tT(Te?xa(Te):null),W=fJ(E?Be??he:null),I=bJ(W),ee=nT(f,{transform:{x:z.x-M.x,y:z.y-M.y,scaleX:1,scaleY:1},activatorEvent:O,active:U,activeNodeRect:ne,containerNodeRect:Ae,draggingNodeRect:Pe,over:ye.current.over,overlayNodeRect:de.rect,scrollableAncestors:W,scrollableAncestorRects:I,windowRect:q}),ue=ae?Zi(ae,z):null,G=pJ(W),ge=o2(G),Ne=o2(G,[ne]),Me=Zi(ee,ge),et=Pe?$X(Pe,ee):null,se=U&&et?h({active:U,collisionRect:et,droppableRects:le,droppableContainers:J,pointerCoordinates:ue}):null,ze=U3(se,"id"),[_e,Q]=m.useState(null),Ce=D?ee:Zi(ee,Ne),_=_X(Ce,(o=_e==null?void 0:_e.rect)!=null?o:null,ne),R=m.useRef(null),te=m.useCallback((ie,ce)=>{let{sensor:Le,options:Ue}=ce;if(Y.current==null)return;const ut=P.get(Y.current);if(!ut)return;const Et=ie.nativeEvent,ns=new Le({active:Y.current,activeNode:ut,event:Et,options:Ue,context:ye,onAbort(jt){if(!P.get(jt))return;const{onDragAbort:kr}=$.current,en={id:jt};kr==null||kr(en),b({type:"onDragAbort",event:en})},onPending(jt,Ea,kr,en){if(!P.get(jt))return;const{onDragPending:ac}=$.current,Cn={id:jt,constraint:Ea,initialCoordinates:kr,offset:en};ac==null||ac(Cn),b({type:"onDragPending",event:Cn})},onStart(jt){const Ea=Y.current;if(Ea==null)return;const kr=P.get(Ea);if(!kr)return;const{onDragStart:en}=$.current,sc={activatorEvent:Et,active:{id:Ea,data:kr.data,rect:L}};Ka.unstable_batchedUpdates(()=>{en==null||en(sc),N(In.Initializing),v({type:ws.DragStart,initialCoordinates:jt,active:Ea}),b({type:"onDragStart",event:sc}),F(R.current),S(Et)})},onMove(jt){v({type:ws.DragMove,coordinates:jt})},onEnd:Dr(ws.DragEnd),onCancel:Dr(ws.DragCancel)});R.current=ns;function Dr(jt){return async function(){const{active:kr,collisions:en,over:sc,scrollAdjustedTranslate:ac}=ye.current;let Cn=null;if(kr&&ac){const{cancelDrop:rc}=$.current;Cn={activatorEvent:Et,active:kr,collisions:en,delta:ac,over:sc},jt===ws.DragEnd&&typeof rc=="function"&&await Promise.resolve(rc(Cn))&&(jt=ws.DragCancel)}Y.current=null,Ka.unstable_batchedUpdates(()=>{v({type:jt}),N(In.Uninitialized),Q(null),F(null),S(null),R.current=null;const rc=jt===ws.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const xf=$.current[rc];xf==null||xf(Cn),b({type:rc,event:Cn})}})}}},[P]),fe=m.useCallback((ie,ce)=>(Le,Ue)=>{const ut=Le.nativeEvent,Et=P.get(Ue);if(Y.current!==null||!Et||ut.dndKit||ut.defaultPrevented)return;const ns={active:Et};ie(Le,ce.options,ns)===!0&&(ut.dndKit={capturedBy:ce.sensor},Y.current=Ue,te(Le,ce))},[P,te]),Ie=cJ(d,fe);gJ(d),Cr(()=>{ne&&w===In.Initializing&&N(In.Initialized)},[ne,w]),m.useEffect(()=>{const{onDragMove:ie}=$.current,{active:ce,activatorEvent:Le,collisions:Ue,over:ut}=ye.current;if(!ce||!Le)return;const Et={active:ce,activatorEvent:Le,collisions:Ue,delta:{x:Me.x,y:Me.y},over:ut};Ka.unstable_batchedUpdates(()=>{ie==null||ie(Et),b({type:"onDragMove",event:Et})})},[Me.x,Me.y]),m.useEffect(()=>{const{active:ie,activatorEvent:ce,collisions:Le,droppableContainers:Ue,scrollAdjustedTranslate:ut}=ye.current;if(!ie||Y.current==null||!ce||!ut)return;const{onDragOver:Et}=$.current,ns=Ue.get(ze),Dr=ns&&ns.rect.current?{id:ns.id,rect:ns.rect.current,data:ns.data,disabled:ns.disabled}:null,jt={active:ie,activatorEvent:ce,collisions:Le,delta:{x:ut.x,y:ut.y},over:Dr};Ka.unstable_batchedUpdates(()=>{Q(Dr),Et==null||Et(jt),b({type:"onDragOver",event:jt})})},[ze]),Cr(()=>{ye.current={activatorEvent:O,active:U,activeNode:he,collisionRect:et,collisions:se,droppableRects:le,draggableNodes:P,draggingNode:Te,draggingNodeRect:Pe,droppableContainers:T,over:_e,scrollableAncestors:W,scrollAdjustedTranslate:Me},L.current={initial:Pe,translated:et}},[U,he,se,et,P,Te,Pe,le,T,_e,W,Me]),nJ({...be,delta:z,draggingRect:et,pointerCoordinates:ue,scrollableAncestors:W,scrollableAncestorRects:I});const X=m.useMemo(()=>({active:U,activeNode:he,activeNodeRect:ne,activatorEvent:O,collisions:se,containerNodeRect:Ae,dragOverlay:de,draggableNodes:P,droppableContainers:T,droppableRects:le,over:_e,measureDroppableContainers:we,scrollableAncestors:W,scrollableAncestorRects:I,measuringConfiguration:re,measuringScheduled:ke,windowRect:q}),[U,he,ne,O,se,Ae,de,P,T,le,_e,we,W,I,re,ke,q]),me=m.useMemo(()=>({activatorEvent:O,activators:Ie,active:U,activeNodeRect:ne,ariaDescribedById:{draggable:H},dispatch:v,draggableNodes:P,over:_e,measureDroppableContainers:we}),[O,Ie,U,ne,v,H,P,_e,we]);return Z.createElement(V3.Provider,{value:j},Z.createElement(hu.Provider,{value:me},Z.createElement(rT.Provider,{value:X},Z.createElement(tf.Provider,{value:_},u)),Z.createElement(EJ,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Z.createElement(RX,{...l,hiddenTextDescribedById:H}));function V(){const ie=(K==null?void 0:K.autoScrollEnabled)===!1,ce=typeof c=="object"?c.enabled===!1:c===!1,Le=E&&!ie&&!ce;return typeof c=="object"?{...c,enabled:Le}:{enabled:Le}}}),DJ=m.createContext(null),l2="button",kJ="Draggable";function TJ(t){let{id:s,data:a,disabled:r=!1,attributes:n}=t;const o=mu(kJ),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:x}=m.useContext(hu),{role:f=l2,roleDescription:g="draggable",tabIndex:p=0}=n??{},y=(c==null?void 0:c.id)===s,v=m.useContext(y?tf:DJ),[b,j]=Th(),[w,N]=Th(),E=vJ(i,s),A=Td(a);Cr(()=>(h.set(s,{id:s,key:o,node:b,activatorNode:w,data:A}),()=>{const z=h.get(s);z&&z.key===o&&h.delete(s)}),[h,s]);const P=m.useMemo(()=>({role:f,tabIndex:p,"aria-disabled":r,"aria-pressed":y&&f===l2?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,f,p,y,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:P,isDragging:y,listeners:r?void 0:E,node:b,over:x,setNodeRef:j,setActivatorNodeRef:N,transform:v}}function oT(){return m.useContext(rT)}const RJ="Droppable",MJ={timeout:25};function IJ(t){let{data:s,disabled:a=!1,id:r,resizeObserverConfig:n}=t;const o=mu(RJ),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=m.useContext(hu),d=m.useRef({disabled:a}),h=m.useRef(!1),x=m.useRef(null),f=m.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:y}={...MJ,...n},v=Td(p??r),b=m.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),f.current=null},y)},[y]),j=ef({callback:b,disabled:g||!i}),w=m.useCallback((P,z)=>{j&&(z&&(j.unobserve(z),h.current=!1),P&&j.observe(P))},[j]),[N,E]=Th(w),A=Td(s);return m.useEffect(()=>{!j||!N.current||(j.disconnect(),h.current=!1,j.observe(N.current))},[N,j]),m.useEffect(()=>(l({type:ws.RegisterDroppable,element:{id:r,key:o,disabled:a,node:N,rect:x,data:A}}),()=>l({type:ws.UnregisterDroppable,key:o,id:r})),[r]),m.useEffect(()=>{a!==d.current.disabled&&(l({type:ws.SetDroppableDisabled,id:r,key:o,disabled:a}),d.current.disabled=a)},[r,o,a,l]),{active:i,rect:x,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:E}}function OJ(t){let{animation:s,children:a}=t;const[r,n]=m.useState(null),[o,i]=m.useState(null),l=Rh(a);return!a&&!r&&l&&n(l),Cr(()=>{if(!o)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){n(null);return}Promise.resolve(s(u,o)).then(()=>{n(null)})},[s,r,o]),Z.createElement(Z.Fragment,null,a,r?m.cloneElement(r,{ref:i}):null)}const zJ={x:0,y:0,scaleX:1,scaleY:1};function FJ(t){let{children:s}=t;return Z.createElement(hu.Provider,{value:aT},Z.createElement(tf.Provider,{value:zJ},s))}const _J={position:"fixed",touchAction:"none"},LJ=t=>Xx(t)?"transform 250ms ease":void 0,$J=m.forwardRef((t,s)=>{let{as:a,activatorEvent:r,adjustScale:n,children:o,className:i,rect:l,style:c,transform:u,transition:d=LJ}=t;if(!l)return null;const h=n?u:{...u,scaleX:1,scaleY:1},x={..._J,width:l.width,height:l.height,top:l.top,left:l.left,transform:Sr.Transform.toString(h),transformOrigin:n&&r?MX(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return Z.createElement(a,{className:i,style:x,ref:s},o)}),VJ=t=>s=>{let{active:a,dragOverlay:r}=s;const n={},{styles:o,className:i}=t;if(o!=null&&o.active)for(const[l,c]of Object.entries(o.active))c!==void 0&&(n[l]=a.node.style.getPropertyValue(l),a.node.style.setProperty(l,c));if(o!=null&&o.dragOverlay)for(const[l,c]of Object.entries(o.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return i!=null&&i.active&&a.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(n))a.node.style.setProperty(c,u);i!=null&&i.active&&a.node.classList.remove(i.active)}},GJ=t=>{let{transform:{initial:s,final:a}}=t;return[{transform:Sr.Transform.toString(s)},{transform:Sr.Transform.toString(a)}]},BJ={duration:250,easing:"ease",keyframes:GJ,sideEffects:VJ({styles:{active:{opacity:"0"}}})};function UJ(t){let{config:s,draggableNodes:a,droppableContainers:r,measuringConfiguration:n}=t;return Kx((o,i)=>{if(s===null)return;const l=a.get(o);if(!l)return;const c=l.node.current;if(!c)return;const u=sT(i);if(!u)return;const{transform:d}=xa(i).getComputedStyle(i),h=W3(d);if(!h)return;const x=typeof s=="function"?s:HJ(s);return Z3(c,n.draggable.measure),x({active:{id:o,data:l.data,node:c,rect:n.draggable.measure(c)},draggableNodes:a,dragOverlay:{node:i,rect:n.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:n,transform:h})})}function HJ(t){const{duration:s,easing:a,sideEffects:r,keyframes:n}={...BJ,...t};return o=>{let{active:i,dragOverlay:l,transform:c,...u}=o;if(!s)return;const d={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},h={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/l.rect.height:1},x={x:c.x-d.x,y:c.y-d.y,...h},f=n({...u,active:i,dragOverlay:l,transform:{initial:c,final:x}}),[g]=f,p=f[f.length-1];if(JSON.stringify(g)===JSON.stringify(p))return;const y=r==null?void 0:r({active:i,dragOverlay:l,...u}),v=l.node.animate(f,{duration:s,easing:a,fill:"forwards"});return new Promise(b=>{v.onfinish=()=>{y==null||y(),b()}})}}let c2=0;function WJ(t){return m.useMemo(()=>{if(t!=null)return c2++,c2},[t])}const Uj=Z.memo(t=>{let{adjustScale:s=!1,children:a,dropAnimation:r,style:n,transition:o,modifiers:i,wrapperElement:l="div",className:c,zIndex:u=999}=t;const{activatorEvent:d,active:h,activeNodeRect:x,containerNodeRect:f,draggableNodes:g,droppableContainers:p,dragOverlay:y,over:v,measuringConfiguration:b,scrollableAncestors:j,scrollableAncestorRects:w,windowRect:N}=oT(),E=m.useContext(tf),A=WJ(h==null?void 0:h.id),P=nT(i,{activatorEvent:d,active:h,activeNodeRect:x,containerNodeRect:f,draggingNodeRect:y.rect,over:v,overlayNodeRect:y.rect,scrollableAncestors:j,scrollableAncestorRects:w,transform:E,windowRect:N}),z=Bj(x),T=UJ({config:r,draggableNodes:g,droppableContainers:p,measuringConfiguration:b}),k=z?y.setRef:void 0;return Z.createElement(FJ,null,Z.createElement(OJ,{animation:T},h&&A?Z.createElement($J,{key:A,id:h.id,ref:k,as:l,activatorEvent:d,adjustScale:s,className:c,transition:o,rect:z,style:{zIndex:u,...n},transform:P},a):null))});function Zl(t,s,a){const r=t.slice();return r.splice(a<0?r.length+a:a,0,r.splice(s,1)[0]),r}function qJ(t,s){return t.reduce((a,r,n)=>{const o=s.get(r);return o&&(a[n]=o),a},Array(t.length))}function Wu(t){return t!==null&&t>=0}function YJ(t,s){if(t===s)return!0;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==s[a])return!1;return!0}function KJ(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const qu={scaleX:1,scaleY:1},XJ=t=>{var s;let{rects:a,activeNodeRect:r,activeIndex:n,overIndex:o,index:i}=t;const l=(s=a[n])!=null?s:r;if(!l)return null;const c=JJ(a,i,n);if(i===n){const u=a[o];return u?{x:n<o?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...qu}:null}return i>n&&i<=o?{x:-l.width-c,y:0,...qu}:i<n&&i>=o?{x:l.width+c,y:0,...qu}:{x:0,y:0,...qu}};function JJ(t,s,a){const r=t[s],n=t[s-1],o=t[s+1];return!r||!n&&!o?0:a<s?n?r.left-(n.left+n.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(n.left+n.width)}const iT=t=>{let{rects:s,activeIndex:a,overIndex:r,index:n}=t;const o=Zl(s,r,a),i=s[n],l=o[n];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Yu={scaleX:1,scaleY:1},Hj=t=>{var s;let{activeIndex:a,activeNodeRect:r,index:n,rects:o,overIndex:i}=t;const l=(s=o[a])!=null?s:r;if(!l)return null;if(n===a){const u=o[i];return u?{x:0,y:a<i?u.top+u.height-(l.top+l.height):u.top-l.top,...Yu}:null}const c=QJ(o,n,a);return n>a&&n<=i?{x:0,y:-l.height-c,...Yu}:n<a&&n>=i?{x:0,y:l.height+c,...Yu}:{x:0,y:0,...Yu}};function QJ(t,s,a){const r=t[s],n=t[s-1],o=t[s+1];return r?a<s?n?r.top-(n.top+n.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):n?r.top-(n.top+n.height):0:0}const lT="Sortable",cT=Z.createContext({activeIndex:-1,containerId:lT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:iT,disabled:{draggable:!1,droppable:!1}});function af(t){let{children:s,id:a,items:r,strategy:n=iT,disabled:o=!1}=t;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=oT(),h=mu(lT,a),x=l.rect!==null,f=m.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),g=i!=null,p=i?f.indexOf(i.id):-1,y=u?f.indexOf(u.id):-1,v=m.useRef(f),b=!YJ(f,v.current),j=y!==-1&&p===-1||b,w=KJ(o);Cr(()=>{b&&g&&d(f)},[b,f,g,d]),m.useEffect(()=>{v.current=f},[f]);const N=m.useMemo(()=>({activeIndex:p,containerId:h,disabled:w,disableTransforms:j,items:f,overIndex:y,useDragOverlay:x,sortedRects:qJ(f,c),strategy:n}),[p,h,w.draggable,w.droppable,j,f,y,c,x,n]);return Z.createElement(cT.Provider,{value:N},s)}const ZJ=t=>{let{id:s,items:a,activeIndex:r,overIndex:n}=t;return Zl(a,r,n).indexOf(s)},eQ=t=>{let{containerId:s,isSorting:a,wasDragging:r,index:n,items:o,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==o&&n===i?!1:a?!0:i!==n&&s===c},tQ={duration:200,easing:"ease"},dT="transform",sQ=Sr.Transition.toString({property:dT,duration:0,easing:"linear"}),aQ={roleDescription:"sortable"};function rQ(t){let{disabled:s,index:a,node:r,rect:n}=t;const[o,i]=m.useState(null),l=m.useRef(a);return Cr(()=>{if(!s&&a!==l.current&&r.current){const c=n.current;if(c){const u=Xl(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}a!==l.current&&(l.current=a)},[s,a,r,n]),m.useEffect(()=>{o&&i(null)},[o]),o}function rf(t){let{animateLayoutChanges:s=eQ,attributes:a,disabled:r,data:n,getNewIndex:o=ZJ,id:i,strategy:l,resizeObserverConfig:c,transition:u=tQ}=t;const{items:d,containerId:h,activeIndex:x,disabled:f,disableTransforms:g,sortedRects:p,overIndex:y,useDragOverlay:v,strategy:b}=m.useContext(cT),j=nQ(r,f),w=d.indexOf(i),N=m.useMemo(()=>({sortable:{containerId:h,index:w,items:d},...n}),[h,n,w,d]),E=m.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:A,node:P,isOver:z,setNodeRef:T}=IJ({id:i,data:N,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:k,activatorEvent:L,activeNodeRect:U,attributes:Y,setNodeRef:K,listeners:F,isDragging:O,over:S,setActivatorNodeRef:$,transform:H}=TJ({id:i,data:N,attributes:{...aQ,...a},disabled:j.draggable}),J=bX(T,K),re=!!k,le=re&&!g&&Wu(x)&&Wu(y),we=!v&&O,ke=we&&le?H:null,ae=le?ke??(l??b)({rects:p,activeNodeRect:U,activeIndex:x,overIndex:y,index:w}):null,be=Wu(x)&&Wu(y)?o({id:i,items:d,activeIndex:x,overIndex:y}):w,xe=k==null?void 0:k.id,ne=m.useRef({activeId:xe,items:d,newIndex:be,containerId:h}),Ae=d!==ne.current.items,ye=s({active:k,containerId:h,isDragging:O,isSorting:re,id:i,index:w,items:d,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:u,wasDragging:ne.current.activeId!=null}),Be=rQ({disabled:!ye,index:w,node:P,rect:A});return m.useEffect(()=>{re&&ne.current.newIndex!==be&&(ne.current.newIndex=be),h!==ne.current.containerId&&(ne.current.containerId=h),d!==ne.current.items&&(ne.current.items=d)},[re,be,h,d]),m.useEffect(()=>{if(xe===ne.current.activeId)return;if(xe!=null&&ne.current.activeId==null){ne.current.activeId=xe;return}const Te=setTimeout(()=>{ne.current.activeId=xe},50);return()=>clearTimeout(Te)},[xe]),{active:k,activeIndex:x,attributes:Y,data:N,rect:A,index:w,newIndex:be,items:d,isOver:z,isSorting:re,isDragging:O,listeners:F,node:P,overIndex:y,over:S,setNodeRef:J,setActivatorNodeRef:$,setDroppableNodeRef:T,setDraggableNodeRef:K,transform:Be??ae,transition:de()};function de(){if(Be||Ae&&ne.current.newIndex===w)return sQ;if(!(we&&!Xx(L)||!u)&&(re||ye))return Sr.Transition.toString({...u,property:dT})}}function nQ(t,s){var a,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(a=t==null?void 0:t.draggable)!=null?a:s.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:s.droppable}}function zh(t){if(!t)return!1;const s=t.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const oQ=[Ct.Down,Ct.Right,Ct.Up,Ct.Left],nf=(t,s)=>{let{context:{active:a,collisionRect:r,droppableRects:n,droppableContainers:o,over:i,scrollableAncestors:l}}=s;if(oQ.includes(t.code)){if(t.preventDefault(),!a||!r)return;const c=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const x=n.get(h.id);if(x)switch(t.code){case Ct.Down:r.top<x.top&&c.push(h);break;case Ct.Up:r.top>x.top&&c.push(h);break;case Ct.Left:r.left>x.left&&c.push(h);break;case Ct.Right:r.left<x.left&&c.push(h);break}});const u=OX({active:a,collisionRect:r,droppableRects:n,droppableContainers:c,pointerCoordinates:null});let d=U3(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const h=o.get(a.id),x=o.get(d),f=x?n.get(x.id):null,g=x==null?void 0:x.node.current;if(g&&f&&h&&x){const y=Zx(g).some((E,A)=>l[A]!==E),v=uT(h,x),b=iQ(h,x),j=y||!v?{x:0,y:0}:{x:b?r.width-f.width:0,y:b?r.height-f.height:0},w={x:f.left,y:f.top};return j.x&&j.y?w:Rd(w,j)}}}};function uT(t,s){return!zh(t)||!zh(s)?!1:t.data.current.sortable.containerId===s.data.current.sortable.containerId}function iQ(t,s){return!zh(t)||!zh(s)||!uT(t,s)?!1:t.data.current.sortable.index<s.data.current.sortable.index}const lQ=t=>{let{transform:s}=t;return{...s,y:0}},d2=["Comissão de Implantação","SE - Secretaria Executiva","OUV - Ouvidoria","GSP - Gerência de Soluções e Projetos"],u2=["Comissão de Implantação","SE - Secretaria Executiva","OUV - Ouvidoria"],Mp="GSP - Gerência de Soluções e Projetos";function $a(){const{user:t}=Dt(),s=()=>t?d2.includes(t.gerencia):!1,a=()=>t?d2.includes(t.gerencia):!1,r=x=>s()&&x==="pendente",n=()=>s(),o=()=>s(),i=(x,f,g)=>t?!!(t.gerencia===Mp||u2.includes(t.gerencia)||t.gerencia===x||f===1&&g&&t.gerencia===g):!1,l=()=>t?t.gerencia===Mp:!1,c=()=>t?u2.includes(t.gerencia):!1,u=()=>t?["Comissão de Implantação","CI","SE - Secretaria Executiva","Secretaria Executiva","OUV - Ouvidoria","Ouvidoria"].some(f=>t.gerencia.includes(f)):!1,d=()=>t?t.gerencia===Mp||t.gerencia==="SE - Secretaria Executiva":!1,h=()=>t?t.gerencia==="NAJ - Assessoria Jurídica":!1;return{podeEditarFluxo:s,podeEditarProcesso:a,podeExcluirEtapa:r,podeReordenarEtapas:n,podeAdicionarEtapa:o,podeEditarCard:i,isGerenciaPai:s(),isGSP:l,isGerenciaPaiSistema:c,temPermissaoModelosFluxo:u,isGSPouSE:d,isNAJ:h}}function Ip(t){const[s,a]=m.useState(!1);return m.useEffect(()=>{const r=window.matchMedia(t);r.matches!==s&&a(r.matches);const n=()=>a(r.matches);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[s,t]),s}const xt=m.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));xt.displayName="Textarea";const m2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",gerencia:"Comissão de Implantação",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",gerencia:"GRH - Gerência de Recursos Humanos",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",gerencia:"GUE - Gerência de Urgência e Emergência",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"}];function cQ({query:t,onSelect:s,onClose:a,isVisible:r,position:n}){const[o,i]=m.useState([]),[l,c]=m.useState(0),u=m.useRef(null);Dt(),m.useEffect(()=>{if(!t){i(m2.slice(0,8));return}const x=m2.filter(f=>f.nome.toLowerCase().includes(t.toLowerCase())||f.cargo.toLowerCase().includes(t.toLowerCase())||f.gerencia.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())).slice(0,8);i(x),c(0)},[t,r]);const d=m.useCallback(x=>{if(r)switch(x.key){case"ArrowDown":x.preventDefault(),c(f=>f<o.length-1?f+1:0);break;case"ArrowUp":x.preventDefault(),c(f=>f>0?f-1:o.length-1);break;case"Enter":case"Tab":x.preventDefault(),o[l]&&s(o[l]);break;case"Escape":x.preventDefault(),a();break}},[r,o,l,s,a]);m.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[d]),m.useEffect(()=>{if(u.current&&l>=0){const x=u.current.children[l];x&&x.scrollIntoView({block:"nearest"})}},[l]);const h=x=>x.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2);return!r||o.length===0?null:e.jsxs("div",{className:"fixed z-[9999] bg-white border border-gray-200 rounded-lg shadow-lg max-w-sm w-80 max-h-64 overflow-hidden",style:{top:n.top,left:n.left},children:[e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(zl,{className:"w-4 h-4"}),e.jsx("span",{children:"Mencionar usuário"}),e.jsxs(oe,{variant:"secondary",className:"ml-auto text-xs",children:[o.length," usuário",o.length!==1?"s":""]})]})}),e.jsx("div",{ref:u,className:"max-h-48 overflow-y-auto",children:o.map((x,f)=>e.jsx("div",{className:`px-3 py-2 cursor-pointer transition-colors ${f===l?"bg-blue-50 border-l-2 border-blue-500":"hover:bg-gray-50"}`,onClick:()=>s(x),role:"option","aria-selected":f===l,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hr,{className:"w-8 h-8",children:[e.jsx(xr,{src:""}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-xs font-medium",children:h(x.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:x.nome}),e.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[x.cargo," • ",x.gerencia]}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:x.email})]}),f===l&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},x.id))}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"↑↓ navegar • Enter/Tab selecionar • Esc fechar"}),e.jsxs("span",{className:"text-gray-400",children:[l+1," de ",o.length]})]})})]})}function of({value:t,onChange:s,placeholder:a="Digite seu texto... Use @ para mencionar usuários",className:r="",disabled:n=!1,maxLength:o,minHeight:i="120px",processoId:l,etapaId:c,cardId:u}){const[d,h]=m.useState([]),[x,f]=m.useState(!1),[g,p]=m.useState(""),[y,v]=m.useState({top:0,left:0}),[b,j]=m.useState(0),w=m.useRef(null);Dt();const N=k=>k.split(" ").map(L=>L.charAt(0)).join("").toUpperCase().slice(0,2),E=m.useCallback((k,L)=>{const U=k.slice(0,L),Y=U.lastIndexOf("@");if(Y!==-1){const K=U.slice(Y+1);if(K.includes(" "))return f(!1),null;const F=K.trim(),O=Y;if(w.current){const $=w.current.getBoundingClientRect(),H=window.pageYOffset||document.documentElement.scrollTop,J=window.pageXOffset||document.documentElement.scrollLeft,re={top:$.bottom+H+5,left:$.left+J};v(re)}return p(F),f(!0),{query:F,startPos:O}}return f(!1),null},[]),A=k=>{const L=k.target.value,U=k.target.selectionStart;j(U),E(L,U),s(L,d)},P=k=>{const U=t.slice(0,b).lastIndexOf("@");if(U!==-1){const Y=t.slice(0,U),K=t.slice(b),O=`@${k.nome.split(" ")[0]}`,S=Y+O+" "+K,$={userId:k.id,display:k.nome,start:U,end:U+O.length},H=[...d,$];h(H),f(!1),s(S,H),setTimeout(()=>{if(w.current){const J=U+O.length+1;w.current.focus(),w.current.setSelectionRange(J,J),j(J)}},0)}},z=()=>{f(!1)},T=k=>{};return e.jsxs("div",{className:"relative",children:[e.jsx(xt,{ref:w,value:t,onChange:A,onKeyDown:T,placeholder:a,className:`resize-none ${r}`,style:{minHeight:i},maxLength:o,disabled:n}),o&&e.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[t.length,"/",o]}),x&&!n&&e.jsx(cQ,{query:g,onSelect:P,onClose:z,isVisible:x,position:y}),d.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zl,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Usuários mencionados (",d.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((k,L)=>e.jsxs(oe,{variant:"outline",className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm bg-white border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsxs(hr,{className:"w-4 h-4",children:[e.jsx(xr,{src:""}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-xs font-medium",children:N(k.display)})]}),e.jsx("span",{className:"font-medium",children:k.display})]},L))})]})]})}function dQ({etapa:t,isOpen:s,onClose:a,onConcluirEtapa:r,onEditarEtapa:n,onExcluirEtapa:o,onSubstituirDocumento:i,onVisualizarDocumento:l,onBaixarDocumento:c,onAdicionarMembro:u,onRemoverMembro:d,onSalvarObservacao:h,gerenciaCriadora:x}){var Ce;const{user:f}=Dt(),[g,p]=m.useState(""),[y,v]=m.useState(!1),[b,j]=m.useState(!1),[w,N]=m.useState(null),[E,A]=m.useState(!1),[P,z]=m.useState(!1),[T,k]=m.useState(!1),[L,U]=m.useState(!1),[Y,K]=m.useState(!1),[F,O]=m.useState(!1),S=m.useRef(null),[$,H]=m.useState(""),[J,re]=m.useState(""),[le,we]=m.useState(""),[ke,he]=m.useState(""),[ae,be]=m.useState([]),[xe,ne]=m.useState({nome:"",cargo:"",papel:"",gerencia:""}),{podeEditarCard:Ae}=$a();if(m.useEffect(()=>{const _=R=>{S.current&&!S.current.contains(R.target)&&O(!1)};return F&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[F]),!t)return null;const ye=()=>Ae(t.gerencia,t.id,x),Be=()=>{switch(t.status){case"concluido":return{badge:e.jsxs(oe,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Concluído"]}),icon:e.jsx(Re,{className:"w-5 h-5 text-green-500"}),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};case"andamento":return{badge:e.jsxs(oe,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(ti,{className:"w-3 h-3 mr-1"}),"Em Andamento"]}),icon:e.jsx(ti,{className:"w-5 h-5 text-yellow-500"}),color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"atrasado":return{badge:e.jsxs(oe,{className:"bg-red-100 text-red-700 border-red-200",children:[e.jsx(pt,{className:"w-3 h-3 mr-1"}),"Atrasado"]}),icon:e.jsx(pt,{className:"w-5 h-5 text-red-500"}),color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};case"pendente":return{badge:e.jsxs(oe,{className:"bg-gray-100 text-gray-700 border-gray-200",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Pendente"]}),icon:e.jsx(Fe,{className:"w-5 h-5 text-gray-500"}),color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"};default:return{badge:e.jsxs(oe,{className:"bg-gray-100 text-gray-700 border-gray-200",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Pendente"]}),icon:e.jsx(Fe,{className:"w-5 h-5 text-gray-500"}),color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"}}},de=()=>t.status==="concluido"?{status:"Cumprido",color:"text-green-600",icon:e.jsx(ks,{className:"w-4 h-4 text-green-600"}),bgColor:"bg-green-50",borderColor:"border-green-200"}:t.status==="atrasado"?{status:"Vencido",color:"text-red-600",icon:e.jsx(Wz,{className:"w-4 h-4 text-red-600"}),bgColor:"bg-red-50",borderColor:"border-red-200"}:{status:"No Prazo",color:"text-blue-600",icon:e.jsx(Xz,{className:"w-4 h-4 text-blue-600"}),bgColor:"bg-blue-50",borderColor:"border-blue-200"},Te=Be(),Pe=de(),D=()=>{g.trim()&&(h==null||h(t,g),p(""))},M=_=>{var te;const R=(te=_.target.files)==null?void 0:te[0];R&&(N(R),j(!1),console.log("Arquivo selecionado:",R.name))},q=()=>{A(!0)},W=()=>{o==null||o(t),A(!1)},I=()=>{A(!1)},ee=()=>{z(!0)},ue=()=>{r==null||r(t),z(!1)},G=()=>{z(!1)},ge=()=>{k(!0)},Ne=()=>{console.log("Enviando para análise:",t.id),k(!1)},Me=()=>{k(!1)},et=()=>{if(t){const _={...t,responsavel:$,cargo:J,gerencia:le,envolvidos:ae};n==null||n(_),U(!1)}},se=()=>{if(t&&f){const _={...t,prazoAnterior:t.prazoPrevisao,prazoPrevisao:ke,alteradoPor:`${f.nome} (${f.cargo})`,dataAlteracao:new Date().toLocaleDateString("pt-BR")};n==null||n(_),K(!1)}},ze=()=>{xe.nome&&xe.cargo&&xe.papel&&xe.gerencia&&(be([...ae,xe]),ne({nome:"",cargo:"",papel:"",gerencia:""}))},_e=_=>{be(ae.filter((R,te)=>te!==_))},Q=()=>{p(""),v(!1),a()};return e.jsx(ck,{children:s&&e.jsxs(ms.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm overflow-y-auto w-full h-full p-6",onClick:Q,children:[e.jsxs(ms.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg max-w-7xl w-full max-h-[95vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${Te.bgColor} ${Te.borderColor} border-2`,children:Te.icon}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Etapa ",t.id,": ",t.nomeCompleto]}),e.jsx("p",{className:"text-lg text-gray-600 mt-1",children:t.nome}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:Te.badge})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:Q,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full w-10 h-10",children:e.jsx(Yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full mb-8",children:[e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 text-blue-500"}),"Responsável"]})}),e.jsx(We,{className:"p-4 h-full overflow-visible",children:t.responsavel?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-medium text-gray-900",children:t.responsavel}),e.jsx("p",{className:"text-sm text-gray-600",children:t.cargo})]})]}),e.jsxs(oe,{className:"bg-blue-100 text-blue-700 border-blue-200",children:[e.jsx($s,{className:"w-3 h-3 mr-1"}),t.gerencia]}),ye()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>v(!y),className:"w-full text-xs",children:[e.jsx(ar,{className:"w-3 h-3 mr-1"}),"Editar Responsável"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Responsável ainda não definido."})]})})]}),e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5 text-green-500"}),"Cronograma"]})}),e.jsx(We,{className:"p-4 h-full overflow-visible",children:e.jsxs("div",{className:"space-y-4",children:[t.dataInicio&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(UN,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Início"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.dataInicio})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(wF,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Prazo Previsto"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:t.prazoPrevisao}),t.diasUteis&&e.jsxs("p",{className:"text-xs text-blue-600",children:[t.diasUteis," dias úteis"]}),t.prazoAnterior&&t.alteradoPor&&e.jsxs("div",{className:"mt-2 p-2 bg-orange-50 rounded border border-orange-200",children:[e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Alterado:"})," ",t.alteradoPor]}),e.jsxs("p",{className:"text-xs text-orange-600",children:[e.jsx("strong",{children:"Data:"})," ",t.dataAlteracao]}),e.jsxs("p",{className:"text-xs text-orange-600",children:[e.jsx("strong",{children:"Prazo anterior:"})," ",t.prazoAnterior]})]})]}),t.dataConclusao&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Hz,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Conclusão"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:t.dataConclusao})]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${Pe.bgColor} ${Pe.borderColor}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Pe.icon,e.jsx("p",{className:"text-xs text-gray-500",children:"Status do Prazo"})]}),e.jsx("p",{className:`text-sm font-medium ${Pe.color}`,children:Pe.status})]})]})})]}),e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5 text-purple-500"}),"Equipe"]})}),e.jsx(We,{className:"p-4 h-full overflow-visible",children:t.envolvidos&&t.envolvidos.length>0?e.jsxs("div",{className:"space-y-3",children:[t.envolvidos.map((_,R)=>e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.nome}),e.jsx("p",{className:"text-xs text-gray-600",children:_.cargo}),e.jsx(oe,{className:"bg-purple-100 text-purple-700 border-purple-200 mt-1",children:_.papel})]}),ye()&&e.jsx(C,{size:"sm",variant:"outline",onClick:()=>d==null?void 0:d(t,R.toString()),className:"text-xs bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:e.jsx(WN,{className:"w-3 h-3"})})]})},R)),ye()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>u==null?void 0:u(t,{}),className:"w-full text-xs bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum membro adicional"}),ye()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>u==null?void 0:u(t,{}),className:"mt-3 text-xs bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]})})]})]}),e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ca,{className:"w-5 h-5 text-orange-500"}),"Gerenciamento da Etapa"]})}),e.jsxs(We,{className:"p-6",children:[ye()?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(fd,{className:"w-3 h-3 mr-1"}),"Sua Gerência"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Você tem permissão para gerenciar esta etapa."})]}),e.jsxs("div",{className:"border rounded-xl p-6 bg-green-50 space-y-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-green-700 text-base",children:"Ações Disponíveis da Sua Gerência"}),e.jsx("div",{className:"space-y-4",children:b?e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",onChange:M,className:"w-full border rounded px-3 py-2 text-sm",accept:".pdf,.doc,.docx,.xls,.xlsx"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:()=>j(!1),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 flex-1",children:"Cancelar"}),w&&e.jsxs(C,{size:"sm",className:"bg-green-600 hover:bg-green-700 flex-1",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Enviar"]})]})]}):e.jsxs(C,{size:"sm",onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded w-full",children:[e.jsx(Qz,{className:"w-4 h-4 mr-2"}),"Adicionar arquivo"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:ge,className:"bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium px-4 py-3 rounded w-full",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Análise"]}),t.status==="andamento"?e.jsxs(C,{size:"sm",onClick:ee,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded w-full",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]}):e.jsx("div",{className:"bg-gray-100 rounded px-4 py-3 flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Etapa Finalizada"})}),e.jsxs(C,{size:"sm",variant:"outline",onClick:q,className:"bg-red-100 hover:bg-red-200 text-red-700 font-medium px-4 py-3 rounded w-full",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Excluir Documento"]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Ca,{className:"w-8 h-8 text-red-400 mb-3"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-w-md",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-800 mb-2",children:"Acesso Restrito"}),e.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:"Você não possui permissão para editar esta etapa. A edição está restrita à gerência responsável ou aos administradores do sistema."})]})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Exclusão"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Tem certeza que deseja excluir o documento desta etapa? Esta ação não pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:I,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsx(C,{size:"sm",onClick:W,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})}),P&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Conclusão da Etapa"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Resumo da Etapa"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[e.jsx("strong",{children:"Etapa:"})," ",t.nomeCompleto]}),e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Responsável:"})," ",t.responsavel]}),e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Prazo:"})," ",t.prazoPrevisao]}),t.documento&&e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Documento:"})," ",t.documento]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ao concluir esta etapa, ela será finalizada e não poderá mais ser editada. A próxima etapa do processo será desbloqueada automaticamente."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:G,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:ue,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enviar para Análise"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Destinos da Análise"}),e.jsxs("ul",{className:"text-xs text-purple-600 mt-2 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Assinatura:"})," Aprovação formal"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Revisão:"})," Verificação técnica"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Avaliação:"})," Outras gerências (Jurídico, Diretoria)"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Esta etapa será encaminhada para análise e validação. O processo continuará após a aprovação de todos os responsáveis."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:Me,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:Ne,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Análise"]})]})]})})]})]}),t.documentos&&t.documentos.length>0||t.documento||t.status==="concluido"?e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-indigo-500"}),"Todos Documentos"]})}),e.jsxs(We,{className:"p-4 space-y-3",children:[t.documentos&&t.documentos.length>0&&t.documentos.map((_,R)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-8 h-8 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.nome}),_.enviadoPor&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado por: ",_.enviadoPor]}),_.dataEnvio&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",_.dataEnvio]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l==null?void 0:l({...t,documento:_.nome,documentoUrl:_.url}),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c==null?void 0:c({...t,documento:_.nome,documentoUrl:_.url}),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(bt,{className:"w-4 h-4"})})]})]})},_.url||_.nome||R)),(!t.documentos||t.documentos.length===0)&&t.documento&&e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-8 h-8 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.documento}),t.enviadoPor&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado por: ",t.enviadoPor]}),t.dataEnvio&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",t.dataEnvio]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l==null?void 0:l(t),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c==null?void 0:c(t),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(bt,{className:"w-4 h-4"})})]})]})}),(!t.documentos||t.documentos.length===0)&&!t.documento&&t.status==="concluido"&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(si,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Documento da Etapa Concluída"}),e.jsx("p",{className:"text-xs text-green-600",children:"Documento anexado à etapa finalizada"})]})]})})})]})]}):null,e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(lx,{className:"w-5 h-5 text-amber-500"}),"Comentários e Observações"]})}),e.jsx(We,{className:"p-4",children:e.jsxs("section",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Comentários e Observações"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[t.observacoes&&e.jsxs("div",{className:"border-l-4 border-blue-400 bg-blue-50 px-3 py-2 rounded-md",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Gerência Responsável"})," - ",new Date().toLocaleDateString("pt-BR")]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:t.observacoes})]}),e.jsxs("div",{className:"border-l-4 border-green-400 bg-green-50 px-3 py-2 rounded-md",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Yasmin Pissolati Mattos Bretz"})," - ",new Date(Date.now()-2*60*60*1e3).toLocaleDateString("pt-BR")]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Documento enviado para análise técnica. Aguardando aprovação."})]}),ye()?e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Tt,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Adicionar Comentário"})]}),e.jsx(of,{value:g,onChange:_=>p(_),placeholder:"Escreva um comentário... Use @ para mencionar usuários",className:"w-full border rounded-md p-2 text-sm",minHeight:"80px",maxLength:500,processoId:t==null?void 0:t.processoId,etapaId:t==null?void 0:t.id,cardId:"etapa-detalhes"}),e.jsxs(C,{size:"sm",onClick:D,disabled:!g.trim(),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:[e.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Salvar Comentário"]})]}):e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Tt,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Comentários (Somente Visualização)"})]}),e.jsx(xt,{placeholder:"Você não possui permissão para adicionar comentários...",value:"",disabled:!0,className:"w-full border rounded-md p-2 text-sm min-h-[80px] resize-none bg-gray-100 text-gray-500"}),e.jsxs(C,{size:"sm",disabled:!0,className:"mt-2 bg-gray-300 text-gray-500 px-3 py-1 rounded text-sm cursor-not-allowed",children:[e.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Adicionar Comentário (Bloqueado)"]})]})]})]})})]}),e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200 w-full",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-5 h-5 text-blue-500"}),"Resumo da Execução"]})}),e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Te.bgColor}`,children:Te.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Status"}),e.jsx("p",{className:"text-xs text-gray-600",children:Te.badge.props.children[1]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Pe.bgColor}`,children:Pe.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Prazo"}),e.jsx("p",{className:`text-xs ${Pe.color}`,children:Pe.status})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Equipe"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((Ce=t.envolvidos)==null?void 0:Ce.length)||0," membro(s)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(si,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Documento"}),e.jsx("p",{className:"text-xs text-gray-600",children:t.documento?"Enviado":"Pendente"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(UN,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Linha do Tempo"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t.dataInicio&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Início: ",t.dataInicio]})]}),e.jsx(Fs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Prazo: ",t.prazoPrevisao]})]}),t.dataConclusao&&e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Conclusão: ",t.dataConclusao]})]})]})]})]})]})]})]})]}),L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Responsável e Equipe"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>U(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Responsável"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Nome"}),e.jsx("input",{type:"text",value:$,onChange:_=>H(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Nome do responsável"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Cargo"}),e.jsx("input",{type:"text",value:J,onChange:_=>re(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Cargo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Gerência"}),e.jsx("input",{type:"text",value:le,onChange:_=>we(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Gerência"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Equipe"}),e.jsxs("div",{className:"space-y-4",children:[ae.map((_,R)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Membro ",R+1]}),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>_e(R),className:"text-xs bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:e.jsx(WN,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[e.jsx("input",{type:"text",value:_.nome,onChange:te=>{const fe=[...ae];fe[R].nome=te.target.value,be(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Nome"}),e.jsx("input",{type:"text",value:_.cargo,onChange:te=>{const fe=[...ae];fe[R].cargo=te.target.value,be(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Cargo"}),e.jsx("input",{type:"text",value:_.papel,onChange:te=>{const fe=[...ae];fe[R].papel=te.target.value,be(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Papel"}),e.jsx("input",{type:"text",value:_.gerencia,onChange:te=>{const fe=[...ae];fe[R].gerencia=te.target.value,be(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Gerência"})]})]},R)),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-3",children:"Adicionar Novo Membro"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[e.jsx("input",{type:"text",value:xe.nome,onChange:_=>ne({...xe,nome:_.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Nome"}),e.jsx("input",{type:"text",value:xe.cargo,onChange:_=>ne({...xe,cargo:_.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Cargo"}),e.jsx("input",{type:"text",value:xe.papel,onChange:_=>ne({...xe,papel:_.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Papel"}),e.jsx("input",{type:"text",value:xe.gerencia,onChange:_=>ne({...xe,gerencia:_.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Gerência"})]}),e.jsxs(C,{size:"sm",onClick:ze,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(C,{size:"sm",onClick:()=>U(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:et,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alterar Prazo"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800 mb-2",children:"Informações da Alteração"}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Responsável:"})," ",f==null?void 0:f.nome," (",f==null?void 0:f.cargo,")"]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Data:"})," ",new Date().toLocaleDateString("pt-BR")]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Prazo atual:"})," ",t==null?void 0:t.prazoPrevisao]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 mb-2 block",children:"Novo Prazo"}),e.jsx("input",{type:"text",value:ke,onChange:_=>he(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Ex: 15/02/2025"})]}),e.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-xs text-yellow-700",children:[e.jsx("strong",{children:"⚠️ Importante:"})," Esta alteração será registrada no histórico da etapa."]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(C,{size:"sm",onClick:()=>K(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:se,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Prazo"]})]})]})})]})})}const uQ={FileText:e.jsx($e,{className:"w-6 h-6"}),PenTool:e.jsx(Tt,{className:"w-6 h-6"}),Users:e.jsx(qt,{className:"w-6 h-6"}),Search:e.jsx(ds,{className:"w-6 h-6"}),Shield:e.jsx(Ca,{className:"w-6 h-6"}),DollarSign:e.jsx(ah,{className:"w-6 h-6"}),Scale:e.jsx(xd,{className:"w-6 h-6"}),Upload:e.jsx(mt,{className:"w-6 h-6"}),User:e.jsx(ht,{className:"w-6 h-6"}),Calendar:e.jsx(wt,{className:"w-6 h-6"}),Building2:e.jsx($s,{className:"w-6 h-6"}),CheckCircle:e.jsx(Re,{className:"w-6 h-6"}),Clock:e.jsx(Fe,{className:"w-6 h-6"}),Settings:e.jsx(Ft,{className:"w-6 h-6"})};function mQ({etapa:t,onEdit:s,onDelete:a,canDelete:r}){const{attributes:n,listeners:o,setNodeRef:i,transform:l,transition:c,isDragging:u}=rf({id:t.id}),d={transform:Sr.Transform.toString(l),transition:c},x=(p=>{switch(p){case"concluido":return{bgColor:"bg-green-50",borderColor:"border-green-200",icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"})};case"andamento":return{bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:e.jsx(ti,{className:"w-4 h-4 text-blue-600"})};case"atrasado":return{bgColor:"bg-red-50",borderColor:"border-red-200",icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"})};default:return{bgColor:"bg-gray-50",borderColor:"border-gray-200",icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"})}}})(t.status),f=uQ[t.tipoIcone||"FileText"]||e.jsx($e,{className:"w-6 h-6"}),g=()=>{window.confirm(`Tem certeza que deseja excluir a etapa "${t.nome}"? Esta ação é irreversível.`)&&a(t.id)};return e.jsx("div",{ref:i,style:d,className:`flex-shrink-0 md:flex-shrink ${u?"opacity-50":""}`,children:e.jsxs(ms.div,{className:`border-2 rounded-xl transition-all duration-300 ${x.bgColor} hover:shadow-md bg-white relative w-full group ${M4(t.status,t.dataInicio,t.prazoPrevisao)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{...n,...o,className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing z-10",children:e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:"p-1 bg-gray-100 rounded hover:bg-gray-200",children:e.jsx(Ll,{className:"w-4 h-4 text-gray-500"})})}),e.jsx(St,{children:e.jsx("p",{children:"Arrastar para reordenar"})})]})})}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white hover:bg-blue-50 border border-gray-200",onClick:()=>s(t),children:e.jsx(ar,{className:"w-4 h-4 text-blue-600"})})}),e.jsx(St,{children:e.jsx("p",{children:"Editar etapa"})})]})}),r&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white hover:bg-red-50 border border-gray-200",onClick:g,children:e.jsx(It,{className:"w-4 h-4 text-red-600"})})}),e.jsx(St,{children:e.jsx("p",{children:"Excluir etapa"})})]})})]}),t.status==="concluido"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),t.status==="pendente"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),t.status==="andamento"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ti,{className:"w-4 h-4 text-white"})}),t.status==="atrasado"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(qe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${t.status==="concluido"?"bg-gradient-to-br from-green-500 to-green-600 shadow-lg":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:t.id}),e.jsx("div",{className:"flex items-center gap-1",children:x.icon})]}),e.jsx("div",{className:"flex justify-center mb-3 text-gray-600",children:f}),e.jsx("h3",{className:`font-semibold text-center text-sm mb-2 leading-tight ${t.status==="concluido"?"text-green-800 font-bold":"text-gray-900"}`,children:t.nome}),e.jsx("p",{className:"text-xs text-gray-600 text-center mb-2 truncate",children:t.gerencia}),e.jsx("div",{className:"text-center",children:e.jsx(oe,{variant:"outline",className:"text-xs",children:t.prazoPrevisao})}),t.responsavel&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.responsavel})})]}),e.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-blue-300 rounded-xl opacity-0 group-hover:opacity-20 pointer-events-none transition-opacity"})]})})}async function hQ(){try{const t=await fetch("/api/gerencias",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Erro ao buscar gerências: ${t.status}`);const s=await t.json();if(!s.success)throw new Error(s.message||"Erro ao buscar gerências");return s.data.filter(a=>a.ativo)}catch(t){return console.error("Erro ao buscar gerências:",t),xQ()}}function xQ(){return[{id:"1",codigo:"CI",nome:"Comissão de Implantação",nomeCompleto:"Comissão de Implantação",ativo:!0,tipo:"comissao",responsavel:{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",codigo:"SE",nome:"Secretaria Executiva",nomeCompleto:"SE - Secretaria Executiva",ativo:!0,tipo:"secretaria",responsavel:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"3",codigo:"OUV",nome:"Ouvidoria",nomeCompleto:"OUV - Ouvidoria",ativo:!0,tipo:"assessoria",responsavel:{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"4",codigo:"GSP",nome:"Gerência de Soluções e Projetos",nomeCompleto:"GSP - Gerência de Soluções e Projetos",ativo:!0,tipo:"gerencia",responsavel:{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"5",codigo:"GSL",nome:"Gerência de Suprimentos e Logística",nomeCompleto:"GSL - Gerência de Suprimentos e Logística",ativo:!0,tipo:"gerencia",responsavel:{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"6",codigo:"GRH",nome:"Gerência de Recursos Humanos",nomeCompleto:"GRH - Gerência de Recursos Humanos",ativo:!0,tipo:"gerencia",responsavel:{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"7",codigo:"GUE",nome:"Gerência de Urgência e Emergência",nomeCompleto:"GUE - Gerência de Urgência e Emergência",ativo:!0,tipo:"gerencia",responsavel:{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"8",codigo:"GLC",nome:"Gerência de Licitações e Contratos",nomeCompleto:"GLC - Gerência de Licitações e Contratos",ativo:!0,tipo:"gerencia",responsavel:{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"9",codigo:"GFC",nome:"Gerência Financeira e Contábil",nomeCompleto:"GFC - Gerência Financeira e Contábil",ativo:!0,tipo:"gerencia",responsavel:{id:"9",nome:"Maria Silva",cargo:"Gerente Financeira",email:"maria.silva@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"10",codigo:"GTEC",nome:"Gerência de Tecnologia da Informação",nomeCompleto:"GTEC - Gerência de Tecnologia da Informação",ativo:!0,tipo:"gerencia",responsavel:{id:"10",nome:"João Santos",cargo:"Gerente de TI",email:"joao.santos@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"11",codigo:"GAP",nome:"Gerência de Administração e Patrimônio",nomeCompleto:"GAP - Gerência de Administração e Patrimônio",ativo:!0,tipo:"gerencia",responsavel:{id:"11",nome:"Ana Costa",cargo:"Gerente de Administração",email:"ana.costa@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"12",codigo:"GESP",nome:"Gerência de Especialidades",nomeCompleto:"GESP - Gerência de Especialidades",ativo:!0,tipo:"gerencia",responsavel:{id:"12",nome:"Pedro Lima",cargo:"Gerente de Especialidades",email:"pedro.lima@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"13",codigo:"NAJ",nome:"Assessoria Jurídica",nomeCompleto:"NAJ - Assessoria Jurídica",ativo:!0,tipo:"assessoria",responsavel:{id:"13",nome:"Fernanda Martins",cargo:"Assessora Jurídica",email:"fernanda.martins@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}]}function fQ(t){return t.map(s=>({value:s.nomeCompleto,label:s.nomeCompleto,codigo:s.codigo,responsavel:s.responsavel}))}function pQ(t){return t.map(s=>({value:s.codigo,label:s.codigo,nomeCompleto:s.nomeCompleto}))}function Wj(){const[t,s]=m.useState([]),[a,r]=m.useState(!0),[n,o]=m.useState(null),i=m.useCallback(async()=>{try{r(!0),o(null);const f=await hQ();s(f)}catch(f){o(f instanceof Error?f.message:"Erro ao carregar gerências"),console.error("Erro no hook useGerencias:",f)}finally{r(!1)}},[]);m.useEffect(()=>{i()},[i]);const l=fQ(t),c=pQ(t),u=m.useCallback(f=>t.find(g=>g.id===f),[t]),d=m.useCallback(f=>t.find(g=>g.codigo===f),[t]),h=m.useCallback(f=>t.find(g=>g.nome===f||g.nomeCompleto===f||g.nome.toLowerCase().includes(f.toLowerCase())||g.nomeCompleto.toLowerCase().includes(f.toLowerCase())),[t]),x=m.useCallback(f=>t.filter(g=>g.tipo===f),[t]);return{gerencias:t,gerenciasOptions:l,gerenciasSimpleOptions:c,loading:a,error:n,refetch:i,getGerenciaById:u,getGerenciaByCodigo:d,getGerenciaByNome:h,getGerenciasByTipo:x}}function Fh({className:t,...s}){return e.jsx("div",{className:je("animate-pulse rounded-md bg-muted",t),...s})}function gQ({value:t,onValueChange:s,placeholder:a="Selecione a gerência",disabled:r=!1,required:n=!1,showResponsavel:o=!1,filterByTipo:i,className:l}){const{gerencias:c,gerenciasOptions:u,loading:d,error:h}=Wj(),x=i?u.filter(f=>{const g=c.find(p=>p.nomeCompleto===f.value);return(g==null?void 0:g.tipo)===i}):u;return d?e.jsx("div",{className:"space-y-2",children:e.jsx(Fh,{className:"h-10 w-full"})}):h?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsxs("span",{children:["Erro ao carregar gerências: ",h]})]}),e.jsx(Fh,{className:"h-10 w-full"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(rt,{value:t,onValueChange:s,disabled:r,children:[e.jsx(st,{className:l,children:e.jsx(nt,{placeholder:a})}),e.jsx(at,{children:x.map(f=>e.jsx(ve,{value:f.value,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:f.label}),o&&f.responsavel&&e.jsxs("span",{className:"text-xs text-gray-500",children:[f.responsavel.nome," - ",f.responsavel.cargo]})]})},f.value))})]}),n&&!t&&e.jsx("p",{className:"text-sm text-red-600",children:"Gerência responsável é obrigatória"})]})}const Op=[{value:"FileText",label:"Documento",icon:e.jsx($e,{className:"w-4 h-4"})},{value:"PenTool",label:"Assinatura",icon:e.jsx(Tt,{className:"w-4 h-4"})},{value:"Users",label:"Equipe",icon:e.jsx(qt,{className:"w-4 h-4"})},{value:"Search",label:"Análise",icon:e.jsx(ds,{className:"w-4 h-4"})},{value:"Shield",label:"Validação",icon:e.jsx(Ca,{className:"w-4 h-4"})},{value:"DollarSign",label:"Financeiro",icon:e.jsx(ah,{className:"w-4 h-4"})},{value:"Scale",label:"Jurídico",icon:e.jsx(xd,{className:"w-4 h-4"})},{value:"Upload",label:"Envio",icon:e.jsx(mt,{className:"w-4 h-4"})},{value:"User",label:"Responsável",icon:e.jsx(ht,{className:"w-4 h-4"})},{value:"Calendar",label:"Prazo",icon:e.jsx(wt,{className:"w-4 h-4"})},{value:"Building2",label:"Gerência",icon:e.jsx($s,{className:"w-4 h-4"})},{value:"CheckCircle",label:"Aprovação",icon:e.jsx(Re,{className:"w-4 h-4"})},{value:"Clock",label:"Aguardando",icon:e.jsx(Fe,{className:"w-4 h-4"})},{value:"Settings",label:"Configuração",icon:e.jsx(Ft,{className:"w-4 h-4"})}];function vQ({etapa:t,isOpen:s,onClose:a,onSave:r,isNovaEtapa:n=!1}){var d;const[o,i]=m.useState({id:0,nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:"",observacoes:"",bloqueiaProximas:!1,obrigatoria:!0,exigeAssinatura:!1,tipoIcone:"FileText"});m.useEffect(()=>{t?i({...t,bloqueiaProximas:t.bloqueiaProximas||!1,obrigatoria:t.obrigatoria!==!1,exigeAssinatura:t.exigeAssinatura||!1,tipoIcone:t.tipoIcone||"FileText"}):n&&i({id:Date.now(),nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:"",observacoes:"",bloqueiaProximas:!1,obrigatoria:!0,exigeAssinatura:!1,tipoIcone:"FileText"})},[t,n]);const l=()=>{if(!o.nome||!o.gerencia||!o.prazoPrevisao){alert("Por favor, preencha todos os campos obrigatórios.");return}r(o),a()},c=(h,x)=>{i(f=>({...f,[h]:x}))},u=()=>{const h=Op.find(x=>x.value===o.tipoIcone);return h?h.icon:e.jsx($e,{className:"w-4 h-4"})};return e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Qe,{children:e.jsxs(Xe,{className:"flex items-center gap-2",children:[u(),n?"Adicionar Nova Etapa":"Editar Etapa do Fluxo"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Título da Etapa *"}),e.jsx(De,{id:"nome",value:o.nome,onChange:h=>c("nome",h.target.value),placeholder:"Ex: Análise da Demanda"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"prazoPrevisao",children:"Prazo Previsto (dias úteis) *"}),e.jsx(De,{id:"prazoPrevisao",value:o.prazoPrevisao,onChange:h=>c("prazoPrevisao",h.target.value),placeholder:"Ex: 5 dias úteis"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nomeCompleto",children:"Descrição Completa"}),e.jsx(xt,{id:"nomeCompleto",value:o.nomeCompleto,onChange:h=>c("nomeCompleto",h.target.value),placeholder:"Descrição detalhada da etapa...",rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Responsabilidade"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"gerencia",children:"Gerência Responsável *"}),e.jsx(gQ,{value:o.gerencia,onValueChange:h=>c("gerencia",h),placeholder:"Selecione a gerência",required:!0,showResponsavel:!0})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"responsavel",children:"Responsável"}),e.jsx(De,{id:"responsavel",value:o.responsavel,onChange:h=>c("responsavel",h.target.value),placeholder:"Nome do responsável"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo do Responsável"}),e.jsx(De,{id:"cargo",value:o.cargo,onChange:h=>c("cargo",h.target.value),placeholder:"Ex: Gerente de Projetos"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações Visuais"}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"tipoIcone",children:"Ícone da Etapa"}),e.jsxs(rt,{value:o.tipoIcone,onValueChange:h=>c("tipoIcone",h),children:[e.jsx(st,{children:e.jsx(nt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[u(),e.jsx("span",{children:(d=Op.find(h=>h.value===o.tipoIcone))==null?void 0:d.label})]})})}),e.jsx(at,{children:Op.map(h=>e.jsx(ve,{value:h.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[h.icon,e.jsx("span",{children:h.label})]})},h.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regras da Etapa"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"obrigatoria",checked:o.obrigatoria,onCheckedChange:h=>c("obrigatoria",h)}),e.jsx(B,{htmlFor:"obrigatoria",className:"text-sm",children:"Etapa obrigatória"}),e.jsx(oe,{variant:"outline",className:"text-xs",children:"Recomendado"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"bloqueiaProximas",checked:o.bloqueiaProximas,onCheckedChange:h=>c("bloqueiaProximas",h)}),e.jsx(B,{htmlFor:"bloqueiaProximas",className:"text-sm",children:"Bloqueia as próximas etapas até ser concluída"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"exigeAssinatura",checked:o.exigeAssinatura,onCheckedChange:h=>c("exigeAssinatura",h)}),e.jsx(B,{htmlFor:"exigeAssinatura",className:"text-sm",children:"Exige assinatura digital"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacoes",children:"Observações Internas"}),e.jsx(xt,{id:"observacoes",value:o.observacoes,onChange:h=>c("observacoes",h.target.value),placeholder:"Observações sobre regras específicas, dependências, etc...",rows:3})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:a,children:"Cancelar"}),e.jsx(C,{onClick:l,children:n?"Adicionar Etapa":"Salvar Alterações"})]})]})})}const bQ=[{id:"consolidacao-demanda",nome:"Consolidação da Demanda",descricao:"Notificar setores com possível interesse em participar da demanda",icone:e.jsx(qt,{className:"w-4 h-4"}),template:{nome:"Consolidação da Demanda",nomeCompleto:"Consolidação da Demanda - Notificação e consolidação de setores interessados",status:"pendente",prazoPrevisao:"10 dias úteis",gerencia:"Gerência de Soluções e Projetos",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",observacoes:"Card opcional para notificar setores com possível interesse em participar da demanda",bloqueiaProximas:!1,obrigatoria:!1,exigeAssinatura:!1,tipoIcone:"Users"},categoria:"opcional"}];function jQ({etapas:t,onAdicionar:s,className:a=""}){const[r,n]=m.useState(!1),[o,i]=m.useState(t.length+1),[l,c]=m.useState(null),[u,d]=m.useState("card"),h=()=>{l?s(o,l):s(o),n(!1),i(t.length+1),c(null),d("posicao")},x=p=>{c(p),d("posicao")},f=()=>{d("card"),c(null)},g=()=>{const p=[];return p.push({value:1,label:"No início do fluxo",description:"Antes de todas as etapas"}),t.forEach((y,v)=>{p.push({value:v+2,label:`Após "${y.nome}"`,description:`Posição ${v+2}`})}),p};return e.jsxs(e.Fragment,{children:[e.jsxs(C,{onClick:()=>n(!0),className:`bg-blue-600 hover:bg-blue-700 text-white ${a}`,size:"lg",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Nova Etapa"]}),e.jsx(Ke,{open:r,onOpenChange:n,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsx(Qe,{children:e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"w-5 h-5"}),"Adicionar Nova Etapa"]})}),e.jsx("div",{className:"space-y-4",children:u==="card"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Escolha o tipo de etapa que deseja adicionar:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d("posicao"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Etapa Padrão"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Criar uma nova etapa personalizada"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Cards Opcionais"}),bQ.map(p=>e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>x(p),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:p.icone}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.nome}),e.jsx(oe,{variant:"outline",className:"text-xs",children:p.categoria==="opcional"?"Opcional":"Especial"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:p.descricao})]})]})},p.id))]})]})]}):e.jsxs(e.Fragment,{children:[l&&e.jsx("div",{className:"mb-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded flex items-center justify-center",children:l.icone}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:l.nome}),e.jsx("p",{className:"text-xs text-purple-600",children:l.descricao})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:f,className:"ml-auto text-purple-600 hover:text-purple-800",children:"Trocar"})]})}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Escolha onde inserir a ",l?"etapa":"nova etapa"," no fluxo do processo:"]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"posicao",children:"Posição no Fluxo"}),e.jsxs(rt,{value:o.toString(),onValueChange:p=>i(parseInt(p)),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione a posição"})}),e.jsx(at,{children:g().map(p=>e.jsx(ve,{value:p.value.toString(),children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.label}),e.jsx("div",{className:"text-xs text-gray-500",children:p.description})]})},p.value))})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Próximo passo:"})," Após confirmar a posição, você poderá configurar todos os detalhes da ",l?"etapa":"nova etapa"," (nome, gerência responsável, prazo, etc.)."]})})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(C,{onClick:h,children:"Continuar"})]})]})})]})}function yQ({isVisible:t,onCancelar:s,onSalvar:a,temAlteracoes:r,isLoading:n=!1}){const o=()=>{r&&!window.confirm("Você tem alterações não salvas. Tem certeza que deseja cancelar? Todas as alterações serão perdidas.")||s()};return e.jsx(ck,{children:t&&e.jsx(ms.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Modo de Edição Ativo"})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Alterações não salvas"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(C,{variant:"outline",onClick:o,disabled:n,className:"min-w-[100px]",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),e.jsx(C,{onClick:a,disabled:n||!r,className:"min-w-[140px] bg-blue-600 hover:bg-blue-700",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 border-t pt-3",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("span",{children:"• Arraste os cards para reordenar"}),e.jsx("span",{children:"• Clique no ícone de edição para modificar uma etapa"}),e.jsx("span",{children:'• Use o botão "Nova Etapa" para adicionar etapas'}),e.jsx("span",{children:"• Etapas já iniciadas não podem ser excluídas"})]})})]})})})}const NQ=Kr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ia=m.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:je(NQ({variant:s}),t),...a}));ia.displayName="Alert";const wQ=m.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:je("mb-1 font-medium leading-none tracking-tight",t),...s}));wQ.displayName="AlertTitle";const la=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:je("text-sm [&_p]:leading-relaxed",t),...s}));la.displayName="AlertDescription";function mT({label:t}){return e.jsxs("div",{className:"relative my-3",children:[e.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex items-center",children:e.jsx("span",{className:"mx-4 h-[1px] w-full bg-slate-200/80"})}),e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"px-2.5 py-0.5 text-xs rounded-full border bg-white text-slate-600 shadow-sm",children:t})})]})}const CQ=[{id:"1",initials:"LM",name:"Lucas Moreira Brito",role:"Gerente de Recursos Humanos",message:"DFD enviado para análise técnica da GSP.",datetime:"2025-01-15T07:00:00Z",isCurrentUser:!1},{id:"2",initials:"MS",name:"Maria Santos",role:"Gerente de Projetos",message:"Revisão concluída. Documento aprovado para próxima etapa. @Lucas Moreira Brito, pode prosseguir com a próxima fase.",datetime:"2025-01-15T10:30:00Z",isCurrentUser:!1},{id:"3",initials:"PL",name:"Pedro Lima",role:"Coordenador",message:"Solicitando esclarecimentos sobre os requisitos técnicos. Anexei o documento de referência.",datetime:"2025-01-14T14:15:00Z",isCurrentUser:!1,attachments:[{id:"att1",name:"requisitos-tecnicos.pdf",url:"#"}]},{id:"4",initials:"VC",name:"Você",role:"Analista",message:"Entendido, vou revisar o documento e dar continuidade ao processo.",datetime:"2025-01-15T16:45:00Z",isCurrentUser:!0}];function fa({processoId:t,etapaId:s,cardId:a,title:r="Comentários",className:n=""}){const[o,i]=m.useState(CQ),[l,c]=m.useState(!1),[u,d]=m.useState(""),h=m.useRef(null),x=m.useRef(null),{toast:f}=Kt();m.useEffect(()=>{h.current&&(h.current.scrollTop=0)},[o]);const g=z=>{const T=["bg-blue-500","bg-purple-500","bg-green-500","bg-orange-500","bg-indigo-500","bg-teal-500","bg-rose-500","bg-amber-500"],k=z.split("").reduce((L,U)=>L+U.charCodeAt(0),0);return T[k%T.length]},p=z=>new Date(z).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),y=z=>{const T={};return z.sort((k,L)=>new Date(L.datetime).getTime()-new Date(k.datetime).getTime()).forEach(k=>{const L=p(k.datetime);T[L]||(T[L]=[]),T[L].push(k)}),Object.entries(T).sort(([k],[L])=>{const[U,Y,K]=k.split("/").map(Number),[F,O,S]=L.split("/").map(Number),$=new Date(K,Y-1,U);return new Date(S,O-1,F).getTime()-$.getTime()}).map(([k,L])=>({date:k,comments:L}))},v=z=>z.replace(/@([A-Za-z\s]+)/g,'<span class="text-indigo-600 font-medium">@$1</span>'),b=z=>{d(z.target.value);const T=z.target;T.style.height="auto",T.style.height=Math.min(T.scrollHeight,200)+"px"},j=async()=>{if(!u.trim()){f({title:"Comentário vazio",description:"Digite um comentário antes de enviar.",variant:"destructive"});return}const z={id:`temp-${Date.now()}`,initials:"VC",name:"Você",role:"Analista",message:u,datetime:new Date().toISOString(),isCurrentUser:!0,isOptimistic:!0};i(T=>[...T,z]),d(""),c(!0),x.current&&(x.current.style.height="auto");try{await new Promise(k=>setTimeout(k,1500));const T={...z,id:Date.now().toString(),isOptimistic:!1};i(k=>k.map(L=>L.id===z.id?T:L)),f({title:"Comentário enviado",description:"Seu comentário foi adicionado com sucesso."})}catch{i(k=>k.filter(L=>L.id!==z.id)),d(z.message),f({title:"Erro ao enviar",description:"Não foi possível enviar o comentário. Tente novamente.",variant:"destructive"})}finally{c(!1)}},w=z=>{var T;d(`@${z.name} `),(T=x.current)==null||T.focus()},N=z=>{navigator.clipboard.writeText(z.message),f({title:"Copiado",description:"Texto do comentário copiado para a área de transferência."})},E=z=>{i(T=>T.filter(k=>k.id!==z)),f({title:"Comentário excluído",description:"O comentário foi removido com sucesso."})},A=()=>{var z;d(T=>T+"@"),(z=x.current)==null||z.focus()},P=y(o);return e.jsxs("div",{className:`${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(no,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Comentários"}),e.jsx(oe,{variant:"secondary",className:"ml-auto",children:o.filter(z=>!z.isOptimistic).length})]}),e.jsx("div",{className:"border-b border-slate-200 mt-2 mb-4"}),e.jsx("div",{ref:h,className:"max-h-[420px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-300 hover:scrollbar-thumb-slate-400 mb-6","aria-live":"polite",children:P.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-slate-100",children:e.jsx(no,{className:"w-6 h-6 text-slate-400"})}),e.jsx("div",{className:"text-sm text-slate-500",children:"Ainda não há comentários neste card"})]})}):e.jsx("div",{className:"space-y-4",children:P.map((z,T)=>e.jsxs("div",{children:[e.jsx(mT,{label:z.date}),e.jsx("div",{className:"space-y-4",children:z.comments.map(k=>e.jsxs("div",{className:"group grid grid-cols-[40px_1fr] gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold ${g(k.name)} ${k.isOptimistic?"opacity-50":""}`,children:k.initials})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"font-semibold text-slate-900 text-sm truncate",children:k.name}),k.role&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-300 hidden sm:inline",children:"•"}),e.jsx("span",{className:"text-xs text-slate-500 truncate",children:k.role})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 flex-shrink-0",children:[e.jsx(Fe,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{children:new Date(k.datetime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:`p-3 rounded-lg mt-1 relative ${k.isCurrentUser?"bg-indigo-50 border border-indigo-200":"bg-slate-50 border border-slate-200"} ${k.isOptimistic?"opacity-70":""}`,children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Rt,{children:e.jsxs("div",{className:"flex items-center gap-0.5 bg-white/90 backdrop-blur-sm border border-slate-200 rounded-md p-0.5 shadow-sm",children:[e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("button",{onClick:()=>w(k),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Responder",children:e.jsx(gF,{className:"w-3.5 h-3.5"})})}),e.jsx(St,{children:"Responder"})]}),e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("button",{onClick:()=>N(k),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Copiar",children:e.jsx(sh,{className:"w-3.5 h-3.5"})})}),e.jsx(St,{children:"Copiar"})]}),k.isCurrentUser&&!k.isOptimistic&&e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("button",{onClick:()=>E(k.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-600 transition-colors","aria-label":"Excluir",children:e.jsx(It,{className:"w-3.5 h-3.5"})})}),e.jsx(St,{children:"Excluir"})]})]})})}),e.jsx("div",{className:"text-sm text-slate-700 leading-relaxed break-words pr-8",dangerouslySetInnerHTML:{__html:v(k.message)}}),k.isOptimistic&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-xs text-slate-400",children:[e.jsx(hd,{className:"w-3 h-3 animate-spin flex-shrink-0"}),e.jsx("span",{children:"Enviando..."})]}),k.attachments&&k.attachments.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 space-y-1",children:k.attachments.map(L=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(vl,{className:"w-3 h-3 text-slate-400 flex-shrink-0"}),e.jsx("a",{href:L.url,className:"text-indigo-600 hover:text-indigo-700 underline truncate",target:"_blank",rel:"noopener noreferrer",children:L.name})]},L.id))})]})]})]},k.id))})]},z.date))})}),e.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(cF,{className:"w-4 h-4 text-indigo-600"}),e.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Adicionar Comentário"})]}),e.jsx("div",{className:"flex items-center gap-1 text-slate-600 mb-3",children:e.jsxs(Rt,{children:[e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("button",{onClick:A,className:"p-2 hover:bg-slate-100 rounded-md transition-colors flex items-center justify-center","aria-label":"Inserir menção",children:e.jsx(zl,{className:"w-4 h-4"})})}),e.jsx(St,{children:"Inserir menção @"})]}),e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-md opacity-50 cursor-not-allowed transition-colors flex items-center justify-center","aria-label":"Anexar arquivo",disabled:!0,children:e.jsx(vl,{className:"w-4 h-4"})})}),e.jsx(St,{children:"Anexar arquivo (em breve)"})]})]})}),e.jsx("div",{className:"relative mb-3",children:e.jsx("textarea",{ref:x,value:u,onChange:b,placeholder:"Escreva um comentário… use @ para mencionar usuários",className:"w-full min-h-[44px] max-h-[200px] resize-y border border-slate-300 rounded-lg p-3 text-sm leading-relaxed focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",onKeyDown:z=>{(z.ctrlKey||z.metaKey)&&z.key==="Enter"&&(z.preventDefault(),j())}})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{onClick:j,disabled:!u.trim()||l,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white rounded-lg px-4 py-2 font-medium shadow-sm transition-all duration-200 hover:shadow-md flex items-center gap-2 text-sm",children:l?e.jsxs(e.Fragment,{children:[e.jsx(hd,{className:"w-4 h-4 animate-spin"}),"Enviando"]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"w-4 h-4"}),"Adicionar"]})})})]})]})}var SQ="Separator",h2="horizontal",EQ=["horizontal","vertical"],hT=m.forwardRef((t,s)=>{const{decorative:a,orientation:r=h2,...n}=t,o=PQ(r)?r:h2,l=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(Ve.div,{"data-orientation":o,...l,...n,ref:s})});hT.displayName=SQ;function PQ(t){return EQ.includes(t)}var xT=hT;const qj=m.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(xT,{ref:n,decorative:a,orientation:s,className:je("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));qj.displayName=xT.displayName;const AQ=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",email:"lara.fraguas@hospital.gov.br",cargo:"Supervisão contratual",gerencia:"Comissão de Implantação",ativo:!0},{id:"2",nome:"Diran Rodrigues de Souza Filho",email:"diran.rodrigues@hospital.gov.br",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva",ativo:!0},{id:"3",nome:"Georgia Guimaraes Pereira",email:"georgia.guimaraes@hospital.gov.br",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",ativo:!0},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",email:"yasmin.pissolati@hospital.gov.br",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",ativo:!0},{id:"5",nome:"Guilherme de Carvalho Silva",email:"guilherme.carvalho@hospital.gov.br",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística",ativo:!0},{id:"6",nome:"Lucas Moreira Brito",email:"lucas.moreira@hospital.gov.br",cargo:"GERENTE DE RH",gerencia:"GRH - Gerência de Recursos Humanos",ativo:!0},{id:"7",nome:"Andressa Sterfany Santos da Silva",email:"andressa.sterfany@hospital.gov.br",cargo:"Assessora Técnica de Saúde",gerencia:"GUE - Gerência de Urgência e Emergência",ativo:!0},{id:"8",nome:"Leticia Bonfim Guilherme",email:"leticia.bonfim@hospital.gov.br",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos",ativo:!0},{id:"9",nome:"Dallas Kelson Francisco de Souza",email:"dallas.kelson@hospital.gov.br",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira e Contábil",ativo:!0},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",email:"gabriel.radamesis@hospital.gov.br",cargo:"Assessor Jurídico",gerencia:"NAJ - Assessoria Jurídica",ativo:!0}],Ku=t=>t.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2),DQ=async(t,s=1,a=20,r=[])=>{await new Promise(d=>setTimeout(d,300));const n=r.map(d=>d.id);let o=AQ.filter(d=>d.ativo&&!n.includes(d.id)&&(d.nome.toLowerCase().includes(t.toLowerCase())||d.email.toLowerCase().includes(t.toLowerCase())||d.cargo.toLowerCase().includes(t.toLowerCase())||d.gerencia.toLowerCase().includes(t.toLowerCase())));const i=o.length,l=Math.ceil(i/a),c=(s-1)*a,u=c+a;return{usuarios:o.slice(c,u),total:i,page:s,totalPages:l}},kQ=async(t,s)=>{await new Promise(a=>setTimeout(a,500)),console.log("Salvando responsável:",{processoId:t,userId:s}),console.log("Registrando auditoria:",{processoId:t,acao:"DFD_ADD_RESPONSAVEL",de:null,para:s})},TQ=async(t,s)=>{await new Promise(a=>setTimeout(a,500)),console.log("Removendo responsável:",{processoId:t,userId:s}),console.log("Registrando auditoria:",{processoId:t,acao:"DFD_REMOVE_RESPONSAVEL",de:s,para:null})};function lf({value:t=[],onChange:s,disabled:a=!1,canEdit:r=!0,processoId:n,className:o="",maxResponsaveis:i,label:l="Responsáveis pela Elaboração *"}){const{toast:c}=Kt();Dt();const[u,d]=m.useState(!1),[h,x]=m.useState(""),[f,g]=m.useState([]),[p,y]=m.useState([]),[v,b]=m.useState(!1),[j,w]=m.useState(!1),[N,E]=m.useState(0),[A,P]=m.useState(!1),z=m.useRef(null),T=m.useRef(null),k=Array.isArray(t)?t:[];m.useEffect(()=>{const H=setTimeout(()=>{u&&h.trim()?L():u&&!h.trim()&&(g([]),P(!1))},250);return()=>clearTimeout(H)},[h,u]);const L=async()=>{b(!0);try{const J=(await DQ(h,1,20,k)).usuarios.filter(re=>!k.some(le=>le.id===re.id)&&!p.some(le=>le.id===re.id));g(J),P(J.length>0),E(0)}catch{c({title:"Erro",description:"Erro ao buscar usuários. Tente novamente.",variant:"destructive"}),P(!1)}finally{b(!1)}},U=()=>{a||!r||typeof i=="number"&&k.length>=i||(x(""),y([]),g([]),E(0),P(!1),d(!0),setTimeout(()=>{var H;(H=z.current)==null||H.focus()},100))},Y=()=>{d(!1),x(""),y([]),g([]),E(0),P(!1)},K=H=>{y(J=>J.some(re=>re.id===H.id)?J:[...J,H]),x(""),P(!1),g(J=>J.filter(re=>re.id!==H.id))},F=H=>{y(J=>J.filter(re=>re.id!==H)),h.trim()&&setTimeout(()=>L(),100)},O=async()=>{if(p.length!==0){w(!0);try{const H=typeof i=="number"?Math.max(0,i-k.length):p.length,J=p.filter(we=>!k.some(ke=>ke.id===we.id)).slice(0,H);if(J.length===0){c({title:"Nada adicionado",description:typeof i=="number"&&H===0?"Limite máximo já atingido.":"Todos os selecionados já estavam na lista.",variant:typeof i=="number"&&H===0?"destructive":void 0}),Y();return}await Promise.all(J.map(we=>kQ(n,we.id)));const re=J.map(we=>({id:we.id,nome:we.nome,cargo:we.cargo,gerencia:we.gerencia,avatarUrl:we.avatarUrl})),le=[...k,...re];s(le),c({title:"Responsáveis adicionados",description:`${J.length} responsável(is) adicionado(s) com sucesso.`}),Y()}catch{c({title:"Erro",description:"Erro ao adicionar responsáveis. Tente novamente.",variant:"destructive"})}finally{w(!1)}}},S=async(H,J)=>{try{await TQ(n,H);const re=k.filter(le=>le.id!==H);s(re.length>0?re:null),c({title:"Responsável removido",description:`${J} foi removido dos responsáveis.`})}catch{c({title:"Erro",description:"Erro ao remover responsável. Tente novamente.",variant:"destructive"})}},$=m.useCallback(H=>{if(!(!u||!A))switch(H.key){case"ArrowDown":H.preventDefault(),E(J=>J<f.length-1?J+1:0);break;case"ArrowUp":H.preventDefault(),E(J=>J>0?J-1:f.length-1);break;case"Enter":H.preventDefault(),f[N]&&K(f[N]);break;case"Escape":H.preventDefault(),P(!1);break}},[u,A,f,N]);return m.useEffect(()=>(document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)),[$]),m.useEffect(()=>{if(T.current&&N>=0&&f.length>0){const H=T.current.children[N];H&&H.scrollIntoView({block:"nearest"})}},[N,f]),!r||a?!k||k.length===0?e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg bg-gray-50 ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(ht,{className:"w-4 h-4"}),l]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum responsável definido"})]}):e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-3",children:[e.jsx(ht,{className:"w-4 h-4"}),l," (",k.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-[220px] overflow-auto pr-1",children:k.map((H,J)=>e.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg border border-blue-200 bg-blue-50",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:H.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Ku(H.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 truncate",children:H.nome}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"text-gray-700 truncate",children:H.cargo}),e.jsx(oe,{variant:"secondary",className:"ml-2 text-[10px] bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0",children:H.gerencia})]})]},`${H.id}-${J}`))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(ht,{className:"w-4 h-4"}),l," (",k.length,"/",i,")"]}),k.length>0?e.jsx("div",{className:"flex flex-col gap-2 max-h-[220px] overflow-auto pr-1",children:k.map((H,J)=>e.jsx("div",{className:"group relative p-2.5 rounded-lg border border-blue-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:H.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Ku(H.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 truncate",children:H.nome}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"text-gray-700 truncate",children:H.cargo}),e.jsx(oe,{variant:"secondary",className:"ml-2 text-[10px] bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0",children:H.gerencia})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>S(H.id,H.nome),disabled:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 hover:border-red-300 flex-shrink-0",children:e.jsx(Yt,{className:"w-4 h-4"})})]})},`${H.id}-${J}`))}):e.jsxs("div",{className:"text-center py-8 px-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"Nenhum responsável definido"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Adicione pelo menos um responsável pela elaboração"})]}),(typeof i!="number"||k.length<i)&&e.jsxs(C,{variant:"outline",onClick:U,disabled:a,className:"w-full justify-center text-blue-600 hover:text-blue-700 border-blue-200 hover:border-blue-300 bg-blue-50 hover:bg-blue-100 mt-4 py-3 rounded-xl transition-all duration-200",children:[e.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Adicionar Responsável"]}),typeof i=="number"&&k.length>=i&&e.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["Limite máximo de ",i," responsáveis atingido"]})]}),e.jsx(Ke,{open:u,onOpenChange:d,children:e.jsxs(Ye,{className:"sm:max-w-[600px] h-[650px] max-h-[90vh] flex flex-col",children:[e.jsxs(Qe,{className:"flex-shrink-0",children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Responsável pela Elaboração"]}),e.jsx(tt,{children:"Busque e selecione usuários para adicionar como responsáveis pela elaboração do DFD."})]}),e.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[e.jsxs("div",{className:"space-y-2 flex-shrink-0",children:[e.jsx(B,{htmlFor:"search",children:"Buscar usuário"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{ref:z,id:"search",placeholder:"Buscar por nome, e-mail, cargo ou gerência...",value:h,onChange:H=>x(H.target.value),onFocus:()=>h.trim()&&f.length>0&&P(!0),className:"pl-10"}),A&&e.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg max-h-80 overflow-y-auto",children:v?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(hd,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Buscando usuários..."})]}):f.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:h.trim()?`Nenhum resultado para "${h}"`:"Digite para buscar usuários"}):e.jsx("div",{ref:T,className:"p-1",children:f.map((H,J)=>e.jsxs("div",{className:`p-3 hover:bg-slate-50 cursor-pointer flex gap-3 items-start rounded-lg transition-colors ${J===N?"bg-slate-100":""}`,onClick:()=>K(H),role:"option","aria-selected":J===N,children:[e.jsxs(hr,{className:"w-10 h-10 flex-shrink-0",children:[e.jsx(xr,{src:H.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-sm font-medium",children:Ku(H.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:H.nome}),e.jsx("div",{className:"text-sm text-gray-600 truncate",children:H.cargo}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:H.email}),e.jsx(oe,{variant:"secondary",className:"text-xs mt-1",children:H.gerencia})]})]},H.id))})})]})]}),p.length>0&&e.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(fd,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Selecionados: ",p.length]}),e.jsxs(oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:[p.length," pessoa",p.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:p.map(H=>e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 p-2",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:H.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Ku(H.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate text-sm",children:H.nome}),e.jsx("div",{className:"text-xs text-gray-600 truncate",children:H.cargo})]}),e.jsx("button",{onClick:()=>F(H.id),className:"p-1 hover:bg-red-50 rounded-full text-red-400 hover:text-red-600 transition-colors flex-shrink-0","aria-label":"Remover seleção",children:e.jsx(Yt,{className:"w-3 h-3"})})]},H.id))})]})]}),e.jsx(qj,{className:"flex-shrink-0"}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 flex-shrink-0",children:[e.jsx(C,{variant:"outline",onClick:Y,disabled:j,children:"Cancelar"}),e.jsx(C,{onClick:O,disabled:p.length===0||j,className:"min-w-[120px]",children:j?e.jsxs(e.Fragment,{children:[e.jsx(hd,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):"Adicionar Selecionados"})]})]})})]})}const RQ=[{key:"versao",label:"Versão"},{key:"aprovado",label:"Aprovado"},{key:"devolvido",label:"Devolvido"},{key:"anexo",label:"Anexo"},{key:"comentario",label:"Comentário"},{key:"assinado",label:"Assinado"},{key:"rejeitado",label:"Rejeitado"}];function MQ({q:t,onQ:s,selected:a,onToggleStatus:r,period:n,onPeriod:o,onClear:i,total:l,filtered:c}){return e.jsxs("div",{className:"px-3.5 pt-2 pb-3 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(De,{placeholder:"Buscar por título ou autor...",value:t,onChange:u=>s(u.target.value),className:"h-9 max-w-[360px]"}),t&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs border rounded-md px-2 py-1 bg-slate-50 text-slate-700",children:['"',t,'"',e.jsx("button",{"aria-label":"Limpar busca",className:"text-slate-500 hover:text-slate-700",onClick:()=>s(""),children:e.jsx(Yt,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[["today","7d","30d","all"].map(u=>e.jsx(C,{size:"sm",variant:n===u?"secondary":"outline",onClick:()=>o(u),className:"h-8 px-2.5 text-xs",children:u==="today"?"Hoje":u==="7d"?"7 dias":u==="30d"?"30 dias":"Todos"},u)),e.jsx("div",{className:"mx-1 h-6 w-px bg-slate-200"}),e.jsxs("span",{className:"text-xs text-slate-600 whitespace-nowrap",children:[c," de ",l]}),e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 text-slate-600",onClick:i,children:"Limpar"})]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:RQ.map(u=>{const d=a.includes(u.key);return e.jsx(C,{size:"xs",variant:d?"secondary":"outline",className:"h-6 px-2 text-[11px]",onClick:()=>r(u.key),children:u.label},u.key)})}),(a.length>0||t)&&e.jsxs("div",{className:"text-[11px] text-slate-500",children:[a.length>0&&e.jsxs("span",{children:["Filtrando por status: ",a.length," selecionado(s)."]}),t&&e.jsxs("span",{className:"ml-2",children:['Busca: "',t,'"']})]})]})}function IQ(t){const s=new Map;for(const a of t){const r=new Date(a.createdAt),n=r.toISOString().slice(0,10),o=r.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});s.has(n)||s.set(n,{key:n,label:o,items:[]}),s.get(n).items.push(a)}return[...s.values()].sort((a,r)=>r.key.localeCompare(a.key)).map(a=>({...a,items:a.items.sort((r,n)=>+new Date(n.createdAt)-+new Date(r.createdAt))}))}const OQ={aprovado:{badge:"border-green-300 text-green-700 bg-green-50",pin:"border-green-300",icon:ks,iconClass:"text-green-600"},devolvido:{badge:"border-red-300 text-red-700 bg-red-50",pin:"border-red-300",icon:qe,iconClass:"text-red-600"},versao:{badge:"border-blue-300 text-blue-700 bg-blue-50",pin:"border-blue-300",icon:$e,iconClass:"text-blue-600"},anexo:{badge:"border-slate-300 text-slate-700 bg-slate-50",pin:"border-slate-300",icon:vl,iconClass:"text-slate-700"},comentario:{badge:"border-slate-300 text-slate-700 bg-white",pin:"border-slate-300",icon:no,iconClass:"text-indigo-600"},assinado:{badge:"border-emerald-300 text-emerald-700 bg-emerald-50",pin:"border-emerald-300",icon:si,iconClass:"text-emerald-600"},rejeitado:{badge:"border-rose-300 text-rose-700 bg-rose-50",pin:"border-rose-300",icon:qe,iconClass:"text-rose-600"}},zQ=t=>{switch(t){case"versao":return"Versão";case"aprovado":return"Aprovado";case"devolvido":return"Devolvido";case"anexo":return"Anexo";case"comentario":return"Comentário";case"assinado":return"Assinado";case"rejeitado":return"Rejeitado";default:return t}};function FQ({item:t}){var r,n;const s=OQ[t.status],a=s.icon;return e.jsxs("li",{className:"relative pl-10",children:[e.jsx("span",{className:"pointer-events-none absolute left-5 top-0 bottom-0 w-[2px] bg-slate-200 z-0"}),e.jsx("span",{className:`absolute left-2.5 top-3 h-5 w-5 rounded-full border border-slate-300 bg-white flex items-center justify-center shadow-sm z-10 ${s.pin||""}`,children:e.jsx(a,{className:`h-3.5 w-3.5 ${s.iconClass}`})}),e.jsx("span",{className:"absolute left-5 top-5 w-4 h-[2px] bg-slate-200"}),e.jsxs("div",{className:"ml-9 rounded-xl border bg-white p-3 hover:shadow-md transition-shadow focus-within:ring-2 ring-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-slate-900 truncate flex-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 whitespace-nowrap",children:[e.jsx(Fe,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-600",children:[e.jsxs(hr,{className:"h-4 w-4",children:[e.jsx(xr,{src:t.author.avatarUrl}),e.jsx(fr,{children:((r=t.author.name)==null?void 0:r[0])??"U"})]}),e.jsx("span",{className:"truncate",children:t.author.name}),e.jsx(oe,{variant:"outline",className:`h-5 px-1.5 ${s.badge}`,children:zQ(t.status)})]}),t.description&&e.jsx("p",{className:"mt-2 text-[13px] leading-relaxed text-slate-700",children:t.description}),!!((n=t.attachments)!=null&&n.length)&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.attachments.map(o=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[11px] rounded-md border px-1.5 py-0.5",children:[e.jsx(vl,{className:"h-3 w-3"})," ",o.name,o.size?` • ${o.size}`:""]},o.name))})]})]})}function Do({data:t}){const[s,a]=m.useState(""),[r,n]=m.useState([]),[o,i]=m.useState("all"),l=m.useMemo(()=>{const d=new Date,h=o==="today"?new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime():o==="7d"?d.getTime()-7*864e5:o==="30d"?d.getTime()-30*864e5:null;return t.filter(x=>{const f=new Date(x.createdAt).getTime();if(h&&f<h||r.length&&!r.includes(x.status))return!1;if(s){const g=s.toLowerCase();if(!x.title.toLowerCase().includes(g)&&!x.author.name.toLowerCase().includes(g))return!1}return!0})},[t,s,r,o]),c=m.useMemo(()=>IQ(l),[l]),u=d=>n(h=>h.includes(d)?h.filter(x=>x!==d):[...h,d]);return e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Kz,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Timeline"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Histórico"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx(MQ,{q:s,onQ:a,selected:r,onToggleStatus:u,period:o,onPeriod:i,onClear:()=>{a(""),n([]),i("all")},total:t.length,filtered:l.length}),e.jsx("div",{className:"pb-3 relative",children:c.length>0?e.jsx("div",{className:"max-h-[480px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-300 hover:scrollbar-thumb-slate-400",children:c.map(d=>e.jsxs("section",{children:[e.jsx(mT,{label:d.label}),e.jsx("ul",{className:"space-y-3",children:d.items.map(h=>e.jsx(FQ,{item:h},h.id))})]},d.key))}):e.jsx("div",{className:"px-3.5 py-6 text-center text-slate-500 text-sm",children:"Nenhum evento com os filtros selecionados."})})]})}function _Q(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...g}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,LQ(n,...s)]}function LQ(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Yj="Progress",Kj=100,[$Q,pae]=_Q(Yj),[VQ,GQ]=$Q(Yj),fT=m.forwardRef((t,s)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:o=BQ,...i}=t;(n||n===0)&&!x2(n)&&console.error(UQ(`${n}`,"Progress"));const l=x2(n)?n:Kj;r!==null&&!f2(r,l)&&console.error(HQ(`${r}`,"Progress"));const c=f2(r,l)?r:null,u=_h(c)?o(c,l):void 0;return e.jsx(VQ,{scope:a,value:c,max:l,children:e.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_h(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vT(c,l),"data-value":c??void 0,"data-max":l,...i,ref:s})})});fT.displayName=Yj;var pT="ProgressIndicator",gT=m.forwardRef((t,s)=>{const{__scopeProgress:a,...r}=t,n=GQ(pT,a);return e.jsx(Ve.div,{"data-state":vT(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});gT.displayName=pT;function BQ(t,s){return`${Math.round(t/s*100)}%`}function vT(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function _h(t){return typeof t=="number"}function x2(t){return _h(t)&&!isNaN(t)&&t>0}function f2(t,s){return _h(t)&&!isNaN(t)&&t<=s&&t>=0}function UQ(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Kj}\`.`}function HQ(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Kj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bT=fT,WQ=gT;const Fa=m.forwardRef(({className:t,value:s,...a},r)=>e.jsx(bT,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(WQ,{className:"h-full w-full flex-1 bg-green-600 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Fa.displayName=bT.displayName;const p2=(t,s,a=[])=>{const r=new Date(t),n=new Date(s);let o=0;const i=new Date(r);for(;i<=n;){const l=i.getDay(),c=i.toISOString().split("T")[0];l>=1&&l<=5&&!a.includes(c)&&o++,i.setDate(i.getDate()+1)}return o},g2=[{id:"v1",numeroVersao:1,status:"enviada_para_analise",autorId:"user1",autorNome:"Lucas Moreira Brito",autorCargo:"Analista de Projetos",autorGerencia:"GSP - Gerência de Soluções e Projetos",autorEmail:"lucas.brito@hospital.gov.br",criadoEm:"2025-01-15T14:30:00Z",atualizadoEm:"2025-01-18T16:45:00Z",enviadoParaAnaliseEm:"2025-01-18T16:45:00Z",prazoDiasUteis:7,prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,documentoUrl:"#",documentoNome:"DFD_V1_LucasMoreiraBrito.pdf",payload:{objeto:"Contratação de serviços de limpeza hospitalar para modernização das instalações",areaSetorDemandante:"GRH - Gerência de Recursos Humanos",responsaveis:[{id:"user1",nome:"Lucas Moreira Brito",cargo:"Analista de Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"}],dataElaboracao:"2025-01-15",numeroDFD:"DFD-2025-001",prioridade:"MEDIO"}}],qQ=[{id:"anexo1",nome:"Documento_Referencia.pdf",tamanhoBytes:1024e3,mimeType:"application/pdf",criadoEm:"2025-01-15T10:30:00Z",autorId:"user1",autorNome:"Lucas Moreira Brito",versaoId:"v1",urlDownload:"#"}];function YQ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var X,me;const{user:l}=Dt(),{toast:c}=Kt();m.useMemo(()=>["Diran Rodrigues de Souza Filho","Yasmin Pissolati Mattos Bretz","Lucas Moreira Brito"].includes((l==null?void 0:l.nome)||""),[l==null?void 0:l.nome]);const[u,d]=m.useState(g2),[h,x]=m.useState(g2[0]),[f,g]=m.useState(h.payload),[p,y]=m.useState(qQ),[v,b]=m.useState("desc"),[j,w]=m.useState(!1),[N,E]=m.useState({});m.useState(!1);const A=m.useCallback(V=>{console.log("Salvando responsáveis:",V),g(ie=>(console.log("Atualizando formData:",{prev:ie.responsaveis,novos:V}),{...ie,responsaveis:V}))},[]),[P,z]=m.useState(null),[T,k]=m.useState(!1),[L,U]=m.useState(!1),[Y,K]=m.useState(""),[F,O]=m.useState(!0),[S,$]=m.useState(null),H=m.useRef(null),J=(V,ie)=>{if(!V||!ie)return!1;const ce=Et=>Et.toLowerCase().replace(/[-\s]/g,"").trim(),Le=ce(V),Ue=ce(ie);if(Le===Ue)return!0;const ut={grh:["gerenciaderecursoshumanos","grh","rh","recursoshumanos"],gsp:["gerenciadesolucoeseprojetos","gsp","solucoeseprojetos"],gsl:["gerenciadesuprimentoselogistica","gsl","suprimentoselogistica"],gue:["gerenciadeurgenciaeemergencia","gue","urgenciaeemergencia"],glc:["gerenciadelicitacoesecontratos","glc","licitacoesecontratos"],gfc:["gerenciafinanceiraecontabil","gfc","financeiraecontabil"],naj:["assessoriajuridica","naj","juridica"],ci:["comissaodeimplantacao","ci","implantacao"],se:["secretariaexecutiva","se","executiva"],ouv:["ouvidoria","ouv"]};for(const[Et,ns]of Object.entries(ut))if(ns.includes(Le)&&ns.includes(Ue))return!0;return!1},re={podeEditar:!S,podeCriarNovaVersao:le()&&!S,podeUploadAnexo:(J((l==null?void 0:l.gerencia)||"",i||"")||((X=l==null?void 0:l.gerencia)==null?void 0:X.includes("GSP"))||!1)&&!S,podeRemoverAnexo:(J((l==null?void 0:l.gerencia)||"",i||"")||((me=l==null?void 0:l.gerencia)==null?void 0:me.includes("GSP"))||!1)&&!S,podeConcluirEtapa:ke()};function le(){return h?["finalizada","enviada_para_analise","aprovada"].includes(h.status):!1}function we(){return f.objeto.trim()!==""&&f.areaSetorDemandante.trim()!==""&&f.responsaveis&&f.responsaveis.length>0}function ke(){if(!((l==null?void 0:l.gerencia)&&(J(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const ie=u.some(Le=>Le.status!=="rascunho");if(!ie)return!1;const ce=we();return ie&&ce}function he(){return(l==null?void 0:l.gerencia)&&(J(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))}const ae=async()=>{k(!0);try{const V={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(V),d(ie=>ie.map(ce=>ce.id===V.id?V:ce)),c({title:"Versão salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar versão.",variant:"destructive"})}finally{k(!1)}},be=async()=>{if(!we()){c({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios antes de enviar para análise.",variant:"destructive"});return}k(!0);try{const V=new Date(h.criadoEm),ie=new Date,ce=p2(V.toISOString(),ie.toISOString()),Le={...h,status:"enviada_para_analise",enviadoParaAnaliseEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:ce,payload:f};x(Le),d(Ue=>Ue.map(ut=>ut.id===Le.id?Le:ut)),c({title:"Enviado para análise",description:"DFD enviado para análise técnica com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para análise.",variant:"destructive"})}finally{k(!1)}},xe=async()=>{if(le()){k(!0);try{const V=Math.max(...u.map(ce=>ce.numeroVersao))+1,ie={id:`v${V}`,numeroVersao:V,status:"rascunho",autorId:(l==null?void 0:l._id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usuário Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:7,prazoInicialDiasUteis:7,payload:{...h.payload,objeto:""}};d(ce=>[ie,...ce]),x(ie),g(ie.payload),E(ce=>({...ce,[ie.id]:!0})),c({title:"Nova versão criada",description:`Versão ${V} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova versão.",variant:"destructive"})}finally{k(!1)}}},ne=V=>{if(V.prazoInicialDiasUteis===void 0)return null;const ie=V.prazoCumpridoDiasUteis??0;return(V.prazoInicialDiasUteis||0)-ie},Ae=V=>V===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:V<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:V<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"};m.useEffect(()=>{u.length>0&&E(V=>{const ie={...V};return u.forEach((ce,Le)=>{ie[ce.id]===void 0&&(ie[ce.id]=Le===0)}),ie})},[u]);const ye=()=>{U(!0)},Be=async()=>{k(!0);try{const V={usuarioId:(l==null?void 0:l._id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usuário Atual",observacao:Y.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:F};console.log("Concluindo etapa:",V),await new Promise(ie=>setTimeout(ie,1e3)),$(V),U(!1),K(""),O(!0),a({etapaId:s,processoId:t,conclusao:V,versaoBase:h}),c({title:"Etapa concluída",description:"A etapa Elaboração do DFD foi concluída com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{k(!1)}},de=V=>{var ce;const ie=(ce=V.target.files)==null?void 0:ce[0];if(ie){z(ie);const Le={id:`anexo-${Date.now()}`,nome:ie.name,tamanhoBytes:ie.size,mimeType:ie.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l._id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(Ue=>[...Ue,Le]),c({title:"Anexo adicionado",description:`${ie.name} foi anexado com sucesso.`})}},Te=V=>{y(ie=>ie.filter(ce=>ce.id!==V)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},Pe=V=>{switch(V){case"rascunho":return{label:"Rascunho",color:"bg-gray-100 text-gray-800",icon:e.jsx($e,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_analise":return{label:"Enviada para Análise",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-purple-100 text-purple-800",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"Reprovada",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},D=(V,ie)=>ie===void 0?{label:"Não Enviado",color:"bg-gray-100 text-gray-800"}:ie<=V?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:ie<=V+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo Não Cumprido",color:"bg-red-100 text-red-800"},M=Je,q=m.useMemo(()=>{const V=[...p];return V.sort((ie,ce)=>{const Le=new Date(ie.criadoEm).getTime(),Ue=new Date(ce.criadoEm).getTime();return v==="desc"?Ue-Le:Le-Ue}),V},[p,v]),W=V=>{try{if(!V)throw new Error("missing");window.open(V,"_blank","noopener,noreferrer")||c({title:"Não foi possível abrir",description:"Verifique o bloqueador de pop-up.",variant:"destructive"})}catch{c({title:"Link expirado",description:"Atualize a página ou gere um novo link.",variant:"destructive"})}},I=V=>{if(!V)return"";if(/^DFD\s+\d{3}\/\d{4}$/i.test(V))return V.replace(/\s+/," ").toUpperCase();let ce=/DFD[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(V);if(ce){const ut=ce[1];return`DFD ${ce[2].padStart(3,"0")}/${ut}`}if(ce=/(?:DFD)?\s*(\d{1,4})\/(\d{4})/i.exec(V),ce){const ut=ce[1].padStart(3,"0"),Et=ce[2];return`DFD ${ut}/${Et}`}const Le=/(\d{4})/.exec(V),Ue=/(\d{1,4})(?!.*\d)/.exec(V);if(Le&&Ue){const ut=Le[1];return`DFD ${Ue[1].padStart(3,"0")}/${ut}`}return V},ee=()=>{const V=[];return u.length===0?V.push({id:"versao-criada",label:"Versão inicial ainda não criada",status:"pending",description:"Nenhuma versão foi criada ainda"}):V.push({id:"versao-criada",label:"Versão inicial criada",status:"completed",description:`${u.length} versão(ões) criada(s)`}),p.length===0?V.push({id:"anexos-adicionados",label:"Documentos anexados (nenhum encontrado)",status:"pending",description:"Nenhum documento foi anexado"}):V.push({id:"anexos-adicionados",label:"Documentos anexados",status:"completed",description:`${p.length} documento(s) anexado(s)`}),!f.responsaveis||f.responsaveis.length===0?V.push({id:"responsaveis-definidos",label:"Responsáveis definidos (nenhum encontrado)",status:"pending",description:"Nenhum responsável foi atribuído"}):f.responsaveis.length<2?V.push({id:"responsaveis-definidos",label:`Responsáveis definidos (${f.responsaveis.length} de 2)`,status:"warning",description:"Recomenda-se pelo menos 2 responsáveis"}):V.push({id:"responsaveis-definidos",label:"Responsáveis definidos",status:"completed",description:`${f.responsaveis.length} responsável(is) atribuído(s)`}),!f.objeto||f.objeto.trim()===""?V.push({id:"objeto-preenchido",label:"Objeto da contratação preenchido",status:"pending",description:"Campo obrigatório para elaboração do DFD"}):V.push({id:"objeto-preenchido",label:"Objeto da contratação preenchido",status:"completed",description:"Campo preenchido corretamente"}),!f.areaSetorDemandante||f.areaSetorDemandante.trim()===""?V.push({id:"area-demandante-preenchida",label:"Área/Setor demandante preenchido",status:"pending",description:"Campo obrigatório para elaboração do DFD"}):V.push({id:"area-demandante-preenchida",label:"Área/Setor demandante preenchido",status:"completed",description:"Campo preenchido corretamente"}),u.some(ce=>ce.status==="enviada_para_analise"||ce.status==="aprovada")?V.push({id:"versao-enviada",label:"Versão enviada para análise",status:"completed",description:"Versão enviada com sucesso"}):V.push({id:"versao-enviada",label:"Versão enviada para análise",status:"pending",description:"Nenhuma versão foi enviada para análise"}),V.sort((ce,Le)=>{const Ue={warning:0,pending:1,completed:2};return Ue[ce.status]-Ue[Le.status]})},ue=()=>{const V=[];return u.slice(0,2).forEach(ie=>{ie.status==="enviada_para_analise"&&ie.enviadoParaAnaliseEm&&V.push({id:`versao-${ie.id}-enviada`,autor:ie.autorNome,descricao:`Versão ${ie.numeroVersao} enviada para análise`,dataHora:ie.enviadoParaAnaliseEm,tipo:"versao"}),ie.status==="aprovada"&&V.push({id:`versao-${ie.id}-aprovada`,autor:ie.autorNome,descricao:`Versão ${ie.numeroVersao} aprovada`,dataHora:ie.atualizadoEm,tipo:"versao"}),ie.status==="reprovada"&&V.push({id:`versao-${ie.id}-reprovada`,autor:ie.autorNome,descricao:`Versão ${ie.numeroVersao} devolvida`,dataHora:ie.atualizadoEm,tipo:"versao"})}),p.slice(0,2).forEach(ie=>{V.push({id:`anexo-${ie.id}`,autor:ie.autorNome,descricao:"Documento comentado anexado",dataHora:ie.criadoEm,tipo:"anexo"})}),V.sort((ie,ce)=>new Date(ce.dataHora).getTime()-new Date(ie.dataHora).getTime())},G=()=>{const V=ue(),ie=(ce,Le)=>{if(ce==="anexo")return"anexo";if(ce==="versao"){const Ue=(Le||"").toLowerCase();return Ue.includes("aprovada")?"aprovado":Ue.includes("devolvida")?"devolvido":"versao"}return"comentario"};return V.map(ce=>({id:ce.id,status:ie(ce.tipo,ce.descricao),title:ce.descricao,author:{name:ce.autor},createdAt:ce.dataHora}))},ge=()=>S?"Concluída":u.some(V=>V.status==="aprovada")?"Aprovada":u.some(V=>V.status==="enviada_para_analise")?"Em análise":u.some(V=>V.status==="reprovada")?"Devolvida":"Em elaboração",Ne=V=>{switch(V){case"Concluída":case"Aprovada":return"bg-green-100 text-green-800";case"Em análise":return"bg-blue-100 text-blue-800";case"Devolvida":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Me=V=>{switch(V){case"completed":return e.jsx(Re,{className:"w-4 h-4 text-green-600"});case"warning":return e.jsx(pt,{className:"w-4 h-4 text-amber-600"});default:return e.jsx(pt,{className:"w-4 h-4 text-amber-600"})}};m.useState(!1);const[et,se]=m.useState(""),[ze,_e]=m.useState("all"),Q=m.useMemo(()=>ee(),[u,S]),Ce=m.useMemo(()=>{const V=Q.length,ie=Q.filter(Et=>Et.status==="completed").length,ce=Q.filter(Et=>Et.status==="warning").length,Le=Q.filter(Et=>Et.status==="pending").length,Ue=ce+Le,ut=V===0?0:Math.round(ie/V*100);return{total:V,completed:ie,warning:ce,pending:Le,open:Ue,percent:ut}},[Q]),_=m.useMemo(()=>{let V=Q;if(ze==="open"&&(V=Q.filter(ce=>ce.status!=="completed")),ze==="completed"&&(V=Q.filter(ce=>ce.status==="completed")),!et.trim())return V;const ie=et.toLowerCase();return V.filter(ce=>ce.label.toLowerCase().includes(ie)||ce.description.toLowerCase().includes(ie))},[Q,ze,et]),R=()=>{const V=new Date(h.criadoEm),ie=h.prazoInicialDiasUteis||7;let ce=new Date(V),Le=0;for(;Le<ie;){ce.setDate(ce.getDate()+1);const Ue=ce.getDay();Ue>=1&&Ue<=5&&Le++}return ce},te=new Date("2025-01-16T12:00:00Z"),fe=()=>{if(!u||u.length===0)return R();const V=[...u].sort((ut,Et)=>new Date(ut.criadoEm).getTime()-new Date(Et.criadoEm).getTime())[0],ie=new Date(V.criadoEm),ce=V.prazoInicialDiasUteis??h.prazoInicialDiasUteis??7;let Le=new Date(ie),Ue=0;for(;Ue<ce;){Le.setDate(Le.getDate()+1);const ut=Le.getDay();ut>=1&&ut<=5&&Ue++}return Le},Ie=()=>{new Date(h.criadoEm);const V=S?new Date(S.dataConclusao):new Date;return{diasUteis:p2(h.criadoEm,V.toISOString())}};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx($e,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulário do DFD"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulário"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsx("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"numeroDFD",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Vd,{className:"w-4 h-4"}),"Número do DFD"]}),e.jsx(De,{id:"numeroDFD",value:I(f.numeroDFD),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Data da Elaboração"]}),e.jsx(De,{id:"dataElaboracao",value:M(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]})]})}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto da Contratação *"]}),e.jsx(xt,{id:"objeto",value:f.objeto,onChange:V=>g({...f,objeto:V.target.value}),placeholder:"Descreva o objeto da contratação...",disabled:!re.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"areaSetor",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Área/Setor Demandante"]}),e.jsx(De,{id:"areaSetor",value:f.areaSetorDemandante,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsx(lf,{value:f.responsaveis||[],onChange:V=>{A(V||[])},disabled:!re.podeEditar||h.status!=="rascunho",canEdit:re.podeEditar,processoId:t,className:"w-full border-b border-slate-200 my-4",label:"Responsáveis pela Elaboração *"})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Versões/Revisões"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[re.podeCriarNovaVersao&&e.jsxs(C,{onClick:xe,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Versão"]}),u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda não há versões criadas"})]}):e.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:[!j&&e.jsx("div",{className:"text-sm font-semibold text-purple-700",children:"Última versão"}),(j?u:[u[0]]).map((V,ie,ce)=>{const Le=Pe(V.status),Ue=D(V.prazoInicialDiasUteis||0,V.prazoCumpridoDiasUteis),ut=ne(V),Et=Ae(ut);return e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",V.numeroVersao]}),e.jsxs(oe,{className:`text-xs font-medium ${Le.color}`,children:[Le.icon,e.jsx("span",{className:"ml-1",children:Le.label})]}),e.jsx(oe,{className:`text-xs font-medium ${Ue.color}`,children:Ue.label}),e.jsx(oe,{className:`text-xs font-medium ${Et.badge}`,children:ut===null?"Sem prazo":ut<0?`${Math.abs(ut)}d atrasado`:`${ut}d restantes`})]}),e.jsx("div",{className:"flex items-center gap-2",children:(j||u[0].id!==V.id)&&e.jsx(C,{size:"sm",variant:"ghost","aria-label":N[V.id]?"Recolher detalhes":"Expandir detalhes",className:"h-7 px-2 text-gray-600",onClick:()=>E(ns=>({...ns,[V.id]:!ns[V.id]})),children:e.jsx(_l,{className:`w-4 h-4 transition-transform ${N[V.id]?"rotate-180":""}`})})})]}),(N[V.id]??!0)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",V.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",V.autorCargo||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerência:"})," ",V.autorGerencia||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(V.criadoEm))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",V.prazoInicialDiasUteis||0," dias úteis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",V.prazoCumpridoDiasUteis!==void 0?`${V.prazoCumpridoDiasUteis} dias úteis`:"Não enviado"]})]}),V.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:V.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar documento",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar documento",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})})]})]})]})]}),ie<ce.length-1&&e.jsx("div",{className:"border-b border-slate-200 my-2"})]},V.id)}),u.length>1&&e.jsx("div",{className:"pt-2",children:e.jsx(C,{variant:"ghost","aria-label":j?"Recolher lista de versões":"Ver todas as versões",className:"text-sm text-purple-700 hover:text-purple-800 hover:bg-purple-50",onClick:()=>w(V=>!V),children:j?"Ocultar versões antigas":"Ver todas as versões"})})]})]})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:H,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:de}),e.jsxs(C,{onClick:()=>{var V;return(V=H.current)==null?void 0:V.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:v,onChange:V=>b(V.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),p.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${p.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:q.map((V,ie)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:V.nome}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[V.autorNome," • ",M(V.criadoEm)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[V.autorNome," • ",M(V.criadoEm)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>W(V.urlDownload),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>Te(V.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ie<q.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},V.id))})]})})]})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${Ne(ge())}`,children:ge()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial da Versão"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[h.prazoInicialDiasUteis||7," dias úteis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Versão"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(te.toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Etapa"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(fe().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"etapa"})})]}),S&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(ks,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(S.dataConclusao)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[Ie().diasUteis," dias úteis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const V=ne(h),ie=Qv(V);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${ie.text} mb-2`,children:V===null?"—":Math.abs(V)}),e.jsx("div",{className:`text-sm font-medium ${ie.text}`,children:ox(V)})]})})()})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[Ce.completed,"/",Ce.total]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Ce.percent,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[Ce.total," item",Ce.total!==1?"s":""]})]}),e.jsx(Fa,{value:Ce.percent}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>_e("all"),className:`px-2 py-1 rounded text-xs ${ze==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>_e("open"),className:`px-2 py-1 rounded text-xs ${ze==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",Ce.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>_e("completed"),className:`px-2 py-1 rounded text-xs ${ze==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",Ce.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:et,onChange:V=>se(V.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:_.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):_.map(V=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:Me(V.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:V.label}),e.jsx("div",{className:"text-xs text-slate-500",children:V.description})]})]},V.id))})]})]})]})]}),e.jsx(Do,{data:G()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:String(s),cardId:"dfd-form",title:"Comentários"})})}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const V=ne(h);return Ae(V).text})()}`,children:(()=>{const V=ne(h);return V===null?"Sem prazo":V<0?`${Math.abs(V)} dias atrasado`:`${V} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:h.autorNome||"Sem responsável"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:S?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Etapa Concluída"}),e.jsxs("p",{className:"text-sm text-green-700",children:[M(S.dataConclusao)," por ",S.usuarioNome]})]})]})}):e.jsx("div",{className:"text-center",children:e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{onClick:be,disabled:!we()||T||!re.podeEditar||h.status!=="rascunho"||!!S,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 text-lg font-semibold",size:"lg",children:T?e.jsxs(e.Fragment,{children:[e.jsx(hd,{className:"w-5 h-5 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Enviar para Análise Técnica"]})})})}),!we()&&e.jsx(St,{children:e.jsx("p",{children:"Preencha os campos obrigatórios"})})]})})})}),h.enviadoParaAnaliseEm&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:["Enviado para análise em ",Je(h.enviadoParaAnaliseEm)]})]})}),!S&&re.podeEditar&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[h.status==="rascunho"&&e.jsxs(C,{onClick:ae,variant:"outline",disabled:T,size:"sm",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Versão"]}),he()&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:ye,variant:"outline",disabled:!ke()||T,size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})}),!ke()&&e.jsx(St,{children:e.jsx("p",{children:"É necessário enviar uma versão para análise antes de concluir a etapa."})})]})})]})}),!re.podeEditar&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[e.jsx(fn,{className:"w-4 h-4"}),e.jsx("span",{children:"Somente visualização"})]})})]})]}),e.jsx(Ke,{open:L,onOpenChange:U,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaboração do DFD para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observações de conclusão (opcional)"}),e.jsx(xt,{id:"observacao",value:Y,onChange:V=>K(V.target.value),placeholder:"Adicione observações sobre a conclusão da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:F,onCheckedChange:V=>O(V)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao concluir esta etapa, o card será bloqueado para edição e a próxima etapa do fluxo será habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>U(!1),disabled:T,children:"Cancelar"}),e.jsx(C,{onClick:Be,disabled:T,className:"bg-green-600 hover:bg-green-700",children:T?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const v2=(t,s)=>{let a=0;const r=new Date(t.getTime());for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a},KQ=t=>t<=70?"bg-green-500":t<=100?"bg-yellow-500":"bg-red-500";function xu({startISO:t,endISO:s,className:a}){const r=new Date(t),n=new Date(s),o=new Date,i=Math.max(1,v2(r,n)),l=Math.min(i,v2(r,o)),c=Math.min(100,Math.round(l/i*100));return e.jsxs("div",{className:a||"",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[c,"%"]})]}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 cursor-help",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${KQ(c)}`,style:{width:`${c}%`}})})}),e.jsx(St,{children:e.jsxs("p",{children:[l," dias úteis decorridos de ",i," totais"]})})]})})]})}const XQ=(t,s)=>{let a=0;const r=new Date(t);for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a};function cf(t){const[s,a]=m.useState({currentVersion:null,versions:[],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"rascunho"}),[r,n]=m.useState(!1),{toast:o}=Kt();m.useEffect(()=>{const E=localStorage.getItem(`dfd_${t}`);if(E)try{a(JSON.parse(E))}catch(A){console.error("Erro ao carregar dados do DFD:",A)}else a({currentVersion:{id:"v1",version:1,content:"Conteúdo do DFD",createdAt:"2024-01-15T14:30:00Z",createdBy:"Lucas Moreira Brito",createdByCargo:"Analista de Projetos",createdByGerencia:"GSP - Gerência de Soluções e Projetos",createdByEmail:"lucas.brito@hospital.gov.br",isFinal:!0,status:"enviado_analise",objetivoContratacao:"Contratação de serviços de limpeza hospitalar",justificativaDemanda:"Modernização das instalações hospitalares",unidadeDemandante:"GRH - Gerência de Recursos Humanos",dataElaboracao:"2024-01-15",responsavelElaboracao:"Lucas Moreira Brito",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,enviadoData:"2024-01-18T16:45:00Z",enviadoPor:"Lucas Moreira Brito"},versions:[{id:"v1",version:1,content:"Conteúdo do DFD",createdAt:"2024-01-15T14:30:00Z",createdBy:"Lucas Moreira Brito",createdByCargo:"Analista de Projetos",createdByGerencia:"GSP - Gerência de Soluções e Projetos",createdByEmail:"lucas.brito@hospital.gov.br",isFinal:!0,status:"enviado_analise",objetivoContratacao:"Contratação de serviços de limpeza hospitalar",justificativaDemanda:"Modernização das instalações hospitalares",unidadeDemandante:"GRH - Gerência de Recursos Humanos",dataElaboracao:"2024-01-15",responsavelElaboracao:"Lucas Moreira Brito",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,enviadoData:"2024-01-18T16:45:00Z",enviadoPor:"Lucas Moreira Brito"}],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"enviado_analise"})},[t]);const i=E=>{try{localStorage.setItem(`dfd_${t}`,JSON.stringify(E)),a(E)}catch(A){console.error("Erro ao salvar dados do DFD:",A),o({title:"Erro",description:"Erro ao salvar dados do DFD.",variant:"destructive"})}};return{dfdData:s,isLoading:r,createInitialVersion:(E,A)=>{const P={...E,id:"v1",version:1,createdAt:new Date().toISOString(),createdBy:(A==null?void 0:A.nome)||"Usuário",createdByCargo:A==null?void 0:A.cargo,createdByGerencia:A==null?void 0:A.gerencia,createdByEmail:A==null?void 0:A.email,prazoInicialDiasUteis:0,isFinal:!0,status:"rascunho"},z={...s,currentVersion:P,versions:[P],status:"rascunho"};return i(z),P},addVersion:(E,A)=>{const P=s.versions.length+1,z={...E,id:`v${P}`,version:P,createdAt:new Date().toISOString(),createdBy:(A==null?void 0:A.nome)||"Usuário",createdByCargo:A==null?void 0:A.cargo,createdByGerencia:A==null?void 0:A.gerencia,createdByEmail:A==null?void 0:A.email,prazoInicialDiasUteis:0,isFinal:!1,status:"rascunho"},T={...s,currentVersion:z,versions:[...s.versions,z],status:"rascunho",isDevolvido:!1,devolucaoJustificativa:void 0,devolucaoData:void 0,devolucaoPor:void 0};return i(T),z},enviarParaAnalise:E=>{const A=s.versions[s.versions.length-1];if(A){const P=new Date(A.createdAt),T=XQ(P,new Date),k=s.versions.map(U=>({...U,status:U.id===A.id?"enviado_analise":U.status,isFinal:U.id===A.id,enviadoData:U.id===A.id?new Date().toISOString():U.enviadoData,prazoCumpridoDiasUteis:U.id===A.id?T:U.prazoCumpridoDiasUteis})),L={...s,versions:k,currentVersion:k.find(U=>U.id===A.id)||s.currentVersion,status:"enviado_analise",enviadoData:new Date().toISOString(),enviadoPor:E};i(L)}},devolverParaCorrecao:(E,A)=>{if(s.versions.find(z=>z.isFinal)){const z=s.versions.map(k=>({...k,status:k.isFinal?"devolvido":k.status,devolucaoJustificativa:k.isFinal?E:k.devolucaoJustificativa,devolucaoData:k.isFinal?new Date().toISOString():k.devolucaoData,devolucaoPor:k.isFinal?A:k.devolucaoPor})),T={...s,versions:z,status:"devolvido",isDevolvido:!0,devolucaoJustificativa:E,devolucaoData:new Date().toISOString(),devolucaoPor:A};i(T)}},aprovarVersao:E=>{const A=s.versions.find(P=>P.isFinal);if(A){const P=s.versions.map(T=>({...T,status:T.isFinal?"aprovado":T.status,aprovadoData:T.isFinal?new Date().toISOString():T.aprovadoData,aprovadoPor:T.isFinal?E:T.aprovadoPor})),z={...s,versions:P,currentVersion:P.find(T=>T.id===A.id)||s.currentVersion,status:"aprovado",isCompleted:!0,completedAt:new Date().toISOString(),completedBy:E,aprovadoData:new Date().toISOString(),aprovadoPor:E};i(z)}},addAnnex:E=>{const A={...s,annexes:[...s.annexes,E]};i(A)},removeAnnex:E=>{const A={...s,annexes:s.annexes.filter(P=>P.id!==E)};i(A)},updateObservations:E=>{const A={...s,observations:E};i(A)},resetDFD:()=>{i({currentVersion:null,versions:[],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"rascunho"})},saveDFDData:i,getLatestEditableVersion:()=>s.versions[s.versions.length-1],canCreateNewVersion:()=>s.status==="devolvido"||s.versions.length===0,canEdit:()=>s.status==="rascunho"||s.status==="devolvido",canSendToAnalysis:()=>s.status==="rascunho",canApprove:E=>s.status==="enviado_analise"&&E==="Gerência de Soluções e Projetos",canDevolver:E=>s.status==="enviado_analise"&&E==="Gerência de Soluções e Projetos"}}function JQ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){var M,q;const{user:i}=Dt(),{toast:l}=Kt(),{dfdData:c,aprovarVersao:u,devolverParaCorrecao:d,addAnnex:h,removeAnnex:x}=cf(t),[f,g]=m.useState("desc"),p=W=>{if(!W){l({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(W,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"Não foi possível abrir o documento",description:"Verifique o bloqueador de popups ou gere um novo link.",variant:"destructive"})}},y=m.useMemo(()=>{const W=[...c.annexes];return W.sort((I,ee)=>{const ue=new Date(I.uploadedAt).getTime(),G=new Date(ee.uploadedAt).getTime();return f==="desc"?G-ue:ue-G}),W},[c.annexes,f]),[v,b]=m.useState(""),[j,w]=m.useState(""),[N,E]=m.useState(!1),[A,P]=m.useState([]),[z,T]=m.useState(!1),[k,L]=m.useState(!1),[U,Y]=m.useState("");m.useState("versoes");const K=m.useRef(null),F=()=>(i==null?void 0:i.gerencia)==="GSP - Gerência de Soluções e Projetos",O=()=>F()&&c.status==="enviado_analise",S=()=>F()&&c.status==="enviado_analise",$=()=>c.status==="enviado_analise"||F()?!0:c.status!=="aprovado"||o,H=(W,I)=>I===void 0?{status:"nao_enviado",dias:0}:I<=W?{status:"ok",dias:I}:I<=W+1?{status:"risco",dias:I}:{status:"nao_cumprido",dias:I},J=()=>{const W=[];return v.trim()||W.push("Parecer Técnico é obrigatório"),P(W),W.length===0},re=()=>{if(!J()){l({title:"Erro de Validação",description:"Por favor, preencha o Parecer Técnico.",variant:"destructive"});return}T(!0)},le=()=>{const W=new Date().toISOString();w(W);const I={texto:v,analisadoEm:W,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usuário",cargo:(i==null?void 0:i.cargo)||""}};localStorage.setItem(`parecer-tecnico-${t}`,JSON.stringify(I)),E(!0),u((i==null?void 0:i.nome)||"Usuário"),a(c),l({title:"DFD Aprovado",description:"O DFD foi aprovado e a próxima etapa foi liberada."}),T(!1)},we=()=>{if(!J()){l({title:"Erro de Validação",description:"Por favor, preencha o Parecer Técnico.",variant:"destructive"});return}if(!U.trim()){l({title:"Erro",description:"A justificativa das ressalvas é obrigatória.",variant:"destructive"});return}L(!0)},ke=()=>{const W=new Date().toISOString();w(W);const I={texto:v,analisadoEm:W,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usuário",cargo:(i==null?void 0:i.cargo)||""}};localStorage.setItem(`parecer-tecnico-${t}`,JSON.stringify(I)),E(!0),d(U,(i==null?void 0:i.nome)||"Usuário"),r(c),l({title:"Encaminhamento Realizado",description:"O DFD foi encaminhado para cumprimento de ressalvas."}),L(!1),Y("")},he=W=>{var ee;const I=(ee=W.target.files)==null?void 0:ee[0];if(I){const ue={id:`anexo-${Date.now().toString()}`,name:I.name,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",url:`mock-url-${Date.now().toString()}`};h(ue),l({title:"Anexo adicionado",description:`${I.name} foi anexado com sucesso.`})}W.target&&(W.target.value="")};m.useEffect(()=>{const W=localStorage.getItem(`parecer-tecnico-${t}`);if(W)try{const I=JSON.parse(W);b(I.texto||""),w(I.analisadoEm||"")}catch(I){console.error("Erro ao carregar parecer salvo:",I)}},[t]);const ae=W=>{switch(W){case"rascunho":return{label:"Em Elaboração",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(ar,{className:"w-3 h-3"})};case"enviado_analise":return{label:"Enviado para Análise",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"devolvido":return{label:"Devolvido para Correção",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};case"aprovado":return{label:"Aprovado",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}},be=Je,xe=c.versions.find(W=>W.status==="enviado_analise"&&W.isFinal),ne=!F()&&c.status==="aprovado"?c.versions.find(W=>W.status==="aprovado"&&W.isFinal):xe,Ae=(W,I)=>{const ee=new Date(W);let ue=0;const G=new Date(ee);for(;ue<I;){G.setDate(G.getDate()+1);const ge=G.getDay();ge>=1&&ge<=5&&ue++}return G},ye=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return null;const I=W.prazoInicialDiasUteis??0;return Ae(W.createdAt,I)},Be=()=>{if(!c.versions||c.versions.length===0)return null;const I=[...c.versions].sort((ue,G)=>new Date(ue.createdAt).getTime()-new Date(G.createdAt).getTime())[0],ee=I.prazoInicialDiasUteis??(ne==null?void 0:ne.prazoInicialDiasUteis)??7;return Ae(I.createdAt,ee)},de=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W||W.prazoInicialDiasUteis===void 0)return null;const I=W.prazoCumpridoDiasUteis??0;return(W.prazoInicialDiasUteis||0)-I},Te=W=>W===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:W<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:W<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"},Pe=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return new Date;const I=W.prazoInicialDiasUteis||7;return Ae(W.createdAt,I)},D=()=>{const W=[];return c.enviadoData&&W.push({id:"dfd-enviado",status:"versao",title:"DFD enviado para análise",author:{name:c.enviadoPor||"Usuário"},createdAt:c.enviadoData}),v.trim()&&W.push({id:"parecer-elaborado",status:"comentario",title:"Parecer técnico elaborado",author:{name:(i==null?void 0:i.nome)||"Usuário"},createdAt:j||new Date().toISOString()}),c.aprovadoData&&W.push({id:"dfd-aprovado",status:"aprovado",title:"DFD aprovado",author:{name:c.aprovadoPor||"Usuário"},createdAt:c.aprovadoData}),c.devolucaoData&&W.push({id:"dfd-devolvido",status:"devolvido",title:"DFD devolvido para correção",author:{name:c.devolucaoPor||"Usuário"},createdAt:c.devolucaoData}),[...c.annexes||[]].sort((ee,ue)=>new Date(ue.uploadedAt).getTime()-new Date(ee.uploadedAt).getTime()).slice(0,2).forEach(ee=>{W.push({id:`anexo-${ee.id}`,status:"anexo",title:`Anexo adicionado: ${ee.name}`,author:{name:ee.uploadedBy||"Usuário"},createdAt:ee.uploadedAt})}),W.sort((ee,ue)=>new Date(ue.createdAt).getTime()-new Date(ee.createdAt).getTime())};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(ds,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Parecer Técnico"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Análise"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(xt,{id:"parecer-tecnico-textarea",value:v,onChange:W=>b(W.target.value),placeholder:"Descreva a análise técnica do DFD...",disabled:!$(),className:"min-h-[350px] resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"}),A.includes("Parecer Técnico é obrigatório")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Parecer Técnico é obrigatório"})]}),j&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Análise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:be(j)})})]})]})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Versões/Revisões"]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:c.versions.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma versão disponível"})]}):e.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:c.versions.map(W=>{const I=ae(W.status),ee=H(W.prazoInicialDiasUteis||0,W.prazoCumpridoDiasUteis);return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:W.isFinal?"default":"outline",className:"text-xs font-medium",children:["V",W.version,W.isFinal&&e.jsx(Re,{className:"w-3 h-3 ml-1"})]}),e.jsxs(oe,{className:`text-xs font-medium ${I.color}`,children:[I.icon,e.jsx("span",{className:"ml-1",children:I.label})]}),ee&&e.jsx(oe,{className:`text-xs font-medium ${ee.status==="ok"?"bg-green-100 text-green-800":ee.status==="risco"?"bg-yellow-100 text-yellow-800":ee.status==="nao_enviado"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:ee.status==="ok"?"Prazo Cumprido":ee.status==="risco"?"Em Risco":ee.status==="nao_enviado"?"Não Enviado":"Prazo Não Cumprido"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",W.createdBy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",W.createdByCargo||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerência:"})," ",W.createdByGerencia||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(W.createdAt))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",W.prazoInicialDiasUteis||0," dias úteis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",W.prazoCumpridoDiasUteis!==void 0?`${W.prazoCumpridoDiasUteis} dias úteis`:"Não enviado"]})]})]},W.id)})})})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[$()&&e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:K,type:"file",onChange:he,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:()=>{var W;return(W=K.current)==null?void 0:W.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:f,onChange:W=>g(W.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!$()&&e.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:"Apenas usuários autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:y.map((W,I)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:W.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[W.uploadedBy," • ",be(W.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[W.uploadedBy," • ",be(W.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>p(W.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),$()&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(W.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),I<y.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},W.id))})]})})]})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:"text-sm font-semibold px-3 py-2 bg-yellow-100 text-yellow-800",children:c.status==="enviado_analise"?"Em Análise":c.status==="aprovado"?"Aprovado":c.status==="devolvido"?"Devolvido":"Pendente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ne!=null&&ne.createdAt?be(ne.createdAt):(M=c.currentVersion)!=null&&M.createdAt?be(c.currentVersion.createdAt):"—"})]})]}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-500",children:["Prazo Inicial da Revisão ",ne?`da versão V${ne.version}`:""]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ne!=null&&ne.createdAt?be(ne.createdAt):(q=c.currentVersion)!=null&&q.createdAt?be(c.currentVersion.createdAt):"—"})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-500",children:["Prazo Final da Revisão ",ne?`da versão V${ne.version}`:""]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(()=>{const W=ye();return W?be(W.toISOString()):"—"})()})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Etapa"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(()=>{const W=Be();return W?be(W.toISOString()):"—"})()})]})]})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const W=de(),I=Te(W);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${I.text} mb-2`,children:W===null?"—":Math.abs(W)}),e.jsx("div",{className:`text-sm font-medium ${I.text}`,children:ox(W)})]})})()}),(()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return null;const I=Pe();return e.jsx(xu,{startISO:W.createdAt,endISO:I.toISOString(),className:"space-y-2"})})()]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:(()=>{const W=(()=>{const ee=[];return ee.push({id:"dfd-recebido",label:"DFD recebido para análise",status:"completed"}),ee.push({id:"parecer",label:"Parecer técnico elaborado",status:v.trim()?"completed":"warning"}),ee.push({id:"decisao",label:"Decisão de aprovação/devolução",status:c.status==="aprovado"||c.status==="devolvido"?"completed":"pending"}),ee})();return`${W.filter(ee=>ee.status==="completed").length}/${W.length}`})()})]})]}),(()=>{const W=(()=>{const se=[];se.push({id:"dfd-recebido",label:"DFD recebido para análise",status:"completed",description:"Versão recebida para avaliação"}),se.push({id:"parecer",label:"Parecer técnico elaborado",status:v.trim()?"completed":"warning",description:v.trim()?"Parecer preenchido":"Preencha o parecer técnico"}),se.push({id:"decisao",label:"Decisão de aprovação/devolução",status:c.status==="aprovado"||c.status==="devolvido"?"completed":"pending",description:"Finalize aprovando ou devolvendo"});const ze={warning:0,pending:1,completed:2};return se.sort((_e,Q)=>ze[_e.status]-ze[Q.status])})(),[I,ee]=Z.useState("all"),[ue,G]=Z.useState(""),ge={total:W.length,completed:W.filter(se=>se.status==="completed").length,open:W.filter(se=>se.status!=="completed").length},Ne=ge.total===0?0:Math.round(ge.completed/ge.total*100),Me=W.filter(se=>{if(I==="open"&&se.status==="completed"||I==="completed"&&se.status!=="completed")return!1;if(!ue.trim())return!0;const ze=ue.toLowerCase();return se.label.toLowerCase().includes(ze)||(se.description||"").toLowerCase().includes(ze)}),et=se=>se==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Ne,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[ge.total," itens"]})]}),e.jsx(Fa,{value:Ne}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ee("all"),className:`px-2 py-1 rounded text-xs ${I==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>ee("open"),className:`px-2 py-1 rounded text-xs ${I==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",ge.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>ee("completed"),className:`px-2 py-1 rounded text-xs ${I==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",ge.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:ue,onChange:se=>G(se.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Me.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Me.map(se=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:et(se.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:se.label}),se.description&&e.jsx("div",{className:"text-xs text-slate-500",children:se.description})]})]},se.id))})]})})()]})]})]}),e.jsx(Do,{data:D()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-aprovacao",title:"Comentários"})})}),e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:c.status==="enviado_analise"?"5 dias úteis":c.status==="aprovado"?"Concluído":c.status==="devolvido"?"Devolvido":"Aguardando"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(i==null?void 0:i.nome)||"GSP - Analista"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:c.status==="aprovado"?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"DFD Aprovado"}),e.jsxs("p",{className:"text-sm text-green-700",children:[c.aprovadoData?be(c.aprovadoData):""," por ",c.aprovadoPor||(i==null?void 0:i.nome)]})]})]})}):c.status==="devolvido"?e.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-red-600",children:"DFD Devolvido"}),e.jsxs("p",{className:"text-sm text-red-700",children:[c.devolucaoData?be(c.devolucaoData):""," por ",c.devolucaoPor||(i==null?void 0:i.nome)]})]})]})}):e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Analise o DFD e tome uma decisão:"}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsxs(C,{onClick:we,variant:"outline",disabled:!S(),className:"border-red-200 text-red-700 hover:bg-red-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Devolver para Correção"]}),e.jsxs(C,{onClick:re,disabled:!O(),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovar DFD"]})]})]})})]})]}),e.jsx(Ke,{open:z,onOpenChange:T,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovação"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar o DFD? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a versão como Aprovada e Versão Final"}),e.jsx("li",{children:"Liberar a próxima etapa (Assinatura do DFD)"}),e.jsx("li",{children:"Salvar o Parecer Técnico e Data da Análise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),e.jsxs(C,{onClick:le,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovação"]})]})]})}),e.jsx(Ke,{open:k,onOpenChange:L,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Encaminhamento para Cumprimento de Ressalvas"]}),e.jsxs(tt,{children:["Tem certeza que deseja encaminhar para cumprimento de ressalvas? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a versão como Reprovada"}),e.jsx("li",{children:"Devolver o DFD para o Card 1 para nova versão"}),e.jsx("li",{children:"Salvar o Parecer Técnico e Data da Análise"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa",className:"text-sm font-medium",children:"Justificativa das Ressalvas *"}),e.jsx(xt,{id:"justificativa",value:U,onChange:W=>Y(W.target.value),placeholder:"Descreva as ressalvas que devem ser cumpridas...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ke,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Encaminhamento"]})]})]})})]})}var Xj="Tabs",[QQ,gae]=ua(Xj,[Co]),jT=Co(),[ZQ,Jj]=QQ(Xj),yT=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=wo(l),[h,x]=Qs({prop:r,onChange:n,defaultProp:o});return e.jsx(ZQ,{scope:a,baseId:oa(),value:h,onValueChange:x,orientation:i,dir:d,activationMode:c,children:e.jsx(Ve.div,{dir:d,"data-orientation":i,...u,ref:s})})});yT.displayName=Xj;var NT="TabsList",wT=m.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,o=Jj(NT,a),i=jT(a);return e.jsx(Cx,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(Ve.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});wT.displayName=NT;var CT="TabsTrigger",ST=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...o}=t,i=Jj(CT,a),l=jT(a),c=AT(i.baseId,r),u=DT(i.baseId,r),d=r===i.value;return e.jsx(Sx,{asChild:!0,...l,focusable:!n,active:d,children:e.jsx(Ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...o,ref:s,onMouseDown:Ee(t.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!n&&h&&i.onValueChange(r)})})})});ST.displayName=CT;var ET="TabsContent",PT=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:o,...i}=t,l=Jj(ET,a),c=AT(l.baseId,r),u=DT(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const x=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Ms,{present:n||d,children:({present:x})=>e.jsx(Ve.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:u,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:h.current?"0s":void 0},children:x&&o})})});PT.displayName=ET;function AT(t,s){return`${t}-trigger-${s}`}function DT(t,s){return`${t}-content-${s}`}var eZ=yT,kT=wT,TT=ST,RT=PT;const Va=eZ,Sa=m.forwardRef(({className:t,...s},a)=>e.jsx(kT,{ref:a,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Sa.displayName=kT.displayName;const Vt=m.forwardRef(({className:t,...s},a)=>e.jsx(TT,{ref:a,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Vt.displayName=TT.displayName;const Gt=m.forwardRef(({className:t,...s},a)=>e.jsx(RT,{ref:a,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Gt.displayName=RT.displayName;const tZ={processoId:"1",versaoFinalId:"v3",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:1,decorridosDiasUteis:0,badge:"ok"}},sZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",data:"15/01/2025 10:30",texto:"Documento aprovado e enviado para assinatura. Aguardando assinaturas dos responsáveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],b2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br"}];function aZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var ze,_e;const{user:l}=Dt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(tZ);m.useState(sZ),m.useState("");const[x,f]=m.useState(""),[g,p]=m.useState(!1),[y,v]=m.useState(!1),[b,j]=m.useState(!1),[w,N]=m.useState(null),[E,A]=m.useState(""),[P,z]=m.useState(!1),[T,k]=m.useState([]),[L,U]=m.useState(!1),[Y,K]=m.useState(""),[F,O]=m.useState(!0),[S,$]=m.useState(!1),[H,J]=m.useState([]),[re,le]=m.useState(null),[we,ke]=m.useState("desc"),he=m.useRef(null),[ae,be]=m.useState(!1),xe=m.useRef(null),ne=m.useMemo(()=>{const Q=[...H];return Q.sort((Ce,_)=>new Date(_.uploadedAt).getTime()-new Date(Ce.uploadedAt).getTime()),we==="asc"&&Q.reverse(),Q},[H,we]),Ae=Q=>{if(!Q){c({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(Q,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},ye=m.useMemo(()=>H.find(Q=>Q.id===re)||ne[0],[H,re,ne]);m.useEffect(()=>{!re&&ne.length>0&&le(ne[0].id)},[re,ne]),m.useEffect(()=>{if(ye!=null&&ye.url){be(!0);const Q=setTimeout(()=>be(!1),2e3);return()=>clearTimeout(Q)}else be(!1)},[ye==null?void 0:ye.url]);const Be=Q=>{if(!Q)return"";const Ce=Q.lastIndexOf(".");return Ce>=0?Q.substring(Ce+1).toLowerCase():""},de=Q=>["pdf"].includes(Be(Q)),Te=Q=>["png","jpg","jpeg","gif","bmp","tif","tiff","webp","svg"].includes(Be(Q)),Pe=((ze=l==null?void 0:l.gerencia)==null?void 0:ze.includes("GSP"))||((_e=l==null?void 0:l.gerencia)==null?void 0:_e.includes("SE"))||!1,D=d.assinantes.some(Q=>Q.email===(l==null?void 0:l.email)&&Q.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const M=()=>{var R,te,fe,Ie;if(!l)return!1;const Q=((R=l.gerencia)==null?void 0:R.includes("SE"))||((te=l.gerencia)==null?void 0:te.includes("Secretaria Executiva")),Ce=((fe=l.gerencia)==null?void 0:fe.includes("GSP"))||((Ie=l.gerencia)==null?void 0:Ie.includes("Gerência de Soluções e Projetos"));return Q||Ce},q=d.assinantes.every(Q=>Q.status==="ASSINADO"),W=d.assinantes.filter(Q=>Q.status==="ASSINADO").length,I=d.assinantes.length,ee=I>0?W/I*100:0,ue=()=>{const Q=[];return d.assinantes.forEach(_=>{_.assinadoEm&&Q.push({id:`assinatura-${_.id}`,status:"aprovado",title:"Assinatura registrada",author:{name:_.nome},createdAt:_.assinadoEm})}),[...H].sort((_,R)=>new Date(R.uploadedAt).getTime()-new Date(_.uploadedAt).getTime()).slice(0,2).forEach(_=>{Q.push({id:`anexo-${_.id}`,status:"anexo",title:`Anexo adicionado: ${_.name}`,author:{name:_.uploadedBy||"Usuário"},createdAt:_.uploadedAt})}),Q.sort((_,R)=>new Date(R.createdAt).getTime()-new Date(_.createdAt).getTime())},G=Q=>{switch(Q){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},ge=async()=>{if(w){p(!0);try{await new Promise(R=>setTimeout(R,1e3));const Q=d.assinantes.map(R=>R.id===w.id?{...R,status:"ASSINADO",assinadoEm:new Date().toISOString(),observacoes:x.trim()||void 0}:R),Ce={...d,assinantes:Q};Q.every(R=>R.status==="ASSINADO")&&(Ce.statusEtapa="ASSINADO_N_N",a&&a({etapa:"despacho-dfd",assinaturas:Q})),h(Ce),v(!1),N(null),f(""),c({title:"Documento assinado",description:"Sua assinatura foi registrada com sucesso."})}catch{c({title:"Erro ao assinar",description:"Não foi possível registrar sua assinatura.",variant:"destructive"})}finally{p(!1)}}},Ne=async()=>{if(w){p(!0);try{await new Promise(Ce=>setTimeout(Ce,1e3));const Q=d.assinantes.map(Ce=>Ce.id===w.id?{...Ce,status:"CANCELADO",canceladoEm:new Date().toISOString()}:Ce);h({...d,assinantes:Q}),j(!1),N(null),A(""),c({title:"Assinatura cancelada",description:"A assinatura foi cancelada com sucesso."})}catch{c({title:"Erro ao cancelar",description:"Não foi possível cancelar a assinatura.",variant:"destructive"})}finally{p(!1)}}},Me=async()=>{$(!0);try{if(!(await fetch(`/processos/${t}/etapas/assinatura-dfd/concluir`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observacao:Y.trim()||void 0,notificar:F})})).ok)throw new Error("Erro ao concluir etapa");h({...d,statusEtapa:"CONCLUIDO"}),U(!1),K(""),O(!0),a&&a({etapa:"despacho-dfd",assinaturas:d.assinantes,concluidoPor:(l==null?void 0:l.nome)||"Usuário",concluidoEm:new Date().toISOString(),observacao:Y.trim()||void 0,notificar:F}),c({title:"Etapa concluída",description:"Etapa concluída. Próxima etapa liberada."})}catch{c({title:"Erro ao concluir",description:"Não foi possível concluir a etapa. Tente novamente.",variant:"destructive"})}finally{$(!1)}},et=async()=>{if(T.length!==0){p(!0);try{await new Promise(Ce=>setTimeout(Ce,1e3));const Q=T.map(Ce=>{const _=b2.find(R=>R.id===Ce);return{id:`assinante-${Date.now()}-${Ce}`,nome:(_==null?void 0:_.nome)||"",cargo:(_==null?void 0:_.cargo)||"",email:(_==null?void 0:_.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l.id)||"",selecionadoEm:new Date().toISOString()}});h({...d,assinantes:[...d.assinantes,...Q]}),z(!1),k([]),c({title:"Assinantes adicionados",description:`${Q.length} assinante(s) adicionado(s) com sucesso.`})}catch{c({title:"Erro ao adicionar",description:"Não foi possível adicionar os assinantes.",variant:"destructive"})}finally{p(!1)}}},se=async Q=>{p(!0);try{await new Promise(_=>setTimeout(_,1e3));const Ce=d.assinantes.filter(_=>_.id!==Q);h({...d,assinantes:Ce}),c({title:"Assinante removido",description:"O assinante foi removido com sucesso."})}catch{c({title:"Erro ao remover",description:"Não foi possível remover o assinante.",variant:"destructive"})}finally{p(!1)}};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Tt,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Visualização do DFD"}),e.jsx("div",{className:"ml-auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:xe,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:Q=>{var te;const Ce=(te=Q.target.files)==null?void 0:te[0];if(!Ce)return;const _=`a-${Date.now()}`,R={id:_,name:Ce.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário",url:URL.createObjectURL(Ce)};J(fe=>[R,...fe]),le(_),Q.target&&(Q.target.value=""),c({title:"Anexo adicionado",description:`${Ce.name} foi anexado.`})}}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{ye!=null&&ye.url?Ae(ye.url):c({title:"Sem documento",description:"Adicione um anexo para visualizar.",variant:"destructive"})},className:"h-8 px-2 text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{if(ye!=null&&ye.url){const Q=document.createElement("a");Q.href=ye.url,Q.download=ye.name||"documento.pdf",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}else c({title:"Sem documento",description:"Adicione um anexo para baixar.",variant:"destructive"})},className:"h-8 px-2 text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{var Q;return(Q=xe.current)==null?void 0:Q.click()},className:"h-8 px-2 text-xs",children:[e.jsx(mt,{className:"w-3 h-3 mr-1"}),"Incluir"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{if(!ye){c({title:"Nada para excluir",description:"Não há documento selecionado.",variant:"destructive"});return}J(Q=>{var _;const Ce=Q.filter(R=>R.id!==ye.id);return le(((_=Ce[0])==null?void 0:_.id)??null),Ce}),c({title:"Anexo removido",description:`${ye.name} foi excluído.`})},disabled:!ye,className:"h-8 px-2 text-xs text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(It,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})})]}),e.jsx("div",{className:"border-b-2 border-indigo-200 mb-6"}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"relative w-full min-h-[560px] h-[calc(100vh-320px)] rounded-xl border border-slate-200 bg-white overflow-hidden",children:ye!=null&&ye.url?de(ye.name)?e.jsxs(e.Fragment,{children:[ae&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-slate-300 border-t-indigo-500 animate-spin"})}),e.jsx("iframe",{src:ye.url,className:"absolute inset-0 w-full h-full",title:"visualizacao-dfd",onLoad:()=>be(!1)})]}):Te(ye.name)?e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:[ae&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-slate-300 border-t-indigo-500 animate-spin"})}),e.jsx("img",{src:ye.url,alt:ye.name,className:"max-w-full max-h-full object-contain",onLoad:()=>be(!1)})]}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 text-center text-gray-600 bg-white",children:e.jsxs("div",{children:[e.jsx($e,{className:"w-16 h-16 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:ye.name}),e.jsx("p",{className:"text-sm mb-3",children:"Tipo não suportado para pré-visualização. Use Visualizar/Baixar."}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>Ae(ye.url),children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"})," Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{const Q=document.createElement("a");Q.href=ye.url,Q.download=ye.name||"documento",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},children:[e.jsx(bt,{className:"w-3 h-3 mr-1"})," Baixar"]})]})]})}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 text-center text-gray-500 bg-white",children:e.jsxs("div",{children:[e.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhum documento selecionado"}),e.jsx("p",{className:"text-sm",children:"Use Incluir no topo ou adicione um anexo na aba Anexos"})]})})})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsx("div",{className:"space-y-4",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[Pe&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>z(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"max-h-[320px] overflow-y-auto space-y-2",children:d.assinantes.map(Q=>{const Ce=G(Q.status),_=d.sla.prazoDiasUteis-d.sla.decorridosDiasUteis,R=_<=2&&_>=0&&Q.status==="PENDENTE";return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:Q.nome}),e.jsxs(oe,{className:`${Ce.bgColor} ${Ce.textColor} ${Ce.borderColor} text-xs`,children:[Ce.icon,e.jsx("span",{className:"ml-1",children:Ce.label})]}),R&&e.jsxs(oe,{className:"bg-amber-100 text-amber-800 border-amber-300 text-xs",children:[e.jsx(pt,{className:"w-3 h-3 mr-1"}),_," dia",_!==1?"s":""," útil",_!==1?"eis":""]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:Q.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:Q.email}),Q.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(Q.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[Q.status==="PENDENTE"&&Q.email===(l==null?void 0:l.email)&&e.jsxs(C,{size:"sm",variant:"default",onClick:()=>{N(Q),v(!0)},className:"h-6 px-2 text-xs bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Assinar"]}),Pe&&Q.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>se(Q.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-3 h-3"})}),Q.status==="PENDENTE"&&(Q.email===(l==null?void 0:l.email)||Pe)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{N(Q),j(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(Bz,{className:"w-3 h-3"})})]})]})},Q.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[W," de ",I," assinaturas concluídas"]})]}),e.jsx(Fa,{value:ee,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ee===100?"Todas as assinaturas concluídas":"Aguardando assinaturas restantes"})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:H.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:we,onChange:Q=>ke(Q.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),Pe&&e.jsxs("div",{children:[e.jsx("input",{ref:he,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:Q=>{var te;const Ce=(te=Q.target.files)==null?void 0:te[0];if(!Ce)return;const _=`a-${Date.now()}`,R={id:_,name:Ce.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário",url:URL.createObjectURL(Ce)};J(fe=>[R,...fe]),le(_),Q.target&&(Q.target.value=""),c({title:"Anexo adicionado",description:`${Ce.name} foi anexado.`})}}),e.jsxs(C,{onClick:()=>{var Q;return(Q=he.current)==null?void 0:Q.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),H.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${H.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:ne.map((Q,Ce)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:Q.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[Q.uploadedBy," • ",Je(Q.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[Q.uploadedBy," • ",Je(Q.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Ae(Q.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),Pe&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>J(_=>_.filter(R=>R.id!==Q.id)),children:e.jsx(It,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"sm:hidden flex items-center flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",children:e.jsx(eb,{className:"w-4 h-4"})}),e.jsxs("div",{className:"absolute right-0 mt-1 bg-white border rounded shadow-sm p-1 z-20",children:[e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left",onClick:()=>Ae(Q.url),children:"Visualizar"}),e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left",children:"Baixar"}),Pe&&e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left text-red-600",onClick:()=>J(_=>_.filter(R=>R.id!==Q.id)),children:"Remover"})]})]})})]}),Ce<ne.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},Q.id))})]})})]})})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),(()=>{const Ce={PENDENTE_ASSINATURA:{label:"Pendente de Assinatura",cls:"bg-yellow-100 text-yellow-800"},ASSINADO_N_N:{label:"Assinado (parcial)",cls:"bg-blue-100 text-blue-800"},CONCLUIDO:{label:"Concluído",cls:"bg-green-100 text-green-800"}}[d.statusEtapa]||{label:"Indefinido",cls:"bg-gray-100 text-gray-800"};return e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${Ce.cls}`,children:Ce.label})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[d.sla.prazoDiasUteis," dias úteis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date(Date.now()+d.sla.prazoDiasUteis*24*60*60*1e3).toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),d.statusEtapa==="CONCLUIDO"&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(Re,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[d.sla.decorridosDiasUteis," dias úteis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:(()=>{const Q=d.sla.prazoDiasUteis-d.sla.decorridosDiasUteis,Ce=Q<0,_=Q<=2&&Q>=0,R=d.statusEtapa==="CONCLUIDO";let te="text-green-600",fe="dias restantes";return R?(te="text-green-600",fe="etapa finalizada"):Ce?(te="text-red-600",fe="dias em atraso"):_&&(te="text-amber-600",fe="dias restantes (urgente)"),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-4xl font-extrabold ${te} mb-2`,children:R?"✓":Math.abs(Q)}),e.jsx("div",{className:`text-sm font-medium ${te}`,children:fe})]})})()}),(()=>{const Q=new Date().toISOString(),Ce=new Date(Date.now()+d.sla.prazoDiasUteis*24*60*60*1e3).toISOString();return e.jsx(xu,{startISO:Q,endISO:Ce,className:"space-y-2"})})()]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const Q=[];Q.push({id:"assinantes",label:I>0?"Assinantes selecionados":"Selecionar assinantes",status:I>0?"completed":"pending",description:I>0?`${I} assinante(s) selecionado(s)`:"Nenhum assinante foi selecionado"}),Q.push({id:"coleta",label:ee===100?"Assinaturas concluídas":"Coletar assinaturas restantes",status:ee===100?"completed":ee>0?"warning":"pending",description:ee===100?"Todas as assinaturas foram coletadas":`${W} de ${I} assinaturas coletadas`});const Ce=Q.filter(R=>R.status==="completed").length,_=Q.length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[Ce,"/",_]})]})})()]}),(()=>{const Q=[];Q.push({id:"assinantes",label:I>0?"Assinantes selecionados":"Selecionar assinantes",status:I>0?"completed":"pending",description:I>0?`${I} assinante(s) selecionado(s)`:"Nenhum assinante foi selecionado"}),Q.push({id:"coleta",label:ee===100?"Assinaturas concluídas":"Coletar assinaturas restantes",status:ee===100?"completed":ee>0?"warning":"pending",description:ee===100?"Todas as assinaturas foram coletadas":`${W} de ${I} assinaturas coletadas`});const Ce={warning:0,pending:1,completed:2},_=Q.sort((ce,Le)=>Ce[ce.status]-Ce[Le.status]),[R,te]=Z.useState("all"),[fe,Ie]=Z.useState(""),X={total:_.length,completed:_.filter(ce=>ce.status==="completed").length,open:_.filter(ce=>ce.status!=="completed").length},me=X.total===0?0:Math.round(X.completed/X.total*100),V=_.filter(ce=>{if(R==="open"&&ce.status==="completed"||R==="completed"&&ce.status!=="completed")return!1;if(!fe.trim())return!0;const Le=fe.toLowerCase();return ce.label.toLowerCase().includes(Le)||(ce.description||"").toLowerCase().includes(Le)}),ie=ce=>ce==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[me,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[X.total," itens"]})]}),e.jsx(Fa,{value:me}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>te("all"),className:`px-2 py-1 rounded text-xs ${R==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>te("open"),className:`px-2 py-1 rounded text-xs ${R==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",X.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>te("completed"),className:`px-2 py-1 rounded text-xs ${R==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",X.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:fe,onChange:ce=>Ie(ce.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:V.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):V.map(ce=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:ie(ce.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:ce.label}),ce.description&&e.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]})]},ce.id))})]})})()]})]})]}),e.jsx(Do,{data:ue()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s,cardId:"comentarios-assinatura",title:"Comentários"})})}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:d.responsavelEtapa.nome||"Sem responsável definido"})]})]})}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[Pe&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),M()&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card3","data-testid":"btn-concluir-card3",onClick:()=>U(!0),disabled:!M()||S||!q||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!q||d.statusEtapa==="CONCLUIDO")&&e.jsx(St,{children:e.jsx("p",{children:q?"Etapa já concluída":"Aguarde todas as assinaturas para concluir."})})]})}),D&&e.jsxs(C,{variant:"outline",onClick:()=>{const Q=d.assinantes.find(Ce=>Ce.email===(l==null?void 0:l.email)&&Ce.status==="PENDENTE");Q&&(N(Q),j(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),D&&e.jsxs(C,{onClick:()=>{const Q=d.assinantes.find(Ce=>Ce.email===(l==null?void 0:l.email)&&Ce.status==="PENDENTE");Q&&(N(Q),v(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})})]})]}),e.jsx(Ke,{open:y,onOpenChange:v,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:w==null?void 0:w.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:w==null?void 0:w.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["DFD - Versão Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),e.jsx(C,{onClick:ge,disabled:g,className:"bg-purple-600 hover:bg-purple-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Assinando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})})]})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Confirme o cancelamento da assinatura pendente."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:w==null?void 0:w.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:w==null?void 0:w.cargo})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"motivo",className:"text-sm font-medium",children:"Motivo do Cancelamento (opcional)"}),e.jsx(xt,{id:"motivo",value:E,onChange:Q=>A(Q.target.value),placeholder:"Informe o motivo do cancelamento...",className:"min-h-[80px]"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),children:"Voltar"}),e.jsx(C,{onClick:Ne,disabled:g,variant:"destructive",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})})]})]})}),e.jsx(Ke,{open:P,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o documento."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Usuários Disponíveis"}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:b2.filter(Q=>!d.assinantes.some(Ce=>Ce.email===Q.email)).map(Q=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsx($t,{id:Q.id,checked:T.includes(Q.id),onCheckedChange:Ce=>{k(Ce?[...T,Q.id]:T.filter(_=>_!==Q.id))}}),e.jsxs(B,{htmlFor:Q.id,className:"text-sm flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium",children:Q.nome}),e.jsx("div",{className:"text-xs text-gray-500",children:Q.cargo})]})]},Q.id))})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(C,{onClick:et,disabled:g||T.length===0,className:"bg-purple-600 hover:bg-purple-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar (",T.length,")"]})})]})]})}),e.jsx(Ke,{open:L,onOpenChange:U,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-indigo-600"}),"Concluir etapa – Assinatura do DFD"]}),e.jsx(tt,{children:"Deseja concluir esta etapa? Isso avançará o processo para a próxima fase."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Etapa 3:"})," Assinatura do DFD"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Gerência responsável: Secretaria Executiva (SE)"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Assinaturas: ",W,"/",I," concluídas"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao-conclusao",children:"Observações de conclusão (opcional)"}),e.jsx(xt,{id:"observacao-conclusao",value:Y,onChange:Q=>K(Q.target.value),placeholder:"Adicione observações sobre a conclusão desta etapa...",rows:3,maxLength:500})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:F,onCheckedChange:Q=>O(!!Q)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao concluir esta etapa, o card será bloqueado para edição e a próxima etapa do fluxo será habilitada."]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>U(!1),disabled:S,children:"Cancelar"}),e.jsx(C,{onClick:Me,disabled:S,className:"bg-green-600 hover:bg-green-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const rZ=t=>({numeroDFD:(t==null?void 0:t.numeroDFD)||"DFD 006/2025",objeto:(t==null?void 0:t.objeto)||"Aquisição de equipamentos de informática para modernização dos sistemas da GSP",regimeTramitacao:(t==null?void 0:t.regimeTramitacao)||"ORDINARIO",observacoes:"",cidadeDataEmissao:"Brasília, 15 de janeiro de 2025",responsaveis:[],status:"PENDENTE",criadoEm:"2025-01-15T10:00:00Z",atualizadoEm:"2025-01-15T10:00:00Z"}),j2=[{id:"user1",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"user2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@hospital.gov.br"},{id:"user3",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",gerencia:"NAJ - Assessoria Jurídica",email:"gabriel.radamesis@hospital.gov.br"},{id:"user4",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Gerente de Suprimentos e Logística",gerencia:"GSL - Gerência de Suprimentos e Logística",email:"lara.fraguas@hospital.gov.br"},{id:"user5",nome:"Maria Eduarda Silva Santos",cargo:"Gerente de Recursos Humanos",gerencia:"GRH - Gerência de Recursos Humanos",email:"maria.santos@hospital.gov.br"},{id:"user6",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística",email:"guilherme.silva@hospital.gov.br"},{id:"user7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",gerencia:"GUE - Gerência de Urgência e Emergência",email:"andressa.silva@hospital.gov.br"},{id:"user8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos",email:"leticia.guilherme@hospital.gov.br"},{id:"user9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira e Contábil",email:"dallas.souza@hospital.gov.br"},{id:"user10",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",email:"georgia.pereira@hospital.gov.br"}],nZ=[{id:"comentario1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Analista de Projetos - GSP",data:"2025-01-15T10:00:00Z",texto:"Iniciando elaboração do despacho conforme solicitado."}];function oZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var et;const{user:l}=Dt(),{podeEditarCard:c,isGSP:u,isGSPouSE:d}=$a(),{toast:h}=Kt(),[x,f]=m.useState(()=>rZ(n));m.useState(nZ),m.useState("");const[g,p]=m.useState(!1),[y,v]=m.useState([]),[b,j]=m.useState(!1),[w,N]=m.useState(""),[E,A]=m.useState(!0),[P,z]=m.useState(null),[T,k]=m.useState(!1),[L,U]=m.useState(null);m.useRef(null);const[Y,K]=m.useState([]),[F,O]=m.useState(null),[S,$]=m.useState(!1),[H,J]=m.useState(!1),[re,le]=m.useState([]),[we,ke]=m.useState("desc"),he=Z.useRef(null),ae=Z.useMemo(()=>{const se=[...re];return se.sort((ze,_e)=>new Date(_e.uploadedAt).getTime()-new Date(ze.uploadedAt).getTime()),we==="asc"&&se.reverse(),se},[re,we]),be=se=>{if(!se){h({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(se,"_blank"))throw new Error("Popup bloqueado")}catch{h({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},xe={prazoDiasUteis:3,decorridosDiasUteis:0,badge:"Em Dia"},ne=Y.length,Ae=Y.filter(se=>se.status==="ASSINADO").length,ye=ne>0?Ae/ne*100:0,Be=()=>{var _e,Q;const se=[];return x.status==="GERADO"&&x.atualizadoEm&&se.push({id:"despacho-gerado",status:"versao",title:"Despacho gerado",author:{name:(l==null?void 0:l.nome)||"Usuário"},createdAt:x.atualizadoEm}),x.status==="ASSINADO"&&((_e=x.assinadoPor)!=null&&_e.dataAssinatura)&&se.push({id:"despacho-assinado",status:"aprovado",title:"Despacho assinado",author:{name:((Q=x.assinadoPor)==null?void 0:Q.nome)||"Usuário"},createdAt:x.assinadoPor.dataAssinatura}),Y.forEach(Ce=>{Ce.assinadoEm&&se.push({id:`assinatura-${Ce.id}`,status:"aprovado",title:"Assinatura registrada",author:{name:Ce.nome},createdAt:Ce.assinadoEm})}),[...re].sort((Ce,_)=>new Date(_.uploadedAt).getTime()-new Date(Ce.uploadedAt).getTime()).slice(0,2).forEach(Ce=>{se.push({id:`anexo-${Ce.id}`,status:"anexo",title:`Anexo adicionado: ${Ce.name}`,author:{name:Ce.uploadedBy||"Usuário"},createdAt:Ce.uploadedAt})}),se.sort((Ce,_)=>new Date(_.createdAt).getTime()-new Date(Ce.createdAt).getTime())},de=(l==null?void 0:l.gerencia)&&(l.gerencia.includes("GSP")||l.gerencia.includes("SE"))&&o,Te=(l==null?void 0:l.gerencia)&&l.gerencia.includes("SE"),Pe=se=>{if(!l){h({title:"Erro",description:"Usuário não encontrado. Faça login novamente.",variant:"destructive"});return}const ze={name:se.name,size:`${(se.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:l.nome,uploadedByCargo:l.cargo,uploadedByGerencia:l.gerencia,uploadedByEmail:l.email};z(ze),localStorage.setItem(`despacho-arquivo-${t}`,JSON.stringify(ze)),h({title:"Arquivo enviado",description:`${se.name} foi enviado com sucesso.`})},D=()=>{L&&(Pe(L),U(null),k(!1))},M=()=>{U(null),k(!1)};m.useEffect(()=>{const se=localStorage.getItem(`despacho-arquivo-${t}`);if(se)try{const ze=JSON.parse(se);z(ze)}catch(ze){console.error("Erro ao carregar arquivo de despacho salvo:",ze)}},[t]),m.useEffect(()=>{n&&f(se=>({...se,numeroDFD:n.numeroDFD||se.numeroDFD,objeto:n.objeto||se.objeto,regimeTramitacao:n.regimeTramitacao||se.regimeTramitacao}))},[n]);const q=async()=>{p(!0);try{const se={...x,atualizadoEm:new Date().toISOString()};f(se),r&&r(se),h({title:"Despacho salvo",description:"Dados do despacho salvos com sucesso."})}catch{h({title:"Erro",description:"Erro ao salvar despacho.",variant:"destructive"})}finally{p(!1)}},W=async()=>{if(!Te){h({title:"Permissão negada",description:"Apenas usuários da Secretaria Executiva podem assinar o despacho.",variant:"destructive"});return}p(!0);try{const se={...x,status:"ASSINADO",assinadoPor:{id:(l==null?void 0:l.email)||"",nome:(l==null?void 0:l.nome)||"",cargo:(l==null?void 0:l.cargo)||"",dataAssinatura:new Date().toISOString()},atualizadoEm:new Date().toISOString()};f(se),h({title:"Despacho assinado",description:"Despacho assinado com sucesso pela Secretaria Executiva."})}catch{h({title:"Erro",description:"Erro ao assinar despacho.",variant:"destructive"})}finally{p(!1)}},I=()=>{if(x.status==="PENDENTE"){h({title:"Despacho não gerado",description:"Gere o despacho antes de fazer o download.",variant:"destructive"});return}h({title:"Download iniciado",description:`Download do arquivo ${x.documentoNome} iniciado.`})},ee=async()=>{if(x.status!=="ASSINADO"){h({title:"Despacho não assinado",description:"O despacho deve estar assinado para concluir a etapa.",variant:"destructive"});return}p(!0);try{await new Promise(se=>setTimeout(se,1e3)),a&&a({...x,observacaoConclusao:w,notificarPartes:E}),j(!1),h({title:"Etapa concluída",description:"Etapa Despacho do DFD concluída com sucesso."})}catch{h({title:"Erro",description:"Erro ao concluir etapa.",variant:"destructive"})}finally{p(!1)}},ue=async()=>{if(y.length!==0){p(!0);try{await new Promise(ze=>setTimeout(ze,1e3));const se=y.map(ze=>{const _e=j2.find(Q=>Q.id===ze);return{id:`assinante-${Date.now()}-${ze}`,nome:(_e==null?void 0:_e.nome)||"",cargo:(_e==null?void 0:_e.cargo)||"",email:(_e==null?void 0:_e.email)||"",status:"PENDENTE"}});K(ze=>[...ze,...se]),J(!1),v([]),h({title:"Assinantes adicionados",description:`${se.length} assinante(s) adicionado(s) com sucesso.`})}catch{h({title:"Erro ao adicionar",description:"Não foi possível adicionar os assinantes.",variant:"destructive"})}finally{p(!1)}}},G=se=>{K(ze=>ze.filter(_e=>_e.id!==se)),h({title:"Assinante removido",description:"O assinante foi removido com sucesso."})},ge=async()=>{if(F){p(!0);try{await new Promise(se=>setTimeout(se,1e3)),K(se=>se.map(ze=>ze.id===F.id?{...ze,status:"CANCELADO"}:ze)),O(null),$(!1),h({title:"Assinatura cancelada",description:`A assinatura de ${F.nome} foi cancelada.`})}catch{h({title:"Erro ao cancelar assinatura",description:"Não foi possível cancelar a assinatura.",variant:"destructive"})}finally{p(!1)}}},Ne=se=>{switch(se){case"PENDENTE":return{label:"Despacho Pendente",color:"bg-gray-100 text-gray-800",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"GERADO":return{label:"Despacho Gerado",color:"bg-blue-100 text-blue-800",icon:e.jsx(si,{className:"w-3 h-3"})};case"ASSINADO":return{label:"Despacho Assinado",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"CANCELADO":return{label:"Despacho Cancelado",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},Me=se=>{switch(se){case"PENDENTE":return{label:"Pendente",icon:e.jsx(Fe,{className:"w-3 h-3 mr-1"}),bgColor:"bg-yellow-100",textColor:"text-yellow-800",borderColor:"border-yellow-200"};case"ASSINADO":return{label:"Assinado",icon:e.jsx(Re,{className:"w-3 h-3 mr-1"}),bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};case"CANCELADO":return{label:"Cancelado",icon:e.jsx(qe,{className:"w-3 h-3 mr-1"}),bgColor:"bg-red-100",textColor:"text-red-800",borderColor:"border-red-200"};default:return{label:"Desconhecido",icon:e.jsx(Ss,{className:"w-3 h-3 mr-1"}),bgColor:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-gray-200"}}};return Ne(x.status),e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"w-full px-2 space-y-6",children:[e.jsx("section",{id:"formulario-despacho",className:"w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(si,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulário do Despacho"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulário"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroDFD",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Vd,{className:"w-4 h-4"}),"Número do DFD"]}),e.jsx(De,{id:"numeroDFD",value:x.numeroDFD,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto"]}),e.jsx(xt,{id:"objeto",value:x.objeto,readOnly:!0,className:"w-full min-h-[80px] resize-none bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"regimeTramitacao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Regime de Tramitação"]}),e.jsx(De,{id:"regimeTramitacao",value:x.regimeTramitacao==="URGENCIA"?"Urgência":"Ordinário",readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observações *"]}),e.jsx(of,{value:x.observacoes,onChange:se=>f({...x,observacoes:se}),placeholder:"Descreva as observações do despacho...",disabled:!de||x.status!=="PENDENTE",className:"min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300",minHeight:"100px",processoId:t,etapaId:s.toString(),cardId:"observacoes-despacho"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"cidadeDataEmissao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Cidade/Data de emissão"]}),e.jsx(De,{id:"cidadeDataEmissao",value:x.cidadeDataEmissao,onChange:se=>f({...x,cidadeDataEmissao:se.target.value}),placeholder:"Ex: Brasília, 15 de janeiro de 2025",disabled:!de||x.status!=="PENDENTE",className:"w-full border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsx("div",{className:"w-full p-4",children:e.jsx(lf,{value:x.responsaveis,onChange:se=>f({...x,responsaveis:se||[]}),disabled:!de||x.status!=="PENDENTE",canEdit:de&&x.status==="PENDENTE",processoId:t,className:"w-full",label:"Responsáveis pelo Despacho *"})})]})]})}),e.jsx("section",{id:"gerenciamento",className:"w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{className:"space-y-4",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[d&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>J(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),Y.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"max-h-[320px] overflow-y-auto space-y-2",children:Y.map(se=>{const ze=Me(se.status),Q=xe.prazoDiasUteis-xe.decorridosDiasUteis<=2;return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:se.nome}),e.jsxs(oe,{className:`${ze.bgColor} ${ze.textColor} ${ze.borderColor} text-xs`,children:[ze.icon,e.jsx("span",{className:"ml-1",children:ze.label})]}),Q]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:se.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:se.email}),se.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(se.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[d&&se.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>G(se.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),se.status==="PENDENTE"&&(se.email===(l==null?void 0:l.email)||d)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{O(se),$(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},se.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Ae," de ",ne," assinaturas concluídas"]})]}),e.jsx(Fa,{value:ye,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ye===100?"Todas as assinaturas concluídas":"Aguardando assinaturas restantes"})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:he,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:se=>{var _e;const ze=(_e=se.target.files)==null?void 0:_e[0];ze&&(le(Q=>[{id:`a-${Date.now()}`,name:ze.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...Q]),se.target&&(se.target.value=""),h({title:"Anexo adicionado",description:`${ze.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var se;return(se=he.current)==null?void 0:se.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:re.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:we,onChange:se=>ke(se.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),re.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${re.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:ae.map((se,ze)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:se.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[se.uploadedBy," • ",Je(se.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[se.uploadedBy," • ",Je(se.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>be(se.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>le(_e=>_e.filter(Q=>Q.id!==se.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ze<ae.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},se.id))})]})})]})})]})}),e.jsxs("div",{className:"card-shell min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),(()=>{const ze={PENDENTE:{label:"Pendente",cls:"bg-yellow-100 text-yellow-800"},GERADO:{label:"Gerado",cls:"bg-blue-100 text-blue-800"},ASSINADO:{label:"Assinado",cls:"bg-green-100 text-green-800"},CANCELADO:{label:"Cancelado",cls:"bg-red-100 text-red-800"}}[x.status]||{label:"Indefinido",cls:"bg-gray-100 text-gray-800"};return e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${ze.cls}`,children:ze.label})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[xe.prazoDiasUteis," dias úteis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date(Date.now()+xe.prazoDiasUteis*24*60*60*1e3).toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:(()=>{const se=xe.prazoDiasUteis-xe.decorridosDiasUteis;let ze="text-green-600";return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-4xl font-extrabold ${ze} mb-2`,children:Math.abs(se)}),e.jsx("div",{className:`text-sm font-medium ${ze}`,children:"dias restantes"})]})})()}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{className:"text-xs text-slate-500",children:"Progresso Temporal"})}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 cursor-help",children:(()=>{const se=Math.max(1,xe.prazoDiasUteis),ze=Math.max(0,Math.min(xe.decorridosDiasUteis,se)),_e=Math.round(ze/se*100);let Q="bg-emerald-500";return _e>=71&&_e<=99?Q="bg-amber-500":_e>=100&&(Q="bg-red-500"),e.jsx("div",{className:`h-3 rounded-full transition-all ${Q}`,style:{width:`${Math.min(_e,100)}%`}})})()})}),e.jsx(St,{children:e.jsxs("p",{children:[xe.decorridosDiasUteis," de ",xe.prazoDiasUteis," dias úteis decorridos"]})})]})}),e.jsx("div",{className:"flex justify-between text-xs text-slate-500",children:e.jsxs("span",{children:["Decorridos: ",xe.decorridosDiasUteis," / ",xe.prazoDiasUteis," dias úteis"]})})]})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const se=[];se.push({id:"responsaveis",label:x.responsaveis.length>0?"Responsáveis definidos":"Selecionar responsáveis",status:x.responsaveis.length>0?"completed":"pending",description:x.responsaveis.length>0?`${x.responsaveis.length} responsável(is) selecionado(s)`:"Nenhum responsável selecionado"}),se.push({id:"geracao",label:x.status!=="PENDENTE"?"Despacho gerado":"Gerar despacho",status:x.status!=="PENDENTE"?"completed":"pending",description:x.documentoNome?x.documentoNome:"Documento ainda não gerado"}),se.push({id:"assinatura",label:x.status==="ASSINADO"?"Assinatura concluída":"Coletar assinatura",status:x.status==="ASSINADO"?"completed":x.status==="GERADO"?"warning":"pending",description:x.status==="ASSINADO"?"Despacho assinado":x.status==="GERADO"?"Aguardando assinatura da SE":"Gere o despacho para assinar"});const ze=se.filter(_e=>_e.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ze,"/",se.length]})]})})()]}),(()=>{const se=[];se.push({id:"responsaveis",label:x.responsaveis.length>0?"Responsáveis definidos":"Selecionar responsáveis",status:x.responsaveis.length>0?"completed":"pending",description:x.responsaveis.length>0?`${x.responsaveis.length} responsável(is) selecionado(s)`:"Nenhum responsável selecionado"}),se.push({id:"geracao",label:x.status!=="PENDENTE"?"Despacho gerado":"Gerar despacho",status:x.status!=="PENDENTE"?"completed":"pending",description:x.documentoNome?x.documentoNome:"Documento ainda não gerado"}),se.push({id:"assinatura",label:x.status==="ASSINADO"?"Assinatura concluída":"Coletar assinatura",status:x.status==="ASSINADO"?"completed":x.status==="GERADO"?"warning":"pending",description:x.status==="ASSINADO"?"Despacho assinado":x.status==="GERADO"?"Aguardando assinatura da SE":"Gere o despacho para assinar"});const ze={warning:0,pending:1,completed:2},_e=se.sort((me,V)=>ze[me.status]-ze[V.status]),[Q,Ce]=Z.useState("all"),[_,R]=Z.useState(""),te={total:_e.length,completed:_e.filter(me=>me.status==="completed").length,open:_e.filter(me=>me.status!=="completed").length},fe=te.total===0?0:Math.round(te.completed/te.total*100),Ie=_e.filter(me=>{if(Q==="open"&&me.status==="completed"||Q==="completed"&&me.status!=="completed")return!1;if(!_.trim())return!0;const V=_.toLowerCase();return me.label.toLowerCase().includes(V)||(me.description||"").toLowerCase().includes(V)}),X=me=>me==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[fe,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[te.total," itens"]})]}),e.jsx(Fa,{value:fe}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>Ce("all"),className:`px-2 py-1 rounded text-xs ${Q==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>Ce("open"),className:`px-2 py-1 rounded text-xs ${Q==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",te.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>Ce("completed"),className:`px-2 py-1 rounded text-xs ${Q==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",te.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:_,onChange:me=>R(me.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Ie.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Ie.map(me=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:X(me.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:me.label}),me.description&&e.jsx("div",{className:"text-xs text-slate-500",children:me.description})]})]},me.id))})]})})()]})]})]}),e.jsx(Do,{data:Be()}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-despacho",title:"Comentários"})})}),e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:((et=x.responsaveis[0])==null?void 0:et.nome)||"Sem responsável definido"})]})]})}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[de&&x.status==="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:q,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),Te&&x.status==="GERADO"&&e.jsxs(C,{onClick:W,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Despacho"]}),x.status!=="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:I,children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:()=>j(!0),disabled:x.status!=="ASSINADO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})}),x.status!=="ASSINADO"&&e.jsx(St,{children:e.jsx("p",{children:"Aguarde o despacho ser assinado para concluir."})})]})})]})})]})]}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Despacho do DFD para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observações de conclusão (opcional)"}),e.jsx(xt,{id:"observacao",value:w,onChange:se=>N(se.target.value),placeholder:"Adicione observações sobre a conclusão da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:E,onCheckedChange:se=>A(se)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao concluir esta etapa, o card será bloqueado para edição e a próxima etapa do fluxo será habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),disabled:g,children:"Cancelar"}),e.jsx(C,{onClick:ee,disabled:g,className:"bg-green-600 hover:bg-green-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})}),e.jsx(Ke,{open:T,onOpenChange:k,children:e.jsxs(Ye,{className:"sm:max-w-[400px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5 text-yellow-600"}),"Substituir Documento"]}),e.jsx(tt,{children:"Deseja substituir o documento de despacho existente por um novo?"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(ia,{children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao substituir o documento, o arquivo anterior será removido."]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:M,disabled:g,children:"Cancelar"}),e.jsx(C,{onClick:D,disabled:g,className:"bg-yellow-600 hover:bg-yellow-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Substituindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Substituir Documento"]})})]})]})}),e.jsx(Ke,{open:H,onOpenChange:J,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o documento."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Usuários Disponíveis"}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:j2.filter(se=>!Y.some(ze=>ze.email===se.email)).map(se=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsx($t,{id:se.id,checked:y.includes(se.id),onCheckedChange:ze=>{v(ze?[...y,se.id]:y.filter(_e=>_e!==se.id))}}),e.jsxs(B,{htmlFor:se.id,className:"text-sm flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium",children:se.nome}),e.jsx("div",{className:"text-xs text-gray-500",children:se.cargo})]})]},se.id))})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>J(!1),children:"Cancelar"}),e.jsx(C,{onClick:ue,disabled:g||y.length===0,className:"bg-purple-600 hover:bg-purple-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar (",y.length,")"]})})]})]})}),e.jsx(Ke,{open:S,onOpenChange:$,children:e.jsxs(Ye,{className:"sm:max-w-[400px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsxs(tt,{children:["Deseja cancelar a assinatura de ",F==null?void 0:F.nome,"?"]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(ia,{children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao cancelar a assinatura, a etapa será marcada como concluída, mas a assinatura será removida."]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>$(!1),disabled:g,children:"Cancelar"}),e.jsx(C,{onClick:ge,disabled:g,className:"bg-red-600 hover:bg-red-700",children:g?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]})})]})]})})]})})}function iZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=Dt();$a();const{toast:l}=Kt(),{dfdData:c,addAnnex:u,removeAnnex:d,updateObservations:h}=cf(t),[x,f]=m.useState(""),[g,p]=m.useState(""),[y,v]=m.useState([]),[b,j]=m.useState(!1),[w,N]=m.useState(!1),[E,A]=m.useState("");m.useState("documentos");const[P,z]=m.useState(!1),[T,k]=m.useState(null);m.useState("");const[L,U]=m.useState([]),[Y,K]=m.useState(0),[F,O]=m.useState(""),S=5,$=m.useRef(null),H=m.useRef(null),J=()=>{const G=(i==null?void 0:i.gerencia)==="NAJ - Assessoria Jurídica",ge=(i==null?void 0:i.nome)==="Gabriel Radamesis Gomes Nascimento";return console.log("Debug NAJ Check:",{userName:i==null?void 0:i.nome,userGerencia:i==null?void 0:i.gerencia,isNAJGerencia:G,isGabrielRadamesis:ge}),G},re=()=>!!J(),le=(G,ge)=>{let Ne=0;const Me=new Date(G.getTime());for(;Me<=ge;){const et=Me.getDay();et!==0&&et!==6&&Ne++,Me.setDate(Me.getDate()+1)}return Ne},we=()=>{const G=[];return x.trim()||G.push("Análise Jurídica Preliminar é obrigatória"),v(G),G.length===0},ke=()=>{if(!we()){l({title:"Erro de Validação",description:"Por favor, preencha a Análise Jurídica Preliminar.",variant:"destructive"});return}j(!0)},he=()=>{if(!E.trim()){l({title:"Erro",description:"A justificativa das ressalvas é obrigatória.",variant:"destructive"});return}const G=new Date().toISOString();p(G);const ge={texto:x,analisadoEm:G,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usuário",cargo:(i==null?void 0:i.cargo)||""},justificativa:E,status:"DEVOLVIDA_CORRECAO"};localStorage.setItem(`analise-juridica-${t}`,JSON.stringify(ge)),z(!0);const Ne={id:`interacao-${Date.now()}`,setor:"NAJ - Assessoria Jurídica",responsavel:(i==null?void 0:i.nome)||"Usuário",dataHora:G,resultado:"DEVOLVIDA_CORRECAO",justificativa:E,parecer:x};U(Me=>[...Me,Ne]),localStorage.setItem(`interacoes-analise-juridica-${t}`,JSON.stringify([...L,Ne])),r(c),l({title:"Encaminhamento Realizado",description:"O edital foi encaminhado para cumprimento de ressalvas e o card 'Cumprimento de Ressalvas' foi criado."}),j(!1),A("")},ae=()=>{if(!we()){l({title:"Erro de Validação",description:"Por favor, preencha a Análise Jurídica Preliminar.",variant:"destructive"});return}N(!0)},be=()=>{const G=new Date().toISOString();p(G);const ge={texto:x,analisadoEm:G,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usuário",cargo:(i==null?void 0:i.cargo)||""},status:"ANALISE_FAVORAVEL"};localStorage.setItem(`analise-juridica-${t}`,JSON.stringify(ge)),z(!0);const Ne={id:`interacao-${Date.now()}`,setor:"NAJ - Assessoria Jurídica",responsavel:(i==null?void 0:i.nome)||"Usuário",dataHora:G,resultado:"ANALISE_FAVORAVEL",parecer:x};U(Me=>[...Me,Ne]),localStorage.setItem(`interacoes-analise-juridica-${t}`,JSON.stringify([...L,Ne])),a(c),l({title:"Aprovação Realizada",description:"A análise jurídica foi aprovada integralmente e a próxima etapa foi liberada."}),N(!1)},xe=G=>{var Ne;const ge=(Ne=G.target.files)==null?void 0:Ne[0];if(ge){const Me={name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário"};k(Me),localStorage.setItem(`edital-arquivo-${t}`,JSON.stringify(Me)),l({title:"Arquivo do Edital enviado",description:`${ge.name} foi enviado com sucesso.`})}G.target&&(G.target.value="")},ne=()=>{if(!T){l({title:"Nenhum arquivo",description:"Nenhum arquivo do edital foi enviado ainda.",variant:"destructive"});return}l({title:"Download Iniciado",description:`O arquivo ${T.name} está sendo baixado.`})},Ae=()=>{k(null),localStorage.removeItem(`edital-arquivo-${t}`),l({title:"Arquivo removido",description:"O arquivo do edital foi removido com sucesso."})},ye=G=>{var Ne;const ge=(Ne=G.target.files)==null?void 0:Ne[0];if(ge){const Me={id:`anexo-${Date.now().toString()}`,name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",url:`mock-url-${Date.now().toString()}`};u(Me),l({title:"Anexo adicionado",description:`${ge.name} foi anexado com sucesso.`})}G.target&&(G.target.value="")};m.useEffect(()=>{const G=localStorage.getItem(`analise-juridica-${t}`);if(G)try{const Me=JSON.parse(G);f(Me.texto||""),p(Me.analisadoEm||""),z(!0)}catch(Me){console.error("Erro ao carregar análise salva:",Me)}const ge=localStorage.getItem(`edital-arquivo-${t}`);if(ge)try{const Me=JSON.parse(ge);k(Me)}catch(Me){console.error("Erro ao carregar arquivo do edital salvo:",Me)}const Ne=localStorage.getItem(`interacoes-analise-juridica-${t}`);if(Ne)try{const Me=JSON.parse(Ne);U(Me)}catch(Me){console.error("Erro ao carregar interações salvas:",Me)}K(2),O((i==null?void 0:i.nome)||"Sem responsável definido")},[t,i==null?void 0:i.nome]);const Be=Je,de=Es,Te=G=>{switch(G){case"AGUARDANDO_ANALISE":return{label:"Aguardando Análise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"APROVADA_COM_RESSALVAS":return{label:"Aprovada com Ressalvas",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(pt,{className:"w-3 h-3"})};case"DEVOLVIDA_CORRECAO":return{label:"Devolvida para Correção",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};case"ANALISE_FAVORAVEL":return{label:"Análise Favorável",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}},Pe=G=>G===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:G<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:G<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"},D=()=>Y==null?null:S-Y,M=()=>{const G=[];return L.forEach(Ne=>{const Me=Ne.resultado==="ANALISE_FAVORAVEL"?"aprovado":Ne.resultado==="DEVOLVIDA_CORRECAO"?"devolvido":"versao";G.push({id:`int-${Ne.id}`,status:Me,title:`${Te(Ne.resultado).label}`,author:{name:Ne.responsavel},createdAt:Ne.dataHora})}),[...c.annexes].sort((Ne,Me)=>new Date(Me.uploadedAt).getTime()-new Date(Ne.uploadedAt).getTime()).slice(0,2).forEach(Ne=>{G.push({id:`anexo-${Ne.id}`,status:"anexo",title:`Anexo adicionado: ${Ne.name}`,author:{name:Ne.uploadedBy||"Usuário"},createdAt:Ne.uploadedAt})}),G.sort((Ne,Me)=>new Date(Me.createdAt).getTime()-new Date(Ne.createdAt).getTime())},q=()=>{const G=new Date(ue),ge=new Date(ee(ue,S)),Ne=Math.max(1,le(G,ge)),et=Math.min(Ne,le(G,new Date));return{percent:Math.min(100,Math.round(et/Ne*100)),total:Ne,passados:et}},W=()=>{const G=L.some(Ne=>Ne.resultado==="ANALISE_FAVORAVEL"),ge=L.some(Ne=>Ne.resultado==="DEVOLVIDA_CORRECAO");return G?"Concluída":ge?"Em ressalvas":"Em análise"},I=G=>{switch(G){case"Concluída":return"bg-green-100 text-green-800";case"Em ressalvas":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},ee=(G,ge)=>{const Ne=new Date(G);let Me=0;for(;Me<ge;){Ne.setDate(Ne.getDate()+1);const et=Ne.getDay();et>=1&&et<=5&&Me++}return Ne.toISOString()},ue=(()=>{const G=new Date;return G.setDate(G.getDate()-Math.max(0,Y)),G.toISOString()})();return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"cards-gap",children:[e.jsx("section",{id:"analise-juridica",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell overflow-hidden",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(xd,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Análise Jurídica Preliminar"})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsx(xt,{id:"analise-juridica-textarea",value:x,onChange:G=>f(G.target.value),placeholder:"Descreva a análise preliminar do edital...",disabled:!re(),className:"min-h-[320px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})}),y.includes("Análise Jurídica Preliminar é obrigatória")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Análise Jurídica Preliminar é obrigatória"})]}),g&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Análise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:Be(g)})})]}),e.jsx("input",{ref:H,type:"file",onChange:xe,accept:"*/*",className:"hidden"}),T&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:T.name}),e.jsxs("p",{className:"text-xs text-blue-600",children:[T.size," • ",Be(T.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",onClick:ne,className:"h-6 w-6 p-0",children:e.jsx(bt,{className:"w-3 h-3"})}),J()&&e.jsx(C,{size:"sm",variant:"outline",onClick:Ae,className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-3 h-3"})})]})]})})]})]})})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[420px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Revisões"]})}),e.jsx("div",{className:"p-4",children:L.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma revisão registrada"})]}):e.jsx("div",{className:"space-y-3 max-h-[420px] overflow-y-auto",children:[...L].slice().reverse().map((G,ge)=>{const Ne=Te(G.resultado),Me=L.length-ge;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["R",Me]}),e.jsxs(oe,{className:`text-xs font-medium ${Ne.color}`,children:[Ne.icon,e.jsx("span",{className:"ml-1",children:Ne.label})]})]})}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Setor:"})," ",G.setor]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Responsável:"})," ",G.responsavel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data:"})," ",de(G.dataHora)]}),G.justificativa&&e.jsxs("p",{children:[e.jsx("strong",{children:"Justificativa:"})," ",G.justificativa]})]})]},G.id)})})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[420px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsxs("div",{className:"p-4",children:[re()&&e.jsxs("div",{className:"w-full mb-3",children:[e.jsx("input",{ref:$,type:"file",onChange:ye,accept:".docx,.xlsx,.pdf,.odt,.csv,.png,.jpg,.txt",className:"hidden"}),e.jsxs(C,{onClick:()=>{var G;return(G=$.current)==null?void 0:G.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!re()&&e.jsx("p",{className:"text-sm text-gray-400 mt-1 text-center",children:"Apenas usuários autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[420px] overflow-y-auto":""} space-y-0`,children:c.annexes.map((G,ge)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:G.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[G.size," • ",Be(G.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),re()&&e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>d(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ge<c.annexes.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},G.id))})]})]})})]})})]})}),e.jsxs("section",{className:"col-span-12 w-full",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 min-h-[700px] mb-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"card-separator-green"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items中心 gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${I(W())}`,children:W()})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Be(ue)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Be(ue)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Be(ee(ue,S))})]})]})]})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const G=D(),ge=Qv(G);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${ge.text} mb-2`,children:G===null?"—":Math.abs(G)}),e.jsx("div",{className:`text-sm font-medium ${ge.text}`,children:ox(G)})]})})()}),e.jsx("div",{className:"space-y-2",children:(q(),e.jsx(xu,{startISO:ue,endISO:ee(ue,S)}))})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const G=[{id:"texto",label:x.trim()?"Análise preenchida":"Análise pendente",status:x.trim()?"completed":"pending",description:x.trim()?"Conteúdo preenchido":"Preencha a análise"},{id:"anexos",label:c.annexes.length>0?"Documentos anexados":"Documentos anexados (nenhum)",status:c.annexes.length>0?"completed":"pending",description:c.annexes.length>0?`${c.annexes.length} documento(s)`:"Nenhum anexo adicionado"},{id:"revisoes",label:L.length>0?"Revisões registradas":"Revisões (nenhuma)",status:L.length>0?"completed":"pending",description:L.length>0?`${L.length} revisão(ões)`:"Nenhuma revisão registrada"}],ge=G.filter(Ne=>Ne.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ge,"/",G.length]})]})})()]}),(()=>{const G=[{id:"texto",label:x.trim()?"Análise preenchida":"Análise pendente",status:x.trim()?"completed":"pending",description:x.trim()?"Conteúdo preenchido":"Preencha a análise"},{id:"anexos",label:c.annexes.length>0?"Documentos anexados":"Documentos anexados (nenhum)",status:c.annexes.length>0?"completed":"pending",description:c.annexes.length>0?`${c.annexes.length} documento(s)`:"Nenhum anexo adicionado"},{id:"revisoes",label:L.length>0?"Revisões registradas":"Revisões (nenhuma)",status:L.length>0?"completed":"pending",description:L.length>0?`${L.length} revisão(ões)`:"Nenhuma revisão registrada"}],ge={warning:0,pending:1,completed:2},Ne=G.sort((R,te)=>ge[R.status]-ge[te.status]),[Me,et]=Z.useState("all"),[se,ze]=Z.useState(""),_e={total:Ne.length,completed:Ne.filter(R=>R.status==="completed").length,open:Ne.filter(R=>R.status!=="completed").length},Q=_e.total===0?0:Math.round(_e.completed/_e.total*100),Ce=Ne.filter(R=>{if(Me==="open"&&R.status==="completed"||Me==="completed"&&R.status!=="completed")return!1;if(!se.trim())return!0;const te=se.toLowerCase();return R.label.toLowerCase().includes(te)||(R.description||"").toLowerCase().includes(te)}),_=R=>R==="completed"?e.jsx(ks,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Q,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[_e.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Q}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>et("all"),className:`px-2 py-1 rounded text-xs ${Me==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>et("open"),className:`px-2 py-1 rounded text-xs ${Me==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",_e.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>et("completed"),className:`px-2 py-1 rounded text-xs ${Me==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",_e.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:se,onChange:R=>ze(R.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Ce.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Ce.map(R=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:_(R.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:R.label}),R.description&&e.jsx("div",{className:"text-xs text-slate-500",children:R.description})]})]},R.id))})]})})()]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Do,{data:M()})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-analise-juridica",title:"Comentários"})})}),e.jsx("section",{className:"col-span-12 w-full",children:e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const G=D();return Pe(G).text})()}`,children:(()=>{const G=D();return G===null?"Sem prazo":G<0?`${Math.abs(G)} dias atrasado`:`${G} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:F||"Sem responsável"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs(C,{onClick:ke,variant:"outline",disabled:!J(),className:"border-red-200 text-red-700 hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Encaminhar para Cumprimento de Ressalvas"]}),e.jsxs(C,{onClick:ae,disabled:!J(),className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovação"]})]})})]})]})})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Encaminhamento para Cumprimento de Ressalvas"]}),e.jsxs(tt,{children:["Tem certeza que deseja encaminhar para cumprimento de ressalvas? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar a análise jurídica com justificativa"}),e.jsx("li",{children:'Criar automaticamente o card "Cumprimento de Ressalvas"'}),e.jsx("li",{children:"Encaminhar o fluxo para cumprimento de ressalvas"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa-devolucao",className:"text-sm font-medium",children:"Justificativa das Ressalvas *"}),e.jsx(xt,{id:"justificativa-devolucao",value:E,onChange:G=>A(G.target.value),placeholder:"Descreva as ressalvas que devem ser cumpridas...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),e.jsxs(C,{onClick:he,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Encaminhamento"]})]})]})}),e.jsx(Ke,{open:w,onOpenChange:N,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovação"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar integralmente? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar a análise jurídica como aprovada"}),e.jsx("li",{children:"Liberar automaticamente a próxima etapa no fluxo"}),e.jsx("li",{children:"Salvar a análise jurídica preliminar"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsxs(C,{onClick:be,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovação"]})]})]})})]})}function lZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=Dt();$a();const{toast:l}=Kt(),{dfdData:c,addAnnex:u,removeAnnex:d,updateObservations:h}=cf(t);m.useState({});const[x,f]=m.useState([]),[g,p]=m.useState(!1),[y,v]=m.useState(""),[b,j]=m.useState("gerencias"),[w,N]=m.useState(0),[E,A]=m.useState(""),[P,z]=m.useState(!1),[T,k]=m.useState(null),[L,U]=m.useState(null),[Y,K]=m.useState([]),[F,O]=m.useState([{id:"1",nome:"Yasmin Pissolati Mattos Bretz",gerencia:"GSP - Gerência de Soluções e Projetos",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3},{id:"2",nome:"Leticia Bonfim Guilherme",gerencia:"GLC - Gerência de Licitações e Contratos",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3},{id:"3",nome:"Guilherme de Carvalho Silva",gerencia:"GSL - Gerência de Suprimentos e Logística",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3}]),[S,$]=m.useState(""),[H,J]=m.useState(""),[re,le]=m.useState(null),[we,ke]=m.useState(""),[he,ae]=m.useState(""),[be]=m.useState([{id:"1",descricao:"Incluir especificação técnica detalhada do item 3.2 do edital",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"},{id:"2",descricao:"Corrigir valor estimado do item 5.1 conforme tabela de preços vigente",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"},{id:"3",descricao:"Adicionar cláusula de garantia conforme art. 76 da Lei 14.133/2021",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"}]),xe=m.useRef(null);m.useRef(null),m.useRef(null);const ne=()=>i?["GSP - Gerência de Soluções e Projetos","GLC - Gerência de Licitações e Contratos","GSL - Gerência de Suprimentos e Logística","GRH - Gerência de Recursos Humanos","GUE - Gerência de Urgência e Emergência","GFC - Gerência Financeira e Contábil"].includes(i.gerencia):!1,Ae=()=>{const me=w;return me<=3?{status:"ok",dias:me}:me<=4?{status:"risco",dias:me}:{status:"estourado",dias:me}},ye=()=>{const X=[];return L||X.push("É obrigatório enviar uma versão final em PDF"),he.trim()||X.push("É obrigatório definir quem irá cumprir as ressalvas"),F.filter(V=>!V.concluiu).length>0&&X.push("Todas as gerências participantes devem marcar como concluído"),f(X),X.length===0},Be=()=>{const X=new Date().toISOString(),me={id:`interacao-${Date.now()}`,setor:(i==null?void 0:i.gerencia)||"Setor",responsavel:(i==null?void 0:i.nome)||"Usuário",dataHora:X,acao:"salvou",justificativa:y};K(V=>[...V,me]),localStorage.setItem(`interacoes-correcao-${t}`,JSON.stringify([...Y,me])),localStorage.setItem(`responsavel-correcoes-${t}`,he),localStorage.setItem(`gerencias-participantes-${t}`,JSON.stringify(F)),r(c),l({title:"Alterações Salvas",description:"O progresso foi salvo com sucesso. Você pode continuar editando."}),v("")},de=()=>{if(!ye()){l({title:"Erro de Validação",description:"Por favor, preencha todas as respostas às ressalvas e envie a versão final.",variant:"destructive"});return}p(!0)},Te=()=>{const X=new Date().toISOString();z(!0),be.map(V=>({...V,status:"CORRIGIDA",respondidaEm:X,respondidaPor:(i==null?void 0:i.nome)||"Usuário"}));const me={id:`interacao-${Date.now()}`,setor:(i==null?void 0:i.gerencia)||"Setor",responsavel:(i==null?void 0:i.nome)||"Usuário",dataHora:X,acao:"finalizou",versao:L?1:void 0,justificativa:y};K(V=>[...V,me]),localStorage.setItem(`interacoes-correcao-${t}`,JSON.stringify([...Y,me])),localStorage.setItem(`versao-final-enviada-${t}`,"true"),localStorage.setItem(`responsavel-correcoes-${t}`,he),localStorage.setItem(`gerencias-participantes-${t}`,JSON.stringify(F)),a(c),l({title:"Versão Final Enviada",description:"O cumprimento das ressalvas foi finalizado e enviado para nova análise."}),p(!1),v("")},Pe=X=>{if(!X){l({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(X,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"Não foi possível abrir o documento",description:"Verifique o bloqueador de popups ou gere um novo link.",variant:"destructive"})}},D=X=>{O(me=>me.map(V=>V.id===X?{...V,concluiu:!0,dataConclusao:new Date().toISOString()}:V)),l({title:"Gerência marcada como concluída",description:"Esta gerência foi marcada como concluída no cumprimento das ressalvas."})},M=X=>{O(me=>me.map(V=>V.id===X?{...V,concluiu:!1,dataConclusao:void 0}:V)),l({title:"Gerência desmarcada",description:"Esta gerência foi desmarcada como concluída."})},q=X=>{var V;const me=(V=X.target.files)==null?void 0:V[0];if(me){const ie={id:`anexo-${Date.now().toString()}`,name:me.name,size:`${(me.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",url:`mock-url-${Date.now().toString()}`};u(ie),l({title:"Anexo adicionado",description:`${me.name} foi anexado com sucesso.`})}X.target&&(X.target.value="")};m.useEffect(()=>{const X=localStorage.getItem(`documento-editavel-${t}`);if(X)try{const Ue=JSON.parse(X);k(Ue)}catch(Ue){console.error("Erro ao carregar documento editável salvo:",Ue)}const me=localStorage.getItem(`versao-final-${t}`);if(me)try{const Ue=JSON.parse(me);U(Ue)}catch(Ue){console.error("Erro ao carregar versão final salva:",Ue)}const V=localStorage.getItem(`interacoes-correcao-${t}`);if(V)try{const Ue=JSON.parse(V);K(Ue)}catch(Ue){console.error("Erro ao carregar interações salvas:",Ue)}localStorage.getItem(`versao-final-enviada-${t}`)==="true"&&z(!0);const ce=localStorage.getItem(`responsavel-correcoes-${t}`);ce&&ae(ce);const Le=localStorage.getItem(`gerencias-participantes-${t}`);if(Le)try{const Ue=JSON.parse(Le);O(Ue)}catch(Ue){console.error("Erro ao carregar gerências participantes salvas:",Ue)}N(1),A((i==null?void 0:i.nome)||"Sem responsável definido")},[t,i==null?void 0:i.nome]);const W=Je,I=Es,ee=Ae(),ue=F.filter(X=>X.concluiu).length,G=F.length,ge=G>0?ue/G*100:0,Ne=X=>X>=80?{bar:"bg-green-600",text:"text-green-700",chip:"bg-green-100 text-green-800"}:X>=40?{bar:"bg-yellow-500",text:"text-yellow-700",chip:"bg-yellow-100 text-yellow-800"}:{bar:"bg-slate-400",text:"text-slate-600",chip:"bg-slate-100 text-slate-700"},Me=(X,me=3)=>{const V=new Date(X);let ie=0;for(;ie<me;){V.setDate(V.getDate()+1);const ce=V.getDay();ce>=1&&ce<=5&&ie++}return V.toISOString()},et=()=>{const X=F.map(ns=>ns.dataInicioISO||new Date().toISOString()).sort((ns,Dr)=>new Date(ns).getTime()-new Date(Dr).getTime())[0]||new Date().toISOString(),V=Me(X,3),ie=new Date(X),ce=new Date(V),Le=new Date,Ue=Math.max(1,ze(ie.toISOString(),ce.toISOString())),ut=ze(ie.toISOString(),Le.toISOString());return{percent:Math.min(100,Math.round(Math.min(ut,Ue)/Ue*100)),start:ie,end:ce,passados:ut,total:Ue}},se=X=>{const me=X.dataInicioISO||new Date().toISOString(),V=X.prazoDiasUteis??3,ie=Me(me,V);return{inicioISO:me,finalISO:ie,prazoDiasUteis:V}},ze=(X,me)=>{const V=new Date(X),ie=new Date(me);let ce=0;const Le=new Date(V);for(;Le<=ie;){const Ue=Le.getDay();Ue>=1&&Ue<=5&&ce++,Le.setDate(Le.getDate()+1)}return ce},_e=X=>{const{inicioISO:me,finalISO:V,prazoDiasUteis:ie}=se(X),ce=X.concluiu&&X.dataConclusao?X.dataConclusao:new Date().toISOString(),Le=ze(me,ce);if(X.concluiu){const Ue=new Date(X.dataConclusao||"")<=new Date(V);return{text:Ue?"Concluído no prazo":"Concluído atrasado",chip:Ue?"bg-green-100 text-green-800":"bg-red-100 text-red-800",decorridos:Le}}return{text:"Em andamento",chip:"bg-slate-100 text-slate-700",decorridos:Le}},Q=["GSP - Gerência de Soluções e Projetos","GLC - Gerência de Licitações e Contratos","GSL - Gerência de Suprimentos e Logística","GRH - Gerência de Recursos Humanos","GUE - Gerência de Urgência e Emergência","GFC - Gerência Financeira e Contábil","SE - Secretaria Executiva","NAJ - Assessoria Jurídica"],Ce=X=>{try{const{mockUsers:me}=require("@/contexts/UserContext");return me.filter(V=>(V.gerencia||"").trim().toLowerCase()===(X||"").trim().toLowerCase()).map(V=>V.nome).filter(Boolean)}catch{return[]}},_=()=>{const X=(S||"").trim(),me=(H||"").trim();if(!X||!me){l({title:"Preencha os campos",description:"Selecione a gerência e informe o responsável.",variant:"destructive"});return}if(F.some(ce=>ce.gerencia===X&&ce.nome===me)){l({title:"Já existente",description:"Esta gerência com esse responsável já está listada.",variant:"destructive"});return}const ie={id:`${Date.now()}`,nome:me,gerencia:X,concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3};O(ce=>[ie,...ce]),$(""),J(""),l({title:"Gerência adicionada",description:`${X} incluída com sucesso.`})},R=X=>{O(me=>me.filter(V=>V.id!==X)),l({title:"Gerência removida",description:"Item removido da lista."})},te=(X,me)=>{le(X),ke(me)},fe=X=>{const me=we.trim();if(!me){l({title:"Informe o responsável",description:"O campo responsável não pode ficar vazio.",variant:"destructive"});return}O(V=>V.map(ie=>ie.id===X?{...ie,nome:me}:ie)),le(null),ke(""),l({title:"Atualizado",description:"Responsável atualizado com sucesso."})},Ie=()=>{le(null),ke("")};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"cards-gap",children:[e.jsx("section",{id:"cumprimento-ressalvas",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(ds,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Cumprimento de Ressalvas"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Análise"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex-1",children:e.jsx(xt,{id:"cumprimento-ressalvas-textarea",value:y,onChange:X=>v(X.target.value),placeholder:"Descreva a análise técnica do DFD...",disabled:!ne()||P,className:"min-h-[350px] resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"})})})})]})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:b,onValueChange:j,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"gerencias",children:"Gerências"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"gerencias",className:"mt-0 p-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"px-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-indigo-600"}),"Gerências Participantes"]}),e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Ne(ge).chip}`,children:[ue," de ",G," concluíram"]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:'Marque "Concluir" quando a sua gerência finalizar as correções.'})]}),ne()&&!P&&e.jsx("div",{className:"rounded-xl border border-slate-200 p-4 bg-white",children:e.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx(B,{htmlFor:"nova-gerencia",className:"text-xs font-medium text-slate-600",children:"Gerência"}),e.jsxs("select",{id:"nova-gerencia",value:S,onChange:X=>{$(X.target.value),J("")},className:"mt-1 w-full h-9 rounded-md border border-slate-300 bg-white px-2 text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Selecione..."}),Q.map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx(B,{htmlFor:"novo-responsavel",className:"text-xs font-medium text-slate-600",children:"Responsável"}),e.jsxs("select",{id:"novo-responsavel",value:H,onChange:X=>J(X.target.value),disabled:!S,className:"mt-1 w-full h-9 rounded-md border border-slate-300 bg-white px-2 text-sm text-slate-800 disabled:bg-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:S?"Selecione o responsável...":"Selecione uma gerência primeiro"}),Ce(S).map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsx("div",{className:"col-span-12 md:col-span-2",children:e.jsxs(C,{onClick:_,className:"w-full h-9 bg-indigo-600 hover:bg-indigo-700 text-white",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Adicionar"]})})]})}),e.jsx("div",{className:"space-y-3",children:F.map(X=>e.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center border ${X.concluiu?"border-green-300":"border-slate-300"}`,children:X.concluiu?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(Fe,{className:"w-4 h-4 text-slate-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:X.gerencia}),re===X.id?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("select",{value:we,onChange:me=>ke(me.target.value),className:"h-7 text-xs rounded-md border border-slate-300 bg-white px-2",children:[e.jsx("option",{value:"",children:"Selecione o responsável..."}),Ce(X.gerencia).map(me=>e.jsx("option",{value:me,children:me},me))]}),e.jsx(C,{size:"sm",className:"h-7 px-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>fe(X.id),children:e.jsx(Re,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 px-2",onClick:Ie,children:e.jsx(qe,{className:"w-3 h-3"})})]}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 truncate",children:[e.jsx("span",{className:"truncate",children:X.nome}),ne()&&!P&&e.jsx(C,{size:"sm",variant:"ghost",className:"h-6 px-1 text-slate-500 hover:text-slate-700",onClick:()=>te(X.id,X.nome),children:e.jsx(ar,{className:"w-3 h-3"})})]}),X.concluiu&&X.dataConclusao&&e.jsxs("p",{className:"text-[11px] text-green-700 mt-1",children:["Concluído em ",I(X.dataConclusao)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:`text-xs ${X.concluiu?"bg-green-100 text-green-800 border-green-300":"bg-slate-100 text-slate-800 border-slate-300"}`,children:X.concluiu?"Concluída":"Pendente"}),ne()&&!P&&(X.concluiu?e.jsx(C,{size:"sm",variant:"outline",onClick:()=>M(X.id),className:"h-7 px-2 text-red-600 hover:text-red-700",children:e.jsx(qe,{className:"w-3 h-3"})}):e.jsxs(C,{size:"sm",className:"h-7 px-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>D(X.id),children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Concluir"]})),ne()&&!P&&e.jsx(C,{size:"sm",variant:"outline",className:"h-7 px-2 text-red-600 hover:text-red-700",onClick:()=>R(X.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]})},X.id))}),e.jsx("div",{className:"mt-1",children:(()=>{const X=et();return e.jsx(xu,{startISO:X.start.toISOString(),endISO:X.end.toISOString()})})()}),x.includes("Todas as gerências participantes devem marcar como concluído")&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-red-600",children:"Todas as gerências participantes devem marcar como concluído"})})]})}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-0",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full",children:[e.jsx("div",{className:"px-4 py-3 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:xe,type:"file",onChange:q,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),ne()&&!P&&e.jsxs(C,{onClick:()=>{var X;return(X=xe.current)==null?void 0:X.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!ne()&&e.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:"Apenas usuários autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:c.annexes.map((X,me)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:X.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[X.uploadedBy," • ",W(X.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[X.uploadedBy," • ",W(X.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Pe(X.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),ne()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>d(X.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),me<c.annexes.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},X.id))})]})})]})})]})})]})}),e.jsxs("section",{className:"col-span-12 w-full",children:[e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"card-separator-green"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo por Gerência"})]}),e.jsx(oe,{className:"text-sm font-semibold px-3 py-2 bg-yellow-100 text-yellow-800",children:P?"Finalizado":"Em correção"})]}),e.jsx("div",{className:"space-y-4",children:F.map(X=>{const me=se(X);return e.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(oe,{variant:"outline",className:"text-xs font-medium",children:X.gerencia.split(" - ")[0]})}),(()=>{const V=_e(X);return e.jsx(oe,{className:`text-xs px-2 py-1 ${V.chip}`,children:V.text})})()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center border border-slate-300 bg-white",children:e.jsx(Fe,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[12px] font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:W(me.inicioISO)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center border border-slate-300 bg-white",children:e.jsx(vt,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[12px] font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:W(me.finalISO)})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-[12px] text-slate-500",children:X.concluiu&&X.dataConclusao?e.jsxs("span",{children:["Concluiu em ",I(X.dataConclusao)]}):e.jsx("span",{children:"Não concluído"})}),(()=>{const V=_e(X);return e.jsxs("span",{className:"text-[12px] text-slate-500",children:[V.decorridos," dias úteis decorridos"]})})()]})]},X.id)})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:e.jsxs("div",{className:"text-center py-2",children:[e.jsx("div",{className:`text-2xl font-bold ${ee.status==="ok"?"text-green-600":ee.status==="risco"?"text-yellow-600":"text-red-600"}`,children:ee.status==="ok"?"Dentro do Prazo":ee.status==="risco"?"Em Risco":"Em atraso"}),e.jsxs("div",{className:"text-sm text-slate-600",children:[w," dias no card"]})]})})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const X=[{id:"editavel",label:"Documento editável anexado",status:T?"completed":"pending",description:T?`${T.name}`:"Envie o documento editável"},{id:"final",label:"Versão final anexada",status:L?"completed":"pending",description:L?`${L.name}`:"Envie a versão final em PDF"},{id:"gerencias",label:"Gerências participantes concluídas",status:ue===G&&G>0?"completed":ue>0?"warning":"pending",description:`${ue} de ${G} concluídas`}],me=X.filter(V=>V.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[me,"/",X.length]})]})})()]}),(()=>{const X=[{id:"editavel",label:"Documento editável anexado",status:T?"completed":"pending",description:T?`${T.name}`:"Envie o documento editável"},{id:"final",label:"Versão final anexada",status:L?"completed":"pending",description:L?`${L.name}`:"Envie a versão final em PDF"},{id:"gerencias",label:"Gerências participantes concluídas",status:ue===G&&G>0?"completed":ue>0?"warning":"pending",description:`${ue} de ${G} concluídas`}],me={warning:0,pending:1,completed:2},V=X.sort((jt,Ea)=>me[jt.status]-me[Ea.status]),[ie,ce]=Z.useState("all"),[Le,Ue]=Z.useState(""),ut={total:V.length,completed:V.filter(jt=>jt.status==="completed").length,open:V.filter(jt=>jt.status!=="completed").length},Et=ut.total===0?0:Math.round(ut.completed/ut.total*100),ns=V.filter(jt=>{if(ie==="open"&&jt.status==="completed"||ie==="completed"&&jt.status!=="completed")return!1;if(!Le.trim())return!0;const Ea=Le.toLowerCase();return jt.label.toLowerCase().includes(Ea)||(jt.description||"").toLowerCase().includes(Ea)}),Dr=jt=>jt==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Et,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 text-slate-600",children:[ut.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Et}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ce("all"),className:`px-2 py-1 rounded text-xs ${ie==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>ce("open"),className:`px-2 py-1 rounded text-xs ${ie==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",ut.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>ce("completed"),className:`px-2 py-1 rounded text-xs ${ie==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",ut.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:Le,onChange:jt=>Ue(jt.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:ns.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):ns.map(jt=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:Dr(jt.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:jt.label}),jt.description&&e.jsx("div",{className:"text-xs text-slate-500",children:jt.description})]})]},jt.id))})]})})()]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Do,{data:(()=>{const X=[];return Y.forEach(V=>{const ie=V.acao==="finalizou"?"aprovado":V.acao==="enviou_versao"?"versao":"comentario";X.push({id:`int-${V.id}`,status:ie,title:V.acao==="finalizou"?"Correções finalizadas":V.acao==="enviou_versao"?"Versão enviada":"Alterações salvas",author:{name:V.responsavel},createdAt:V.dataHora})}),[...c.annexes].sort((V,ie)=>new Date(ie.uploadedAt).getTime()-new Date(V.uploadedAt).getTime()).slice(0,2).forEach(V=>X.push({id:`anexo-${V.id}`,status:"anexo",title:`Anexo adicionado: ${V.name}`,author:{name:V.uploadedBy||"Usuário"},createdAt:V.uploadedAt})),X.sort((V,ie)=>new Date(ie.createdAt).getTime()-new Date(V.createdAt).getTime())})()})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-cumprimento-ressalvas",title:"Comentários"})})}),e.jsx("section",{className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ee.status==="ok"?"Dentro do prazo":ee.status==="risco"?"Em risco":"Em atraso"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:E||"Sem responsável"})]})]})]}),P?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Correções Finalizadas"}),e.jsx("p",{className:"text-sm text-green-700",children:"Enviado para nova análise da NAJ"})]})]})}):e.jsxs("div",{className:"border-t border-slate-200 pt-4 flex flex-wrap gap-2 justify-center",children:[e.jsxs(C,{onClick:Be,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]}),e.jsxs(C,{onClick:de,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar Versão Final Corrigida"]})]})]})]})}),P&&e.jsx("section",{id:"status-finalizado",className:"col-span-12 w-full mt-6 pb-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-green-50 border-green-200",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"Correções Finalizadas"}),e.jsx("p",{className:"text-sm text-green-700",children:"O cumprimento das ressalvas foi concluído e enviado para nova análise da NAJ."})]})]})})})})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5 text-green-600"}),"Confirmar Envio da Versão Final"]}),e.jsxs(tt,{children:["Tem certeza que deseja enviar a versão final corrigida? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Finalizar o cumprimento das ressalvas"}),e.jsx("li",{children:"Bloquear edições futuras"}),e.jsx("li",{children:"Encaminhar para nova análise da NAJ"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa-final",className:"text-sm font-medium",children:"Justificativa (opcional)"}),e.jsx(xt,{id:"justificativa-final",value:y,onChange:X=>v(X.target.value),placeholder:"Adicione uma justificativa para o envio...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Te,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Confirmar Envio"]})]})]})})]})}function cZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=Dt(),{toast:l}=Kt(),[c,u]=m.useState(""),[d,h]=m.useState([]),[x,f]=m.useState({}),[g,p]=m.useState(""),[y,v]=m.useState(""),[b,j]=m.useState(""),[w,N]=m.useState(""),[E,A]=m.useState(null),[P,z]=m.useState(!1),[T,k]=m.useState(null),[L,U]=m.useState(void 0),[Y,K]=m.useState([]),[F,O]=m.useState(!1),[S,$]=m.useState(0),[H,J]=m.useState("");m.useRef(null);const re=m.useRef(null),{dfdData:le,addAnnex:we,removeAnnex:ke}=cf(t),[he,ae]=m.useState("desc"),be=Z.useMemo(()=>{const G=[...le.annexes];return G.sort((ge,Ne)=>{const Me=new Date(ge.uploadedAt).getTime(),et=new Date(Ne.uploadedAt).getTime();return he==="desc"?et-Me:Me-et}),G},[le.annexes,he]),xe=G=>{G&&window.open(G,"_blank","noopener")},ne=()=>(i==null?void 0:i.gerencia)==="GSP - Gerência de Soluções e Projetos"||(i==null?void 0:i.gerencia)==="Secretaria Executiva",Ae=()=>ne()&&!P,ye=[{value:"diario_oficial",label:"Diário Oficial",icon:e.jsx(oh,{className:"w-4 h-4"})},{value:"site_institucional",label:"Site Institucional",icon:e.jsx(Zz,{className:"w-4 h-4"})},{value:"pncp",label:"PNCP",icon:e.jsx(pF,{className:"w-4 h-4"})},{value:"outros",label:"Outros",icon:e.jsx($e,{className:"w-4 h-4"})}],Be=()=>{const G=[];return c||G.push("Data da Publicação é obrigatória"),d.length===0&&G.push("Pelo menos um meio de Publicação é obrigatório"),d.forEach(ge=>{(x[ge]||"").trim()||G.push(`Link/Número obrigatório para: ${I(ge)}`)}),K(G),G.length===0},de=G=>{var Ne;const ge=(Ne=G.target.files)==null?void 0:Ne[0];if(ge){const Me={id:`anexo-${Date.now()}`,name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",url:`mock-url-${Date.now()}`};we(Me),l({title:"Anexo adicionado",description:`${ge.name} foi anexado com sucesso.`})}G.target&&(G.target.value="")},Te=()=>{E&&l({title:"Download iniciado",description:`O arquivo ${E.name} está sendo baixado.`})},Pe=()=>{A(null);const G={dataPublicacao:c,meiosPublicacao:d,linksPorMeio:x,observacoes:g,comprovanteArquivo:null,confirmada:P,confirmacaoData:T};localStorage.setItem(`publicacao-${t}`,JSON.stringify(G)),l({title:"Comprovante removido",description:"O comprovante foi removido com sucesso."})},D=()=>{if(!Be()){l({title:"Erro de Validação",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}O(!0)},M=()=>{const G=new Date().toISOString(),ge={responsavel:(i==null?void 0:i.nome)||"Usuário",cargo:(i==null?void 0:i.cargo)||"Cargo",dataConfirmacao:G};z(!0),k(ge);const Ne={dataPublicacao:c,dataCertame:y,horarioCertame:b,prazoRecurso:w,meiosPublicacao:d,linksPorMeio:x,observacoes:g,comprovanteArquivo:E,confirmada:!0,confirmacoesData:ge};localStorage.setItem(`publicacao-${t}`,JSON.stringify(Ne)),a(Ne),l({title:"Publicação Confirmada",description:"A publicação foi registrada oficialmente e o processo foi concluído.",duration:5e3}),O(!1)},q=()=>{const G={dataPublicacao:c,dataCertame:y,horarioCertame:b,prazoRecurso:w,meiosPublicacao:d,linksPorMeio:x,observacoes:g,comprovanteArquivo:E,confirmada:P,confirmacaoData:T};localStorage.setItem(`publicacao-${t}`,JSON.stringify(G)),r(G)};m.useEffect(()=>{const G=localStorage.getItem(`publicacao-${t}`);if(G)try{const ge=JSON.parse(G);u(ge.dataPublicacao||""),v(ge.dataCertame||""),j(ge.horarioCertame||""),N(ge.prazoRecurso||""),h(ge.meiosPublicacao||[]),f(ge.linksPorMeio||{}),p(ge.observacoes||""),A(ge.comprovanteArquivo||null),z(ge.confirmada||!1),k(ge.confirmacoesData||null)}catch(ge){console.error("Erro ao carregar dados de publicação:",ge)}J((i==null?void 0:i.nome)||"Não definido"),$(1)},[t,i]),m.useEffect(()=>{(c||g||y||b||w||d.length>0||Object.keys(x).length>0)&&q()},[c,g,y,b,w,d,x]);const W=G=>{const ge=ye.find(Ne=>Ne.value===G);return(ge==null?void 0:ge.icon)||e.jsx($e,{className:"w-4 h-4"})},I=G=>{const ge=ye.find(Ne=>Ne.value===G);return(ge==null?void 0:ge.label)||G},ee=G=>{h(ge=>ge.includes(G)?ge:[...ge,G]),f(ge=>({...ge,[G]:ge[G]||""}))},ue=G=>{h(ge=>ge.filter(Ne=>Ne!==G)),f(ge=>{const{[G]:Ne,...Me}=ge;return Me})};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("section",{id:"publicacao-info",className:"col-span-12 w-full relative",children:e.jsxs("div",{className:"card-shell mb-8 overflow-hidden",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(oh,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Informações da Publicação do Edital"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[P&&e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300",children:[e.jsx(fc,{className:"w-3 h-3 mr-1"}),"Confirmada"]}),E&&e.jsxs(e.Fragment,{children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,className:"h-7 px-2 text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]}),Ae()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:Pe,className:"h-7 px-2 text-xs text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-3 h-3 mr-1"}),"Remover"]})]})]})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"data-publicacao",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Data da Publicação *"}),e.jsx("div",{className:"relative",children:e.jsx(Cm,{value:c||null,onChange:G=>u(G||""),placeholder:"Selecione a data",showPresets:!0,businessDaysOnly:!0,minDate:new Date,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})}),Y.includes("Data da Publicação é obrigatória")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Data da Publicação é obrigatória"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"data-certame",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Data do Certame"}),e.jsx("div",{className:"relative",children:e.jsx(Cm,{value:y||null,onChange:G=>v(G||""),placeholder:"Selecione a data do certame",showPresets:!0,businessDaysOnly:!0,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"horario-certame",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Horário do Certame"}),e.jsx(De,{id:"horario-certame",type:"time",value:b,onChange:G=>j(G.target.value),disabled:!Ae(),className:"border-gray-200 focus:border-green-300 focus:ring-green-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"prazo-recurso",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Prazo de Recurso"}),e.jsx("div",{className:"relative",children:e.jsx(Cm,{value:w||null,onChange:G=>N(G||""),placeholder:"Selecione o prazo de recurso",showPresets:!0,businessDaysOnly:!0,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Meios de Publicação *"}),e.jsxs(rt,{value:L,onValueChange:G=>{ee(G),U(void 0)},disabled:!Ae(),children:[e.jsx(st,{className:"border-gray-200 focus:border-green-300 focus:ring-green-300",children:e.jsx(nt,{placeholder:d.length>0?"Selecionar outros meios":"Selecionar meios de publicação"})}),e.jsx(at,{children:ye.filter(G=>!d.includes(G.value)).map(G=>e.jsx(ve,{value:G.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[G.icon,G.label]})},G.value))})]}),Y.find(G=>G.includes("Pelo menos um meio"))&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Selecione ao menos um meio"}),d.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(G=>e.jsxs(oe,{variant:"outline",className:"flex items-center gap-1",children:[W(G),e.jsx("span",{className:"text-xs",children:I(G)}),Ae()&&e.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-red-600",onClick:()=>ue(G),"aria-label":`Remover ${I(G)}`,children:"×"})]},G))})]})]}),d.length>0&&e.jsx("div",{className:"space-y-4",children:d.map(G=>e.jsxs("div",{children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 mb-2 block",children:[`Link/Número - ${I(G)}`," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(tb,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx(De,{type:"text",value:x[G]||"",onChange:ge=>f(Ne=>({...Ne,[G]:ge.target.value})),placeholder:"Ex: URL oficial ou número da edição",disabled:!Ae(),className:"pl-10 border-gray-200 focus:border-green-300 focus:ring-green-300"})]}),Y.includes(`Link/Número obrigatório para: ${I(G)}`)&&e.jsxs("p",{className:"text-red-500 text-sm mt-1",children:["Obrigatório para ",I(G)]})]},G))}),e.jsxs("div",{children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 mb-2 block",children:["Observações",e.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(Opcional)"})]}),e.jsx(xt,{id:"observacoes",value:g,onChange:G=>p(G.target.value),placeholder:"Informações adicionais sobre a publicação...",disabled:!Ae(),className:"min-h-[100px] resize-none border-gray-200 focus:border-green-300 focus:ring-green-300"})]}),P&&T&&e.jsxs(ia,{className:"border-green-200 bg-green-50",children:[e.jsx(fc,{className:"h-4 w-4 text-green-600"}),e.jsx(la,{className:"text-green-800",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"✅ Publicação Confirmada Oficialmente"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Responsável:"})," ",T.responsavel," (",T.cargo,")"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Data/Hora:"})," ",Es(T.dataConfirmacao)]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ab,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Campos bloqueados para edição"})]})]})})]})]})})]})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:le.annexes.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:he,onChange:G=>ae(G.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),Ae()&&!P&&e.jsxs("div",{children:[e.jsx("input",{ref:re,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:de}),e.jsxs(C,{onClick:()=>{var G;return(G=re.current)==null?void 0:G.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),le.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${le.annexes.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:be.map((G,ge)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:G.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[G.uploadedBy," • ",Je(G.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[G.uploadedBy," • ",Je(G.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>xe(G.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),Ae()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ke(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"sm:hidden flex items-center flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),Ae()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ke(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ge<be.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},G.id))})]})})})]})}),e.jsxs("section",{id:"painel-etapa",className:"col-span-12 w-full",children:[e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"p-4 md:p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:P?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:P?"Concluída":"Pendente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Tempo no Card"}),e.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[S," dia(s)"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável Atual"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:H})]})]})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist"})]}),(()=>{const G=[{id:"data",label:c?"Data definida":"Definir data de publicação",status:c?"completed":"pending",description:c||"Selecione a data"},{id:"meios",label:d.length>0?"Meios selecionados":"Selecionar meios de publicação",status:d.length>0?"completed":"pending",description:d.length>0?`${d.length} meio(s)`:"Selecione ao menos um"},{id:"links",label:Object.keys(x).length===d.length&&d.length>0?"Links cadastrados":"Inserir links/números",status:d.length>0&&Object.keys(x).length===d.length&&Object.values(x).every(Ne=>(Ne||"").trim())?"completed":Object.keys(x).length>0?"warning":"pending",description:`${Object.values(x).filter(Ne=>(Ne||"").trim()).length} de ${d.length} preenchidos`},{id:"confirm",label:P?"Publicação confirmada":"Confirmar publicação",status:P?"completed":"pending",description:P?"Registro oficial realizado":"Confirme para concluir"}],ge=G.filter(Ne=>Ne.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ge,"/",G.length]})]})})()]}),(()=>{const G=[{id:"data",label:c?"Data definida":"Definir data de publicação",status:c?"completed":"pending",description:c||"Selecione a data"},{id:"meios",label:d.length>0?"Meios selecionados":"Selecionar meios de publicação",status:d.length>0?"completed":"pending",description:d.length>0?`${d.length} meio(s)`:"Selecione ao menos um"},{id:"links",label:Object.keys(x).length===d.length&&d.length>0?"Links cadastrados":"Inserir links/números",status:d.length>0&&Object.keys(x).length===d.length&&Object.values(x).every(R=>(R||"").trim())?"completed":Object.keys(x).length>0?"warning":"pending",description:`${Object.values(x).filter(R=>(R||"").trim()).length} de ${d.length} preenchidos`},{id:"confirm",label:P?"Publicação confirmada":"Confirmar publicação",status:P?"completed":"pending",description:P?"Registro oficial realizado":"Confirme para concluir"}],ge={warning:0,pending:1,completed:2},Ne=G.sort((R,te)=>ge[R.status]-ge[te.status]),[Me,et]=Z.useState("all"),[se,ze]=Z.useState(""),_e={total:Ne.length,completed:Ne.filter(R=>R.status==="completed").length,open:Ne.filter(R=>R.status!=="completed").length},Q=_e.total===0?0:Math.round(_e.completed/_e.total*100),Ce=Ne.filter(R=>{if(Me==="open"&&R.status==="completed"||Me==="completed"&&R.status!=="completed")return!1;if(!se.trim())return!0;const te=se.toLowerCase();return R.label.toLowerCase().includes(te)||(R.description||"").toLowerCase().includes(te)}),_=R=>R==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Q,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[_e.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Q}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>et("all"),className:`px-2 py-1 rounded text-xs ${Me==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>et("open"),className:`px-2 py-1 rounded text-xs ${Me==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",_e.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>et("completed"),className:`px-2 py-1 rounded text-xs ${Me==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",_e.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:se,onChange:R=>ze(R.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Ce.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Ce.map(R=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:_(R.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:R.label}),R.description&&e.jsx("div",{className:"text-xs text-slate-500",children:R.description})]})]},R.id))})]})})()]})]})]}),e.jsx(Do,{data:(()=>{const G=[];return P&&(T!=null&&T.dataConfirmacao)&&G.push({id:`conf-${T.dataConfirmacao}`,status:"aprovado",title:"Publicação confirmada",author:{name:T.responsavel},createdAt:T.dataConfirmacao}),[...be].slice(0,2).forEach(Ne=>G.push({id:Ne.id,status:"anexo",title:`Anexo adicionado: ${Ne.name}`,author:{name:Ne.uploadedBy||"Usuário"},createdAt:Ne.uploadedAt})),G.sort((Ne,Me)=>new Date(Me.createdAt).getTime()-new Date(Ne.createdAt).getTime())})()})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell mb-8",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-publicacao",title:"Comentários"})})})}),e.jsx("section",{id:"acoes-etapa",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Tempo no Card"}),e.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[S," dia(s)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:H})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:P?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Publicação Concluída"}),(T==null?void 0:T.dataConfirmacao)&&e.jsxs("p",{className:"text-sm text-green-700",children:[Je(T.dataConfirmacao)," por ",T==null?void 0:T.responsavel]})]})]})}):e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:ne()?e.jsxs(C,{onClick:D,variant:"outline",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(fc,{className:"w-4 h-4 mr-2"}),"Confirmar Publicação"]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Info,{className:"w-4 h-4"}),"Somente visualização"]})})})]})]})})]})}),e.jsx(Ke,{open:F,onOpenChange:O,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(fc,{className:"w-5 h-5 text-green-600"}),"Confirmar Publicação"]}),e.jsxs(tt,{children:["Tem certeza que deseja confirmar a publicação? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar oficialmente a publicação do edital"}),e.jsx("li",{children:"Gerar carimbo automático com data, hora e responsável"}),e.jsx("li",{children:"Bloquear todos os campos para edição"}),e.jsx("li",{children:"Concluir o processo de planejamento da contratação"})]}),e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(pt,{className:"w-4 h-4 inline mr-1"}),"Esta ação não pode ser desfeita."]})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),e.jsxs(C,{onClick:M,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(fc,{className:"w-4 h-4 mr-2"}),"Confirmar Publicação"]})]})]})})]})}const zp=[{id:"1",nome:"CI - Comissão de Implantação",gerencia:"CI - Comissão de Implantação"},{id:"2",nome:"SE - Secretaria Executiva",gerencia:"SE - Secretaria Executiva"},{id:"3",nome:"OUV - Ouvidoria",gerencia:"OUV - Ouvidoria"},{id:"4",nome:"GSP - Gerência de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:"5",nome:"GSL - Gerência de Suprimentos e Logística",gerencia:"GSL - Gerência de Suprimentos e Logística"},{id:"6",nome:"GRH - Gerência de Recursos Humanos",gerencia:"GRH - Gerência de Recursos Humanos"},{id:"7",nome:"GUE - Gerência de Urgência e Emergência",gerencia:"GUE - Gerência de Urgência e Emergência"},{id:"8",nome:"GLC - Gerência de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos"},{id:"9",nome:"GFC - Gerência Financeira e Contábil",gerencia:"GFC - Gerência Financeira e Contábil"},{id:"10",nome:"GRH - Gerência de Recursos Humanos",gerencia:"GRH - Gerência de Recursos Humanos"},{id:"11",nome:"GAP - Gerência de Administração e Patrimônio",gerencia:"GAP - Gerência de Administração e Patrimônio"},{id:"12",nome:"GESP - Gerência de Especialidades",gerencia:"GESP - Gerência de Especialidades"},{id:"13",nome:"NAJ - Assessoria Jurídica",gerencia:"NAJ - Assessoria Jurídica"}];function dZ({processoId:t,etapaId:s,onComplete:a,onSave:r,canEdit:n=!1}){const{user:o}=Dt(),{podeEditarFluxo:i}=$a(),{toast:l}=Kt(),[c,u]=m.useState([]),[d,h]=m.useState([]),[x,f]=m.useState(!1),[g,p]=m.useState(!1),[y,v]=m.useState(null),[b,j]=m.useState([]),[w,N]=m.useState(""),E=()=>o?i()||o.gerencia==="GSP - Gerência de Soluções e Projetos":!1,A=()=>o?c.some(K=>K.gerencia===o.gerencia):!1,P=()=>{if(!o)return!1;const K=c.find(F=>F.gerencia===o.gerencia);return K&&K.status==="pendente"};m.useEffect(()=>{const K=localStorage.getItem(`consolidacao_${t}_${s}`);if(K){const F=JSON.parse(K);u(F.setoresNotificados||[]),h(F.dfdsVinculados||[])}},[t,s]);const z=K=>{const F={setoresNotificados:c,dfdsVinculados:d,...K};localStorage.setItem(`consolidacao_${t}_${s}`,JSON.stringify(F)),r==null||r(F)},T=()=>{if(b.length===0){l({title:"Seleção obrigatória",description:"Selecione pelo menos um setor para notificar.",variant:"destructive"});return}const K=b.map(F=>{const O=zp.find(S=>S.id===F);return{id:`notif_${Date.now()}_${F}`,nome:(O==null?void 0:O.nome)||"",gerencia:(O==null?void 0:O.gerencia)||"",status:"pendente",dataNotificacao:new Date().toLocaleDateString("pt-BR"),mensagem:w||"Gostaríamos de verificar se sua gerência tem interesse em participar desta demanda."}});u(F=>[...F,...K]),j([]),N(""),f(!1),z({setoresNotificados:[...c,...K]}),l({title:"Setores notificados",description:`${K.length} setor(es) foram notificados com sucesso.`})},k=K=>{if(!y||!o)return;const F=c.map(O=>O.id===y.id?{...O,status:K?"aceito":"recusado",dataResposta:new Date().toLocaleDateString("pt-BR")}:O);if(u(F),K){const O={id:`dfd_${Date.now()}`,numero:`DFD-${String(d.length+1).padStart(3,"0")}-${new Date().getFullYear()}`,setorCriador:o.gerencia,status:"em_elaboracao",dataCriacao:Je(new Date),responsavel:o.nome};h($=>[...$,O]);const S=F.map($=>$.id===y.id?{...$,dfdVinculado:O}:$);u(S),z({setoresNotificados:S,dfdsVinculados:[...d,O]})}else z({setoresNotificados:F});p(!1),v(null),l({title:"Resposta registrada",description:K?"Você aceitou participar da demanda. Um novo DFD foi criado.":"Você recusou participar da demanda."})},L=K=>{v(K),p(!0)},U=K=>{switch(K){case"pendente":return{label:"Pendente",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Ss,{className:"w-3 h-3"})};case"aceito":return{label:"Aceito",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};case"recusado":return{label:"Recusado",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},Y=K=>{switch(K){case"em_elaboracao":return{label:"Em Elaboração",color:"bg-blue-100 text-blue-800 border-blue-300"};case"enviado_analise":return{label:"Enviado para Análise",color:"bg-orange-100 text-orange-800 border-orange-300"};case"aprovado":return{label:"Aprovado",color:"bg-green-100 text-green-800 border-green-300"};case"devolvido":return{label:"Devolvido",color:"bg-red-100 text-red-800 border-red-300"};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800 border-gray-300"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Consolidação da Demanda"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notificação e consolidação de setores interessados"})]})]}),!E()&&!A()&&e.jsxs(oe,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[e.jsx(Ss,{className:"w-3 h-3 mr-1"}),"Etapa Restrita"]}),E()&&e.jsxs(C,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Notificar Novo Setor"]})]}),A()&&P()&&e.jsxs(ia,{className:"border-blue-200 bg-blue-50",children:[e.jsx(Ki,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Sua gerência foi notificada sobre esta demanda."}),'Clique em "Responder à Provocação" para aceitar ou recusar participar.']})]}),e.jsxs(Ge,{children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-5 h-5 text-gray-600"}),"Setores Notificados"]})}),e.jsx(We,{children:c.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nenhum setor foi notificado ainda."}),E()&&e.jsx("p",{className:"text-sm mt-1",children:'Use o botão "Notificar Novo Setor" para começar.'})]}):e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(dt,{children:"Setor"}),e.jsx(dt,{children:"Status"}),e.jsx(dt,{children:"Data Notificação"}),e.jsx(dt,{children:"Data Resposta"}),e.jsx(dt,{children:"DFD Vinculado"}),e.jsx(dt,{children:"Ações"})]})}),e.jsx(ho,{children:c.map(K=>{const F=U(K.status);return e.jsxs(Ys,{children:[e.jsx(ct,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:K.nome}),e.jsx("div",{className:"text-sm text-gray-500",children:K.gerencia})]})}),e.jsx(ct,{children:e.jsxs(oe,{className:F.color,children:[F.icon,F.label]})}),e.jsx(ct,{children:K.dataNotificacao}),e.jsx(ct,{children:K.dataResposta||"-"}),e.jsx(ct,{children:K.dfdVinculado?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nF,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:K.dfdVinculado.numero})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(ct,{children:K.gerencia===(o==null?void 0:o.gerencia)&&K.status==="pendente"&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>L(K),children:[e.jsx(Ki,{className:"w-3 h-3 mr-1"}),"Responder"]})})]},K.id)})})]})})]}),e.jsxs(Ge,{children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-gray-600"}),"DFDs Vinculados"]})}),e.jsx(We,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx($e,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nenhum DFD vinculado foi criado ainda."}),e.jsx("p",{className:"text-sm mt-1",children:"DFDs serão criados automaticamente quando setores aceitarem participar."})]}):e.jsx("div",{className:"grid gap-4",children:d.map(K=>{const F=Y(K.status);return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:K.numero}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Criado por ",K.setorCriador]})]})]}),e.jsx(oe,{className:F.color,children:F.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Responsável:"}),e.jsx("span",{className:"ml-2 font-medium",children:K.responsavel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data Criação:"}),e.jsx("span",{className:"ml-2 font-medium",children:K.dataCriacao})]})]})]},K.id)})})})]}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"w-5 h-5"}),"Notificar Novos Setores"]}),e.jsx(tt,{children:"Selecione os setores que deseja notificar sobre esta demanda."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"setores",children:"Setores *"}),e.jsxs(rt,{value:"",onValueChange:K=>{K&&!b.includes(K)&&j(F=>[...F,K])},children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione um setor"})}),e.jsx(at,{children:zp.filter(K=>!c.some(F=>F.gerencia===K.gerencia)).map(K=>e.jsx(ve,{value:K.id,children:K.nome},K.id))})]})]}),b.length>0&&e.jsxs("div",{children:[e.jsx(B,{children:"Setores Selecionados:"}),e.jsx("div",{className:"mt-2 space-y-2",children:b.map(K=>{const F=zp.find(O=>O.id===K);return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:F==null?void 0:F.nome}),e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>j(O=>O.filter(S=>S!==K)),children:e.jsx(qe,{className:"w-3 h-3"})})]},K)})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"mensagem",children:"Mensagem Personalizada (Opcional)"}),e.jsx(xt,{id:"mensagem",value:w,onChange:K=>N(K.target.value),placeholder:"Digite uma mensagem personalizada para os setores...",rows:3})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:T,children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Notificar Setores"]})]})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ki,{className:"w-5 h-5"}),"Responder à Provocação"]}),e.jsx(tt,{children:"Sua gerência foi notificada sobre esta demanda. Deseja participar?"})]}),y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Mensagem Recebida:"}),e.jsx("p",{className:"text-sm text-gray-700",children:y.mensagem})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(C,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>k(!0),children:[e.jsx(fd,{className:"w-4 h-4 mr-2"}),"Sim, desejo incluir minha demanda"]}),e.jsxs(C,{variant:"outline",className:"w-full border-red-300 text-red-700 hover:bg-red-50",onClick:()=>k(!1),children:[e.jsx(Y4,{className:"w-4 h-4 mr-2"}),"Não desejo participar deste processo"]})]})]})]})})]})}const y2=(t,s,a=[])=>{const r=new Date(t),n=new Date(s);let o=0;const i=new Date(r);for(;i<=n;){const l=i.getDay(),c=i.toISOString().split("T")[0];l>=1&&l<=5&&!a.includes(c)&&o++,i.setDate(i.getDate()+1)}return o},N2=[{id:"v1",numeroRevisao:1,status:"rascunho",autorId:"user1",autorNome:"Lucas Moreira Brito",autorCargo:"Analista de Projetos",autorGerencia:"GSP - Gerência de Soluções e Projetos",autorEmail:"lucas.brito@hospital.gov.br",criadoEm:"2024-01-15T14:30:00Z",atualizadoEm:"2024-01-18T16:45:00Z",prazoDiasUteis:5,prazoInicialDiasUteis:5,prazoCumpridoDiasUteis:0,payload:{justificativaContratacao:"",estudosPreliminares:"",descricaoObjeto:"",estimativaPrecos:"",impactoOrcamentario:"",beneficiosEsperados:"",riscosIdentificados:"",observacoesComplementares:"",responsaveis:[{id:"user1",nome:"Lucas Moreira Brito",cargo:"Analista de Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"}],dataElaboracao:"2024-01-15",numeroETP:"ETP-2024-001",prioridade:"MEDIO"}}],uZ=[{id:"anexo1",nome:"Documento_Referencia.pdf",tamanhoBytes:1024e3,mimeType:"application/pdf",criadoEm:"2024-01-15T10:30:00Z",autorId:"user1",autorNome:"Lucas Moreira Brito",versaoId:"v1",urlDownload:"#"}];function mZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var _e,Q,Ce;const{user:l}=Dt(),{toast:c}=Kt(),[u,d]=m.useState(N2),[h,x]=m.useState(N2[0]),[f,g]=m.useState(h.payload),[p,y]=m.useState(uZ),[v,b]=m.useState("desc"),[j,w]=m.useState(!1),[N,E]=m.useState({}),A=!1,P=m.useCallback(_=>{console.log("Salvando responsáveis:",_),g(R=>(console.log("Atualizando formData:",{prev:R.responsaveis,novos:_}),{...R,responsaveis:_}))},[]),[z,T]=m.useState(null),[k,L]=m.useState(!1);m.useState("revisoes");const[U,Y]=m.useState(!1),[K,F]=m.useState(""),[O,S]=m.useState(!0),[$,H]=m.useState(null),J=m.useRef(null),re=m.useCallback(()=>{try{const _=document.documentElement,R=document.body;R&&(R.style.overflow="auto",R.style.position="",R.style.top="",R.style.height="",R.classList.remove("overflow-hidden","fixed")),_&&(_.style.overflow="auto",_.style.height="",_.classList.remove("overflow-hidden"))}catch{}},[]);m.useEffect(()=>(re(),()=>re()),[re]),m.useEffect(()=>{U||(re(),requestAnimationFrame(re),setTimeout(re,0))},[U,re]),m.useEffect(()=>{U||re()},[N,j,re,U]);const le=(_,R)=>{if(!_||!R)return!1;const te=me=>me.toLowerCase().replace(/[-\s]/g,"").trim(),fe=te(_),Ie=te(R);if(fe===Ie)return!0;const X={grh:["gerenciaderecursoshumanos","grh","rh","recursoshumanos"],gsp:["gerenciadesolucoeseprojetos","gsp","solucoeseprojetos"],gsl:["gerenciadesuprimentoselogistica","gsl","suprimentoselogistica"],gue:["gerenciadeurgenciaeemergencia","gue","urgenciaeemergencia"],glc:["gerenciadelicitacoesecontratos","glc","licitacoesecontratos"],gfc:["gerenciafinanceiraecontabil","gfc","financeiraecontabil"],naj:["assessoriajuridica","naj","juridica"],ci:["comissaodeimplantacao","ci","implantacao"],se:["secretariaexecutiva","se","executiva"],ouv:["ouvidoria","ouv"]};for(const[me,V]of Object.entries(X))if(V.includes(fe)&&V.includes(Ie))return!0;return!1},we={podeEditar:(le((l==null?void 0:l.gerencia)||"",i||"")||((_e=l==null?void 0:l.gerencia)==null?void 0:_e.includes("GSP"))||!1)&&!$,podeCriarNovaRevisao:ke()&&!$,podeUploadAnexo:(le((l==null?void 0:l.gerencia)||"",i||"")||((Q=l==null?void 0:l.gerencia)==null?void 0:Q.includes("GSP"))||!1)&&!$,podeRemoverAnexo:(le((l==null?void 0:l.gerencia)||"",i||"")||((Ce=l==null?void 0:l.gerencia)==null?void 0:Ce.includes("GSP"))||!1)&&!$,podeConcluirEtapa:be()};function ke(){return h?A:!1}function he(){return f.descricaoObjeto.trim()!==""}function ae(){return h.status==="finalizada"}function be(){if(!((l==null?void 0:l.gerencia)&&(le(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const R=u.some(fe=>fe.status!=="rascunho");if(!R)return!1;const te=he();return R&&te}function xe(){return(l==null?void 0:l.gerencia)&&(le(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))}const ne=async()=>{L(!0);try{const _={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(_),d(R=>R.map(te=>te.id===_.id?_:te)),c({title:"Revisão salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar revisão.",variant:"destructive"})}finally{L(!1)}},Ae=async()=>{if(!he()){c({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios antes de finalizar.",variant:"destructive"});return}L(!0);try{const _={...h,status:"finalizada",finalizadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),payload:f};x(_),d(R=>R.map(te=>te.id===_.id?_:te)),c({title:"Versão finalizada",description:"ETP finalizado com sucesso."})}catch{c({title:"Erro",description:"Erro ao finalizar ETP.",variant:"destructive"})}finally{L(!1)}},ye=async()=>{if(!ae()){c({title:"Versão não finalizada",description:"Finalize a versão antes de enviar para assinatura.",variant:"destructive"});return}L(!0);try{const _=new Date(h.criadoEm),R=new Date,te=y2(_.toISOString(),R.toISOString()),fe={...h,status:"enviada_para_assinatura",enviadoParaAssinaturaEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:te,payload:f};x(fe),d(Ie=>Ie.map(X=>X.id===fe.id?fe:X)),c({title:"Enviado para assinatura",description:"ETP enviado para assinatura com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para assinatura.",variant:"destructive"})}finally{L(!1)}},Be=async()=>{if(ke()){L(!0);try{const _=Math.max(...u.map(te=>te.numeroRevisao))+1,R={id:`v${_}`,numeroRevisao:_,status:"rascunho",autorId:(l==null?void 0:l._id)||(l==null?void 0:l.id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usuário Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:5,prazoInicialDiasUteis:5,payload:{...h.payload,descricaoObjeto:""}};d(te=>[R,...te]),x(R),g(R.payload),E(te=>({...te,[R.id]:!0})),c({title:"Nova versão criada",description:`Versão ${_} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova versão.",variant:"destructive"})}finally{L(!1)}}},de=_=>{if(_.prazoInicialDiasUteis===void 0)return null;const R=_.prazoCumpridoDiasUteis??0;return(_.prazoInicialDiasUteis||0)-R},Te=_=>_===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:_<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:_<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"};m.useEffect(()=>{u.length>0&&E(_=>{const R={..._};return u.forEach((te,fe)=>{R[te.id]===void 0&&(R[te.id]=fe===0)}),R})},[u]);const Pe=()=>{Y(!0)},D=async()=>{L(!0);try{const _={usuarioId:(l==null?void 0:l._id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usuário Atual",observacao:K.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:O};console.log("Concluindo etapa:",_),await new Promise(R=>setTimeout(R,1e3)),H(_),Y(!1),F(""),S(!0),a({etapaId:s,processoId:t,conclusao:_,versaoBase:h}),c({title:"Etapa concluída",description:"A etapa Elaboração do ETP foi concluída com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{L(!1)}},M=_=>{var te;const R=(te=_.target.files)==null?void 0:te[0];if(R){T(R);const fe={id:`anexo-${Date.now()}`,nome:R.name,tamanhoBytes:R.size,mimeType:R.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l._id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(Ie=>[...Ie,fe]),c({title:"Anexo adicionado",description:`${R.name} foi anexado com sucesso.`})}},q=_=>{y(R=>R.filter(te=>te.id!==_)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},W=_=>{switch(_){case"rascunho":return{label:"Em elaboração",color:"bg-gray-100 text-gray-800",icon:e.jsx($e,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_assinatura":return{label:"Enviada p/ assinatura",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},I=(_,R)=>R===void 0?{label:"Não Enviado",color:"bg-gray-100 text-gray-800"}:R<=_?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:R<=_+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo Não Cumprido",color:"bg-red-100 text-red-800"},ee=Je,ue=m.useMemo(()=>{const _=[...p];return _.sort((R,te)=>{const fe=new Date(R.criadoEm).getTime(),Ie=new Date(te.criadoEm).getTime();return v==="desc"?Ie-fe:fe-Ie}),_},[p,v]),G=_=>{try{if(!_)throw new Error("missing");window.open(_,"_blank","noopener,noreferrer")||c({title:"Não foi possível abrir",description:"Verifique o bloqueador de pop-up.",variant:"destructive"})}catch{c({title:"Link expirado",description:"Atualize a página ou gere um novo link.",variant:"destructive"})}},ge=_=>{if(!_)return"";if(/^ETP\s+\d{3}\/\d{4}$/i.test(_))return _.replace(/\s+/," ").toUpperCase();let te=/ETP[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(_);if(te){const X=te[1];return`ETP ${te[2].padStart(3,"0")}/${X}`}if(te=/(?:ETP)?\s*(\d{1,4})\/(\d{4})/i.exec(_),te){const X=te[1].padStart(3,"0"),me=te[2];return`ETP ${X}/${me}`}const fe=/(\d{4})/.exec(_),Ie=/(\d{1,4})(?!.*\d)/.exec(_);if(fe&&Ie){const X=fe[1];return`ETP ${Ie[1].padStart(3,"0")}/${X}`}return _},Ne=()=>$?"Concluída":u.some(_=>_.status==="enviada_para_assinatura")?"Em assinatura":u.some(_=>_.status==="finalizada")?"Finalizada":"Em elaboração",Me=_=>{switch(_){case"Concluída":case"Finalizada":return"bg-green-100 text-green-800";case"Em assinatura":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}},et=()=>{const _=new Date(h.criadoEm),R=h.prazoInicialDiasUteis||5;let te=new Date(_),fe=0;for(;fe<R;){te.setDate(te.getDate()+1);const Ie=te.getDay();Ie>=1&&Ie<=5&&fe++}return te},se=()=>{new Date(h.criadoEm);const _=$?new Date($.dataConclusao):new Date;return{diasUteis:y2(h.criadoEm,_.toISOString())}},ze=()=>{const _=[];u.length===0?_.push({id:"rev-criada",label:"Revisão inicial ainda não criada",status:"pending",description:"Nenhuma revisão foi criada"}):_.push({id:"rev-criada",label:"Revisão inicial criada",status:"completed",description:`${u.length} revisão(ões)`}),p.length===0?_.push({id:"anexos",label:"Documentos anexados (nenhum encontrado)",status:"pending",description:"Nenhum anexo adicionado"}):_.push({id:"anexos",label:"Documentos anexados",status:"completed",description:`${p.length} documento(s)`}),!f.responsaveis||f.responsaveis.length===0?_.push({id:"responsaveis",label:"Responsáveis definidos (nenhum encontrado)",status:"pending",description:"Nenhum responsável atribuído"}):f.responsaveis.length<2?_.push({id:"responsaveis",label:`Responsáveis definidos (${f.responsaveis.length} de 2)`,status:"warning",description:"Recomenda-se ao menos 2"}):_.push({id:"responsaveis",label:"Responsáveis definidos",status:"completed",description:`${f.responsaveis.length} responsável(is)`}),!f.descricaoObjeto||f.descricaoObjeto.trim()===""?_.push({id:"descricao",label:"Descrição do objeto preenchida",status:"pending",description:"Campo obrigatório do ETP"}):_.push({id:"descricao",label:"Descrição do objeto preenchida",status:"completed",description:"Campo preenchido"});const R=u.some(te=>te.status==="enviada_para_assinatura");return _.push({id:"envio-ass",label:"Revisão enviada para assinatura",status:R?"completed":"pending",description:R?"Enviado com sucesso":"Nenhuma revisão enviada"}),_.sort((te,fe)=>{const Ie={pending:0,warning:1,completed:2};return Ie[te.status]-Ie[fe.status]})};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx($e,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulário do ETP"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulário"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsx("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"numeroProcesso",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Vd,{className:"w-4 h-4"}),"Número do Processo Administrativo"]}),e.jsx(De,{id:"numeroProcesso",value:ge(f.numeroETP),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Data da Elaboração"]}),e.jsx(De,{id:"dataElaboracao",value:ee(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]})]})}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"descricaoObjeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Descrição do Objeto *"]}),e.jsx(xt,{id:"descricaoObjeto",value:f.descricaoObjeto,onChange:_=>g({...f,descricaoObjeto:_.target.value}),placeholder:"Descreva detalhadamente o objeto da contratação...",disabled:!we.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"observacoesComplementares",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observações Complementares"]}),e.jsx(xt,{id:"observacoesComplementares",value:f.observacoesComplementares,onChange:_=>g({...f,observacoesComplementares:_.target.value}),placeholder:"Adicione observações complementares relevantes...",disabled:!we.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsx(lf,{value:f.responsaveis||[],onChange:_=>{P(_||[])},disabled:!we.podeEditar||h.status!=="rascunho",canEdit:we.podeEditar,processoId:t,className:"w-full border-b border-slate-200 my-4",maxResponsaveis:5})]})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Versões"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[we.podeCriarNovaRevisao&&e.jsxs(C,{onClick:Be,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Versão"]}),u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda não há versões criadas"})]}):e.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:[!j&&e.jsx("div",{className:"text-sm font-semibold text-purple-700",children:"Última versão"}),(j?u:[u[0]]).map((_,R,te)=>{const fe=W(_.status),Ie=I(_.prazoInicialDiasUteis||0,_.prazoCumpridoDiasUteis),X=de(_),me=Te(X);return e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",_.numeroRevisao]}),e.jsxs(oe,{className:`text-xs font-medium ${fe.color}`,children:[fe.icon,e.jsx("span",{className:"ml-1",children:fe.label})]}),e.jsx(oe,{className:`text-xs font-medium ${Ie.color}`,children:Ie.label}),e.jsx(oe,{className:`text-xs font-medium ${me.badge}`,children:X===null?"Sem prazo":X<0?`${Math.abs(X)}d atrasado`:`${X}d restantes`})]}),e.jsx("div",{className:"flex items-center gap-2",children:(j||u[0].id!==_.id)&&e.jsx(C,{size:"sm",variant:"ghost","aria-label":N[_.id]?"Recolher detalhes":"Expandir detalhes",className:"h-7 px-2 text-gray-600",onClick:()=>{E(V=>({...V,[_.id]:!V[_.id]})),requestAnimationFrame(re),setTimeout(re,0)},children:e.jsx(_l,{className:`w-4 h-4 transition-transform ${N[_.id]?"rotate-180":""}`})})})]}),(N[_.id]??!0)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",_.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",_.autorCargo||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerência:"})," ",_.autorGerencia||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(_.criadoEm))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",_.prazoInicialDiasUteis||0," dias úteis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",_.prazoCumpridoDiasUteis!==void 0?`${_.prazoCumpridoDiasUteis} dias úteis`:"Não enviado"]})]}),_.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:_.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar documento",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar documento",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})})]})]})]})]}),R<te.length-1&&e.jsx("div",{className:"border-b border-slate-200 my-2"})]},_.id)}),u.length>1&&e.jsx("div",{className:"pt-2",children:e.jsx(C,{variant:"ghost","aria-label":j?"Recolher lista de versões":"Ver todas as versões",className:"text-sm text-purple-700 hover:text-purple-800 hover:bg-purple-50",onClick:()=>w(_=>!_),children:j?"Ocultar versões antigas":"Ver todas as versões"})})]})]})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:J,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:M}),e.jsxs(C,{onClick:()=>{var _;return(_=J.current)==null?void 0:_.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:v,onChange:_=>b(_.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),p.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${p.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:ue.map((_,R)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:_.nome}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[_.autorNome," • ",ee(_.criadoEm)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[_.autorNome," • ",ee(_.criadoEm)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>G(_.urlDownload),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>q(_.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),R<ue.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},_.id))})]})})]})})]})})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${Me(Ne())}`,children:Ne()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(wt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criação"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[h.prazoInicialDiasUteis||5," dias úteis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(et().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),$&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(ks,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je($.dataConclusao)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[se().diasUteis," dias úteis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const _=de(h),R=Qv(_);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${R.text} mb-2`,children:_===null?"—":Math.abs(_)}),e.jsx("div",{className:`text-sm font-medium ${R.text}`,children:ox(_)})]})})()}),e.jsx("div",{className:"space-y-2",children:(()=>{const _=h.criadoEm,R=et().toISOString();return e.jsx(xu,{startISO:_,endISO:R})})()})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const _=ze(),R=_.filter(te=>te.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[R,"/",_.length]})]})})()]}),(()=>{const _=ze().sort((ce,Le)=>({warning:0,pending:1,completed:2})[ce.status]-{warning:0,pending:1,completed:2}[Le.status]),[R,te]=Z.useState("all"),[fe,Ie]=Z.useState(""),X={total:_.length,completed:_.filter(ce=>ce.status==="completed").length,open:_.filter(ce=>ce.status!=="completed").length},me=X.total===0?0:Math.round(X.completed/X.total*100),V=_.filter(ce=>{if(R==="open"&&ce.status==="completed"||R==="completed"&&ce.status!=="completed")return!1;if(!fe.trim())return!0;const Le=fe.toLowerCase();return ce.label.toLowerCase().includes(Le)||(ce.description||"").toLowerCase().includes(Le)}),ie=ce=>ce==="completed"?e.jsx(ks,{className:"w-4 h-4 text-green-600"}):e.jsx(pt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[me,"% concluído"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[X.total," itens"]})]}),e.jsx(Fa,{value:me}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>te("all"),className:`px-2 py-1 rounded text-xs ${R==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>te("open"),className:`px-2 py-1 rounded text-xs ${R==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",X.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>te("completed"),className:`px-2 py-1 rounded text-xs ${R==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concluídos (",X.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:fe,onChange:ce=>Ie(ce.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:V.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):V.map(ce=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:ie(ce.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:ce.label}),ce.description&&e.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]})]},ce.id))})]})})()]})]})]}),e.jsx(Do,{data:(()=>{const _=[];return u.forEach(te=>{te.status==="finalizada"&&te.atualizadoEm&&_.push({id:`rev-final-${te.id}`,status:"versao",title:`Revisão ${te.numeroRevisao} finalizada`,author:{name:te.autorNome},createdAt:te.atualizadoEm}),te.status==="enviada_para_assinatura"&&te.enviadoParaAssinaturaEm&&_.push({id:`rev-env-${te.id}`,status:"versao",title:`Revisão ${te.numeroRevisao} enviada para assinatura`,author:{name:te.autorNome},createdAt:te.enviadoParaAssinaturaEm})}),[...p].sort((te,fe)=>new Date(fe.criadoEm).getTime()-new Date(te.criadoEm).getTime()).slice(0,2).forEach(te=>_.push({id:`anexo-${te.id}`,status:"anexo",title:`Anexo adicionado: ${te.nome}`,author:{name:te.autorNome},createdAt:te.criadoEm})),_.sort((te,fe)=>new Date(fe.createdAt).getTime()-new Date(te.createdAt).getTime())})()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:String(s),cardId:"etp-form",title:"Comentários"})})}),e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Ações da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Ações"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const _=de(h);return Te(_).text})()}`,children:(()=>{const _=de(h);return _===null?"Sem prazo":_<0?`${Math.abs(_)} dias atrasado`:`${_} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsável"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:h.autorNome||"Sem responsável"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:$?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Etapa Concluída"}),e.jsxs("p",{className:"text-sm text-green-700",children:[ee($.dataConclusao)," por ",$.usuarioNome]})]})]})}):e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[we.podeEditar&&h.status==="rascunho"&&e.jsxs(C,{onClick:ne,variant:"outline",disabled:k,size:"sm",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Rascunho"]}),e.jsxs(C,{onClick:Ae,variant:"outline",disabled:!he()||k||!we.podeEditar||h.status!=="rascunho",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Finalizar"]}),e.jsxs(C,{onClick:ye,variant:"outline",disabled:!ae()||k||!we.podeEditar,size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Assinatura"]}),xe()&&e.jsxs(C,{onClick:Pe,variant:"outline",disabled:!be()||k,size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]}),!we.podeEditar&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fn,{className:"w-4 h-4"}),"Somente visualização"]})]})}),h.enviadoParaAssinaturaEm&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:["Enviado para assinatura em ",Je(h.enviadoParaAssinaturaEm)]})]})})]})]}),e.jsx(Ke,{open:U,onOpenChange:Y,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaboração do ETP para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observações de conclusão (opcional)"}),e.jsx(xt,{id:"observacao",value:K,onChange:_=>F(_.target.value),placeholder:"Adicione observações sobre a conclusão da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:O,onCheckedChange:_=>S(_)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao concluir esta etapa, o card será bloqueado para edição e a próxima etapa do fluxo será habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>Y(!1),disabled:k,children:"Cancelar"}),e.jsx(C,{onClick:D,disabled:k,className:"bg-green-600 hover:bg-green-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const hZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoETP:{nome:"ETP_Versao_Final.pdf",url:"mock-url-etp-final",mimeType:"application/pdf",tamanho:"2.5 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},xZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",data:"15/01/2025 10:30",texto:"ETP aprovado e enviado para assinatura. Aguardando assinaturas dos responsáveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],w2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br"}];function fZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=Dt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(hZ);m.useState(xZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[g,p]=m.useState(!1),[y,v]=m.useState(null),[b,j]=m.useState(""),[w,N]=m.useState(!1),[E,A]=m.useState([]),[P,z]=m.useState([]),[T,k]=m.useState("desc"),L=Z.useRef(null),U=Z.useMemo(()=>{const D=[...P];return D.sort((M,q)=>new Date(q.uploadedAt).getTime()-new Date(M.uploadedAt).getTime()),T==="asc"&&D.reverse(),D},[P,T]),Y=D=>{if(!D){c({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(D,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,F]=m.useState(!1),[O,S]=m.useState(""),[$,H]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,we=d.assinantes.some(D=>D.email===(l==null?void 0:l.email)&&D.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(D=>D.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(D=>D.status==="ASSINADO").length/d.assinantes.length*100:0,be=D=>{switch(D){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const D=new Date().toISOString(),M={...y,status:"ASSINADO",assinadoEm:D};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${M.nome}`}),f(!1),v(null)},ne=()=>{if(!y||!b.trim())return;const D=new Date().toISOString(),M={...y,status:"CANCELADO",canceladoEm:D,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${M.nome}`,variant:"destructive"}),p(!1),v(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usuário selecionado",description:"Selecione pelo menos um usuário para adicionar como assinante.",variant:"destructive"});return}const D=E.map(M=>{const q=w2.find(W=>W.id===M);return{id:`assinante-${Date.now()}-${M}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(M=>({...M,assinantes:[...M.assinantes,...D]})),c({title:"Assinantes Adicionados",description:`${D.length} assinante(s) adicionado(s) com sucesso.`}),N(!1),A([])},ye=D=>{h(M=>({...M,assinantes:M.assinantes.filter(q=>q.id!==D)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Be=async()=>{re(!0);try{await new Promise(D=>setTimeout(D,2e3)),h(D=>({...D,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluída",description:"A assinatura do ETP foi concluída com sucesso."}),a&&a(d),F(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoETP){c({title:"Nenhum documento",description:"Nenhum documento ETP foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoETP.nome} está sendo baixado.`})},Te=()=>{if(!d.documentoETP){c({title:"Nenhum documento",description:"Nenhum documento ETP foi enviado ainda.",variant:"destructive"});return}c({title:"Visualização",description:`Abrindo ${d.documentoETP.nome} para visualização.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-etp",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualização do ETP"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoETP,className:"text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoETP,className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualização do ETP"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoETP?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponível"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>N(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(D=>{const M=be(D.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:D.nome}),e.jsxs(oe,{className:`${M.bgColor} ${M.textColor} ${M.borderColor} text-xs`,children:[M.icon,e.jsx("span",{className:"ml-1",children:M.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:D.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:D.email}),D.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(D.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&D.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ye(D.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),D.status==="PENDENTE"&&(D.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{v(D),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},D.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(D=>D.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concluídas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias úteis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias úteis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:L,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:D=>{var q;const M=(q=D.target.files)==null?void 0:q[0];M&&(z(W=>[{id:`a-${Date.now()}`,name:M.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...W]),D.target&&(D.target.value=""),c({title:"Anexo adicionado",description:`${M.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var D;return(D=L.current)==null?void 0:D.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:T,onChange:D=>k(D.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:U.map((D,M)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[D.uploadedBy," • ",Je(D.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[D.uploadedBy," • ",Je(D.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(D.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>z(q=>q.filter(W=>W.id!==D.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),M<U.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},D.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-etp",title:"Comentários"})})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>F(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(St,{children:e.jsx("p",{children:he?"Etapa já concluída":"Aguarde todas as assinaturas para concluir."})})]})}),we&&e.jsxs(C,{variant:"outline",onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),we&&e.jsxs(C,{onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento ETP."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["ETP - Versão Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(xt,{id:"motivo-cancelamento",value:b,onChange:D=>j(D.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:w,onOpenChange:N,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o ETP."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:w2.map(D=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:D.id,checked:E.includes(D.id),onCheckedChange:M=>{A(M?[...E,D.id]:E.filter(q=>q!==D.id))}}),e.jsx(B,{htmlFor:D.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:D.cargo})]})})]},D.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:F,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do ETP"]}),e.jsx(tt,{children:"Confirme a conclusão da etapa de assinatura do ETP."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[D.nome," - ",D.status==="ASSINADO"?"Assinado":"Pendente"]})]},D.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observação Final (Opcional)"}),e.jsx(xt,{id:"observacao-conclusao",value:O,onChange:D=>S(D.target.value),placeholder:"Adicione uma observação final sobre a conclusão...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:$,onCheckedChange:D=>H(D===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),e.jsx(C,{onClick:Be,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Conclusão"]})})]})]})})]})}const Xu=[{id:"1",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",email:"yasmin.pissolati@fiscatus.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@fiscatus.gov.br"},{id:"3",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística",email:"guilherme.carvalho@fiscatus.gov.br"},{id:"4",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos",email:"leticia.bonfim@fiscatus.gov.br"},{id:"5",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira e Contábil",email:"dallas.kelson@fiscatus.gov.br"}];function pZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var W;const{user:l}=Dt(),{isSE:c,isGSP:u,isGSPouSE:d}=$a(),{toast:h}=Kt();m.useRef(null);const[x,f]=m.useState({numeroETP:"ETP-012-2025",objeto:"Contratação de Serviços de Limpeza Hospitalar",regimeTramitacao:"URGENCIA",observacoes:"",cidadeDataEmissao:`Brasília, ${Je(new Date)}`,responsaveis:[{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva"}],status:"PENDENTE",criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()}),[g,p]=m.useState([]),[y,v]=m.useState(!1),[b,j]=m.useState(!1),[w,N]=m.useState(!1),[E,A]=m.useState(!1),[P,z]=m.useState(null),[T,k]=m.useState([]),[L,U]=m.useState(!1);m.useState(null);const[Y,K]=m.useState([]),[F,O]=m.useState("newest"),S=m.useRef(null);m.useEffect(()=>{n&&f(n)},[n]);const $=I=>{switch(I){case"PENDENTE":return{label:"Pendente",bgColor:"bg-yellow-50",textColor:"text-yellow-800",borderColor:"border-yellow-200",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"ASSINADO":return{label:"Assinado",bgColor:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",icon:e.jsx(Re,{className:"w-3 h-3"})};case"CANCELADO":return{label:"Cancelado",bgColor:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",bgColor:"bg-gray-50",textColor:"text-gray-800",borderColor:"border-gray-200",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},H=I=>{switch(I){case"no-prazo":return{label:"No Prazo",className:"bg-green-100 text-green-800"};case"atencao":return{label:"Atenção",className:"bg-yellow-100 text-yellow-800"};case"atrasado":return{label:"Atrasado",className:"bg-red-100 text-red-800"};default:return{label:"No Prazo",className:"bg-green-100 text-green-800"}}},J={prazoDiasUteis:1,decorridosDiasUteis:0,badge:"no-prazo"},re=g.length,le=g.filter(I=>I.status==="ASSINADO").length,we=re>0?le/re*100:0,ke=(l==null?void 0:l.gerencia)&&(l.gerencia.includes("GSP")||l.gerencia.includes("SE"))&&o,he=o&&c&&x.status==="GERADO",ae=()=>{if(T.length===0){h({title:"Erro",description:"Selecione pelo menos um usuário para adicionar como responsável.",variant:"destructive"});return}const I=T.map(ee=>{const ue=Xu.find(G=>G.id===ee);return{id:ue.id,nome:ue.nome,cargo:ue.cargo,gerencia:ue.gerencia}});f(ee=>({...ee,responsaveis:[...ee.responsaveis,...I]})),k([]),v(!1),h({title:"Responsáveis adicionados",description:`${I.length} responsável(is) adicionado(s) com sucesso.`})},be=I=>{f(ee=>({...ee,responsaveis:ee.responsaveis.filter(ue=>ue.id!==I)})),h({title:"Responsável removido",description:"Responsável removido com sucesso."})},xe=()=>{if(T.length===0){h({title:"Erro",description:"Selecione pelo menos um usuário para adicionar como assinante.",variant:"destructive"});return}const I=T.map(ee=>{const ue=Xu.find(G=>G.id===ee);return{id:ue.id,nome:ue.nome,cargo:ue.cargo,gerencia:ue.gerencia,email:ue.email,status:"PENDENTE"}});p(ee=>[...ee,...I]),k([]),j(!1),h({title:"Assinantes adicionados",description:`${I.length} assinante(s) adicionado(s) com sucesso.`})},ne=I=>{p(ee=>ee.filter(ue=>ue.id!==I)),h({title:"Assinante removido",description:"Assinante removido com sucesso."})},Ae=()=>{P&&(p(I=>I.map(ee=>ee.id===P.id?{...ee,status:"CANCELADO"}:ee)),A(!1),z(null),h({title:"Assinatura cancelada",description:"Assinatura cancelada com sucesso."}))},ye=async()=>{U(!0);try{await r(x),h({title:"Despacho salvo",description:"As alterações foram salvas com sucesso."})}catch{h({title:"Erro",description:"Erro ao salvar o despacho.",variant:"destructive"})}finally{U(!1)}},Be=async()=>{if(!x.observacoes.trim()){h({title:"Erro",description:"Observações são obrigatórias para gerar o despacho.",variant:"destructive"});return}U(!0);try{f(I=>({...I,status:"GERADO",atualizadoEm:new Date().toISOString()})),h({title:"Despacho gerado",description:"O despacho do ETP foi gerado com sucesso."})}catch{h({title:"Erro",description:"Erro ao gerar o despacho.",variant:"destructive"})}finally{U(!1)}},de=async()=>{U(!0);try{f(I=>({...I,status:"ASSINADO",assinadoPor:{id:(l==null?void 0:l.id)||"",nome:(l==null?void 0:l.nome)||"",cargo:(l==null?void 0:l.cargo)||"",dataAssinatura:new Date().toISOString()},atualizadoEm:new Date().toISOString()})),h({title:"Despacho assinado",description:"O despacho foi assinado com sucesso."})}catch{h({title:"Erro",description:"Erro ao assinar o despacho.",variant:"destructive"})}finally{U(!1)}},Te=()=>{h({title:"Download iniciado",description:"O download do despacho foi iniciado."})},Pe=async()=>{U(!0);try{await a(x),N(!1),h({title:"Etapa concluída",description:"A etapa de despacho do ETP foi concluída."})}catch{h({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{U(!1)}},D=m.useMemo(()=>[...Y].sort((I,ee)=>{const ue=new Date(I.uploadedAt).getTime(),G=new Date(ee.uploadedAt).getTime();return F==="newest"?G-ue:ue-G}),[Y,F]),M=I=>{window.open(I,"_blank")},q=I=>{K(ee=>ee.filter(ue=>ue.id!==I)),h({title:"Anexo removido",description:"O anexo foi removido com sucesso."})};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"w-full px-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"formulario-despacho",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-100 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(si,{className:"w-5 h-5 text-indigo-600"}),"Formulário do Despacho"]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Vd,{className:"w-4 h-4"}),"Número do ETP"]}),e.jsx(De,{id:"numeroETP",value:x.numeroETP,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto"]}),e.jsx(xt,{id:"objeto",value:x.objeto,readOnly:!0,className:"w-full min-h-[80px] resize-none bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"regimeTramitacao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Regime de Tramitação"]}),e.jsx(De,{id:"regimeTramitacao",value:x.regimeTramitacao==="URGENCIA"?"Urgência":"Ordinário",readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observações *"]}),e.jsx(of,{value:x.observacoes,onChange:I=>f({...x,observacoes:I}),placeholder:"Descreva as observações do despacho...",disabled:!ke||x.status!=="PENDENTE",className:"min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300",minHeight:"100px",processoId:t,etapaId:s.toString(),cardId:"observacoes-despacho-etp"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"cidadeDataEmissao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Cidade/Data de emissão"]}),e.jsx(De,{id:"cidadeDataEmissao",value:x.cidadeDataEmissao,onChange:I=>f({...x,cidadeDataEmissao:I.target.value}),placeholder:"Ex: Brasília, 15 de janeiro de 2025",disabled:!ke||x.status!=="PENDENTE",className:"w-full border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4",children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(qt,{className:"w-4 h-4"}),"Nome e Cargo dos Responsáveis *"]}),x.responsaveis.length>0?e.jsx("div",{className:"space-y-2 mb-3",children:x.responsaveis.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:I.nome}),e.jsxs("div",{className:"text-sm text-gray-600",children:[I.cargo," - ",I.gerencia]})]}),ke&&x.status==="PENDENTE"&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>be(I.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ai,{className:"w-4 h-4"})})]},I.id))}):e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-center text-gray-500",children:"Nenhum responsável selecionado"}),ke&&x.status==="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:()=>v(!0),className:"w-full",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Responsáveis"]})]})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"flex-1 flex flex-col",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2 mx-4 mt-4",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 p-4 space-y-4 flex-1",children:[d&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>j(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),g.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:g.map(I=>{const ee=$(I.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:I.nome}),e.jsxs(oe,{className:`${ee.bgColor} ${ee.textColor} ${ee.borderColor} text-xs`,children:[ee.icon,e.jsx("span",{className:"ml-1",children:ee.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:I.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:I.email}),I.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(I.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[d&&I.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ne(I.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),I.status==="PENDENTE"&&(I.email===(l==null?void 0:l.email)||d)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{z(I),A(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},I.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[le,"/",re]})]}),e.jsx(Fa,{value:we,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:we===100?"Todas as assinaturas concluídas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:H(J.badge).className,children:H(J.badge).label})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",J.prazoDiasUteis," dia útil"]}),e.jsxs("div",{children:["Decorridos: ",J.decorridosDiasUteis," dias úteis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:S,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:I=>{var ue;const ee=(ue=I.target.files)==null?void 0:ue[0];ee&&(K(G=>[{id:`a-${Date.now()}`,name:ee.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...G]),I.target&&(I.target.value=""),h({title:"Anexo adicionado",description:`${ee.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var I;return(I=S.current)==null?void 0:I.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:Y.length})]}),e.jsxs("select",{value:F,onChange:I=>O(I.target.value),className:"text-xs border border-slate-300 rounded-md px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent",children:[e.jsx("option",{value:"newest",children:"Mais recente"}),e.jsx("option",{value:"oldest",children:"Menos recente"})]})]}),Y.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:"space-y-2",children:D.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["por ",I.uploadedBy," • ",Je(new Date(I.uploadedAt))]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>M(I.urlDownload||"#"),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>q(I.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]},I.id))})]})})]})})]})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full mt-6",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-despacho-etp",title:"Comentários"})})}),e.jsx("div",{className:"mt-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:((W=x.responsaveis[0])==null?void 0:W.nome)||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ke&&e.jsxs(C,{variant:"outline",onClick:ye,disabled:L,children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(C,{onClick:Be,disabled:L||!x.observacoes.trim()||x.responsaveis.length===0,className:"bg-blue-600 hover:bg-blue-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Gerando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(si,{className:"w-4 h-4 mr-2"}),"Gerar Despacho"]})}),he&&e.jsx(C,{onClick:de,disabled:L,className:"bg-green-600 hover:bg-green-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Assinando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Despacho"]})}),x.status!=="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:Te,disabled:L,children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),x.status==="ASSINADO"&&e.jsxs(C,{onClick:()=>N(!0),disabled:L,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})]})]})})})}),e.jsx(Ke,{open:y,onOpenChange:v,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Responsáveis"]}),e.jsx(tt,{children:"Selecione os usuários responsáveis pelo despacho (GSP e SE)."})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:Xu.map(I=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:I.id,checked:T.includes(I.id),onCheckedChange:ee=>{k(ee?[...T,I.id]:T.filter(ue=>ue!==I.id))}}),e.jsxs(B,{htmlFor:I.id,className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:I.nome}),e.jsxs("div",{className:"text-gray-600",children:[I.cargo," - ",I.gerencia]})]})]},I.id))})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>v(!1),disabled:L,children:"Cancelar"}),e.jsx(C,{onClick:ae,disabled:L||T.length===0,className:"bg-blue-600 hover:bg-blue-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Responsáveis"]})})]})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o despacho do ETP."})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:Xu.map(I=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:I.id,checked:T.includes(I.id),onCheckedChange:ee=>{k(ee?[...T,I.id]:T.filter(ue=>ue!==I.id))}}),e.jsxs(B,{htmlFor:I.id,className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:I.nome}),e.jsxs("div",{className:"text-gray-600",children:[I.cargo," - ",I.gerencia]})]})]},I.id))})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),disabled:L,children:"Cancelar"}),e.jsx(C,{onClick:xe,disabled:L||T.length===0,className:"bg-blue-600 hover:bg-blue-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Assinantes"]})})]})]})}),e.jsx(Ke,{open:w,onOpenChange:N,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsx(tt,{children:"Tem certeza que deseja concluir a etapa de Despacho do ETP? Esta ação não pode ser desfeita."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),disabled:L,children:"Cancelar"}),e.jsx(C,{onClick:Pe,disabled:L,className:"bg-green-600 hover:bg-green-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})}),e.jsx(Ke,{open:E,onOpenChange:A,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-600"}),"Cancelar Assinatura"]}),e.jsxs(tt,{children:["Tem certeza que deseja cancelar a assinatura de ",P==null?void 0:P.nome,"? Esta ação não pode ser desfeita."]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>A(!1),disabled:L,children:"Cancelar"}),e.jsx(C,{onClick:Ae,disabled:L,className:"bg-orange-600 hover:bg-orange-700",children:L?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]})})]})]})})]})})}const gZ=(t,s)=>{let a=0;const r=new Date(t);for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a},C2=[{id:"v1",numeroVersao:1,status:"enviada_para_aprovacao",autorId:"user1",autorNome:"Guilherme de Carvalho Silva",autorCargo:"Analista de Riscos",autorGerencia:"GSL - Gerência de Suprimentos e Logística",autorEmail:"guilherme.silva@hospital.gov.br",criadoEm:"2024-01-15T10:00:00Z",atualizadoEm:"2024-01-18T16:45:00Z",enviadoParaAprovacaoEm:"2024-01-18T16:45:00Z",prazoDiasUteis:7,prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,documentoUrl:"#",documentoNome:"MatrizRisco_V1_GuilhermeCarvalho.pdf",payload:{objetoETP:"Aquisição de equipamentos para ampliação da capacidade de atendimento",areaSetorDemandante:"GSL - Gerência de Suprimentos e Logística",numeroETP:"ETP 006/2025",dataElaboracao:"2025-01-15",riscos:[{id:"r1",riscoIdentificado:"Atraso na entrega de equipamentos",causaRisco:"Problemas na cadeia de suprimentos",consequenciaImpacto:"Atraso no cronograma do projeto",nivelRisco:"MEDIO",medidasMitigadoras:"Contatos com fornecedores alternativos e monitoramento semanal"}],justificativasGerais:"",observacoesComplementares:"",responsaveis:[{id:"user1",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logística",gerencia:"GSL - Gerência de Suprimentos e Logística"}]}}];function vZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var ye,Be;const{user:l}=Dt(),{toast:c}=Kt(),[u,d]=m.useState(C2),[h,x]=m.useState(C2[0]),[f,g]=m.useState(h.payload),[p,y]=m.useState([]),[v,b]=m.useState("desc"),j=m.useMemo(()=>{const de=[...p];return de.sort((Te,Pe)=>new Date(Pe.criadoEm).getTime()-new Date(Te.criadoEm).getTime()),v==="asc"&&de.reverse(),de},[p,v]),[w,N]=m.useState(!1),[E,A]=m.useState("versoes"),[P,z]=m.useState(!1),[T,k]=m.useState(""),[L,U]=m.useState(!0),[Y,K]=m.useState(null),F=m.useRef(null),O=(de,Te)=>{if(!de||!Te)return!1;const Pe=D=>D.toLowerCase().replace(/[-\s]/g,"").trim();return Pe(de)===Pe(Te)},S={podeEditar:(O((l==null?void 0:l.gerencia)||"",i||"")||((ye=l==null?void 0:l.gerencia)==null?void 0:ye.includes("GSP"))||!1)&&!Y,podeCriarNovaVersao:$()&&!Y,podeUploadAnexo:(O((l==null?void 0:l.gerencia)||"",i||"")||((Be=l==null?void 0:l.gerencia)==null?void 0:Be.includes("GSP"))||!1)&&!Y,podeConcluirEtapa:J()};function $(){return h?["finalizada","enviada_para_aprovacao","aprovada"].includes(h.status):!1}function H(){return f.riscos.length>0&&f.riscos.every(de=>de.riscoIdentificado.trim()!==""&&de.causaRisco.trim()!=="")&&f.responsaveis&&f.responsaveis.length>0}function J(){if(!((l==null?void 0:l.gerencia)&&(O(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const Te=u.some(D=>D.status!=="rascunho"),Pe=H();return Te&&Pe}const re=async()=>{N(!0);try{const de={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(de),d(Te=>Te.map(Pe=>Pe.id===de.id?de:Pe)),c({title:"Versão salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar versão.",variant:"destructive"})}finally{N(!1)}},le=async()=>{if(!H()){c({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios antes de enviar para aprovação.",variant:"destructive"});return}N(!0);try{const de=new Date(h.criadoEm),Pe=gZ(de,new Date),D={...h,status:"enviada_para_aprovacao",enviadoParaAprovacaoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:Pe,payload:f};x(D),d(M=>M.map(q=>q.id===D.id?D:q)),c({title:"Enviado para aprovação",description:"Matriz de Risco enviada para aprovação com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para aprovação.",variant:"destructive"})}finally{N(!1)}},we=async()=>{if($()){N(!0);try{const de=Math.max(...u.map(Pe=>Pe.numeroVersao))+1,Te={id:`v${de}`,numeroVersao:de,status:"rascunho",autorId:(l==null?void 0:l.id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usuário Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:7,prazoInicialDiasUteis:7,payload:{...h.payload,riscos:[],justificativasGerais:"",observacoesComplementares:""}};d(Pe=>[Te,...Pe]),x(Te),g(Te.payload),c({title:"Nova versão criada",description:`Versão ${de} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova versão.",variant:"destructive"})}finally{N(!1)}}},ke=async()=>{N(!0);try{const de={usuarioId:(l==null?void 0:l.id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usuário Atual",observacao:T.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:L};await new Promise(Te=>setTimeout(Te,1e3)),K(de),z(!1),k(""),U(!0),a({etapaId:s,processoId:t,conclusao:de,versaoBase:h}),c({title:"Etapa concluída",description:"A etapa Elaboração da Matriz de Risco foi concluída com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{N(!1)}},he=m.useCallback(de=>{g(Te=>({...Te,responsaveis:de}))},[]),ae=de=>{var Pe;const Te=(Pe=de.target.files)==null?void 0:Pe[0];if(Te){const D={id:`anexo-${Date.now()}`,nome:Te.name,tamanhoBytes:Te.size,mimeType:Te.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l.id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(M=>[...M,D]),c({title:"Anexo adicionado",description:`${Te.name} foi anexado com sucesso.`})}},be=de=>{y(Te=>Te.filter(Pe=>Pe.id!==de)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},xe=de=>{switch(de){case"rascunho":return{label:"Rascunho",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ca,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_aprovacao":return{label:"Enviada para Aprovação",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-purple-100 text-purple-800",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"Reprovada",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ss,{className:"w-3 h-3"})}}},ne=(de,Te)=>Te===void 0?{label:"Não Enviado",color:"bg-gray-100 text-gray-800"}:Te<=de?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:Te<=de+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo Não Cumprido",color:"bg-red-100 text-red-800"},Ae=de=>{if(!de)return"";if(/^ETP\s+\d{3}\/\d{4}$/i.test(de))return de.replace(/\s+/," ").toUpperCase();let Pe=/ETP[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(de);if(Pe){const q=Pe[1];return`ETP ${Pe[2].padStart(3,"0")}/${q}`}if(Pe=/(?:ETP)?\s*(\d{1,4})\/(\d{4})/i.exec(de),Pe){const q=Pe[1].padStart(3,"0"),W=Pe[2];return`ETP ${q}/${W}`}const D=/(\d{4})/.exec(de),M=/(\d{1,4})(?!.*\d)/.exec(de);if(D&&M){const q=D[1];return`ETP ${M[1].padStart(3,"0")}/${q}`}return de};return e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"w-full px-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"formulario-matriz-risco",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-100 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-indigo-600"}),"Formulário da Matriz de Risco"]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Vd,{className:"w-4 h-4"}),"Número do ETP"]}),e.jsx(De,{id:"numeroETP",value:Ae(f.numeroETP),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Data da Elaboração"]}),e.jsx(De,{id:"dataElaboracao",value:Je(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objetoETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto do ETP"]}),e.jsx(xt,{id:"objetoETP",value:f.objetoETP,onChange:de=>g({...f,objetoETP:de.target.value}),placeholder:"Descreva o objeto do ETP...",disabled:!0,className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"areaSetorDemandante",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Área/Setor Demandante"]}),e.jsx(De,{id:"areaSetorDemandante",value:f.areaSetorDemandante,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsx("div",{className:"w-full p-4 border-b border-gray-100",children:e.jsx(lf,{value:f.responsaveis||[],onChange:he,disabled:!S.podeEditar||h.status!=="rascunho",canEdit:S.podeEditar,processoId:t,className:"w-full",maxResponsaveis:5})})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:E,onValueChange:A,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2 rounded-none",children:[e.jsx(Vt,{value:"versoes",children:"Versões"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"versoes",className:"mt-0 p-4 flex-1 flex flex-col",children:e.jsxs("div",{className:"space-y-4 w-full flex-1 flex flex-col",children:[S.podeCriarNovaVersao&&e.jsxs(C,{onClick:we,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Versão"]}),u.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Ca,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda não há versões criadas"})]}):e.jsx("div",{className:"space-y-3 w-full max-h-full overflow-y-auto",children:u.map(de=>{const Te=xe(de.status),Pe=ne(de.prazoInicialDiasUteis||0,de.prazoCumpridoDiasUteis);return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors w-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-3 w-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",de.numeroVersao]}),e.jsxs(oe,{className:`text-xs font-medium ${Te.color}`,children:[Te.icon,e.jsx("span",{className:"ml-1",children:Te.label})]}),e.jsx(oe,{className:`text-xs font-medium ${Pe.color}`,children:Pe.label})]})}),e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3 w-full",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",de.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",de.autorCargo||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerência:"})," ",de.autorGerencia||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Je(new Date(de.criadoEm))," às ",new Date(de.criadoEm).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",de.prazoInicialDiasUteis||0," dias úteis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",de.prazoCumpridoDiasUteis!==void 0?`${de.prazoCumpridoDiasUteis} dias úteis`:"Não enviado"]})]}),de.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:de.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})})]})]})]},de.id)})})]})}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-4",children:e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:v,onChange:de=>b(de.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),S.podeUploadAnexo&&h.status==="rascunho"&&e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:F,type:"file",onChange:ae,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:()=>{var de;return(de=F.current)==null?void 0:de.click()},variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),p.length===0?e.jsx("div",{className:"pt-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum anexo enviado"})]})}):e.jsx("div",{className:"space-y-0 w-full flex-shrink-0 max-h-60 overflow-y-auto",children:j.map((de,Te)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rh,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:de.nome}),e.jsxs("p",{className:"text-xs text-gray-500",children:[de.autorNome," • ",Je(de.criadoEm)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),S.podeUploadAnexo&&h.status==="rascunho"&&e.jsx(C,{size:"sm",variant:"outline",onClick:()=>be(de.id),className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(It,{className:"w-3 h-3"})})]})]}),Te<j.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},de.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s,cardId:"matriz-risco-form",title:"Comentários"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-4 pb-2",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:h.autorNome||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S.podeEditar&&h.status==="rascunho"&&!Y&&e.jsxs(C,{onClick:re,variant:"outline",disabled:w,className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Rascunho"]}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:le,variant:"outline",disabled:!H()||w||!S.podeEditar||h.status!=="rascunho"||!!Y,className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Aprovação"]})})}),!H()&&e.jsx(St,{children:e.jsx("p",{children:"Preencha os campos obrigatórios"})})]})}),!Y&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:()=>z(!0),variant:"default",disabled:!J()||w,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})}),!J()&&e.jsx(St,{children:e.jsx("p",{children:"É necessário enviar uma versão para aprovação antes de concluir a etapa."})})]})}),!S.podeEditar&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fn,{className:"w-4 h-4"}),"Somente visualização"]})]})]}),(h.status==="enviada_para_aprovacao"||Y)&&e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[h.status==="enviada_para_aprovacao"&&e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Enviado para aprovação em ",Je(h.enviadoParaAprovacaoEm||"")]}),Y&&e.jsxs("span",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(ks,{className:"w-4 h-4"}),"Concluída em ",Je(Y.dataConclusao)," por ",Y.usuarioNome]})]})]})})})]}),e.jsx(Ke,{open:P,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaboração da Matriz de Risco para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observações de conclusão (opcional)"}),e.jsx(xt,{id:"observacao",value:T,onChange:de=>k(de.target.value),placeholder:"Adicione observações sobre a conclusão da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:L,onCheckedChange:de=>U(de)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Atenção:"})," Ao concluir esta etapa, o card será bloqueado para edição e a próxima etapa do fluxo será habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),disabled:w,children:"Cancelar"}),e.jsx(C,{onClick:ke,disabled:w,className:"bg-green-600 hover:bg-green-700",children:w?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})})}function bZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){var W;const{user:i}=Dt(),{toast:l}=Kt(),[c,u]=m.useState(""),[d,h]=m.useState(""),[x,f]=m.useState([]),[g,p]=m.useState(!1),[y,v]=m.useState(!1),[b,j]=m.useState("anexos"),[w,N]=m.useState("desc"),[E,A]=m.useState([]),P=m.useMemo(()=>{const I=[...E];return I.sort((ee,ue)=>new Date(ue.uploadedAt).getTime()-new Date(ee.uploadedAt).getTime()),w==="asc"&&I.reverse(),I},[E,w]),[z,T]=m.useState(null),[k,L]=m.useState(!1),[U,Y]=m.useState(null),K=m.useRef(null),[F,O]=m.useState(""),[S,$]=m.useState(!1),H=m.useRef(null),[J,re]=m.useState("_COMENTADA"),[le,we]=m.useState([{id:"v1",version:1,isFinal:!1,status:"aprovada",createdAt:"2025-01-10T09:00:00Z",createdBy:"Ana Carolina Silva",createdByCargo:"Analista de Riscos",createdByGerencia:"GSP - Gerência de Soluções e Projetos",createdByEmail:"ana.silva@hospital.gov.br",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:2,aprovadoData:"2025-01-12T15:00:00Z"},{id:"v2",version:2,isFinal:!0,status:"enviada",createdAt:"2025-01-15T14:30:00Z",createdBy:"Ana Carolina Silva",createdByCargo:"Analista de Riscos",createdByGerencia:"GSP - Gerência de Soluções e Projetos",createdByEmail:"ana.silva@hospital.gov.br",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3}]);m.useEffect(()=>{T({name:"Matriz_Risco_V2_AnaCarolinaSilva.pdf",size:"1.4 MB",uploadedAt:"2025-01-15T14:30:00Z",uploadedBy:"Ana Carolina Silva"}),L(!0)},[]);const ke=()=>{const I=[];return c.trim()||I.push("Justificativa é obrigatória"),f(I),I.length===0},he=o,ae=()=>(i==null?void 0:i.gerencia)==="GSP - Gerência de Soluções e Projetos",be=()=>{if(!ke()){l({title:"Erro de Validação",description:"Por favor, preencha a Justificativa.",variant:"destructive"});return}p(!0)},xe=()=>{const I=new Date().toISOString();h(I),we(ee=>ee.map(ue=>ue.isFinal?{...ue,status:"aprovada",aprovadoData:I}:ue)),l({title:"Matriz Aprovada",description:"A Matriz de Risco foi aprovada com sucesso."}),p(!1),a(n||{})},ne=()=>{if(!ke()){l({title:"Erro de Validação",description:"Por favor, preencha a Justificativa.",variant:"destructive"});return}v(!0)},Ae=()=>{const I=new Date().toISOString();h(I),we(ee=>ee.map(ue=>ue.isFinal?{...ue,status:"reprovada"}:ue)),l({title:"Solicitada Nova Versão",description:"Fluxo retornado para elaboração da Matriz (Card 8)."}),v(!1),r(n||{})},ye=I=>{try{if(!window.open(I,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"Não foi possível abrir o documento",description:"Verifique bloqueio de popups.",variant:"destructive"})}},Be=()=>{const I=U||z;if(!I){l({title:"Nenhum documento",description:"Nenhuma Matriz enviada.",variant:"destructive"});return}l({title:"Visualizar",description:`Abrindo ${I.name}...`})},de=()=>{const I=U||z;if(!I){l({title:"Nenhum documento",description:"Nenhuma Matriz enviada.",variant:"destructive"});return}l({title:"Download Iniciado",description:`Baixando ${I.name}...`})},Te=()=>{var I;if(!F){l({title:"Selecione o tipo",description:"Escolha se o arquivo é Comentada ou Revisada antes de enviar.",variant:"destructive"});return}(I=K.current)==null||I.click()},Pe=(I,ee)=>{const ue=/(_COMENTADA)(?=\.|$)/i.test(I),G=/(_REVISADA)(?=\.|$)/i.test(I);return!(ee==="comentada"&&!ue||ee==="revisada"&&!G)},D=(I,ee)=>{const ue=I.lastIndexOf(".");return ue===-1?`${I}${ee}`:`${I.slice(0,ue)}${ee}${I.slice(ue)}`},M=(I,ee)=>ee===void 0?{status:"nao_enviado",dias:0}:ee<=I?{status:"ok",dias:ee}:ee<=I+1?{status:"risco",dias:ee}:{status:"nao_cumprido",dias:ee},q=le.find(I=>I.isFinal)||le[le.length-1];return M((q==null?void 0:q.prazoInicialDiasUteis)||0,q==null?void 0:q.prazoCumpridoDiasUteis),e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"aprovacao-matriz",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(ds,{className:"w-5 h-5 text-indigo-600"}),"Matriz de Risco"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Be,disabled:!k,className:"text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!k,className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsx("div",{className:"w-full min-h-[320px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:U?e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Visualizando: ",U.name]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Versão ",U.tipo==="comentada"?"Comentada":"Revisada"," •",Je(U.uploadedAt)," •",U.uploadedBy]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use os botões acima para visualizar/baixar"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualização da Matriz de Risco"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use os botões acima para visualizar/baixar"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(xt,{id:"justificativa",value:c,onChange:I=>u(I.target.value),placeholder:"Descreva a justificativa da decisão sobre a Matriz de Risco...",disabled:!he,className:"min-h-[160px] mt-2 resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"}),x.includes("Justificativa é obrigatória")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Justificativa é obrigatória"}),d&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Análise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:Je(d)})})]})]})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:b,onValueChange:j,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"versoes",children:"Versões"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"versoes",className:"mt-0 p-4",children:le.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma versão disponível"})]}):e.jsx("div",{className:"space-y-3 max-h-full overflow-y-auto",children:le.map(I=>{const ee=(()=>{switch(I.status){case"rascunho":return{label:"Em Elaboração",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"enviada":return{label:"Enviada para Análise",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"Não Aprovada",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}})();return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{variant:I.isFinal?"default":"outline",className:"text-xs",children:["V",I.version,I.isFinal&&e.jsx(Re,{className:"w-3 h-3 ml-1"})]}),e.jsxs(oe,{className:`text-xs ${ee.color}`,children:[ee.icon,e.jsx("span",{className:"ml-1",children:ee.label})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:e.jsx(bt,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",I.createdBy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",I.createdByCargo||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerência:"})," ",I.createdByGerencia||"Não informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Je(new Date(I.createdAt))," às ",new Date(I.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",I.prazoInicialDiasUteis||0," dias úteis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",I.prazoCumpridoDiasUteis!==void 0?`${I.prazoCumpridoDiasUteis} dias úteis`:"Não enviado"]})]})]},I.id)})})}),e.jsxs(Gt,{value:"anexos",className:"mt-0 p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Versão Elaborada (referência)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Última versão do Card 8. Somente visualização."})]}),z?e.jsx("div",{className:"group p-3 border border-slate-200 rounded-lg bg-slate-50",onDragOver:I=>{I.preventDefault()},onDrop:I=>{I.preventDefault(),l({title:"Área somente visualização",description:"Este espaço é apenas para a versão elaborada. Envie comentadas/revisadas no bloco abaixo.",variant:"destructive"})},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded",children:e.jsx($e,{className:"w-3.5 h-3.5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:z.name}),e.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[z.size," • ",Je(z.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",title:"Visualizar em nova aba",className:"h-5 w-5 p-0",onClick:()=>ye("#"),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-5 w-5 p-0",children:e.jsx(bt,{className:"w-3 h-3"})})]})]})}):e.jsx("div",{className:"text-xs text-slate-500 p-2 bg-gray-50 rounded border",children:"Nenhuma versão elaborada encontrada."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Versões Comentadas/Revisadas"}),e.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded",title:"Use este espaço para anexar somente versões com comentários ou revisões. A versão elaborada é fixa e vem do card anterior.",children:"?"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Ordenar:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:w,onChange:I=>N(I.target.value),className:"h-6 rounded border border-slate-200 bg-white px-2 pr-5 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 pointer-events-none",children:e.jsx("svg",{className:"w-2.5 h-2.5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})})]}),he&&e.jsx("div",{className:"mb-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("select",{"aria-label":"Classificação do arquivo",value:F,onChange:I=>O(I.target.value),className:"h-7 rounded border border-slate-200 bg-white px-2 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Selecione: Comentada ou Revisada"}),e.jsx("option",{value:"comentada",children:"Comentada"}),e.jsx("option",{value:"revisada",children:"Revisada"})]}),e.jsx("input",{ref:K,type:"file",onChange:I=>{var ge;const ee=(ge=I.target.files)==null?void 0:ge[0];if(!ee)return;const ue=F||"comentada",G=ue==="comentada"?"_COMENTADA":"_REVISADA";if(!Pe(ee.name,ue))H.current=ee,re(G),$(!0);else{const Ne={id:`annex-${Date.now().toString()}`,name:ee.name,size:`${(ee.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",tipo:ue};A(Me=>[Ne,...Me]),Y(Ne),l({title:"Anexo enviado",description:`${ee.name} foi anexado e está sendo visualizado.`})}I.target&&(I.target.value="")},accept:".pdf,.docx,.xlsx,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:Te,variant:"outline",title:"Neste card só aceitamos versões comentadas/revisadas. A versão elaborada é exibida acima como referência.",className:"w-full border-dashed border-2 border-gray-300 hover:border-indigo-400 hover:bg-indigo-50 transition-colors h-8 text-xs",children:[e.jsx(mt,{className:"w-3.5 h-3.5 mr-2"}),"Adicionar Anexo"]})]})}),P.length===0?e.jsxs("div",{className:"text-center py-4 w-full",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:e.jsx(mt,{className:"w-5 h-5 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:"space-y-1 max-h-[280px] overflow-y-auto",children:P.map((I,ee)=>e.jsx(Z.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded",children:e.jsx($e,{className:"w-3.5 h-3.5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"text-xs font-medium truncate",title:I.name,children:I.name}),e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full border ${I.tipo==="comentada"?"bg-yellow-50 text-yellow-800 border-yellow-200":"bg-emerald-50 text-emerald-800 border-emerald-200"}`,children:I.tipo==="comentada"?"Comentada":"Revisada"})]}),e.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[Je(I.uploadedAt)," • ",I.uploadedBy]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-5 w-5 p-0 hover:bg-blue-50",onClick:()=>{Y(I),l({title:"Documento selecionado",description:`${I.name} está sendo visualizado.`})},children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-5 w-5 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-5 w-5 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{A(ue=>ue.filter(G=>G.id!==I.id)),(U==null?void 0:U.id)===I.id&&Y(null),l({title:"Anexo removido"})},children:e.jsx(It,{className:"w-3 h-3"})})]})]})},I.id))})]})]})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-aprovacao-matriz",title:"Comentários"})}),ae()&&e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6 pb-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.nome)||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{onClick:ne,disabled:!he,variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Reprovar e Solicitar Nova Versão"]}),e.jsxs(C,{onClick:be,disabled:!he,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 shadow-lg",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovar"]})]})]})})})})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovação"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar a Matriz de Risco? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a versão como Aprovada e Final"}),e.jsx("li",{children:"Liberar a próxima etapa (Assinatura da Matriz)"}),e.jsx("li",{children:"Salvar a justificativa e Data da Análise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovação"]})]})]})}),e.jsx(Ke,{open:y,onOpenChange:v,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Reprovação"]}),e.jsxs(tt,{children:["Tem certeza que deseja reprovar e solicitar nova versão? Esta ação irá:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a versão como Não Aprovada"}),e.jsx("li",{children:"Retornar o fluxo para Elaboração da Matriz (Card 8)"}),e.jsx("li",{children:"Salvar a justificativa e Data da Análise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Reprovação"]})]})]})}),e.jsx(Ke,{open:S,onOpenChange:$,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Adicionar sufixo ao nome do arquivo?"}),e.jsxs(tt,{children:["Para manter o padrão, sugerimos adicionar o sufixo ",J," ao arquivo selecionado."]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Arquivo atual: ",(W=H.current)==null?void 0:W.name]}),e.jsxs(zt,{className:"gap-2",children:[e.jsx(C,{variant:"outline",onClick:()=>{const I=H.current;if(!I||!F){$(!1);return}const ee={id:`annex-${Date.now().toString()}`,name:I.name,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",tipo:F};A(ue=>[ee,...ue]),Y(ee),l({title:"Anexo enviado",description:`${I.name} foi anexado e está sendo visualizado.`}),H.current=null,$(!1)},children:"Manter"}),e.jsx(C,{onClick:()=>{const I=H.current;if(!I||!F){$(!1);return}const ee=D(I.name,J),ue={id:`annex-${Date.now().toString()}`,name:ee,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usuário",tipo:F};A(G=>[ue,...G]),Y(ue),l({title:"Anexo enviado",description:`${ee} foi anexado e está sendo visualizado.`}),H.current=null,$(!1)},children:"Aplicar"})]})]})})]})}const jZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoMatrizRisco:{nome:"Matriz_Risco_Versao_Final.pdf",url:"mock-url-matriz-risco-final",mimeType:"application/pdf",tamanho:"1.8 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},yZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",data:"15/01/2025 10:30",texto:"Matriz de Risco aprovada e enviada para assinatura. Aguardando assinaturas dos responsáveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],S2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br"}];function NZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=Dt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(jZ);m.useState(yZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[g,p]=m.useState(!1),[y,v]=m.useState(null),[b,j]=m.useState([]),[w,N]=m.useState("desc"),E=m.useRef(null),A=m.useMemo(()=>{const D=[...b];return D.sort((M,q)=>new Date(q.uploadedAt).getTime()-new Date(M.uploadedAt).getTime()),w==="asc"&&D.reverse(),D},[b,w]),P=D=>{if(!D){c({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(D,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[z,T]=m.useState(""),[k,L]=m.useState(!1),[U,Y]=m.useState([]),[K,F]=m.useState(!1),[O,S]=m.useState(""),[$,H]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,we=d.assinantes.some(D=>D.email===(l==null?void 0:l.email)&&D.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(D=>D.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(D=>D.status==="ASSINADO").length/d.assinantes.length*100:0,be=D=>{switch(D){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const D=new Date().toISOString(),M={...y,status:"ASSINADO",assinadoEm:D};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${M.nome}`}),f(!1),v(null)},ne=()=>{if(!y||!z.trim())return;const D=new Date().toISOString(),M={...y,status:"CANCELADO",canceladoEm:D,observacoes:z};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${M.nome}`,variant:"destructive"}),p(!1),v(null),T("")},Ae=()=>{if(U.length===0){c({title:"Nenhum usuário selecionado",description:"Selecione pelo menos um usuário para adicionar como assinante.",variant:"destructive"});return}const D=U.map(M=>{const q=S2.find(W=>W.id===M);return{id:`assinante-${Date.now()}-${M}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(M=>({...M,assinantes:[...M.assinantes,...D]})),c({title:"Assinantes Adicionados",description:`${D.length} assinante(s) adicionado(s) com sucesso.`}),L(!1),Y([])},ye=D=>{h(M=>({...M,assinantes:M.assinantes.filter(q=>q.id!==D)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Be=async()=>{re(!0);try{await new Promise(D=>setTimeout(D,2e3)),h(D=>({...D,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluída",description:"A assinatura da Matriz de Risco foi concluída com sucesso."}),a&&a(d),F(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoMatrizRisco){c({title:"Nenhum documento",description:"Nenhum documento de Matriz de Risco foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoMatrizRisco.nome} está sendo baixado.`})},Te=()=>{if(!d.documentoMatrizRisco){c({title:"Nenhum documento",description:"Nenhum documento de Matriz de Risco foi enviado ainda.",variant:"destructive"});return}c({title:"Visualização",description:`Abrindo ${d.documentoMatrizRisco.nome} para visualização.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-matriz-risco",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualização da Matriz de Risco"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoMatrizRisco,className:"text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoMatrizRisco,className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualização da Matriz de Risco"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoMatrizRisco?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponível"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>L(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(D=>{const M=be(D.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:D.nome}),e.jsxs(oe,{className:`${M.bgColor} ${M.textColor} ${M.borderColor} text-xs`,children:[M.icon,e.jsx("span",{className:"ml-1",children:M.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:D.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:D.email}),D.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(D.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&D.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ye(D.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),D.status==="PENDENTE"&&(D.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{v(D),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},D.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(D=>D.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concluídas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias úteis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias úteis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:E,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:D=>{var q;const M=(q=D.target.files)==null?void 0:q[0];M&&(j(W=>[{id:`a-${Date.now()}`,name:M.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...W]),D.target&&(D.target.value=""),c({title:"Anexo adicionado",description:`${M.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var D;return(D=E.current)==null?void 0:D.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:b.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:w,onChange:D=>N(D.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),b.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${b.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:A.map((D,M)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[D.uploadedBy," • ",Je(D.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[D.uploadedBy," • ",Je(D.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>P(D.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>j(q=>q.filter(W=>W.id!==D.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),M<A.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},D.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-matriz-risco",title:"Comentários"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>F(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(St,{children:e.jsx("p",{children:he?"Etapa já concluída":"Aguarde todas as assinaturas para concluir."})})]})}),we&&e.jsxs(C,{variant:"outline",onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),we&&e.jsxs(C,{onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento da Matriz de Risco."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Matriz de Risco - Versão Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(xt,{id:"motivo-cancelamento",value:z,onChange:D=>T(D.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!z.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:k,onOpenChange:L,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar a Matriz de Risco."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:S2.map(D=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:D.id,checked:U.includes(D.id),onCheckedChange:M=>{Y(M?[...U,D.id]:U.filter(q=>q!==D.id))}}),e.jsx(B,{htmlFor:D.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:D.cargo})]})})]},D.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:F,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura da Matriz de Risco"]}),e.jsx(tt,{children:"Confirme a conclusão da etapa de assinatura da Matriz de Risco."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[D.nome," - ",D.status==="ASSINADO"?"Assinado":"Pendente"]})]},D.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observação Final (Opcional)"}),e.jsx(xt,{id:"observacao-conclusao",value:O,onChange:D=>S(D.target.value),placeholder:"Adicione uma observação final sobre a conclusão...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:$,onCheckedChange:D=>H(D===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),e.jsx(C,{onClick:Be,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Conclusão"]})})]})]})})]})}const wZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos"},assinantes:[{id:"1",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoTR:{nome:"Termo_Referencia_Versao_Final.pdf",url:"mock-url-tr-final",mimeType:"application/pdf",tamanho:"2.1 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},CZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",data:"15/01/2025 10:30",texto:"Termo de Referência aprovado e enviado para assinatura. Aguardando assinaturas dos responsáveis."},{id:"2",autor:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],E2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br"}];function SZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=Dt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(wZ);m.useState(CZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[g,p]=m.useState(!1),[y,v]=m.useState(null),[b,j]=m.useState(""),[w,N]=m.useState(!1),[E,A]=m.useState([]),[P,z]=m.useState([]),[T,k]=m.useState("desc"),L=Z.useRef(null),U=Z.useMemo(()=>{const D=[...P];return D.sort((M,q)=>new Date(q.uploadedAt).getTime()-new Date(M.uploadedAt).getTime()),T==="asc"&&D.reverse(),D},[P,T]),Y=D=>{if(!D){c({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(D,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,F]=m.useState(!1),[O,S]=m.useState(""),[$,H]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,we=d.assinantes.some(D=>D.email===(l==null?void 0:l.email)&&D.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(D=>D.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(D=>D.status==="ASSINADO").length/d.assinantes.length*100:0,be=D=>{switch(D){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const D=new Date().toISOString(),M={...y,status:"ASSINADO",assinadoEm:D};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${M.nome}`}),f(!1),v(null)},ne=()=>{if(!y||!b.trim())return;const D=new Date().toISOString(),M={...y,status:"CANCELADO",canceladoEm:D,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${M.nome}`,variant:"destructive"}),p(!1),v(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usuário selecionado",description:"Selecione pelo menos um usuário para adicionar como assinante.",variant:"destructive"});return}const D=E.map(M=>{const q=E2.find(W=>W.id===M);return{id:`assinante-${Date.now()}-${M}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(M=>({...M,assinantes:[...M.assinantes,...D]})),c({title:"Assinantes Adicionados",description:`${D.length} assinante(s) adicionado(s) com sucesso.`}),N(!1),A([])},ye=D=>{h(M=>({...M,assinantes:M.assinantes.filter(q=>q.id!==D)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Be=async()=>{re(!0);try{await new Promise(D=>setTimeout(D,2e3)),h(D=>({...D,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluída",description:"A assinatura do Termo de Referência foi concluída com sucesso."}),a&&a(d),F(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoTR){c({title:"Nenhum documento",description:"Nenhum documento de Termo de Referência foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoTR.nome} está sendo baixado.`})},Te=()=>{if(!d.documentoTR){c({title:"Nenhum documento",description:"Nenhum documento de Termo de Referência foi enviado ainda.",variant:"destructive"});return}c({title:"Visualização",description:`Abrindo ${d.documentoTR.nome} para visualização.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-tr",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualização do Termo de Referência"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoTR,className:"text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoTR,className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualização do Termo de Referência"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoTR?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponível"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>N(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(D=>{const M=be(D.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:D.nome}),e.jsxs(oe,{className:`${M.bgColor} ${M.textColor} ${M.borderColor} text-xs`,children:[M.icon,e.jsx("span",{className:"ml-1",children:M.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:D.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:D.email}),D.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(D.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&D.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ye(D.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),D.status==="PENDENTE"&&(D.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{v(D),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},D.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(D=>D.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concluídas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias úteis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias úteis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:L,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:D=>{var q;const M=(q=D.target.files)==null?void 0:q[0];M&&(z(W=>[{id:`a-${Date.now()}`,name:M.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...W]),D.target&&(D.target.value=""),c({title:"Anexo adicionado",description:`${M.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var D;return(D=L.current)==null?void 0:D.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:T,onChange:D=>k(D.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:U.map((D,M)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[D.uploadedBy," • ",Je(D.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[D.uploadedBy," • ",Je(D.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(D.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>z(q=>q.filter(W=>W.id!==D.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),M<U.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},D.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-tr",title:"Comentários"})})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>F(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(St,{children:e.jsx("p",{children:he?"Etapa já concluída":"Aguarde todas as assinaturas para concluir."})})]})}),we&&e.jsxs(C,{variant:"outline",onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),we&&e.jsxs(C,{onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento do Termo de Referência."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Termo de Referência - Versão Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(xt,{id:"motivo-cancelamento",value:b,onChange:D=>j(D.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:w,onOpenChange:N,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o Termo de Referência."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:E2.map(D=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:D.id,checked:E.includes(D.id),onCheckedChange:M=>{A(M?[...E,D.id]:E.filter(q=>q!==D.id))}}),e.jsx(B,{htmlFor:D.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:D.cargo})]})})]},D.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:F,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do Termo de Referência"]}),e.jsx(tt,{children:"Confirme a conclusão da etapa de assinatura do Termo de Referência."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[D.nome," - ",D.status==="ASSINADO"?"Assinado":"Pendente"]})]},D.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observação Final (Opcional)"}),e.jsx(xt,{id:"observacao-conclusao",value:O,onChange:D=>S(D.target.value),placeholder:"Adicione uma observação final sobre a conclusão...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:$,onCheckedChange:D=>H(D===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),e.jsx(C,{onClick:Be,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Conclusão"]})})]})]})})]})}const EZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro"},assinantes:[{id:"1",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoEdital:{nome:"Edital_Versao_Final.pdf",url:"mock-url-edital-final",mimeType:"application/pdf",tamanho:"3.2 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},PZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",data:"15/01/2025 10:30",texto:"Edital aprovado e enviado para assinatura. Aguardando assinaturas dos responsáveis."},{id:"2",autor:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],P2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Supervisão contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",email:"gabriel.radamesis@hospital.gov.br"}];function AZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=Dt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(EZ);m.useState(PZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[g,p]=m.useState(!1),[y,v]=m.useState(null),[b,j]=m.useState(""),[w,N]=m.useState(!1),[E,A]=m.useState([]),[P,z]=m.useState([]),[T,k]=m.useState("desc"),L=Z.useRef(null),U=Z.useMemo(()=>{const D=[...P];return D.sort((M,q)=>new Date(q.uploadedAt).getTime()-new Date(M.uploadedAt).getTime()),T==="asc"&&D.reverse(),D},[P,T]),Y=D=>{if(!D){c({title:"Link indisponível",description:"Link expirado, atualize a página ou gere novo link.",variant:"destructive"});return}try{if(!window.open(D,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"Não foi possível abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,F]=m.useState(!1),[O,S]=m.useState(""),[$,H]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,we=d.assinantes.some(D=>D.email===(l==null?void 0:l.email)&&D.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(D=>D.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(D=>D.status==="ASSINADO").length/d.assinantes.length*100:0,be=D=>{switch(D){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const D=new Date().toISOString(),M={...y,status:"ASSINADO",assinadoEm:D};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${M.nome}`}),f(!1),v(null)},ne=()=>{if(!y||!b.trim())return;const D=new Date().toISOString(),M={...y,status:"CANCELADO",canceladoEm:D,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===M.id?M:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${M.nome}`,variant:"destructive"}),p(!1),v(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usuário selecionado",description:"Selecione pelo menos um usuário para adicionar como assinante.",variant:"destructive"});return}const D=E.map(M=>{const q=P2.find(W=>W.id===M);return{id:`assinante-${Date.now()}-${M}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(M=>({...M,assinantes:[...M.assinantes,...D]})),c({title:"Assinantes Adicionados",description:`${D.length} assinante(s) adicionado(s) com sucesso.`}),N(!1),A([])},ye=D=>{h(M=>({...M,assinantes:M.assinantes.filter(q=>q.id!==D)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Be=async()=>{re(!0);try{await new Promise(D=>setTimeout(D,2e3)),h(D=>({...D,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluída",description:"A assinatura do Edital foi concluída com sucesso."}),a&&a(d),F(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoEdital){c({title:"Nenhum documento",description:"Nenhum documento de Edital foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoEdital.nome} está sendo baixado.`})},Te=()=>{if(!d.documentoEdital){c({title:"Nenhum documento",description:"Nenhum documento de Edital foi enviado ainda.",variant:"destructive"});return}c({title:"Visualização",description:`Abrindo ${d.documentoEdital.nome} para visualização.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-edital",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualização do Edital"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoEdital,className:"text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoEdital,className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualização do Edital"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoEdital?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponível"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleção de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>N(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(D=>{const M=be(D.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:D.nome}),e.jsxs(oe,{className:`${M.bgColor} ${M.textColor} ${M.borderColor} text-xs`,children:[M.icon,e.jsx("span",{className:"ml-1",children:M.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:D.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:D.email}),D.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(D.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&D.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ye(D.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ai,{className:"w-3 h-3"})}),D.status==="PENDENTE"&&(D.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{v(D),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},D.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(D=>D.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concluídas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias úteis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias úteis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:L,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:D=>{var q;const M=(q=D.target.files)==null?void 0:q[0];M&&(z(W=>[{id:`a-${Date.now()}`,name:M.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usuário"},...W]),D.target&&(D.target.value=""),c({title:"Anexo adicionado",description:`${M.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var D;return(D=L.current)==null?void 0:D.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:T,onChange:D=>k(D.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:U.map((D,M)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[D.uploadedBy," • ",Je(D.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[D.uploadedBy," • ",Je(D.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(D.url),children:e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(bt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>z(q=>q.filter(W=>W.id!==D.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),M<U.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},D.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-edital",title:"Comentários"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ge,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsável definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>F(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(St,{children:e.jsx("p",{children:he?"Etapa já concluída":"Aguarde todas as assinaturas para concluir."})})]})}),we&&e.jsxs(C,{variant:"outline",onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),we&&e.jsxs(C,{onClick:()=>{const D=d.assinantes.find(M=>M.email===(l==null?void 0:l.email)&&M.status==="PENDENTE");D&&(v(D),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento do Edital."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Edital - Versão Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:g,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(xt,{id:"motivo-cancelamento",value:b,onChange:D=>j(D.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:w,onOpenChange:N,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usuários que devem assinar o Edital."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:P2.map(D=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:D.id,checked:E.includes(D.id),onCheckedChange:M=>{A(M?[...E,D.id]:E.filter(q=>q!==D.id))}}),e.jsx(B,{htmlFor:D.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:D.cargo})]})})]},D.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:F,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do Edital"]}),e.jsx(tt,{children:"Confirme a conclusão da etapa de assinatura do Edital."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(D=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[D.nome," - ",D.status==="ASSINADO"?"Assinado":"Pendente"]})]},D.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observação Final (Opcional)"}),e.jsx(xt,{id:"observacao-conclusao",value:O,onChange:D=>S(D.target.value),placeholder:"Adicione uma observação final sobre a conclusão...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:$,onCheckedChange:D=>H(D===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),e.jsx(C,{onClick:Be,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Conclusão"]})})]})]})})]})}const DZ=[{id:1,nome:"Elaboração do DFD",nomeCompleto:"Elaboração do DFD",status:"concluido",prazoPrevisao:"5 dias úteis",dataConclusao:"05/01/2025",prazoCumprido:!0,responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",dataInicio:"01/01/2025",documento:"DFD_012_2025.pdf",documentoUrl:"/docs/dfd.pdf"},{id:2,nome:"Aprovação do DFD",nomeCompleto:"Aprovação do DFD",status:"concluido",prazoPrevisao:"3 dias úteis",dataConclusao:"08/01/2025",prazoCumprido:!0,responsavel:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística",dataInicio:"06/01/2025"},{id:3,nome:"Assinatura do DFD",nomeCompleto:"Assinatura do DFD",status:"concluido",prazoPrevisao:"3 dias úteis",dataConclusao:"12/01/2025",prazoCumprido:!0,responsavel:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva",dataInicio:"09/01/2025"},{id:4,nome:"Despacho do DFD",nomeCompleto:"Despacho do DFD",status:"pendente",prazoPrevisao:"2 dias úteis",dataConclusao:"15/01/2025",prazoCumprido:!0,responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos",dataInicio:"13/01/2025"},{id:5,nome:"Elaboração do ETP",nomeCompleto:"Elaboração do ETP",status:"andamento",prazoPrevisao:"10 dias úteis",responsavel:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos",dataInicio:"16/01/2025",documento:"ETP_012_2025_v1.pdf",documentoUrl:"/docs/etp.pdf"},{id:6,nome:"Assinatura do ETP",nomeCompleto:"Assinatura do ETP",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira e Contábil"},{id:7,nome:"Despacho do ETP",nomeCompleto:"Despacho do ETP",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria"},{id:8,nome:"Elaboração da Matriz de Risco",nomeCompleto:"Elaboração da Matriz de Risco",status:"pendente",prazoPrevisao:"7 dias úteis",responsavel:"Diran Rodrigues de Souza Filho",cargo:"Secretário Executivo",gerencia:"SE - Secretaria Executiva"},{id:9,nome:"Aprovação da Matriz de Risco",nomeCompleto:"Aprovação da Matriz de Risco",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:10,nome:"Assinatura da Matriz de Risco",nomeCompleto:"Assinatura da Matriz de Risco",status:"pendente",prazoPrevisao:"15 dias úteis",responsavel:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerência de Suprimentos e Logística"},{id:11,nome:"Cotação",nomeCompleto:"Cotação",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"Lucas Moreira Brito",cargo:"GERENTE DE RH",gerencia:"GRH - Gerência de Recursos Humanos"},{id:12,nome:"Elaboração do Termo de Referência (TR)",nomeCompleto:"Elaboração do Termo de Referência (TR)",status:"pendente",prazoPrevisao:"10 dias úteis",responsavel:"Andressa Sterfany Santos da Silva",cargo:"Assessora Técnica de Saúde",gerencia:"GUE - Gerência de Urgência e Emergência"},{id:13,nome:"Assinatura do TR",nomeCompleto:"Assinatura do TR",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitações e Contratos",gerencia:"GLC - Gerência de Licitações e Contratos"},{id:14,nome:"Elaboração do Edital",nomeCompleto:"Elaboração do Edital",status:"pendente",prazoPrevisao:"3 dias úteis",responsavel:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerência Financeira e Contábil"},{id:15,nome:"Análise Jurídica Prévia",nomeCompleto:"Análise Jurídica Prévia",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",gerencia:"NAJ - Assessoria Jurídica"},{id:16,nome:"Cumprimento de Ressalvas",nomeCompleto:"Cumprimento de Ressalvas",status:"pendente",prazoPrevisao:"3 dias úteis",responsavel:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurídico",gerencia:"NAJ - Assessoria Jurídica"},{id:17,nome:"Elaboração do Parecer Jurídico",nomeCompleto:"Elaboração do Parecer Jurídico",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:18,nome:"Cumprimento de Ressalvas pós Parecer Jurídico",nomeCompleto:"Cumprimento de Ressalvas pós Parecer Jurídico",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:19,nome:"Aprovação Jurídica",nomeCompleto:"Aprovação Jurídica",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:20,nome:"Assinatura do Edital",nomeCompleto:"Assinatura do Edital",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:21,nome:"Publicação",nomeCompleto:"Publicação",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"GSP - Gerência de Soluções e Projetos"}];function kZ({etapas:t=DZ,onEtapaClick:s,gerenciaCriadora:a}){const[r,n]=m.useState(null),[o,i]=m.useState(!1);Dt();const[l,c]=m.useState(null),u=l!==null,d=m.useCallback(()=>{try{const R=document.documentElement,te=document.body;te&&(te.style.overflow="auto",te.classList.remove("overflow-hidden","fixed")),R&&(R.style.overflow="auto",R.classList.remove("overflow-hidden"))}catch{}},[]);m.useEffect(()=>{if(u)try{document.body.style.overflow="hidden"}catch{}else d();return()=>{d()}},[u,d]),m.useEffect(()=>{const R=te=>{te.key==="Escape"&&u&&c(null)};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[u]);const h=R=>{switch(R.id){case 1:return{title:"Elaboração do DFD",subtitle:"Documento de Formalização da Demanda",icon:e.jsx($e,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão 1.0"})]},"versao"),e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300 px-3 py-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Etapa Concluída"]},"concluida")]};case 2:return{title:"Aprovação do DFD",subtitle:"Análise e Aprovação Técnica",icon:e.jsx(hm,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Análise"})]},"status")]};case 3:return{title:"Assinatura do DFD",subtitle:"Assinatura Digital do Documento",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão Final"})]},"versao"),e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300 px-3 py-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Assinado (2/3)"]},"assinado"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 4:return{title:"Despacho do DFD",subtitle:"Despacho e Encaminhamento",icon:e.jsx(vs,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente"})]},"status")]};case 5:return{title:"Elaboração do ETP",subtitle:"Estudo Técnico Preliminar",icon:e.jsx(th,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-yellow-100 text-yellow-800 px-3 py-1",children:[e.jsx(th,{className:"w-4 h-4 mr-2"}),"Rascunho"]},"status"),e.jsx(oe,{className:"bg-green-100 text-green-800 px-3 py-1",children:"Dentro do Prazo"},"sla")]};case 6:return{title:"Assinatura do ETP",subtitle:"Assinatura Digital do ETP",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 7:return{title:"Despacho do ETP",subtitle:"Despacho e Encaminhamento do ETP",icon:e.jsx(vs,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Não Iniciado"})]},"status")]};case 8:return{title:"Elaboração da Matriz de Risco",subtitle:"Avaliação de Riscos do Projeto",icon:e.jsx(pt,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(pt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Não Iniciado"})]},"status")]};case 9:return{title:"Aprovação da Matriz de Risco",subtitle:"Aprovação da Avaliação de Riscos",icon:e.jsx(hm,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(hm,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Não Iniciado"})]},"status")]};case 10:return{title:"Assinatura da Matriz de Risco",subtitle:"Assinatura da Avaliação de Riscos",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 11:return{title:"Cotação",subtitle:"Solicitação de Preços",icon:e.jsx(ah,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(ah,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Não Iniciado"})]},"status")]};case 15:return{title:"Análise Jurídica Prévia",subtitle:"Análise Preliminar da Assessoria Jurídica (NAJ)",icon:e.jsx(xd,{className:"w-6 h-6 text-blue-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(xd,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Aguardando Análise"})]},"status")]};case 16:return{title:"Cumprimento de Ressalvas",subtitle:"Correções pós Análise Jurídica Prévia",icon:e.jsx(qs,{className:"w-6 h-6 text-orange-600"}),statusBadges:[e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Correção"})]},"status")]};case 13:return{title:"Assinatura do TR",subtitle:"Assinatura Digital do Termo de Referência",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 20:return{title:"Assinatura do Edital",subtitle:"Assinatura Digital do Edital",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Versão Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 21:return{title:"Publicação",subtitle:"Publicação Oficial do Edital",icon:e.jsx(oh,{className:"w-6 h-6 text-green-600"}),statusBadges:[e.jsxs(oe,{className:"bg-green-100 text-green-800 px-3 py-1",children:[e.jsx(oh,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Publicação"})]},"status")]};default:return{title:R.nome,subtitle:"",icon:e.jsx($e,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[]}}},[x,f]=m.useState(!1),[g,p]=m.useState(t),[y,v]=m.useState(null),[b,j]=m.useState(!1),[w,N]=m.useState(!1),[E,A]=m.useState(!1),[P,z]=m.useState(!1),[T,k]=m.useState({numeroDFD:"DFD 006/2025",objeto:"Aquisição de equipamentos de informática para modernização dos sistemas da GSP",regimeTramitacao:"ORDINARIO",areaSetorDemandante:"GSP - Gerência de Soluções e Projetos",responsavelElaboracao:"Yasmin Pissolati Mattos Bretz",dataElaboracao:"2025-01-15",prioridade:"MEDIO",status:"aprovado",aprovadoPor:"Yasmin Pissolati Mattos Bretz",aprovadoData:"2025-01-15T10:00:00Z"}),[L,U]=m.useState(!1),[Y,K]=m.useState(!1),[F,O]=m.useState(!1),[S,$]=m.useState(null),H=Ip("(max-width: 768px)"),J=Ip("(min-width: 769px) and (max-width: 1024px)");Ip("(min-width: 1025px)"),m.useEffect(()=>{const R=te=>{te.key==="Escape"&&(L&&U(!1),F&&O(!1),Y&&K(!1))};return(L||F||Y)&&document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[L,F,Y]);const{isGerenciaPai:re,podeEditarFluxo:le,podeExcluirEtapa:we,podeEditarCard:ke}=$a(),{toast:he}=Kt(),ae=Jx(po(Ql),po(Jl,{coordinateGetter:nf}));m.useEffect(()=>{x||(p(t),A(!1))},[t,x]);const be=R=>{switch(R){case"concluido":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Concluído",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"andamento":return{icon:e.jsx(ti,{className:"w-4 h-4 text-blue-600"}),label:"Em Andamento",bgColor:"bg-blue-100",textColor:"text-blue-700",borderColor:"border-blue-200"};case"pendente":return{icon:e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"};case"atrasado":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Atrasado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=R=>{R.id===1||R.id===2||R.id===3||R.id===4?($(R),U(!0)):R.id===5||R.id===6||R.id===7||R.id===8||R.id===9||R.id===10||R.id===13||R.id===20?($(R),O(!0)):R.id===15||R.id===16||R.id===21?($(R),U(!0)):R.nome==="Consolidação da Demanda"?($(R),K(!0)):(n(R),i(!0))},ne=()=>{i(!1),n(null),c(null),d()},Ae=()=>{f(!0),p([...t]),A(!1)},ye=()=>{f(!1),p([...t]),A(!1),v(null),j(!1)},Be=async()=>{z(!0);try{if(g.length<17){he({title:"Erro ao salvar",description:"O fluxo deve ter pelo menos 17 etapas.",variant:"destructive"}),z(!1);return}await new Promise(R=>setTimeout(R,1e3)),console.log("Salvando alterações:",g),he({title:"Alterações salvas",description:"O fluxo foi atualizado com sucesso."}),f(!1),A(!1)}catch{he({title:"Erro ao salvar",description:"Não foi possível salvar as alterações.",variant:"destructive"})}finally{z(!1)}},de=R=>{const{active:te,over:fe}=R;te.id!==fe.id&&p(Ie=>{const X=Ie.findIndex(ie=>ie.id===te.id),me=Ie.findIndex(ie=>ie.id===fe.id),V=Zl(Ie,X,me);return A(!0),V})},Te=R=>{v(R),N(!1),j(!0)},Pe=R=>{if(g.length<=17){he({title:"Não é possível excluir",description:"O fluxo deve manter pelo menos 17 etapas.",variant:"destructive"});return}p(te=>{const fe=te.filter(Ie=>Ie.id!==R);return A(!0),fe}),he({title:"Etapa excluída",description:"A etapa foi removida do fluxo."})},D=(R,te)=>{if(te){const fe={id:Date.now(),...te.template};p(Ie=>{const X=[...Ie];return X.splice(R-1,0,fe),A(!0),X}),he({title:"Card adicionado",description:`O card "${te.nome}" foi adicionado ao fluxo.`})}else{if(g.length>=17){const X={id:Date.now(),nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:""};v(X),N(!0),j(!0);return}const fe=17-g.length,Ie=[];for(let X=0;X<fe;X++){const me={id:Date.now()+X,nome:`Etapa ${g.length+X+1}`,nomeCompleto:`Etapa ${g.length+X+1}`,status:"pendente",prazoPrevisao:"1 dia útil",gerencia:"A definir",responsavel:"A definir",cargo:"A definir"};Ie.push(me)}p(X=>{const me=[...X,...Ie];return A(!0),me}),he({title:"Etapas adicionadas",description:`${fe} etapas foram adicionadas para completar o fluxo de 17 etapas.`})}},M=R=>{p(w?te=>{const fe=[...te,R];return A(!0),fe}:te=>{const fe=te.map(Ie=>Ie.id===R.id?R:Ie);return A(!0),fe}),j(!1),v(null),N(!1)},q=R=>ke(R.gerencia,R.id,a),W=R=>{R.documentoUrl&&window.open(R.documentoUrl,"_blank")},I=R=>{if(R.documentoUrl){const te=document.createElement("a");te.href=R.documentoUrl,te.download=R.documento||"documento",te.click()}},ee=R=>{k(fe=>({...fe,...R}));const te=g.map(fe=>fe.id===1?{...fe,status:"concluido"}:fe.id===2?{...fe,status:"andamento"}:fe);p(te)},ue=()=>{const R=g.map(te=>te.id===2?{...te,status:"concluido"}:te.id===3?{...te,status:"andamento"}:te);p(R)},G=R=>{k(te=>({...te,...R})),console.log("DFD Data saved:",R)},ge=()=>{console.log("Consolidação da Demanda concluída"),K(!1)},Ne=R=>{console.log("Salvar Consolidação da Demanda:",R)},Me=R=>{console.log("ETP concluído:",R),O(!1);const te=g.map(fe=>fe.id===5?{...fe,status:"concluido"}:fe.id===6?{...fe,status:"andamento"}:fe);p(te),he({title:"ETP Concluído",description:"O Estudo Técnico Preliminar foi finalizado com sucesso."})},et=R=>{console.log("Salvar ETP:",R),he({title:"ETP Salvo",description:"O rascunho do ETP foi salvo com sucesso."})},se=R=>{console.log("Matriz de Risco concluída:",R);const te=g.map(fe=>fe.id===9?{...fe,status:"concluido"}:fe.id===10?{...fe,status:"concluido"}:fe.id===11?{...fe,status:"andamento"}:fe);p(te),he({title:"Matriz de Risco Concluída",description:"A assinatura da Matriz de Risco foi finalizada com sucesso."})},ze=R=>{console.log("Salvar Matriz de Risco:",R),he({title:"Matriz de Risco Salva",description:"O rascunho da Matriz de Risco foi salvo com sucesso."})},_e=R=>{console.log("TR concluído:",R);const te=g.map(fe=>fe.id===12?{...fe,status:"concluido"}:fe.id===13?{...fe,status:"concluido"}:fe.id===14?{...fe,status:"andamento"}:fe);p(te),he({title:"TR Concluído",description:"A assinatura do Termo de Referência foi finalizada com sucesso."})},Q=R=>{console.log("Salvar TR:",R),he({title:"TR Salvo",description:"O rascunho do Termo de Referência foi salvo com sucesso."})},Ce=R=>{console.log("Edital concluído:",R);const te=g.map(fe=>fe.id===19?{...fe,status:"concluido"}:fe.id===20?{...fe,status:"concluido"}:fe.id===21?{...fe,status:"andamento"}:fe);p(te),he({title:"Edital Concluído",description:"A assinatura do Edital foi finalizada com sucesso."})},_=R=>{console.log("Salvar Edital:",R),he({title:"Edital Salvo",description:"O rascunho do Edital foi salvo com sucesso."})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fluxo Completo do Processo"}),e.jsx("p",{className:"text-gray-600",children:"Acompanhe todas as etapas do planejamento de contratação"})]}),re&&!x&&e.jsxs(C,{onClick:Ae,variant:"outline",className:"ml-4 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Editar Fluxo"]})]}),x&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Modo de Edição Ativo - Você pode arrastar, editar e gerenciar as etapas"})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-500",style:{width:`${t.filter(R=>R.status==="concluido").length/t.length*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[t.filter(R=>R.status==="concluido").length," de ",t.length," etapas concluídas"]})]})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 p-4",children:[x?e.jsx(sf,{sensors:ae,collisionDetection:Qx,onDragEnd:de,modifiers:[lQ],children:e.jsx(af,{items:g.map(R=>R.id),strategy:XJ,children:g.map(R=>e.jsx(mQ,{etapa:R,onEdit:Te,onDelete:Pe,canDelete:we(R.status)},R.id))})}):t.map((R,te)=>{const fe=be(R.status);return q(R),R.id===4&&console.log("Card 4 - Gerência:",R.gerencia),e.jsx("div",{className:"w-full h-full",children:e.jsxs(ms.div,{className:`border-2 rounded-xl transition-all duration-300 ${fe.bgColor} hover:shadow-md bg-white relative w-full h-full min-h-[260px] ${M4(R.status,R.dataInicio,R.prazoPrevisao)} ${R.status==="concluido"?"ring-2 ring-green-200 shadow-lg":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.05},children:[R.status==="concluido"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),R.status==="pendente"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"})})}),R.status==="andamento"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ti,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"p-4 h-full flex flex-col overflow-visible",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${R.status==="concluido"?"bg-gradient-to-br from-green-500 to-green-600 shadow-lg":R.status==="andamento"?"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg":R.status==="atrasado"?"bg-gradient-to-br from-red-500 to-red-600 shadow-lg":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:R.id}),e.jsx("div",{className:"flex items-center gap-1",children:fe.icon})]}),e.jsx("h3",{className:`font-bold text-center text-base mb-2 leading-tight ${R.status==="concluido"?"text-green-800":R.status==="andamento"?"text-blue-800":R.status==="atrasado"?"text-red-800":"text-gray-900"}`,children:R.nome}),e.jsx("div",{className:"text-xs text-gray-700 text-center mb-2 min-h-[1.5rem] leading-tight font-semibold px-1 bg-gray-50 py-1 rounded",children:e.jsx("span",{className:"block",children:R.gerencia||"Gerência não definida"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:R.prazoPrevisao})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsxs(oe,{className:`${fe.bgColor} ${fe.textColor} border text-xs px-3 py-1 ${R.status==="concluido"?"ring-1 ring-green-300 font-semibold":""}`,children:[fe.label,R.status==="concluido"&&e.jsx("span",{className:"ml-1",children:"✅"})]})}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>xe(R),className:"w-full text-xs mt-auto",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})]})]})},R.id)}),x&&e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(jQ,{etapas:g,onAdicionar:D,className:"h-32"})})]})}),e.jsx(dQ,{etapa:r,isOpen:o,onClose:ne,gerenciaCriadora:a,onConcluirEtapa:R=>{console.log("Concluir etapa:",R.id)},onEditarEtapa:R=>{console.log("Editar etapa:",R.id)},onExcluirEtapa:R=>{console.log("Excluir etapa:",R.id)},onSubstituirDocumento:R=>{console.log("Substituir documento da etapa:",R.id)},onVisualizarDocumento:W,onBaixarDocumento:I,onAdicionarMembro:(R,te)=>{console.log("Adicionar membro à etapa:",R.id,te)},onRemoverMembro:(R,te)=>{console.log("Remover membro da etapa:",R.id,te)},onSalvarObservacao:(R,te)=>{console.log("Salvar observação na etapa:",R.id,te)}}),e.jsx(vQ,{etapa:y,isOpen:b,onClose:()=>{j(!1),v(null),N(!1)},onSave:M,isNovaEtapa:w}),e.jsx(yQ,{isVisible:x,onCancelar:ye,onSalvar:Be,temAlteracoes:E,isLoading:P}),L&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{U(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":H?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",onDoubleClick:()=>{S&&[1,2,3,4,15,16,21].includes(S.id)&&c(l===S.id?null:S.id)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&h(S).icon,e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:S?h(S).title:"Detalhes da Etapa"}),S&&h(S).subtitle&&e.jsx("p",{className:"text-sm text-slate-500",children:h(S).subtitle})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&h(S).statusBadges,S&&[1,2,3,4,15,16,21].includes(S.id)&&e.jsx("button",{onClick:()=>c(l===S.id?null:S.id),title:l===S.id?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===S.id?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{U(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsx("div",{className:`${u?"h-[calc(100vh-72px)]":H?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:(S==null?void 0:S.id)===1?e.jsx("div",{className:"pb-6",children:e.jsx(YQ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:!0,gerenciaCriadora:a})}):(S==null?void 0:S.id)===2?e.jsx(JQ,{processoId:"1",etapaId:S.id,onComplete:ue,onSave:G,canEdit:q(S)}):(S==null?void 0:S.id)===3?e.jsx(aZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),gerenciaCriadora:a}):(S==null?void 0:S.id)===4?e.jsx(oZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),gerenciaCriadora:a,initialData:T}):(S==null?void 0:S.id)===15?e.jsx(iZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S)}):(S==null?void 0:S.id)===16?e.jsx(lZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),initialData:T}):(S==null?void 0:S.id)===21?e.jsx(cZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S)}):null})]})]}),F&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{O(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":H?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",onDoubleClick:()=>{S&&[5,6,7,8,9,10,13,20].includes(S.id)&&c(l===S.id?null:S.id)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&h(S).icon,e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:S?h(S).title:"Detalhes da Etapa"}),S&&h(S).subtitle&&e.jsx("p",{className:"text-sm text-slate-500",children:h(S).subtitle})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&h(S).statusBadges,S&&[5,6,7,8,9,10,13,20].includes(S.id)&&e.jsx("button",{onClick:()=>c(l===S.id?null:S.id),title:l===S.id?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===S.id?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{O(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsxs("div",{className:`${u?"h-[calc(100vh-72px)]":H?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:[(S==null?void 0:S.id)===5&&e.jsx(mZ,{processoId:"1",etapaId:S.id.toString(),onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===6&&e.jsx(fZ,{processoId:"1",etapaId:S.id,onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===7&&e.jsx(pZ,{processoId:"1",etapaId:S.id,onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===8&&e.jsx(vZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===9&&e.jsx(bZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S)}),(S==null?void 0:S.id)===10&&e.jsx(NZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===13&&e.jsx(SZ,{processoId:"1",etapaId:S.id,onComplete:_e,onSave:Q,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===20&&e.jsx(AZ,{processoId:"1",etapaId:S.id,onComplete:Ce,onSave:_,canEdit:q(S),gerenciaCriadora:a})]})]})]}),Y&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{K(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":H?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qt,{className:"w-6 h-6 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Consolidação da Demanda"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Notificação e consolidação de setores interessados"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Andamento"})]}),e.jsx("button",{onClick:()=>c(l===0?null:0),title:l===0?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===0?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{K(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsx("div",{className:`${u?"h-[calc(100vh-72px)]":H?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:(S==null?void 0:S.nome)==="Consolidação da Demanda"&&e.jsx(dZ,{processoId:"1",etapaId:S.id,onComplete:ge,onSave:Ne,canEdit:q(S)})})]})]})]})}function TZ({processo:t,pendenciasUsuario:s=[],proximasEtapas:a=[]}){const r=o=>{const i={alta:{className:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(pt,{className:"w-3 h-3"})},media:{className:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Fe,{className:"w-3 h-3"})},baixa:{className:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})}};return i[o]||i.media},n=o=>{const i={assinar:{className:"bg-blue-600 hover:bg-blue-700",label:"Assinar"},analisar:{className:"bg-purple-600 hover:bg-purple-700",label:"Analisar"},corrigir:{className:"bg-red-600 hover:bg-red-700",label:"Corrigir"},aprovar:{className:"bg-green-600 hover:bg-green-700",label:"Aprovar"}};return i[o]||i.analisar};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-2",children:e.jsxs(Lt,{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-blue-500"}),"Informações do Processo"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(wt,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Criação"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.dataCriacao})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(ht,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Criador"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.criador})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx($s,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Gerência Responsável"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.gerenciaResponsavel})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(Fe,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dias Úteis Consumidos"}),e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:[t.diasUteisConsumidos," dias"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Situação Atual"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.situacaoAtual})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Etapa Atual"}),e.jsx(oe,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs",children:t.etapaAtual})]})]})]})]}),s.length>0&&e.jsxs(Ge,{className:"bg-white shadow-sm border-orange-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ro,{className:"w-5 h-5 text-orange-500"}),"Suas Pendências",e.jsx(oe,{className:"bg-orange-100 text-orange-800 text-xs",children:s.length})]})}),e.jsx(We,{className:"space-y-3",children:s.map(o=>{const i=r(o.prioridade),l=n(o.tipo);return e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:o.descricao}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(wt,{className:"w-3 h-3"}),"Prazo: ",o.prazo]})]}),e.jsxs(oe,{className:`${i.className} border text-xs`,children:[i.icon,e.jsx("span",{className:"ml-1 capitalize",children:o.prioridade})]})]}),e.jsxs(C,{size:"sm",className:`w-full text-white ${l.className} text-xs`,children:[l.label,e.jsx(md,{className:"w-3 h-3 ml-1"})]})]},o.id)})})]}),a.length>0&&e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(md,{className:"w-5 h-5 text-green-500"}),"Próximas Etapas"]})}),e.jsx(We,{className:"space-y-3",children:a.map((o,i)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 border-2 border-green-300 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs font-bold text-green-700",children:i+1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:o.nome}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"}),o.responsavel]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wt,{className:"w-3 h-3"}),o.previsao]})]})]})]},o.id))})]}),e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsx(Lt,{className:"text-lg font-semibold text-gray-900",children:"Ações Rápidas"})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Exportar Relatório"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(ro,{className:"w-4 h-4 mr-2"}),"Configurar Alertas"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Alterar Responsável"]})]})]})]})}function RZ(){const{user:t,setUser:s}=Dt(),a=r=>{s(r)};return e.jsxs(Ge,{className:"mb-6 border-blue-200 bg-blue-50/30",children:[e.jsxs(_t,{className:"pb-3",children:[e.jsxs(Lt,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5 text-blue-600"}),"Simular Usuário (Para Teste de Permissões)"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Altere o usuário para testar as diferentes permissões por gerência"})]}),e.jsxs(We,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:bd.map(r=>e.jsx(C,{variant:(t==null?void 0:t._id)===r._id?"default":"outline",className:`
                p-4 h-auto text-left justify-start
                ${(t==null?void 0:t._id)===r._id?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50"}
              `,onClick:()=>a(r),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(ht,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate",children:r.nome}),e.jsx("p",{className:"text-xs opacity-75 truncate",children:r.cargo}),e.jsx(oe,{variant:"secondary",className:`
                      text-xs mt-1
                      ${(t==null?void 0:t._id)===r._id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}
                    `,children:r.gerencia})]})]})},r._id))}),t&&e.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Usuário ativo:"})," ",t.nome," - ",t.gerencia]})})]})]})}const MZ=[{id:"1",data:"25/01/2025",hora:"14:30",usuario:"Gabriel Miranda",cargo:"Analista de Contratos",acao:"visualizacao",descricao:"Visualizou os detalhes do processo",etapa:"Elaboração do ETP"},{id:"2",data:"24/01/2025",hora:"16:45",usuario:"Leticia Bonfim Guilherme",cargo:"Engenheiro",acao:"envio",descricao:"Enviou ETP para análise",documento:"ETP_012_2025_v2.pdf",etapa:"Elaboração do ETP"},{id:"3",data:"23/01/2025",hora:"10:15",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"comentario",descricao:"Adicionou comentário sobre especificações técnicas",detalhes:"Necessário revisar as especificações do item 3.2 conforme norma ABNT NBR 15943.",etapa:"Elaboração do ETP"},{id:"4",data:"20/01/2025",hora:"09:20",usuario:"Andressa Sterfany Santos da Silva",cargo:"Diretora",acao:"aprovacao",descricao:"Aprovou o DFD",documento:"DFD_012_2025_v1.pdf",etapa:"Aprovação do DFD"},{id:"5",data:"18/01/2025",hora:"15:30",usuario:"Eng. João Santos",cargo:"Engenheiro Sênior",acao:"analise",descricao:"Concluiu análise técnica do DFD",detalhes:"Análise aprovada. Documento está em conformidade com os requisitos técnicos.",etapa:"Análise do DFD"},{id:"6",data:"15/01/2025",hora:"11:00",usuario:"Lucas Moreira Brito",cargo:"Médico Coordenador",acao:"correcao",descricao:"Solicitou correções no DFD",detalhes:"Ajustar quantidades dos itens 2.1 e 2.3 conforme demanda atualizada.",etapa:"Elaboração do DFD"},{id:"7",data:"10/01/2025",hora:"08:45",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"envio",descricao:"Enviou DFD para análise",documento:"DFD_012_2025_v1.pdf",etapa:"Elaboração do DFD"},{id:"8",data:"05/01/2025",hora:"14:00",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"criacao",descricao:"Criou o processo DFD 012/2025",detalhes:"Processo criado para aquisição de equipamentos médicos para UTI.",etapa:"Elaboração do DFD"}];function IZ({historico:t=MZ}){var a,r;const s=n=>{const o={criacao:{icon:e.jsx($e,{className:"w-4 h-4"}),color:"text-blue-600",bgColor:"bg-blue-100",label:"Criação"},envio:{icon:e.jsx(vs,{className:"w-4 h-4"}),color:"text-indigo-600",bgColor:"bg-indigo-100",label:"Envio"},analise:{icon:e.jsx(Ze,{className:"w-4 h-4"}),color:"text-purple-600",bgColor:"bg-purple-100",label:"Análise"},aprovacao:{icon:e.jsx(Re,{className:"w-4 h-4"}),color:"text-green-600",bgColor:"bg-green-100",label:"Aprovação"},correcao:{icon:e.jsx(pt,{className:"w-4 h-4"}),color:"text-red-600",bgColor:"bg-red-100",label:"Correção"},assinatura:{icon:e.jsx(bl,{className:"w-4 h-4"}),color:"text-orange-600",bgColor:"bg-orange-100",label:"Assinatura"},comentario:{icon:e.jsx(no,{className:"w-4 h-4"}),color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Comentário"},visualizacao:{icon:e.jsx(Ze,{className:"w-4 h-4"}),color:"text-gray-600",bgColor:"bg-gray-100",label:"Visualização"}};return o[n]||o.visualizacao};return e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200",children:[e.jsxs(_t,{children:[e.jsxs(Lt,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6 text-blue-500"}),"Histórico de Ações"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe todas as movimentações e ações realizadas no processo"})]}),e.jsxs(We,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:t.map((n,o)=>{const i=s(n.acao),l=o===0;return e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`
                    w-12 h-12 rounded-full ${i.bgColor} 
                    flex items-center justify-center border-2 border-white shadow-sm flex-shrink-0
                    ${l?"ring-2 ring-blue-200":""}
                  `,children:e.jsx("div",{className:i.color,children:i.icon})}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:n.data}),e.jsx("p",{className:"text-xs text-gray-500",children:n.hora})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(oe,{className:`${i.bgColor} ${i.color} border-0 text-xs font-medium`,children:i.label}),n.etapa&&e.jsx(oe,{variant:"outline",className:"text-xs",children:n.etapa})]}),e.jsx("p",{className:"font-medium text-gray-900 text-sm mb-3",children:n.descricao}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:n.usuario}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500 text-xs",children:n.cargo})]})]}),n.detalhes&&e.jsx("div",{className:"mb-3 p-3 bg-white rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700 italic leading-relaxed",children:['"',n.detalhes,'"']})}),n.documento&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx($e,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 truncate",children:n.documento}),e.jsx(md,{className:"w-3 h-3 text-blue-400 flex-shrink-0"})]})]},n.id)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Mostrando ",t.length," ações • Última atualização: ",(a=t[0])==null?void 0:a.data," às ",(r=t[0])==null?void 0:r.hora]})})]})]})}const OZ=[{id:"1",nome:"DFD_012_2025_v1.pdf",tipo:"pdf",tamanho:"2.4 MB",dataUpload:"05/01/2025",uploadPor:"Dr. Maria Silva",versao:"1.0",status:"aprovado",etapa:"Elaboração do DFD",descricao:"Documento de Formalização de Demanda inicial"},{id:"2",nome:"ETP_012_2025_v2.pdf",tipo:"pdf",tamanho:"3.1 MB",dataUpload:"24/01/2025",uploadPor:"Leticia Bonfim Guilherme",versao:"2.0",status:"pendente",etapa:"Elaboração do ETP",descricao:"Estudo Técnico Preliminar - versão atualizada"},{id:"3",nome:"Analise_Tecnica_DFD.pdf",tipo:"pdf",tamanho:"1.8 MB",dataUpload:"18/01/2025",uploadPor:"Eng. João Santos",versao:"1.0",status:"aprovado",etapa:"Análise do DFD",descricao:"Relatório de análise técnica do DFD"},{id:"4",nome:"Especificacoes_Tecnicas.xlsx",tipo:"xlsx",tamanho:"456 KB",dataUpload:"23/01/2025",uploadPor:"Dr. Maria Silva",versao:"1.1",status:"aprovado",etapa:"Elaboração do ETP",descricao:"Planilha com especificações técnicas detalhadas"},{id:"5",nome:"Parecer_Juridico_Preliminar.pdf",tipo:"pdf",tamanho:"1.2 MB",dataUpload:"20/01/2025",uploadPor:"Guilherme de Carvalho Silva",versao:"1.0",status:"aprovado",etapa:"Aprovação do DFD",descricao:"Parecer jurídico sobre a demanda"},{id:"6",nome:"Fotos_Equipamentos.zip",tipo:"img",tamanho:"8.7 MB",dataUpload:"15/01/2025",uploadPor:"Dallas Kelson Francisco de Souza",versao:"1.0",status:"aprovado",etapa:"Elaboração do DFD",descricao:"Imagens dos equipamentos atuais para referência"}];function zZ({documentos:t=OZ}){const[s,a]=m.useState("todas"),[r,n]=m.useState("todos"),o=d=>{const h={pdf:e.jsx($e,{className:"w-5 h-5 text-red-500"}),doc:e.jsx($e,{className:"w-5 h-5 text-blue-500"}),xlsx:e.jsx($e,{className:"w-5 h-5 text-green-500"}),img:e.jsx($e,{className:"w-5 h-5 text-purple-500"})};return h[d]||h.pdf},i=d=>{const h={aprovado:{className:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})},pendente:{className:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Fe,{className:"w-3 h-3"})},rejeitado:{className:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(pt,{className:"w-3 h-3"})}};return h[d]||h.pendente},l=t.reduce((d,h)=>(d[h.etapa]||(d[h.etapa]=[]),d[h.etapa].push(h),d),{}),c=Object.keys(l),u=t.filter(d=>{const h=s==="todas"||d.etapa===s,x=r==="todos"||d.status===r;return h&&x});return e.jsxs(Ge,{className:"bg-white shadow-sm border-gray-200",children:[e.jsxs(_t,{children:[e.jsxs(Lt,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nh,{className:"w-6 h-6 text-blue-500"}),"Documentos Relacionados"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Todos os documentos organizados por etapa do processo"})]}),e.jsxs(We,{children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L4,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:s,onChange:d=>a(d.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1 bg-white",children:[e.jsx("option",{value:"todas",children:"Todas as etapas"}),c.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:r,onChange:d=>n(d.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1 bg-white",children:[e.jsx("option",{value:"todos",children:"Todos os status"}),e.jsx("option",{value:"aprovado",children:"Aprovado"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"rejeitado",children:"Rejeitado"})]})}),e.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[u.length," documento",u.length!==1?"s":""," encontrado",u.length!==1?"s":""]})]}),e.jsxs(Va,{defaultValue:"por-etapa",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"por-etapa",children:"Por Etapa"}),e.jsx(Vt,{value:"lista-completa",children:"Lista Completa"})]}),e.jsx(Gt,{value:"por-etapa",className:"mt-6",children:e.jsx("div",{className:"space-y-6",children:c.map(d=>{const h=l[d];return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(nh,{className:"w-4 h-4 text-blue-500"}),d,e.jsxs(oe,{variant:"outline",className:"ml-2 text-xs",children:[h.length," documento",h.length!==1?"s":""]})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:h.map(x=>{const f=i(x.status);return e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:o(x.tipo)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:x.nome}),x.descricao&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.descricao})]}),e.jsxs(oe,{className:`${f.className} border text-xs ml-4 flex-shrink-0`,children:[f.icon,e.jsx("span",{className:"ml-1 capitalize",children:x.status})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wt,{className:"w-3 h-3"}),x.dataUpload]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"}),x.uploadPor]}),e.jsxs("div",{children:["v",x.versao," • ",x.tamanho]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",className:"flex items-center gap-1 text-xs",children:[e.jsx(Ze,{className:"w-3 h-3"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",className:"flex items-center gap-1 text-xs",children:[e.jsx(bt,{className:"w-3 h-3"}),"Baixar"]})]})]})]})},x.id)})})]},d)})})}),e.jsx(Gt,{value:"lista-completa",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:u.map(d=>{const h=i(d.status);return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:o(d.tipo)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-2 leading-tight",children:d.nome}),d.descricao&&e.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed",children:d.descricao})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(oe,{variant:"outline",className:"text-xs",children:d.etapa}),e.jsxs(oe,{className:`${h.className} border text-xs`,children:[h.icon,e.jsx("span",{className:"ml-1 capitalize",children:d.status})]})]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{children:d.dataUpload})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:d.uploadPor})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-3 h-3"}),e.jsxs("span",{children:["v",d.versao," • ",d.tamanho]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",className:"flex-1 flex items-center justify-center gap-1 text-xs",children:[e.jsx(Ze,{className:"w-3 h-3"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",className:"flex-1 flex items-center justify-center gap-1 text-xs",children:[e.jsx(bt,{className:"w-3 h-3"}),"Baixar"]})]})]},d.id)})})})]})]})]})}function FZ(){const t=m.useRef(null),[s,a]=m.useState(!1);return m.useEffect(()=>{const r=()=>{if(t.current){const n=t.current,o=n.scrollWidth>n.clientWidth;a(o)}};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),{elementRef:t,isTruncated:s}}function A2({icon:t,label:s,value:a,iconBgColor:r,iconColor:n,className:o=""}){const{elementRef:i,isTruncated:l}=FZ(),c=e.jsx(ms.div,{className:`rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 ${o}`,whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[e.jsx("div",{className:`p-2.5 rounded-xl ring-1 ring-black/5 ${r}`,children:e.jsx("div",{className:`w-6 h-6 ${n}`,children:t})}),e.jsxs("div",{className:"flex-1 min-w-0 text-center",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:s}),e.jsx("p",{ref:i,className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:a})]})]})});return l?e.jsx(Rt,{children:e.jsxs(Pt,{delayDuration:300,children:[e.jsx(At,{asChild:!0,children:c}),e.jsx(St,{side:"top",className:"bg-neutral-900 text-white px-3 py-1.5 rounded-md text-sm z-50",children:e.jsx("p",{children:a})})]})}):c}function _Z(t){if(t.includes("Processo administrativo"))return t;const s=t.match(/(?:DFD|ETP|TR)\s*(\d+)\/(\d+)/);if(s){const a=s[1],r=s[2];return`Processo administrativo ${a}/${r}`}return t}function LZ(t){return _Z(t)}function Qj({value:t,onValueChange:s,placeholder:a="Selecione as gerências",disabled:r=!1,required:n=!1,filterByTipo:o,className:i,excludeValues:l=[]}){const{gerencias:c,loading:u,error:d}=Wj(),h=(o?c.filter(p=>p.tipo===o):c).filter(p=>!l.includes(p.nomeCompleto)),x=p=>{t.includes(p)?s(t.filter(y=>y!==p)):s([...t,p])},f=p=>{s(t.filter(y=>y!==p))};if(u)return e.jsx("div",{className:"space-y-2",children:e.jsx(Fh,{className:"h-10 w-full"})});if(d)return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsxs("span",{children:["Erro ao carregar gerências: ",d]})]}),e.jsx(Fh,{className:"h-10 w-full"})]});const g=p=>{const y=c.find(v=>v.nomeCompleto===p);return y?y.nomeCompleto:p};return e.jsxs("div",{className:`space-y-2 ${i}`,children:[e.jsxs(Pl,{children:[e.jsx(Al,{asChild:!0,children:e.jsxs(C,{variant:"outline",role:"combobox",disabled:r,className:"w-full justify-between h-12 border-gray-300 focus:border-green-500 focus:ring-green-200",children:[e.jsx("span",{className:"truncate",children:t.length===0?a:t.length===1?g(t[0]):`${t.length} gerência${t.length>1?"s":""} selecionada${t.length>1?"s":""}`}),e.jsx(_l,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(li,{className:"w-full p-0",align:"start",children:e.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:h.length===0?e.jsx("div",{className:"text-sm text-gray-500 p-2",children:"Nenhuma gerência disponível"}):e.jsx("div",{className:"space-y-1",children:h.map(p=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded-md cursor-pointer",onClick:()=>x(p.nomeCompleto),children:[e.jsx($t,{checked:t.includes(p.nomeCompleto),onChange:()=>x(p.nomeCompleto)}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-medium",children:p.nomeCompleto})})]},p.id))})})})]}),t.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.map(p=>e.jsxs(oe,{variant:"secondary",className:"flex items-center gap-1 bg-blue-100 text-blue-800 hover:bg-blue-200",children:[g(p),e.jsx("button",{type:"button",onClick:()=>f(p),className:"ml-1 hover:bg-blue-300 rounded-full p-0.5 transition-colors",children:e.jsx(Yt,{className:"w-3 h-3"})})]},p))}),n&&t.length===0&&e.jsx("p",{className:"text-sm text-red-600",children:"Seleção de gerências é obrigatória"})]})}const D2={id:"1",numeroProcesso:"Processo administrativo 012/2025",objeto:"Aquisição de Equipamentos Médicos para UTI",status:"em_andamento",prazoFinal:"30/01/2025",gerenciaResponsavel:"GSL - Gerência de Suprimentos e Logística",dataCriacao:"05/01/2025",criador:"Dr. Maria Silva",situacaoAtual:"Aguardando elaboração do ETP",etapaAtual:"Elaboração do ETP",diasUteisConsumidos:15,gerenciasEnvolvidas:["GUE - Gerência de Urgência e Emergência","GFC - Gerência Financeira e Contábil"],regimeTramitacao:"Ordinário"},$Z=[{id:"1",tipo:"analisar",descricao:"Analisar ETP enviado para aprovação",prazo:"28/01/2025",prioridade:"alta"},{id:"2",tipo:"assinar",descricao:"Assinar documento de consolidação da demanda",prazo:"30/01/2025",prioridade:"media"}],VZ=[{id:"1",nome:"Análise do ETP",responsavel:"Lucas Moreira Brito",previsao:"29/01/2025"},{id:"2",nome:"Aprovação do ETP",responsavel:"Dir. Roberto Alves",previsao:"02/02/2025"},{id:"3",nome:"Elaboração da Matriz de Risco",responsavel:"Dr. Luiza Santos",previsao:"05/02/2025"}],GZ=t=>{const s=[{id:1,nome:"Elaboração do DFD",nomeCompleto:"Elaboração do DFD",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"",cargo:"",gerencia:"GSP - Gerência de Soluções e Projetos"},{id:2,nome:"Aprovação do DFD",nomeCompleto:"Aprovação do DFD",status:"pendente",prazoPrevisao:"3 dias úteis",responsavel:"",cargo:"",gerencia:"GSL - Gerência de Suprimentos e Logística"},{id:3,nome:"Assinatura do DFD",nomeCompleto:"Assinatura do DFD",status:"pendente",prazoPrevisao:"3 dias úteis",responsavel:"",cargo:"",gerencia:"SE - Secretaria Executiva"},{id:4,nome:"Despacho do DFD",nomeCompleto:"Despacho do DFD",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:5,nome:"Elaboração do ETP",nomeCompleto:"Elaboração do ETP",status:"pendente",prazoPrevisao:"10 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:6,nome:"Assinatura do ETP",nomeCompleto:"Assinatura do ETP",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:7,nome:"Despacho do ETP",nomeCompleto:"Despacho do ETP",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:8,nome:"Elaboração da Matriz de Risco",nomeCompleto:"Elaboração da Matriz de Risco",status:"pendente",prazoPrevisao:"7 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:9,nome:"Aprovação da Matriz de Risco",nomeCompleto:"Aprovação da Matriz de Risco",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:10,nome:"Assinatura da Matriz de Risco",nomeCompleto:"Assinatura da Matriz de Risco",status:"pendente",prazoPrevisao:"15 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:11,nome:"Cotação",nomeCompleto:"Cotação",status:"pendente",prazoPrevisao:"2 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:12,nome:"Elaboração do Termo de Referência (TR)",nomeCompleto:"Elaboração do Termo de Referência (TR)",status:"pendente",prazoPrevisao:"10 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:13,nome:"Assinatura do TR",nomeCompleto:"Assinatura do TR",status:"pendente",prazoPrevisao:"5 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:14,nome:"Elaboração do Edital",nomeCompleto:"Elaboração do Edital",status:"pendente",prazoPrevisao:"3 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:15,nome:"Análise Jurídica Prévia",nomeCompleto:"Análise Jurídica Prévia",status:"pendente",prazoPrevisao:"20 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:16,nome:"Cumprimento de Ressalvas",nomeCompleto:"Cumprimento de Ressalvas",status:"pendente",prazoPrevisao:"10 dias úteis",responsavel:"",cargo:"",gerencia:""},{id:17,nome:"Elaboração do Parecer Jurídico",nomeCompleto:"Elaboração do Parecer Jurídico",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"",cargo:"",gerencia:""},{id:18,nome:"Cumprimento de Ressalvas pós Parecer Jurídico",nomeCompleto:"Cumprimento de Ressalvas pós Parecer Jurídico",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"",cargo:"",gerencia:""},{id:19,nome:"Aprovação Jurídica",nomeCompleto:"Aprovação Jurídica",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"",cargo:"",gerencia:""},{id:20,nome:"Assinatura do Edital",nomeCompleto:"Assinatura do Edital",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"",cargo:"",gerencia:""},{id:21,nome:"Publicação",nomeCompleto:"Publicação",status:"pendente",prazoPrevisao:"1 dia útil",responsavel:"",cargo:"",gerencia:""}];return t?s:s.map((a,r)=>r<1?{...a,status:"concluido",responsavel:"Dr. Maria Silva",cargo:"Gerente de Recursos Humanos",gerencia:"Gerência de Recursos Humanos"}:r===1?{...a,status:"andamento",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Soluções e Projetos",gerencia:"Gerência de Soluções e Projetos"}:a)},BZ=["CI - Comissão de Implantação","SE - Secretaria Executiva","OUV - Ouvidoria","GSP - Gerência de Soluções e Projetos","GSL - Gerência de Suprimentos e Logística","GRH - Gerência de Recursos Humanos","GUE - Gerência de Urgência e Emergência","GLC - Gerência de Licitações e Contratos","GFC - Gerência Financeira e Contábil","GRH - Gerência de Recursos Humanos","GAP - Gerência de Administração e Patrimônio","GESP - Gerência de Especialidades","NAJ - Assessoria Jurídica"],UZ=["Aguardando Elaboração do DFD","Elaboração do DFD","Análise do DFD","Aprovação do DFD","Elaboração do ETP","Análise do ETP","Aprovação do ETP","Elaboração da Matriz de Risco","Análise da Matriz de Risco","Aprovação da Matriz de Risco","Elaboração do TR","Análise do TR","Aprovação do TR","Elaboração do Edital","Análise do Edital","Aprovação do Edital","Publicação","Análise de Propostas","Aprovação Final","Concluído"],HZ=["Em Construção","Em Andamento","Finalizado","Cancelado"],WZ=[{value:"ordinario",label:"Ordinário"},{value:"urgente",label:"Urgente"}];function k2(){fs();const{id:t}=ax(),[s,a]=m.useState(!1),[r,n]=m.useState({prazoFinal:"",gerenciaResponsavel:"",etapaAtual:"",diasUteisConsumidos:0,status:"",gerenciasEnvolvidas:[],regimeTramitacao:"",prioridade:""}),[o,i]=m.useState({}),[l,c]=m.useState(!1),[u,d]=m.useState(!1),h=t==null?void 0:t.startsWith("processo_"),f=h?{id:t||"novo",numeroProcesso:`Processo administrativo ${(()=>{const k=new Date().getFullYear(),L=[{numeroProcesso:"001/2024",ano:"2024"},{numeroProcesso:"045/2024",ano:"2024"},{numeroProcesso:"001/2024",ano:"2024"},{numeroProcesso:"002/2024",ano:"2024"},{numeroProcesso:"002/2023",ano:"2023"}].filter(F=>F.ano===k.toString());if(L.length===0)return`001/${k}`;const U=L.map(F=>{const O=F.numeroProcesso.match(/^(\d+)\/\d+$/);return O?parseInt(O[1]):0}),K=Math.max(...U)+1;return`${String(K).padStart(3,"0")}/${k}`})()}`,objeto:"Processo em construção",status:"em_andamento",prazoFinal:"",gerenciaResponsavel:"GRH - Gerência de Recursos Humanos",dataCriacao:Je(new Date),criador:"Usuário Atual",situacaoAtual:"Em construção",etapaAtual:"Aguardando Elaboração do DFD",diasUteisConsumidos:0,gerenciasEnvolvidas:[],regimeTramitacao:"Ordinário"}:{...D2,numeroProcesso:LZ(D2.numeroProcesso)},g=GZ(h),p=()=>{const k={prazoFinal:f.prazoFinal||"",gerenciaResponsavel:f.gerenciaResponsavel,etapaAtual:f.etapaAtual,diasUteisConsumidos:f.diasUteisConsumidos,status:f.status||"em_andamento",gerenciasEnvolvidas:f.gerenciasEnvolvidas||[],regimeTramitacao:f.regimeTramitacao||"",prioridade:f.prioridade||""};n(k),i(k),a(!0)},y=(k,L)=>{if(!L)return 0;const U=new Date(k.split("/").reverse().join("-")),Y=new Date(L),K=Math.ceil((Y.getTime()-U.getTime())/(1e3*60*60*24));return Math.max(0,K)},v=(k,L)=>{n(U=>{const Y={...U,[k]:L};if(k==="prazoFinal"){const K=y(f.dataCriacao,L);Y.diasUteisConsumidos=K}return Y})},b=()=>{const k=r.gerenciasEnvolvidas||[],L=o.gerenciasEnvolvidas||[],U=JSON.stringify(k.sort())!==JSON.stringify(L.sort()),Y=r.prazoFinal!==o.prazoFinal||r.gerenciaResponsavel!==o.gerenciaResponsavel||r.etapaAtual!==o.etapaAtual||r.status!==o.status||r.regimeTramitacao!==o.regimeTramitacao;return U||Y},j=()=>r.gerenciaResponsavel.trim()!==""&&r.regimeTramitacao.trim()!=="",w=async()=>{if(!(!b()||!j())){c(!0);try{await new Promise(U=>setTimeout(U,1e3));const k=[];Object.keys(r).forEach(U=>{if(U!=="diasUteisConsumidos")if(U==="gerenciasEnvolvidas"){const Y=r[U]||[],K=o[U]||[];JSON.stringify(Y.sort())!==JSON.stringify(K.sort())&&k.push({campo:U,valorAnterior:o[U],valorNovo:r[U]})}else r[U]!==o[U]&&k.push({campo:U,valorAnterior:o[U],valorNovo:r[U]})}),Object.assign(f,r);const L={id:Date.now().toString(),tipo:"edicao",descricao:"Informações do processo editadas",usuario:"Usuário Atual",data:Es(new Date),detalhes:{camposAlterados:k,timestamp:new Date().toISOString()}};console.log("Alterações salvas:",r),console.log("Entrada no histórico:",L),d(!0),setTimeout(()=>{d(!1),a(!1)},2e3)}catch(k){console.error("Erro ao salvar:",k)}finally{c(!1)}}},{podeEditarProcesso:N}=$a(),E=N(),P=(k=>{const L={em_andamento:{className:"bg-blue-100 text-blue-800 border-blue-200",icon:e.jsx(ti,{className:"w-4 h-4"}),label:"Em Andamento"},concluido:{className:"bg-green-100 text-green-800 border-green-200",icon:e.jsx(Re,{className:"w-4 h-4"}),label:"Concluído"},atrasado:{className:"bg-red-100 text-red-800 border-red-200",icon:e.jsx(pt,{className:"w-4 h-4"}),label:"Atrasado"},pendente:{className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:e.jsx(Fe,{className:"w-4 h-4"}),label:"Pendente"}};return L[k]||L.pendente})(f.status),z={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},T={type:"tween",ease:"anticipate",duration:.5};return e.jsxs(ms.div,{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",initial:"initial",animate:"in",exit:"out",variants:z,transition:T,children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20",children:[e.jsx(ms.div,{className:"bg-white shadow-sm border-b border-gray-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"w-full px-8 py-6",children:[e.jsx(ms.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsx(kh,{className:"mb-6 text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors"})}),e.jsxs(ms.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.numeroProcesso}),e.jsx("p",{className:"text-xl text-gray-700 mb-4",children:f.objeto})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[E&&e.jsxs(C,{onClick:p,variant:"outline",className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 hover:bg-gray-50 border-gray-300",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Editar Processo"]}),e.jsxs(oe,{className:`${P.className} border text-sm font-medium px-4 py-2`,children:[P.icon,e.jsx("span",{className:"ml-2",children:P.label})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 w-full",children:[e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl ring-1 ring-black/5",children:e.jsx(wt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Prazo Final"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.prazoFinal||"Não definido"})]})]})}),e.jsx(A2,{icon:e.jsx($s,{}),label:"Gerência",value:f.gerenciaResponsavel,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded-xl ring-1 ring-black/5",children:e.jsx(ht,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Criador"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.criador})]})]})}),e.jsx(A2,{icon:e.jsx($e,{}),label:"Etapa Atual",value:f.etapaAtual,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-red-100 rounded-xl ring-1 ring-black/5",children:e.jsx(Fe,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Dias Úteis"}),e.jsxs("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:[f.diasUteisConsumidos," dias"]})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-xl ring-1 ring-black/5",children:e.jsx(pt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Regime"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.regimeTramitacao})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-gray-100 rounded-xl ring-1 ring-black/5",children:e.jsx(wt,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Data Criação"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.dataCriacao})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-yellow-100 rounded-xl ring-1 ring-black/5",children:e.jsx(pt,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Prioridade"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.prioridade||"Não definido"})]})]})})]})]})]})}),e.jsx("div",{className:"w-full px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[e.jsxs(ms.div,{className:"xl:col-span-4 space-y-8",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsx(RZ,{}),e.jsx(kZ,{etapas:g,gerenciaCriadora:"GRH - Gerência de Recursos Humanos"}),e.jsx(IZ,{historico:[]}),e.jsx(zZ,{documentos:[]})]}),e.jsx(ms.div,{className:"xl:col-span-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:e.jsx("div",{className:"sticky top-24",children:e.jsx(TZ,{processo:f,pendenciasUsuario:$Z,proximasEtapas:VZ})})})]})})]}),e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-6xl w-[95vw] max-h-[90vh] p-0 bg-white rounded-2xl shadow-xl border-0 overflow-hidden",children:[e.jsx(Xe,{className:"sr-only",children:"Editar Informações do Processo"}),e.jsx(tt,{className:"sr-only",children:"Edite as informações principais do processo administrativo"}),e.jsx("div",{className:"flex items-center px-8 py-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ft,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Processo"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Modifique as informações principais do processo"})]})]})}),e.jsx("div",{className:"px-8 py-6 overflow-y-auto max-h-[70vh]",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"prazoFinal",className:"text-base font-semibold text-gray-900",children:"Prazo Final"}),e.jsx(Cm,{value:r.prazoFinal||null,onChange:k=>v("prazoFinal",k||""),placeholder:"Selecione a data",showPresets:!0,businessDaysOnly:!0,minDate:new Date,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Obrigatório apenas se for definido manualmente"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"gerencia",className:"text-base font-semibold text-gray-900",children:"Gerência Responsável *"}),e.jsxs(rt,{value:r.gerenciaResponsavel,onValueChange:k=>v("gerenciaResponsavel",k),children:[e.jsx(st,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Selecione a gerência"})}),e.jsx(at,{children:BZ.map(k=>e.jsx(ve,{value:k,children:k},k))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"regimeTramitacao",className:"text-base font-semibold text-gray-900",children:"Regime de Tramitação *"}),e.jsxs(rt,{value:r.regimeTramitacao,onValueChange:k=>v("regimeTramitacao",k),children:[e.jsx(st,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Selecione o regime de tramitação"})}),e.jsx(at,{children:WZ.map(k=>e.jsx(ve,{value:k.label,children:k.label},k.value))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Define a prioridade e velocidade de tramitação do processo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-base font-semibold text-gray-900",children:"Outras Gerências que podem participar"}),e.jsx(Qj,{value:r.gerenciasEnvolvidas,onValueChange:k=>v("gerenciasEnvolvidas",k),placeholder:"Selecione as gerências participantes",required:!1,excludeValues:[r.gerenciaResponsavel]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Gerências que podem participar do processo além da responsável"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"criador",className:"text-base font-semibold text-gray-900",children:"Criador"}),e.jsx(De,{id:"criador",value:f.criador,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Nome do usuário atual (não editável)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"etapaAtual",className:"text-base font-semibold text-gray-900",children:"Etapa Atual"}),e.jsxs(rt,{value:r.etapaAtual,onValueChange:k=>v("etapaAtual",k),children:[e.jsx(st,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Selecione a etapa atual"})}),e.jsx(at,{children:UZ.map(k=>e.jsx(ve,{value:k,children:k},k))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Útil para processos que pulam etapas"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"diasUteis",className:"text-base font-semibold text-gray-900",children:"Dias Úteis Consumidos"}),e.jsx(De,{id:"diasUteis",type:"number",value:r.diasUteisConsumidos,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed border-2 border-gray-300",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Calculado automaticamente pelo sistema baseado na data de criação e prazo final"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"dataCriacao",className:"text-base font-semibold text-gray-900",children:"Data de Criação"}),e.jsx(De,{id:"dataCriacao",value:f.dataCriacao,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apenas visualização"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"status",className:"text-base font-semibold text-gray-900",children:"Status do Processo"}),e.jsxs(rt,{value:r.status,onValueChange:k=>v("status",k),children:[e.jsx(st,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Selecione o status"})}),e.jsx(at,{children:HZ.map(k=>e.jsx(ve,{value:k,children:k},k))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Define o status atual do processo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"prioridade",className:"text-base font-semibold text-gray-900",children:"Grau de Prioridade"}),e.jsxs(rt,{value:r.prioridade,onValueChange:k=>v("prioridade",k),children:[e.jsx(st,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(nt,{placeholder:"Selecione a prioridade"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"ALTO",children:"Alto"}),e.jsx(ve,{value:"MEDIO",children:"Médio"}),e.jsx(ve,{value:"BAIXO",children:"Baixo"})]})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-4 px-8 py-4 border-t border-gray-200",children:[u&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[e.jsx(Re,{className:"w-4 h-4"}),"Alterações salvas com sucesso!"]}),e.jsx(C,{variant:"outline",onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900",disabled:l,children:"Cancelar"}),e.jsx(C,{onClick:w,disabled:!b()||!j()||l,className:`px-4 py-2 flex items-center gap-2 ${!b()||!j()||l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4"}),"Salvar Alterações"]})})]})]})})]})}var qZ=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(YZ);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx($0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx($0,{...r,ref:s,children:a})});qZ.displayName="Slot";var $0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=XZ(a);return m.cloneElement(a,{...KZ(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});$0.displayName="SlotClone";var MT=({children:t})=>e.jsx(e.Fragment,{children:t});function YZ(t){return m.isValidElement(t)&&t.type===MT}function KZ(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function XZ(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var IT="AlertDialog",[JZ,vae]=ua(IT,[kA]),wn=kA(),OT=t=>{const{__scopeAlertDialog:s,...a}=t,r=wn(s);return e.jsx(Mb,{...r,...a,modal:!0})};OT.displayName=IT;var QZ="AlertDialogTrigger",zT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Ib,{...n,...r,ref:s})});zT.displayName=QZ;var ZZ="AlertDialogPortal",FT=t=>{const{__scopeAlertDialog:s,...a}=t,r=wn(s);return e.jsx(Ob,{...r,...a})};FT.displayName=ZZ;var eee="AlertDialogOverlay",_T=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Kd,{...n,...r,ref:s})});_T.displayName=eee;var el="AlertDialogContent",[tee,see]=JZ(el),LT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:r,...n}=t,o=wn(a),i=m.useRef(null),l=ot(s,i),c=m.useRef(null);return e.jsx(U$,{contentName:el,titleName:$T,docsSlug:"alert-dialog",children:e.jsx(tee,{scope:a,cancelRef:c,children:e.jsxs(Xd,{role:"alertdialog",...o,...n,ref:l,onOpenAutoFocus:Ee(n.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(MT,{children:r}),e.jsx(ree,{contentRef:i})]})})})});LT.displayName=el;var $T="AlertDialogTitle",VT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Jd,{...n,...r,ref:s})});VT.displayName=$T;var GT="AlertDialogDescription",BT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Qd,{...n,...r,ref:s})});BT.displayName=GT;var aee="AlertDialogAction",UT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Tx,{...n,...r,ref:s})});UT.displayName=aee;var HT="AlertDialogCancel",WT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:n}=see(HT,a),o=wn(a),i=ot(s,n);return e.jsx(Tx,{...o,...r,ref:i})});WT.displayName=HT;var ree=({contentRef:t})=>{const s=`\`${el}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${el}\` by passing a \`${GT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${el}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},nee=OT,oee=zT,iee=FT,qT=_T,YT=LT,KT=UT,XT=WT,JT=VT,QT=BT;const ZT=nee,e6=oee,lee=iee,t6=m.forwardRef(({className:t,...s},a)=>e.jsx(qT,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));t6.displayName=qT.displayName;const Zj=m.forwardRef(({className:t,...s},a)=>e.jsxs(lee,{children:[e.jsx(t6,{}),e.jsx(YT,{ref:a,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Zj.displayName=YT.displayName;const ey=({className:t,...s})=>e.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...s});ey.displayName="AlertDialogHeader";const ty=({className:t,...s})=>e.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ty.displayName="AlertDialogFooter";const sy=m.forwardRef(({className:t,...s},a)=>e.jsx(JT,{ref:a,className:je("text-lg font-semibold",t),...s}));sy.displayName=JT.displayName;const ay=m.forwardRef(({className:t,...s},a)=>e.jsx(QT,{ref:a,className:je("text-sm text-muted-foreground",t),...s}));ay.displayName=QT.displayName;const ry=m.forwardRef(({className:t,...s},a)=>e.jsx(KT,{ref:a,className:je(cx(),t),...s}));ry.displayName=KT.displayName;const ny=m.forwardRef(({className:t,...s},a)=>e.jsx(XT,{ref:a,className:je(cx({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));ny.displayName=XT.displayName;function cee({pastas:t,onAdicionarPasta:s,onEditarPasta:a,onExcluirPasta:r}){const[n,o]=m.useState(!1),[i,l]=m.useState("lista"),[c,u]=m.useState(null),[d,h]=m.useState({nome:"",descricao:"",tipo:"ano",anoReferencia:""}),x=()=>{const v={nome:d.nome,descricao:d.descricao,icone:e.jsx(mm,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",filtro:b=>d.tipo==="ano"?b.ano===d.anoReferencia:!0};s(v),l("lista"),h({nome:"",descricao:"",tipo:"ano",anoReferencia:""})},f=()=>{c&&(a(c.id,{nome:d.nome,descricao:d.descricao}),l("lista"),u(null),h({nome:"",descricao:"",tipo:"ano",anoReferencia:""}))},g=v=>{u(v),h({nome:v.nome,descricao:v.descricao,tipo:"ano",anoReferencia:""}),l("editar")},p=v=>{r(v)},y=()=>{h({nome:"",descricao:"",tipo:"ano",anoReferencia:""}),u(null),l("lista")};return e.jsxs(Ke,{open:n,onOpenChange:o,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{variant:"outline",className:"gap-2",children:[e.jsx(mm,{className:"w-4 h-4"}),"Gerenciar Pastas"]})}),e.jsxs(Ye,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(Qe,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(mm,{className:"w-5 h-5"}),"Gerenciar Pastas Organizacionais"]}),e.jsx(tt,{children:"Adicione, edite ou remova pastas para organizar seus processos"})]}),i==="lista"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pastas Existentes"}),e.jsxs(C,{onClick:()=>l("adicionar"),className:"gap-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),"Nova Pasta"]})]}),e.jsx("div",{className:"grid gap-4",children:t.map(v=>e.jsx(Ge,{className:"border border-gray-200",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:v.icone}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:v.nome}),e.jsx("p",{className:"text-sm text-gray-600",children:v.descricao}),e.jsxs("p",{className:"text-xs text-gray-500",children:[v.quantidadeProcessos," processos • Atualizado em ",v.ultimaModificacao]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>g(v),className:"gap-2",children:[e.jsx(bl,{className:"w-4 h-4"}),"Editar"]}),e.jsxs(ZT,{children:[e.jsx(e6,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",className:"gap-2 text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-4 h-4"}),"Excluir"]})}),e.jsxs(Zj,{children:[e.jsxs(ey,{children:[e.jsx(sy,{children:"Excluir Pasta"}),e.jsx(ay,{children:v.quantidadeProcessos>0?e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(pt,{className:"w-5 h-5 text-orange-500"}),e.jsxs("span",{className:"text-orange-700",children:["Esta pasta possui ",v.quantidadeProcessos," processo(s) vinculado(s). Tem certeza que deseja excluir?"]})]}):"Tem certeza que deseja excluir esta pasta?"})]}),e.jsxs(ty,{children:[e.jsx(ny,{children:"Cancelar"}),e.jsx(ry,{onClick:()=>p(v.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})})},v.id))})]}),(i==="adicionar"||i==="editar")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i==="adicionar"?"Nova Pasta":"Editar Pasta"}),e.jsx(C,{variant:"ghost",onClick:y,children:"Cancelar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Nome da Pasta"}),e.jsx(De,{id:"nome",value:d.nome,onChange:v=>h({...d,nome:v.target.value}),placeholder:"Ex: Processos de 2024"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"descricao",children:"Descrição"}),e.jsx(xt,{id:"descricao",value:d.descricao,onChange:v=>h({...d,descricao:v.target.value}),placeholder:"Ex: Processos iniciados no ano de 2024",rows:3})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"tipo",children:"Tipo de Filtro"}),e.jsxs(rt,{value:d.tipo,onValueChange:v=>h({...d,tipo:v}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione o tipo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"ano",children:"Por Ano"}),e.jsx(ve,{value:"status",children:"Por Status"}),e.jsx(ve,{value:"personalizado",children:"Personalizado"})]})]})]}),d.tipo==="ano"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"anoReferencia",children:"Ano de Referência"}),e.jsxs(rt,{value:d.anoReferencia,onValueChange:v=>h({...d,anoReferencia:v}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione o ano"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"2024",children:"2024"}),e.jsx(ve,{value:"2023",children:"2023"}),e.jsx(ve,{value:"2022",children:"2022"})]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:y,children:"Cancelar"}),e.jsx(C,{onClick:i==="adicionar"?x:f,disabled:!d.nome||!d.descricao,children:i==="adicionar"?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Pasta"]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})})]})]})]})]})]})}function oy(){const[t,s]=m.useState([]),a=n=>{const i=new Date().toLocaleDateString("pt-BR");s(c=>c.map(u=>u.id===n?{...u,ultimaModificacao:i}:u));const l=t.map(c=>c.id===n?{...c,ultimaModificacao:i}:c);localStorage.setItem("pastasOrganizacionais",JSON.stringify(l))},r=n=>{const o=t.find(i=>i.id===n);return(o==null?void 0:o.ultimaModificacao)||""};return m.useEffect(()=>{const n=localStorage.getItem("pastasOrganizacionais");if(n)try{const o=JSON.parse(n);s(o)}catch(o){console.error("Erro ao carregar pastas do localStorage:",o)}},[]),{pastas:t,setPastas:s,atualizarUltimoAcesso:a,getUltimoAcesso:r}}const ta=[{id:"1",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"Pregão",objeto:"Aquisição de Equipamentos Médicos para UTI",etapaAtual:"Elaboração da FD",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"30/01/2024",responsavelAtual:"Yasmin Pissolati Mattos Bretz - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"15/01/2024",ultimaAtualizacao:"25/01/2024",prazoFinal:"30/01/2024",temAnexos:!0},{id:"2",numeroProcesso:"Processo administrativo 045/2024",tipoProcesso:"Dispensa",objeto:"Contratação de Serviços de Limpeza Hospitalar",etapaAtual:"Assinatura ETP",proximaEtapa:"Despacho do ETP",prazoEtapaAtual:"25/01/2024",responsavelAtual:"Guilherme de Carvalho Silva - GSL",regimeTramitacao:"Urgente",situacao:"atrasado",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/01/2024",ultimaAtualizacao:"24/01/2024",prazoFinal:"25/01/2024",temAnexos:!1},{id:"3",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"Concorrência",objeto:"Consultoria Especializada em Gestão",etapaAtual:"Aprovação",proximaEtapa:"Publicação",prazoEtapaAtual:"22/01/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"concluido",ano:"2024",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"05/01/2024",ultimaAtualizacao:"20/01/2024",prazoFinal:"22/01/2024",temAnexos:!0},{id:"4",numeroProcesso:"Processo administrativo 002/2024",tipoProcesso:"Inexigibilidade",objeto:"Aquisição de Mobiliário para Consultórios",etapaAtual:"Matriz de Risco",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"15/02/2024",responsavelAtual:"Andressa Sterfany Santos da Silva - GUE",regimeTramitacao:"Prioritário",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"20/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"15/02/2024",temAnexos:!1},{id:"5",numeroProcesso:"Processo administrativo 002/2023",tipoProcesso:"Credenciamento",objeto:"Contratação de Segurança Patrimonial",etapaAtual:"Publicação",proximaEtapa:"Arquivamento",prazoEtapaAtual:"20/12/2023",responsavelAtual:"Pedro Alves - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"10/11/2023",ultimaAtualizacao:"15/12/2023",prazoFinal:"20/12/2023",temAnexos:!0},{id:"6",numeroProcesso:"Processo administrativo 003/2023",tipoProcesso:"Dispensa",objeto:"Sistema de Gestão Integrada",etapaAtual:"Análise",proximaEtapa:"Cancelamento",prazoEtapaAtual:"15/11/2023",responsavelAtual:"Lucia Ferreira - GECON",regimeTramitacao:"Normal",situacao:"cancelado",ano:"2023",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/10/2023",ultimaAtualizacao:"30/11/2023",prazoFinal:"15/11/2023",temAnexos:!1},{id:"7",numeroProcesso:"Processo administrativo 001/2022",tipoProcesso:"Pregão",objeto:"Aquisição de Equipamentos de Informática",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"20/12/2022",responsavelAtual:"Roberto Santos - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2022",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/02/2022",ultimaAtualizacao:"20/12/2022",prazoFinal:"20/12/2022",temAnexos:!0},{id:"8",numeroProcesso:"Processo administrativo 002/2022",tipoProcesso:"Concorrência",objeto:"Consultoria em Gestão de Qualidade",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"15/11/2022",responsavelAtual:"Fernanda Costa - GSP",regimeTramitacao:"Prioritário",situacao:"concluido",ano:"2022",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/03/2022",ultimaAtualizacao:"15/11/2022",prazoFinal:"15/11/2022",temAnexos:!0},{id:"9",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"Pregão",objeto:"Contratação de Serviços de Manutenção",etapaAtual:"Elaboração ETP",proximaEtapa:"Assinatura ETP",prazoEtapaAtual:"10/02/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"25/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"10/02/2024",temAnexos:!0}],dee=[{id:"2025",nome:"Processos de 2025",descricao:"Processos iniciados em 2025",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-purple-50 border-purple-200 text-purple-700",quantidadeProcessos:ta.filter(t=>t.ano==="2025").length,ultimaModificacao:"15/01/2025",filtro:t=>t.ano==="2025"},{id:"2024",nome:"Processos de 2024",descricao:"Processos iniciados em 2024",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",quantidadeProcessos:ta.filter(t=>t.ano==="2024").length,ultimaModificacao:"26/01/2024",filtro:t=>t.ano==="2024"},{id:"2023",nome:"Processos de 2023",descricao:"Processos iniciados em 2023",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-slate-50 border-slate-200 text-slate-700",quantidadeProcessos:ta.filter(t=>t.ano==="2023").length,ultimaModificacao:"15/12/2023",filtro:t=>t.ano==="2023"},{id:"2022",nome:"Processos de 2022",descricao:"Processos iniciados em 2022",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-gray-50 border-gray-200 text-gray-700",quantidadeProcessos:ta.filter(t=>t.ano==="2022").length,ultimaModificacao:"20/01/2024",filtro:t=>t.ano==="2022"}];function uee({status:t}){const a={em_andamento:{label:"Em Andamento",color:"bg-blue-50 text-blue-700 border-blue-200/50",dot:"bg-blue-400"},pendente:{label:"Pendente",color:"bg-amber-50 text-amber-700 border-amber-200/50",dot:"bg-amber-400"},atrasado:{label:"Atrasado",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},concluido:{label:"Concluído",color:"bg-emerald-50 text-emerald-700 border-emerald-200/50",dot:"bg-emerald-400"},cancelado:{label:"Cancelado",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function mee({prazo:t}){const s=new Date,a=new Date(t.split("/").reverse().join("-")),r=Math.ceil((a.getTime()-s.getTime())/(1e3*60*60*24)),n=()=>r<0?"text-red-600 font-semibold":r<=3?"text-orange-600 font-semibold":"text-gray-600";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:n(),children:t})]})}function V0(t){const s=t.toLowerCase();return s.includes("assinatura")||s.includes("assinar")?"Assinar":s.includes("corrig")?"Corrigir":s.includes("anális")||s.includes("analise")||s.includes("analisar")?"Analisar":"Nenhuma"}function hee({pasta:t}){const s=fs(),{atualizarUltimoAcesso:a}=oy(),r=()=>{a(t.id),s(`/processos-gerencia/pasta/${t.id}`)};return e.jsx(Ge,{className:"bg-white border border-gray-200/60 hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:r,children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gray-50/50 text-gray-600 group-hover:bg-gray-100/50 transition-colors",children:t.icone}),e.jsx(Fs,{className:"w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-800",children:t.nome}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.descricao}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[t.quantidadeProcessos," processos"]}),e.jsxs("span",{className:"text-gray-500",children:["Atualizado em ",t.ultimaModificacao]})]})]})]})})}function Fp({titulo:t,quantidade:s,icone:a,descricao:r}){return e.jsx(Ge,{className:"bg-white border border-gray-200/60 hover:shadow-md transition-all duration-200",children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gray-50/50 text-gray-600",children:a}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-500",children:"total"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1 text-gray-800",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:r})]})]})})}function _p({titulo:t,descricao:s,icone:a,quantidade:r,rota:n}){const o=fs();return e.jsx(Ge,{className:"bg-white border border-gray-200/60 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>o(n),children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-gray-50/50 text-gray-600 group-hover:bg-gray-100/50 transition-colors",children:a}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500",children:"processos"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-800",children:t}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 group-hover:text-gray-900",children:[e.jsx("span",{children:"Acessar lista completa"}),e.jsx(md,{className:"w-4 h-4"})]})]})]})})}function xee({processos:t}){const s=fs(),[a,r]=m.useState("numero"),[n,o]=m.useState("asc"),i=f=>{const g=f.toLowerCase();return g.includes("assinatura")||g.includes("assinar")?"Assinar":g.includes("corrig")?"Corrigir":g.includes("anális")||g.includes("analise")||g.includes("analisar")?"Analisar":"Nenhuma"},l=(f,g)=>{if(f==="Nenhuma")return e.jsx(oe,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"Sem pendência"});const y={Assinar:{className:"bg-blue-600 hover:bg-blue-700 text-white"},Corrigir:{className:"bg-red-600 hover:bg-red-700 text-white"},Analisar:{className:"bg-purple-600 hover:bg-purple-700 text-white"}}[f];return e.jsx(C,{size:"sm",onClick:()=>s(`/processos/${g}`),className:`${y.className} text-xs h-8 px-3 font-medium`,children:f})},c=f=>({em_andamento:"Em andamento",pendente:"Pendente",atrasado:"Atrasado",concluido:"Concluído",cancelado:"Cancelado"})[f],u=(f,g)=>f.localeCompare(g,"pt-BR",{sensitivity:"base"}),d=(f,g)=>{var b,j;const p=/(\d+)/,y=parseInt(((b=f.match(p))==null?void 0:b[1])||"0",10),v=parseInt(((j=g.match(p))==null?void 0:j[1])||"0",10);return!isNaN(y)&&!isNaN(v)&&y!==v?y-v:u(f,g)},h=m.useMemo(()=>{const f=[...t];return f.sort((g,p)=>{let y=0;if(a==="numero"&&(y=d(g.numeroProcesso,p.numeroProcesso)),a==="fase"&&(y=u(g.etapaAtual||"",p.etapaAtual||"")),a==="prazo"){const v=g.prazoFinal||g.prazoEtapaAtual||"",b=p.prazoFinal||p.prazoEtapaAtual||"";y=u(v,b)}if(a==="status"&&(y=u(c(g.situacao),c(p.situacao))),a==="pendencia"){const v=V0(g.etapaAtual),b=V0(p.etapaAtual);y=u(v,b)}return n==="asc"?y:-y}),f},[t,a,n]),x=({activeKey:f})=>e.jsx(C,{variant:"ghost",size:"icon",className:`h-7 w-7 ml-1 ${a===f?"text-blue-600":"text-gray-400"}`,onClick:()=>{a===f?o(g=>g==="asc"?"desc":"asc"):(r(f),o("asc"))},title:a===f?n==="asc"?"Ordenar desc":"Ordenar asc":"Ordenar","aria-label":"Ordenar coluna",children:a===f&&n==="desc"?e.jsx(O4,{className:"w-4 h-4"}):e.jsx(z4,{className:"w-4 h-4"})});return e.jsx(Ge,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsxs(We,{className:"p-0",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Participações atuais (",t.length,")"]})}),e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{className:"border-b border-gray-100",children:[e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 w-2/5",children:e.jsxs("div",{className:"flex items-center",children:["Nº do Processo ",e.jsx(x,{activeKey:"numero"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Fase Atual ",e.jsx(x,{activeKey:"fase"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Prazo Final ",e.jsx(x,{activeKey:"prazo"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Status ",e.jsx(x,{activeKey:"status"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Pendência ",e.jsx(x,{activeKey:"pendencia"})]})}),e.jsx(dt,{className:"text-xs font-bold text-gray-800 uppercase px-6 py-4 text-center",children:"Ação"})]})}),e.jsx(ho,{children:h.map(f=>{const g=i(f.etapaAtual);return e.jsxs(Ys,{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsxs(ct,{className:"px-6 py-4 w-2/5 min-w-0",children:[e.jsx("div",{className:"font-semibold text-blue-900 text-sm",children:f.numeroProcesso}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:f.objeto})]}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:f.etapaAtual})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(mee,{prazo:f.prazoFinal||f.prazoEtapaAtual})})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(uee,{status:f.situacao})})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:l(g,f.id)})}),e.jsx(ct,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{variant:"outline",size:"sm",onClick:()=>s(`/processos/${f.id}`),className:"text-xs h-8 px-3 font-medium",children:"Ver Detalhes"})})})]},f.id)})})]})]})})}function fee(){const[t,s]=m.useState(!1),[a,r]=m.useState({numeroProcesso:"",objetoProcesso:"",gerenciaCriadora:"GRH - Gerência de Recursos Humanos",gerenciasEnvolvidas:[],anoProcesso:new Date().getFullYear().toString(),tipoTramitacao:"",justificativaTipoTramitacao:"",comentariosIniciais:""});(u=>u.trim().split(/\s+/).filter(d=>d.length>0).length)(a.objetoProcesso);const o=fs();m.useEffect(()=>{if(t){const u=()=>{const d=new Date().getFullYear(),h=ta.filter(p=>p.ano===d.toString());if(h.length===0)return`001/${d}`;const x=h.map(p=>{const y=p.numeroProcesso.match(/^(\d+)\/\d+$/);return y?parseInt(y[1]):0}),g=Math.max(...x)+1;return`${String(g).padStart(3,"0")}/${d}`};r(d=>({...d,numeroProcesso:u()}))}},[t]);const i=(u,d)=>{r(h=>({...h,[u]:d}))},l=()=>{const u=`processo_${Date.now()}`,h=(()=>{const f=new Date().getFullYear(),g=ta.filter(b=>b.ano===f.toString());if(g.length===0)return`001/${f}`;const p=g.map(b=>{const j=b.numeroProcesso.match(/^(\d+)\/\d+$/);return j?parseInt(j[1]):0}),v=Math.max(...p)+1;return`${String(v).padStart(3,"0")}/${f}`})(),x={id:u,numeroProcesso:h,objeto:a.objetoProcesso||"Processo em construção",status:"em_andamento",prazoFinal:"",gerenciaResponsavel:"GRH - Gerência de Recursos Humanos",dataCriacao:Je(new Date),criador:"Usuário Atual",situacaoAtual:"Em construção",etapaAtual:"Aguardando Elaboração do DFD",diasUteisConsumidos:0,tipoTramitacao:a.tipoTramitacao,gerenciasEnvolvidas:a.gerenciasEnvolvidas};console.log("Novo processo criado:",x),o(`/processo/${u}`),s(!1)},c=()=>{const u=a.objetoProcesso.trim()!==""&&a.tipoTramitacao!==""&&a.gerenciasEnvolvidas.length>0,d=a.tipoTramitacao===""||a.justificativaTipoTramitacao.trim()!=="";return u&&d};return e.jsxs(Ke,{open:t,onOpenChange:s,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 px-6 py-3 text-base font-semibold border-0 rounded-xl",children:[e.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Criar Novo Processo"]})}),e.jsxs(Ye,{className:"max-w-6xl w-[80vw] p-0 bg-white rounded-2xl shadow-xl border-0",children:[e.jsx(Xe,{className:"sr-only",children:"Criar Novo Processo"}),e.jsx(tt,{className:"sr-only",children:"Inicie um novo processo administrativo com fluxo completo"}),e.jsx("div",{className:"flex items-center px-8 py-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(Mt,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar Novo Processo"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Inicie um novo processo administrativo com fluxo completo"})]})]})}),e.jsxs("div",{className:"px-8 py-6 max-h-[60vh] overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Número do Processo"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:a.numeroProcesso||"078/2025",disabled:!0,className:"h-12 bg-gray-50 text-gray-700 cursor-not-allowed font-medium"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Automático"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Gerência Criadora"}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-900",children:"Gerência: GRH"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Gerência de Recursos Humanos"})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Tipo de Tramitação *"}),e.jsxs(Pl,{children:[e.jsx(Al,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-blue-50",children:e.jsx(pt,{className:"w-4 h-4 text-blue-600"})})}),e.jsx(li,{className:"max-w-sm p-4 bg-white border border-gray-200 shadow-lg rounded-lg",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Tipos de Tramitação:"}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Ordinária:"})," Processo padrão com prazo normal de tramitação, seguindo o fluxo regular estabelecido."]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-orange-600",children:"Urgente:"})," Processo que requer tramitação acelerada devido a situações de emergência ou necessidade imediata."]})]})]})})]})]}),e.jsxs(rt,{value:a.tipoTramitacao,onValueChange:u=>i("tipoTramitacao",u),children:[e.jsx(st,{className:"h-12 border-gray-300 focus:border-green-500 focus:ring-green-200",children:e.jsx(nt,{placeholder:"Selecione o tipo de tramitação"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"ordinaria",children:"Ordinária"}),e.jsx(ve,{value:"urgente",children:"Urgente"})]})]}),a.tipoTramitacao&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Justificativa do Tipo de Tramitação *"}),e.jsx(xt,{value:a.justificativaTipoTramitacao,onChange:u=>i("justificativaTipoTramitacao",u.target.value),placeholder:"Explique o motivo da escolha deste tipo de tramitação.",className:"min-h-[80px] resize-none border-2 border-gray-300 focus:border-green-500 focus:ring-green-200 transition-colors"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Ano do Processo"}),e.jsx(De,{value:a.anoProcesso,disabled:!0,className:"h-12 bg-gray-50 text-gray-700 cursor-not-allowed font-medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Outras Gerências que podem participar *"}),e.jsx(Qj,{value:a.gerenciasEnvolvidas,onValueChange:u=>i("gerenciasEnvolvidas",u),placeholder:"Selecione as gerências participantes",required:!0,excludeValues:[a.gerenciaCriadora]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Objeto do Processo *"}),e.jsx("div",{className:"relative",children:e.jsx(xt,{placeholder:"Descreva o objeto da contratação",value:a.objetoProcesso,onChange:u=>i("objetoProcesso",u.target.value),className:"min-h-[120px] resize-none border-2 border-gray-300 focus:border-green-500 focus:ring-green-200 transition-colors"})})]})]}),e.jsx("div",{className:"border-t border-gray-200 px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(C,{variant:"outline",onClick:()=>s(!1),className:"px-8 py-3 bg-gray-100 text-gray-600 border-gray-300 hover:bg-gray-200 font-medium",children:"Cancelar"}),e.jsx(C,{onClick:l,disabled:!c(),className:"px-8 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 disabled:text-gray-500 text-white font-medium shadow-md hover:shadow-lg transition-all",children:"Iniciar Processo"})]})})]})]})}function pee(){const[t,s]=m.useState(""),[a,r]=m.useState("todos"),[n,o]=m.useState("todos"),[i,l]=m.useState("todos"),[c,u]=m.useState({searchTerm:"",yearFilter:"todos",statusFilter:"todos",regimeFilter:"todos"});fs();const{pastas:d,setPastas:h,atualizarUltimoAcesso:x}=oy();Z.useEffect(()=>{d.length===0&&h(dee)},[d.length,h]);const f=m.useMemo(()=>ta.filter(N=>N.tipoParticipacao==="responsavel"&&N.situacao!=="concluido"&&N.situacao!=="cancelado").filter(N=>{const E=N.numeroProcesso.toLowerCase().includes(t.toLowerCase())||N.objeto.toLowerCase().includes(t.toLowerCase()),A=a==="todos"||N.tipoProcesso===a,P=n==="todos"||N.situacao===n,z=V0(N.etapaAtual);return E&&A&&P&&(i==="todos"||i==="com_pendencia"&&z!=="Nenhuma"||i==="sem_pendencia"&&z==="Nenhuma")}),[t,a,n,i]),g=m.useMemo(()=>ta.filter(N=>{const{searchTerm:E,yearFilter:A,statusFilter:P,regimeFilter:z}=c,T=N.numeroProcesso.toLowerCase().includes(E.toLowerCase())||N.objeto.toLowerCase().includes(E.toLowerCase()),k=A==="todos"||N.ano===A,L=P==="todos"||N.situacao===P,U=z==="todos"||N.regimeTramitacao===z;return T&&k&&L&&U}),[c]);g.filter(N=>N.tipoParticipacao==="criador"),g.filter(N=>N.tipoParticipacao==="responsavel"),g.filter(N=>N.tipoParticipacao==="participante");const p=ta.filter(N=>N.tipoParticipacao==="criador").length,y=ta.filter(N=>N.situacao==="em_andamento").length,v=ta.filter(N=>N.situacao==="concluido"||N.situacao==="cancelado").length;ta.filter(N=>N.tipoParticipacao==="participante").length;const b=ta.filter(N=>{const E=new Date,A=new Date(N.prazoEtapaAtual.split("/").reverse().join("-")),P=Math.ceil((A.getTime()-E.getTime())/(1e3*60*60*24));return P<=5&&P>=0&&N.situacao!=="concluido"&&N.situacao!=="cancelado"}),j=ta.filter(N=>{const E=new Date,A=new Date(N.prazoEtapaAtual.split("/").reverse().join("-"));return Math.ceil((A.getTime()-E.getTime())/(1e3*60*60*24))<0&&N.situacao!=="concluido"&&N.situacao!=="cancelado"}),w=ta.filter(N=>N.etapaAtual.includes("Assinatura")&&N.situacao==="em_andamento");return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 px-6 pb-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-cyan-50 to-emerald-50 border border-blue-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-xl shadow-inner",children:e.jsx(Mt,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"w-2 h-2 text-white"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 leading-tight",children:"Iniciar Novo Processo"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium max-w-md",children:"Crie um novo processo administrativo com fluxo completo e acompanhamento"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{children:e.jsx(fee,{})})}),e.jsx(St,{children:e.jsx("p",{children:"Iniciar novo processo administrativo com fluxo completo"})})]})})})]})})}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"bg-emerald-50/30 rounded-xl border border-emerald-100/50 shadow-sm p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:e.jsx($s,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Acesso Rápido"}),e.jsx("p",{className:"text-gray-600",children:"Navegue rapidamente para listas específicas"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(_p,{titulo:"Prazos Próximos",descricao:"Visualize os processos com etapas que vencem nos próximos 5 dias",icone:e.jsx(Fe,{className:"w-8 h-8"}),quantidade:b.length,rota:"/processos-gerencia/prazos-proximos"}),e.jsx(_p,{titulo:"Processos Atrasados",descricao:"Veja todos os processos com etapas em atraso na sua gerência",icone:e.jsx(pt,{className:"w-8 h-8"}),quantidade:j.length,rota:"/processos-gerencia/atrasados"}),e.jsx(_p,{titulo:"Assinaturas Pendentes",descricao:"Acesse todos os processos que aguardam assinatura da sua gerência",icone:e.jsx(Oo,{className:"w-8 h-8"}),quantidade:w.length,rota:"/processos-gerencia/assinaturas-pendentes"})]})]}),e.jsxs("section",{className:"bg-blue-50/30 rounded-xl border border-blue-100/50 shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(fd,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Participações Atuais"}),e.jsx("p",{className:"text-gray-600",children:"Processos em que a sua gerência está participando ativamente"})]})]}),e.jsxs(oe,{variant:"outline",className:"text-sm font-medium bg-white",children:[f.length," processos"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{placeholder:"Buscar por nº do processo ou objeto",value:t,onChange:N=>s(N.target.value),className:"pl-10 border-gray-200/60 bg-white"})]}),e.jsxs(rt,{value:a,onValueChange:r,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Tipo do processo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Tipo do processo"}),e.jsx(ve,{value:"Pregão",children:"Pregão"}),e.jsx(ve,{value:"Dispensa",children:"Dispensa"}),e.jsx(ve,{value:"Inexigibilidade",children:"Inexigibilidade"}),e.jsx(ve,{value:"Concorrência",children:"Concorrência"}),e.jsx(ve,{value:"Credenciamento",children:"Credenciamento"})]})]}),e.jsxs(rt,{value:n,onValueChange:o,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Status do processo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Status do processo"}),e.jsx(ve,{value:"em_andamento",children:"Em andamento"}),e.jsx(ve,{value:"pendente",children:"Pendente"}),e.jsx(ve,{value:"concluido",children:"Concluído"}),e.jsx(ve,{value:"atrasado",children:"Atrasado"})]})]}),e.jsxs(rt,{value:i,onValueChange:l,children:[e.jsx(st,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(nt,{placeholder:"Pendência"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Pendência"}),e.jsx(ve,{value:"com_pendencia",children:"Com pendência"}),e.jsx(ve,{value:"sem_pendencia",children:"Sem pendência"})]})]})]})}),f.length>0?e.jsx(xee,{processos:f}):e.jsxs(Ge,{className:"p-8 text-center border-dashed border-2 border-gray-300 bg-white",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(fd,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Nenhuma participação encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Não há processos em que você esteja participando atualmente."})]})]}),e.jsxs("section",{className:"bg-slate-50/40 rounded-xl border border-slate-100/50 shadow-sm p-8 ring-1 ring-slate-200/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:e.jsx(mm,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Pastas Organizacionais"}),e.jsx("p",{className:"text-gray-600",children:"Organize seus processos por categorias e períodos"})]})]}),e.jsx(cee,{pastas:d,onAdicionarPasta:N=>{console.log("Adicionar pasta:",N)},onEditarPasta:(N,E)=>{console.log("Editar pasta:",N,E)},onExcluirPasta:N=>{console.log("Excluir pasta:",N)}})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(N=>e.jsx(hee,{pasta:N},N.id))})]}),e.jsxs("section",{className:"bg-gradient-to-r from-gray-50/50 to-slate-50/50 rounded-xl border border-gray-100/50 shadow-sm p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(Zv,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Estatísticas Gerais"}),e.jsx("p",{className:"text-gray-600",children:"Visão geral dos processos da gerência"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Fp,{titulo:"Processos Iniciados",quantidade:p,icone:e.jsx(Jz,{className:"w-6 h-6"}),descricao:"Total de processos criados pela gerência"}),e.jsx(Fp,{titulo:"Processos Ativos",quantidade:y,icone:e.jsx($z,{className:"w-6 h-6"}),descricao:"Processos em andamento atualmente"}),e.jsx(Fp,{titulo:"Processos Arquivados",quantidade:v,icone:e.jsx(Gz,{className:"w-6 h-6"}),descricao:"Processos concluídos ou cancelados"})]})]})]})]})]})}function gee({label:t,name:s,files:a,onChange:r,required:n=!1,disabled:o=!1,accept:i=".pdf",multiple:l=!0,className:c=""}){const u=h=>{const x=Array.from(h.target.files||[]);r(l?[...a,...x]:x)},d=h=>{r(a.filter((x,f)=>f!==h))};return e.jsxs("div",{className:`space-y-2 ${c}`,children:[e.jsxs(B,{htmlFor:s,className:"text-sm font-medium text-gray-700",children:[t,n&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",id:s,accept:i,multiple:l,onChange:u,disabled:o,className:"hidden"}),e.jsxs("label",{htmlFor:s,className:"cursor-pointer",children:[e.jsx(mt,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para selecionar arquivos ou arraste e solte aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i===".pdf"?"Apenas arquivos PDF":"Todos os tipos de arquivo"})]})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Arquivos selecionados:"}),a.map((h,x)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:h.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(h.size/1024/1024).toFixed(2)," MB)"]})]}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(x),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Yt,{className:"w-4 h-4"})})]},x))]})]})}const vee=[{value:"ordinaria",label:"Ordinária"},{value:"urgente",label:"Urgente"}],bee=()=>{const t=new Date().getFullYear();return`${(77+1).toString().padStart(3,"0")}/${t}`},gc=[{id:"modelo-sistema-fiscatus",nome:"Fluxo Completo de Contratação - Fiscatus",descricao:"Modelo padrão utilizado para planejamento e tramitação completa de processos de contratação pública, com base na estrutura original do sistema Fiscatus.",ehPadrao:!0,quantidadeEtapas:21,instituicao:"Sistema"},{id:"modelo-1",nome:"Modelo Padrão de Contratação",descricao:"Modelo padrão para processos de contratação de serviços e produtos",ehPadrao:!1,quantidadeEtapas:3,instituicao:"Comissão de Implantação"},{id:"modelo-2",nome:"Modelo Simplificado",descricao:"Modelo com menos etapas para contratações simples",ehPadrao:!1,quantidadeEtapas:2,instituicao:"Comissão de Implantação"}];function jee(){var y;const t=fs(),{user:s}=Dt(),a=()=>gc.find(b=>b.ehPadrao&&b.instituicao===(s==null?void 0:s.gerencia))||gc.find(b=>b.ehPadrao)||gc[0],[r,n]=m.useState({numeroProcesso:"",modeloFluxoId:((y=a())==null?void 0:y.id)||"",objetoProcesso:"",gerenciaCriadora:(s==null?void 0:s.gerencia)||"GRH - Gerência de Recursos Humanos",gerenciasEnvolvidas:[],anoProcesso:new Date().getFullYear().toString(),tipoTramitacao:"",justificativaTipoTramitacao:"",comentariosIniciais:"",documentosIniciais:[]}),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{n(v=>({...v,numeroProcesso:bee()}))},[]);const h=(v,b)=>{n(j=>({...j,[v]:b}))},x=async()=>{i(!0);try{await new Promise(b=>setTimeout(b,1500));const v=r.numeroProcesso;c(!0),setTimeout(()=>{t(`/processos/${v}`)},2e3)}catch(v){console.error("Erro ao criar processo:",v)}finally{i(!1)}},f=()=>{const v=r.objetoProcesso.trim()!==""&&r.tipoTramitacao!==""&&r.gerenciasEnvolvidas.length>0&&r.modeloFluxoId!=="",b=r.tipoTramitacao===""||r.justificativaTipoTramitacao.trim()!=="";return v&&b},g=gc.find(v=>v.id===r.modeloFluxoId),p=v=>{n(b=>({...b,modeloFluxoId:v})),d(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:"pt-16 md:pt-20 px-4 sm:px-6 lg:px-8 py-6 min-h-screen max-w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(kh,{className:"mb-4 text-gray-600 hover:text-gray-900"}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-center text-primary flex items-center justify-center",children:[e.jsx(Mt,{className:"w-8 h-8 mr-3 text-blue-500"}),"Novo Processo"]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Criação de novo processo administrativo"})]})]}),l&&e.jsx(Ge,{className:"mb-6 bg-green-50 border-green-200",children:e.jsx(We,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Processo criado com sucesso!"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Número do processo: ",r.numeroProcesso]})]})]})})}),e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx(Ge,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(zo,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Modelo de Fluxo"})]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-medium text-purple-900",children:g.nome}),g.ehPadrao&&e.jsxs(oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ih,{className:"w-3 h-3 mr-1 fill-current"}),"Padrão"]})]}),e.jsx("p",{className:"text-sm text-purple-700 mb-2",children:g.descricao}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-purple-600",children:[e.jsxs("span",{children:[g.quantidadeEtapas," etapas"]}),e.jsx("span",{children:g.instituicao})]})]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"ml-4",children:[e.jsx(zo,{className:"w-4 h-4 mr-2"}),"Alterar Modelo"]})]})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Este modelo será aplicado ao seu processo, definindo as etapas e responsáveis padrão."})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(zo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um Modelo de Fluxo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Escolha um modelo para definir as etapas do seu processo"}),e.jsxs(C,{onClick:()=>d(!0),children:[e.jsx(zo,{className:"w-4 h-4 mr-2"}),"Selecionar Modelo"]})]})]})}),e.jsx(Ge,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($e,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informações Básicas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"numeroProcesso",className:"text-sm font-medium text-gray-700",children:"Número do Processo"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"numeroProcesso",value:r.numeroProcesso,disabled:!0,className:"bg-gray-50 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Gerado automaticamente"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"anoProcesso",className:"text-sm font-medium text-gray-700",children:"Ano do Processo"}),e.jsx("div",{className:"relative",children:e.jsx(De,{id:"anoProcesso",value:`Ano: ${r.anoProcesso}`,disabled:!0,className:"bg-gray-50 text-gray-600 cursor-not-allowed"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"tipoTramitacao",className:"text-sm font-medium text-gray-700",children:"Tipo de Tramitação *"}),e.jsxs(Pl,{children:[e.jsx(Al,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"h-5 w-5 rounded-full hover:bg-blue-50",children:e.jsx(pt,{className:"w-3 h-3 text-blue-600"})})}),e.jsx(li,{className:"max-w-sm p-4 bg-white border border-gray-200 shadow-lg rounded-lg",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Tipos de Tramitação:"}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Ordinária:"})," Processo padrão com prazo normal de tramitação, seguindo o fluxo regular estabelecido."]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-orange-600",children:"Urgente:"})," Processo que requer tramitação acelerada devido a situações de emergência ou necessidade imediata."]})]})]})})]})]}),e.jsxs(rt,{value:r.tipoTramitacao,onValueChange:v=>h("tipoTramitacao",v),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione o tipo"})}),e.jsx(at,{children:vee.map(v=>e.jsx(ve,{value:v.value,children:v.label},v.value))})]})]}),r.tipoTramitacao&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"justificativaTipoTramitacao",className:"text-sm font-medium text-gray-700",children:"Justificativa do Tipo de Tramitação *"}),e.jsx(xt,{id:"justificativaTipoTramitacao",value:r.justificativaTipoTramitacao,onChange:v=>h("justificativaTipoTramitacao",v.target.value),placeholder:"Explique o motivo da escolha deste tipo de tramitação.",className:"min-h-[80px] resize-none"})]})]})]})}),e.jsx(Ge,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx($s,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Objeto e Participação"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"objetoProcesso",className:"text-sm font-medium text-gray-700",children:"Objeto do Processo *"}),e.jsx(xt,{id:"objetoProcesso",value:r.objetoProcesso,onChange:v=>h("objetoProcesso",v.target.value),placeholder:"Descreva o objeto da contratação",className:"min-h-[100px] resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Gerência Criadora"}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"font-medium text-blue-800",children:["Gerência: ",r.gerenciaCriadora]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Outras gerências que podem participar do processo *"}),e.jsx(Qj,{value:r.gerenciasEnvolvidas,onValueChange:v=>h("gerenciasEnvolvidas",v),placeholder:"Selecione as gerências participantes",required:!0,excludeValues:[r.gerenciaCriadora]})]})]})]})}),e.jsx(Ge,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(mt,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comentários e Anexos"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"comentariosIniciais",className:"text-sm font-medium text-gray-700",children:"Observações iniciais (opcional)"}),e.jsx(of,{value:r.comentariosIniciais,onChange:v=>h("comentariosIniciais",v),placeholder:"Digite comentários ou justificativas relevantes para a abertura do processo... Use @ para mencionar usuários",minHeight:"100px",maxLength:1e3,processoId:"novo-processo",cardId:"observacoes-iniciais"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Anexar documentos iniciais (opcional)"}),e.jsx(gee,{label:"Anexar documentos iniciais",name:"documentosIniciais",files:r.documentosIniciais,onChange:v=>h("documentosIniciais",v),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0})]})]})]})}),e.jsx(Ge,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsx(kh,{variant:"outline",className:"flex items-center gap-2 px-6 py-3 text-base",size:"lg"}),e.jsx(C,{onClick:x,disabled:!f()||o,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 px-6 py-3 text-base",size:"lg",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Criando Processo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-5 h-5"}),"Criar Processo"]})})]})})})]})]}),e.jsx(Ke,{open:u,onOpenChange:d,children:e.jsxs(Ye,{className:"sm:max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Qe,{children:e.jsx(Xe,{children:"Selecionar Modelo de Fluxo"})}),e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:gc.map(v=>e.jsx(Ge,{className:`cursor-pointer transition-all hover:shadow-lg ${r.modeloFluxoId===v.id?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-gray-50"}`,onClick:()=>p(v.id),children:e.jsxs(We,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:v.nome}),v.ehPadrao&&e.jsxs(oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ih,{className:"w-3 h-3 mr-1 fill-current"}),"Padrão"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.descricao}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-3 h-3"}),v.quantidadeEtapas," etapas"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($s,{className:"w-3 h-3"}),v.instituicao]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(C,{variant:"outline",size:"sm",className:"text-xs",onClick:b=>{b.stopPropagation()},children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Visualizar Etapas"]}),r.modeloFluxoId===v.id&&e.jsxs(oe,{className:"bg-purple-600",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Selecionado"]})]})]})},v.id))}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[e.jsx(C,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsx(C,{onClick:()=>d(!1),disabled:!r.modeloFluxoId,children:"Confirmar Seleção"})]})]})]})})]})}const s6=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:je("mx-auto flex w-full justify-center",t),...s});s6.displayName="Pagination";const a6=m.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,className:je("flex flex-row items-center gap-1",t),...s}));a6.displayName="PaginationContent";const Em=m.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,className:je("",t),...s}));Em.displayName="PaginationItem";const df=({className:t,isActive:s,size:a="icon",...r})=>e.jsx("a",{"aria-current":s?"page":void 0,className:je(cx({variant:s?"outline":"ghost",size:a}),t),...r});df.displayName="PaginationLink";const r6=({className:t,...s})=>e.jsxs(df,{"aria-label":"Go to previous page",size:"default",className:je("gap-1 pl-2.5",t),...s,children:[e.jsx(F4,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});r6.displayName="PaginationPrevious";const n6=({className:t,...s})=>e.jsxs(df,{"aria-label":"Go to next page",size:"default",className:je("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Fs,{className:"h-4 w-4"})]});n6.displayName="PaginationNext";const Sc=[{id:"1",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"DFD",objeto:"Aquisição de Equipamentos Médicos para UTI",etapaAtual:"Elaboração da FD",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"30/01/2024",responsavelAtual:"Yasmin Pissolati Mattos Bretz - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"15/01/2024",ultimaAtualizacao:"25/01/2024",prazoFinal:"30/01/2024",temAnexos:!0},{id:"2",numeroProcesso:"Processo administrativo 045/2024",tipoProcesso:"ETP",objeto:"Contratação de Serviços de Limpeza Hospitalar",etapaAtual:"Assinatura ETP",proximaEtapa:"Despacho do ETP",prazoEtapaAtual:"25/01/2024",responsavelAtual:"Guilherme de Carvalho Silva - GSL",regimeTramitacao:"Urgente",situacao:"atrasado",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/01/2024",ultimaAtualizacao:"24/01/2024",prazoFinal:"25/01/2024",temAnexos:!1},{id:"3",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"TR",objeto:"Consultoria Especializada em Gestão",etapaAtual:"Aprovação",proximaEtapa:"Publicação",prazoEtapaAtual:"22/01/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"concluido",ano:"2024",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"05/01/2024",ultimaAtualizacao:"20/01/2024",prazoFinal:"22/01/2024",temAnexos:!0},{id:"4",numeroProcesso:"Processo administrativo 002/2024",tipoProcesso:"DFD",objeto:"Aquisição de Mobiliário para Consultórios",etapaAtual:"Matriz de Risco",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"15/02/2024",responsavelAtual:"Andressa Sterfany Santos da Silva - GUE",regimeTramitacao:"Prioritário",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"20/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"15/02/2024",temAnexos:!1},{id:"5",numeroProcesso:"Processo administrativo 002/2023",tipoProcesso:"ETP",objeto:"Contratação de Segurança Patrimonial",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"20/12/2023",responsavelAtual:"Pedro Alves - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"10/11/2023",ultimaAtualizacao:"15/12/2023",prazoFinal:"20/12/2023",temAnexos:!0},{id:"6",numeroProcesso:"Processo administrativo 003/2023",tipoProcesso:"TR",objeto:"Sistema de Gestão Integrada",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"15/11/2023",responsavelAtual:"Lucia Ferreira - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/10/2023",ultimaAtualizacao:"30/11/2023",prazoFinal:"15/11/2023",temAnexos:!1},{id:"7",numeroProcesso:"Processo administrativo 001/2022",tipoProcesso:"DFD",objeto:"Aquisição de Equipamentos de Informática",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"20/12/2022",responsavelAtual:"Roberto Santos - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2022",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/02/2022",ultimaAtualizacao:"20/12/2022",prazoFinal:"20/12/2022",temAnexos:!0},{id:"8",numeroProcesso:"Processo administrativo 002/2022",tipoProcesso:"TR",objeto:"Consultoria em Gestão de Qualidade",etapaAtual:"Concluído",proximaEtapa:"-",prazoEtapaAtual:"15/11/2022",responsavelAtual:"Fernanda Costa - GSP",regimeTramitacao:"Prioritário",situacao:"concluido",ano:"2022",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/03/2022",ultimaAtualizacao:"15/11/2022",prazoFinal:"15/11/2022",temAnexos:!0},{id:"9",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"ETP",objeto:"Contratação de Serviços de Manutenção",etapaAtual:"Elaboração ETP",proximaEtapa:"Assinatura ETP",prazoEtapaAtual:"10/02/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"25/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"10/02/2024",temAnexos:!0}],yee=[{id:"2025",nome:"Processos de 2025",descricao:"Processos iniciados em 2025",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-purple-50 border-purple-200 text-purple-700",quantidadeProcessos:Sc.filter(t=>t.ano==="2025").length,ultimaModificacao:"15/01/2025",filtro:t=>t.ano==="2025"},{id:"2024",nome:"Processos de 2024",descricao:"Processos iniciados em 2024",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",quantidadeProcessos:Sc.filter(t=>t.ano==="2024").length,ultimaModificacao:"26/01/2024",filtro:t=>t.ano==="2024"},{id:"2023",nome:"Processos de 2023",descricao:"Processos iniciados em 2023",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-slate-50 border-slate-200 text-slate-700",quantidadeProcessos:Sc.filter(t=>t.ano==="2023").length,ultimaModificacao:"15/12/2023",filtro:t=>t.ano==="2023"},{id:"2022",nome:"Processos de 2022",descricao:"Processos iniciados em 2022",icone:e.jsx(wt,{className:"w-6 h-6"}),cor:"bg-green-50 border-green-200 text-green-700",quantidadeProcessos:Sc.filter(t=>t.ano==="2022").length,ultimaModificacao:"20/01/2024",filtro:t=>t.ano==="2022"}];function Nee({status:t}){const a={em_andamento:{label:"Em Andamento",color:"bg-blue-50 text-blue-700 border-blue-200/50",dot:"bg-blue-400"},pendente:{label:"Pendente",color:"bg-amber-50 text-amber-700 border-amber-200/50",dot:"bg-amber-400"},atrasado:{label:"Atrasado",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},concluido:{label:"Concluído",color:"bg-emerald-50 text-emerald-700 border-emerald-200/50",dot:"bg-emerald-400"},cancelado:{label:"Cancelado",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function wee({regime:t}){const a={Normal:{label:"Normal",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"},Urgente:{label:"Urgente",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},Prioritário:{label:"Prioritário",color:"bg-orange-50 text-orange-700 border-orange-200/50",dot:"bg-orange-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function Cee({type:t}){const a={criador:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-green-600",tooltip:"Criador do processo"},responsavel:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-blue-600",tooltip:"Responsável por etapa"},participante:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-gray-600",tooltip:"Participante histórico"}}[t];return e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:`${a.color}`,children:a.icon})}),e.jsx(St,{children:e.jsx("p",{children:a.tooltip})})]})})}function See({prazo:t}){const s=new Date,a=new Date(t.split("/").reverse().join("-")),r=Math.ceil((a.getTime()-s.getTime())/(1e3*60*60*24)),n=()=>r<0?"text-red-600 font-semibold":r<=3?"text-orange-600 font-semibold":"text-gray-600";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:n(),children:t})]})}function Eee({temAnexos:t}){return t?e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"w-6 h-6 text-gray-500 hover:text-blue-600",children:e.jsx(vl,{className:"w-4 h-4"})})}),e.jsx(St,{children:e.jsx("p",{children:"Ver anexos"})})]})}):null}function Pee(){const{pastaId:t}=ax(),s=fs(),{atualizarUltimoAcesso:a}=oy(),[r,n]=m.useState(""),[o,i]=m.useState("todos"),[l,c]=m.useState("todos"),[u,d]=m.useState("todos"),[h,x]=m.useState(1),[f]=m.useState(10);Z.useEffect(()=>{t&&(a(t),console.log(`Pasta ${t} acessada - data atualizada`))},[t,a]);const g=yee.find(P=>P.id===t);if(!g)return e.jsx("div",{className:"min-h-screen bg-gray-50/30",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pasta não encontrada"}),e.jsxs(C,{onClick:()=>s("/processos-gerencia"),children:[e.jsx(ix,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const p=m.useMemo(()=>Sc.filter(g.filtro),[g]),y=m.useMemo(()=>p.filter(P=>{const z=r===""||P.numeroProcesso.toLowerCase().includes(r.toLowerCase())||P.objeto.toLowerCase().includes(r.toLowerCase()),T=o==="todos"||P.etapaAtual===o,k=l==="todos"||P.situacao===l,L=u==="todos"||P.regimeTramitacao===u;return z&&T&&k&&L}),[p,r,o,l,u]),v=Math.ceil(y.length/f),b=(h-1)*f,j=b+f,w=y.slice(b,j),N=[...new Set(p.map(P=>P.etapaAtual))],E=[...new Set(p.map(P=>P.situacao))],A=[...new Set(p.map(P=>P.regimeTramitacao))];return e.jsxs("div",{className:"min-h-screen bg-gray-50/30",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 w-full px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(kh,{variant:"outline",className:"gap-2"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:g.nome}),e.jsx("p",{className:"text-gray-600",children:g.descricao})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total de processos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Última modificação"}),e.jsx("p",{className:"text-sm text-gray-600",children:g.ultimaModificacao})]})]})]}),e.jsxs(Ge,{className:"mb-6",children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx(L4,{className:"w-5 h-5"}),"Filtros e Busca"]})}),e.jsx(We,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{placeholder:"Buscar por número ou objeto...",value:r,onChange:P=>n(P.target.value),className:"pl-10"})]}),e.jsxs(rt,{value:o,onValueChange:i,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Etapa Atual"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todas as etapas"}),N.map(P=>e.jsx(ve,{value:P,children:P},P))]})]}),e.jsxs(rt,{value:l,onValueChange:c,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Situação"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todas as situações"}),E.map(P=>e.jsx(ve,{value:P,children:P},P))]})]}),e.jsxs(rt,{value:u,onValueChange:d,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Regime"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todos os regimes"}),A.map(P=>e.jsx(ve,{value:P,children:P},P))]})]}),e.jsx(C,{variant:"outline",onClick:()=>{n(""),i("todos"),c("todos"),d("todos"),x(1)},children:"Limpar Filtros"})]})})]}),e.jsxs(Ge,{className:"w-full",children:[e.jsx(_t,{children:e.jsx(Lt,{children:"Processos na Pasta"})}),e.jsx(We,{className:"p-0",children:w.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200/60 rounded-lg overflow-hidden bg-white shadow-sm w-full",children:e.jsxs(uo,{children:[e.jsx(mo,{className:"bg-gradient-to-r from-gray-50 to-gray-100/50",children:e.jsxs(Ys,{children:[e.jsx(dt,{className:"w-12 py-3"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Processo"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Objeto"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Etapa Atual"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Próxima Etapa"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Prazo"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Regime"}),e.jsx(dt,{className:"font-semibold text-gray-700 py-3",children:"Situação"}),e.jsx(dt,{className:"text-right font-semibold text-gray-700 py-3",children:"Ações"})]})}),e.jsx(ho,{children:w.map((P,z)=>e.jsxs(Ys,{className:`hover:bg-blue-50/30 transition-colors border-b border-gray-100/60 ${z%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(ct,{className:"py-3",children:e.jsx(Cee,{type:P.tipoParticipacao})}),e.jsx(ct,{className:"py-3",children:e.jsx("div",{className:"font-semibold text-gray-800",children:P.numeroProcesso})}),e.jsx(ct,{className:"py-3",children:e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:"max-w-xs truncate text-gray-600 font-medium cursor-help",children:P.objeto})}),e.jsx(St,{children:e.jsx("p",{children:P.objeto})})]})})}),e.jsx(ct,{className:"py-3",children:e.jsx(oe,{variant:"outline",className:"text-xs",children:P.etapaAtual})}),e.jsx(ct,{className:"py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:P.proximaEtapa||"-"})}),e.jsx(ct,{className:"py-3",children:e.jsx(See,{prazo:P.prazoEtapaAtual})}),e.jsx(ct,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wee,{regime:P.regimeTramitacao}),P.regimeTramitacao==="Urgente"&&e.jsx(pt,{className:"w-4 h-4 text-orange-500"})]})}),e.jsx(ct,{className:"py-3",children:e.jsx(Nee,{status:P.situacao})}),e.jsx(ct,{className:"text-right py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Eee,{temAnexos:P.temAnexos}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 rounded-lg",onClick:()=>s(`/processos/${P.id}`),children:e.jsx(Ze,{className:"w-5 h-5"})})}),e.jsx(St,{children:e.jsx("p",{children:"Ver detalhes do processo"})})]})})]})})]},P.id))})]})}),v>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(s6,{children:e.jsxs(a6,{children:[e.jsx(Em,{children:e.jsx(r6,{onClick:()=>x(Math.max(1,h-1)),className:h===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:v},(P,z)=>z+1).map(P=>e.jsx(Em,{children:e.jsx(df,{onClick:()=>x(P),isActive:h===P,className:"cursor-pointer",children:P})},P)),e.jsx(Em,{children:e.jsx(n6,{onClick:()=>x(Math.min(v,h+1)),className:h===v?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Nenhum processo encontrado"}),e.jsx("p",{className:"text-gray-500",children:"Não há processos nesta pasta com os filtros aplicados."})]})})]})]})]})}function Aee(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...g}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>g,Object.values(g));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,g=m.useContext(f);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,Dee(n,...s)]}function Dee(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var kee="Toggle",iy=m.forwardRef((t,s)=>{const{pressed:a,defaultPressed:r=!1,onPressedChange:n,...o}=t,[i=!1,l]=Qs({prop:a,onChange:n,defaultProp:r});return e.jsx(Ve.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:s,onClick:Ee(t.onClick,()=>{t.disabled||l(!i)})})});iy.displayName=kee;var o6=iy,ec="ToggleGroup",[i6,bae]=Aee(ec,[Co]),l6=Co(),ly=Z.forwardRef((t,s)=>{const{type:a,...r}=t;if(a==="single"){const n=r;return e.jsx(Tee,{...n,ref:s})}if(a==="multiple"){const n=r;return e.jsx(Ree,{...n,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${ec}\``)});ly.displayName=ec;var[c6,d6]=i6(ec),Tee=Z.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},...o}=t,[i,l]=Qs({prop:a,defaultProp:r,onChange:n});return e.jsx(c6,{scope:t.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:l,onItemDeactivate:Z.useCallback(()=>l(""),[l]),children:e.jsx(u6,{...o,ref:s})})}),Ree=Z.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},...o}=t,[i=[],l]=Qs({prop:a,defaultProp:r,onChange:n}),c=Z.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=Z.useCallback(d=>l((h=[])=>h.filter(x=>x!==d)),[l]);return e.jsx(c6,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:e.jsx(u6,{...o,ref:s})})});ly.displayName=ec;var[Mee,Iee]=i6(ec),u6=Z.forwardRef((t,s)=>{const{__scopeToggleGroup:a,disabled:r=!1,rovingFocus:n=!0,orientation:o,dir:i,loop:l=!0,...c}=t,u=l6(a),d=wo(i),h={role:"group",dir:d,...c};return e.jsx(Mee,{scope:a,rovingFocus:n,disabled:r,children:n?e.jsx(Cx,{asChild:!0,...u,orientation:o,dir:d,loop:l,children:e.jsx(Ve.div,{...h,ref:s})}):e.jsx(Ve.div,{...h,ref:s})})}),Lh="ToggleGroupItem",m6=Z.forwardRef((t,s)=>{const a=d6(Lh,t.__scopeToggleGroup),r=Iee(Lh,t.__scopeToggleGroup),n=l6(t.__scopeToggleGroup),o=a.value.includes(t.value),i=r.disabled||t.disabled,l={...t,pressed:o,disabled:i},c=Z.useRef(null);return r.rovingFocus?e.jsx(Sx,{asChild:!0,...n,focusable:!i,active:o,ref:c,children:e.jsx(T2,{...l,ref:s})}):e.jsx(T2,{...l,ref:s})});m6.displayName=Lh;var T2=Z.forwardRef((t,s)=>{const{__scopeToggleGroup:a,value:r,...n}=t,o=d6(Lh,a),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?i:void 0;return e.jsx(iy,{...l,...n,ref:s,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),h6=ly,x6=m6;const f6=Kr("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Oee=m.forwardRef(({className:t,variant:s,size:a,...r},n)=>e.jsx(o6,{ref:n,className:je(f6({variant:s,size:a,className:t})),...r}));Oee.displayName=o6.displayName;const p6=m.createContext({size:"default",variant:"default"}),cy=m.forwardRef(({className:t,variant:s,size:a,children:r,...n},o)=>e.jsx(h6,{ref:o,className:je("flex items-center justify-center gap-1",t),...n,children:e.jsx(p6.Provider,{value:{variant:s,size:a},children:r})}));cy.displayName=h6.displayName;const tl=m.forwardRef(({className:t,children:s,variant:a,size:r,...n},o)=>{const i=m.useContext(p6);return e.jsx(x6,{ref:o,className:je(f6({variant:i.variant||a,size:i.size||r}),t),...n,children:s})});tl.displayName=x6.displayName;const zee=[{id:"1",nome:"Modelo Fiscatus",descricao:"Fluxo completo para contratações públicas com todas as etapas necessárias para licitação e contratação.",etapas:21,tipo:"sistema",isAtivo:!0,isPadrao:!0,ultimoUpdate:"2 dias atrás"},{id:"2",nome:"Contratação Rápida",descricao:"Processo simplificado para contratações de baixo valor com etapas essenciais.",etapas:8,tipo:"pessoal",isAtivo:!1,isPadrao:!1,ultimoUpdate:"1 semana atrás"},{id:"3",nome:"Aquisição de TI",descricao:"Fluxo específico para aquisições de tecnologia da informação com análise técnica.",etapas:15,tipo:"pessoal",isAtivo:!1,isPadrao:!1,ultimoUpdate:"3 dias atrás"}];function Fee({onToggleCollapse:t}){const[s,a]=m.useState(zee),[r,n]=m.useState(""),[o,i]=m.useState("todos"),l=()=>{console.log("Novo modelo - Em breve")},c=()=>{console.log("Duplicar Fiscatus - Em breve")},u=g=>{console.log("Editar modelo - Em breve")},d=g=>{console.log("Duplicar modelo - Em breve")},h=g=>{console.log("Excluir modelo - Em breve")},x=g=>{a(p=>p.map(y=>({...y,isAtivo:y.id===g})))},f=s.filter(g=>{const p=g.nome.toLowerCase().includes(r.toLowerCase())||g.descricao.toLowerCase().includes(r.toLowerCase()),y=o==="todos"||o==="sistema"&&g.tipo==="sistema"||o==="pessoais"&&g.tipo==="pessoal";return p&&y});return e.jsx("nav",{className:"h-full flex flex-col",children:e.jsxs("div",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+52px)] flex flex-col h-full",children:[e.jsxs("div",{className:"pb-6 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-1",children:"Modelos"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Fluxos de trabalho"})]}),t&&e.jsx(C,{variant:"ghost",size:"sm",onClick:t,className:"h-7 w-7 p-0 text-slate-400 hover:text-slate-600 hover:bg-slate-100",children:e.jsx(hF,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(C,{onClick:l,className:"w-full h-9 text-sm font-medium",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Novo Modelo"]}),e.jsxs(C,{onClick:c,variant:"outline",className:"w-full h-9 text-sm",children:[e.jsx(sh,{className:"w-4 h-4 mr-2"}),"Duplicar Fiscatus"]})]})]}),e.jsxs("div",{className:"py-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(De,{placeholder:"Buscar modelos...",value:r,onChange:g=>n(g.target.value),className:"pl-10 h-9 text-sm rounded-lg border-slate-200 focus:border-indigo-300 focus:ring-indigo-200"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2 uppercase tracking-wide",children:"Filtros"}),e.jsxs(cy,{type:"single",value:o,onValueChange:i,className:"justify-start",children:[e.jsx(tl,{value:"todos",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Todos"}),e.jsx(tl,{value:"sistema",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Sistema"}),e.jsx(tl,{value:"pessoais",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Meus"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"space-y-2.5 pb-4",children:[f.map(g=>e.jsxs("div",{onClick:()=>x(g.id),className:`group relative p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-sm ${g.isAtivo?"ring-1 ring-indigo-200 border-indigo-300 bg-indigo-50/20":"border-slate-200 hover:border-slate-300 bg-white hover:bg-slate-50/30"}`,children:[g.isAtivo&&e.jsx("div",{className:"absolute -left-0.5 top-3 w-0.5 h-6 bg-indigo-500 rounded-r-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-slate-900 text-sm leading-tight mb-1",children:g.nome}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[g.tipo==="sistema"&&e.jsx(oe,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-slate-100 text-slate-600 h-5",children:"Sistema"}),g.isPadrao&&e.jsx(ih,{className:"w-3 h-3 text-yellow-500 fill-current"})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),u(g.id)},className:"h-6 w-6 p-0 hover:bg-slate-100",children:e.jsx(ar,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),d(g.id)},className:"h-6 w-6 p-0 hover:bg-slate-100",children:e.jsx(sh,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),h(g.id)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",children:e.jsx(It,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{children:[g.etapas," etapas"]})]}),e.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:g.ultimoUpdate})]}),e.jsx("p",{className:"text-xs text-slate-400 line-clamp-2 leading-relaxed",children:g.descricao})]})]},g.id)),f.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ds,{className:"w-5 h-5 text-slate-400"})}),e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nenhum modelo encontrado"}),e.jsx("p",{className:"text-xs text-slate-400",children:r?"Tente ajustar os filtros de busca":"Crie seu primeiro modelo"})]})]})})]})})}function _ee({nomeModelo:t,descricaoModelo:s,totalEtapas:a,totalDias:r,linhasCriticas:n,assinaturasPendentes:o,onNomeChange:i,onDescricaoChange:l,onSalvar:c,onReverter:u}){const[d,h]=m.useState(!1),[x,f]=m.useState(t),[g,p]=m.useState(s),y=()=>{i(x),l(g),h(!1),c()},v=()=>{f(t),p(s),h(!1)},b=()=>{f(t),p(s),h(!1),u()};return e.jsxs("div",{className:"rounded-2xl border bg-white p-3 md:p-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:d?e.jsx(De,{value:x,onChange:j=>f(j.target.value),className:"text-lg font-semibold border-0 p-0 h-auto focus-visible:ring-0",placeholder:"Nome do modelo"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-900 truncate",children:t}),e.jsx(oe,{variant:"secondary",className:"text-xs",children:"Sistema"})]})}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:d?e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:v,className:"h-8",children:"Cancelar"}),e.jsx(C,{variant:"default",size:"sm",onClick:y,className:"h-8",children:"Salvar"})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:b,className:"h-8",children:"Reverter"}),e.jsx(C,{variant:"default",size:"sm",onClick:y,className:"h-8",children:"Salvar"})]})})]}),e.jsx("div",{children:d?e.jsx(xt,{value:g,onChange:j=>p(j.target.value),className:"text-sm text-slate-600 border-0 p-0 h-auto resize-none focus-visible:ring-0",placeholder:"Descrição do modelo",rows:2}):e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-1",children:[s,e.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 ml-1",onClick:()=>h(!0),children:"ver mais"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[a," Etapas"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[r," Dias"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[n," Críticas"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[o," Pendentes"]})]})]})}var g6=["PageUp","PageDown"],v6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b6={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tc="Slider",[G0,Lee,$ee]=Bl(tc),[j6,jae]=ua(tc,[$ee]),[Vee,uf]=j6(tc),y6=m.forwardRef((t,s)=>{const{name:a,min:r=0,max:n=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:x=()=>{},inverted:f=!1,form:g,...p}=t,y=m.useRef(new Set),v=m.useRef(0),j=i==="horizontal"?Gee:Bee,[w=[],N]=Qs({prop:d,defaultProp:u,onChange:k=>{var U;(U=[...y.current][v.current])==null||U.focus(),h(k)}}),E=m.useRef(w);function A(k){const L=Yee(w,k);T(k,L)}function P(k){T(k,v.current)}function z(){const k=E.current[v.current];w[v.current]!==k&&x(w)}function T(k,L,{commit:U}={commit:!1}){const Y=Qee(o),K=Zee(Math.round((k-r)/o)*o+r,Y),F=Nd(K,[r,n]);N((O=[])=>{const S=Wee(O,F,L);if(Jee(S,c*o)){v.current=S.indexOf(F);const $=String(S)!==String(O);return $&&U&&x(S),$?S:O}else return O})}return e.jsx(Vee,{scope:t.__scopeSlider,name:a,disabled:l,min:r,max:n,valueIndexToChangeRef:v,thumbs:y.current,values:w,orientation:i,form:g,children:e.jsx(G0.Provider,{scope:t.__scopeSlider,children:e.jsx(G0.Slot,{scope:t.__scopeSlider,children:e.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:s,onPointerDown:Ee(p.onPointerDown,()=>{l||(E.current=w)}),min:r,max:n,inverted:f,onSlideStart:l?void 0:A,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:z,onHomeKeyDown:()=>!l&&T(r,0,{commit:!0}),onEndKeyDown:()=>!l&&T(n,w.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:L})=>{if(!l){const K=g6.includes(k.key)||k.shiftKey&&v6.includes(k.key)?10:1,F=v.current,O=w[F],S=o*K*L;T(O+S,F,{commit:!0})}}})})})})});y6.displayName=tc;var[N6,w6]=j6(tc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Gee=m.forwardRef((t,s)=>{const{min:a,max:r,dir:n,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,x]=m.useState(null),f=ot(s,j=>x(j)),g=m.useRef(),p=wo(n),y=p==="ltr",v=y&&!o||!y&&o;function b(j){const w=g.current||h.getBoundingClientRect(),N=[0,w.width],A=dy(N,v?[a,r]:[r,a]);return g.current=w,A(j-w.left)}return e.jsx(N6,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:e.jsx(C6,{dir:p,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const w=b(j.clientX);i==null||i(w)},onSlideMove:j=>{const w=b(j.clientX);l==null||l(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:j=>{const N=b6[v?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:N?-1:1})}})})}),Bee=m.forwardRef((t,s)=>{const{min:a,max:r,inverted:n,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=m.useRef(null),h=ot(s,d),x=m.useRef(),f=!n;function g(p){const y=x.current||d.current.getBoundingClientRect(),v=[0,y.height],j=dy(v,f?[r,a]:[a,r]);return x.current=y,j(p-y.top)}return e.jsx(N6,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:e.jsx(C6,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=g(p.clientY);o==null||o(y)},onSlideMove:p=>{const y=g(p.clientY);i==null||i(y)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=b6[f?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),C6=m.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:r,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=uf(tc,a);return e.jsx(Ve.span,{...u,ref:s,onKeyDown:Ee(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):g6.concat(v6).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ee(t.onPointerDown,h=>{const x=h.target;x.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(x)?x.focus():r(h)}),onPointerMove:Ee(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:Ee(t.onPointerUp,h=>{const x=h.target;x.hasPointerCapture(h.pointerId)&&(x.releasePointerCapture(h.pointerId),o(h))})})}),S6="SliderTrack",E6=m.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=uf(S6,a);return e.jsx(Ve.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:s})});E6.displayName=S6;var B0="SliderRange",P6=m.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=uf(B0,a),o=w6(B0,a),i=m.useRef(null),l=ot(s,i),c=n.values.length,u=n.values.map(x=>D6(x,n.min,n.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return e.jsx(Ve.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:l,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}})});P6.displayName=B0;var U0="SliderThumb",A6=m.forwardRef((t,s)=>{const a=Lee(t.__scopeSlider),[r,n]=m.useState(null),o=ot(s,l=>n(l)),i=m.useMemo(()=>r?a().findIndex(l=>l.ref.current===r):-1,[a,r]);return e.jsx(Uee,{...t,ref:o,index:i})}),Uee=m.forwardRef((t,s)=>{const{__scopeSlider:a,index:r,name:n,...o}=t,i=uf(U0,a),l=w6(U0,a),[c,u]=m.useState(null),d=ot(s,b=>u(b)),h=c?i.form||!!c.closest("form"):!0,x=ux(c),f=i.values[r],g=f===void 0?0:D6(f,i.min,i.max),p=qee(r,i.values.length),y=x==null?void 0:x[l.size],v=y?Kee(y,g,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[e.jsx(G0.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Ve.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:f===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&e.jsx(Hee,{name:n??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:f},r)]})});A6.displayName=U0;var Hee=t=>{const{value:s,...a}=t,r=m.useRef(null),n=dx(s);return m.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(n!==s&&c){const u=new Event("input",{bubbles:!0});c.call(o,s),o.dispatchEvent(u)}},[n,s]),e.jsx("input",{style:{display:"none"},...a,ref:r,defaultValue:s})};function Wee(t=[],s,a){const r=[...t];return r[a]=s,r.sort((n,o)=>n-o)}function D6(t,s,a){const o=100/(a-s)*(t-s);return Nd(o,[0,100])}function qee(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function Yee(t,s){if(t.length===1)return 0;const a=t.map(n=>Math.abs(n-s)),r=Math.min(...a);return a.indexOf(r)}function Kee(t,s,a){const r=t/2,o=dy([0,50],[0,r]);return(r-o(s)*a)*a}function Xee(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function Jee(t,s){if(s>0){const a=Xee(t);return Math.min(...a)>=s}return!0}function dy(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function Qee(t){return(String(t).split(".")[1]||"").length}function Zee(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var k6=y6,ete=E6,tte=P6,ste=A6;const T6=m.forwardRef(({className:t,...s},a)=>e.jsxs(k6,{ref:a,className:je("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(ete,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(tte,{className:"absolute h-full bg-primary"})}),e.jsx(ste,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));T6.displayName=k6.displayName;function ate({totalEtapas:t,totalDias:s,onViewModeChange:a,onZoomChange:r}){const[n,o]=m.useState("grid"),[i,l]=m.useState([100]),c=()=>{console.log("Adicionar card - Em breve")},u=()=>{console.log("Alinhar - Em breve")},d=()=>{console.log("Resetar numeração - Em breve")},h=()=>{console.log("Mostrar dependências - Em breve")},x=g=>{o(g),a(g)},f=g=>{l(g),r(g[0])};return e.jsx("div",{className:"fixed top-[var(--safe-top)] left-0 right-0 z-20 bg-white/95 backdrop-blur border-b shadow-[0_1px_0_0_rgba(15,23,42,.06)]",children:e.jsxs("div",{className:"h-[var(--toolbar-h)] px-[var(--gutter)] flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsxs(C,{variant:"default",size:"sm",onClick:c,className:"h-8",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Card"]})}),e.jsx(St,{children:e.jsx("p",{children:"Adicionar nova etapa"})})]})}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:u,className:"h-8",children:[e.jsx(Vz,{className:"w-4 h-4 mr-1"}),"Alinhar"]})}),e.jsx(St,{children:e.jsx("p",{children:"Alinhar cards na grade"})})]})}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:d,className:"h-8",children:[e.jsx(qs,{className:"w-4 h-4 mr-1"}),"Resetar numeração"]})}),e.jsx(St,{children:e.jsx("p",{children:"Reconta os números sem alterar a ordem"})})]})}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:h,className:"h-8",children:[e.jsx(V4,{className:"w-4 h-4 mr-1"}),"Mostrar dependências"]})}),e.jsx(St,{children:e.jsx("p",{children:"Exibe ligações entre etapas relacionadas"})})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(cy,{type:"single",value:n,onValueChange:x,children:[e.jsx(tl,{value:"grid",className:"h-8 w-8 p-0","aria-label":"Visualização em grade",children:e.jsx(eF,{className:"w-4 h-4"})}),e.jsx(tl,{value:"list",className:"h-8 w-8 p-0","aria-label":"Visualização em lista",children:e.jsx(oF,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X4,{className:"w-4 h-4 text-slate-500","aria-hidden":"true"}),e.jsx(T6,{value:i,onValueChange:f,max:110,min:90,step:5,className:"w-20","aria-label":"Zoom dos cards"}),e.jsx(K4,{className:"w-4 h-4 text-slate-500","aria-hidden":"true"}),e.jsxs("span",{className:"text-xs text-slate-600 w-8","aria-label":`Zoom atual: ${i[0]}%`,children:[i[0],"%"]})]})]})]})})}function rte({index:t,title:s,department:a,days:r,zoom:n=100,editable:o=!1,onViewDetails:i,onEdit:l}){return e.jsxs("article",{className:"stage-card relative rounded-2xl border border-slate-200 shadow-sm bg-white p-4 md:p-5 transition hover:shadow-md focus-visible:ring-2 focus-visible:ring-indigo-200 h-[220px] flex flex-col justify-between",children:[e.jsx("div",{className:"absolute -top-2 left-3 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"absolute -top-2 right-3 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx("div",{className:"absolute top-2 right-2 opacity-60 hover:opacity-100 transition-opacity cursor-grab","aria-label":"Arrastar para reordenar",children:e.jsx(Ll,{className:"w-4 h-4 text-slate-400"})})}),e.jsx(St,{children:e.jsx("p",{children:"Arrastar para reordenar"})})]})}),e.jsx("div",{className:"w-8 h-8 md:w-9 md:h-9 rounded-full bg-indigo-500 text-white flex items-center justify-center font-semibold absolute -left-2 -top-2",children:t}),e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2 flex-1 justify-center",children:[e.jsx("h3",{className:"text-slate-900 font-semibold leading-tight line-clamp-2 text-sm",children:s}),e.jsx("div",{className:"inline-flex items-center rounded-full bg-slate-100 text-slate-700 text-xs px-2 py-1",children:a}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-700",children:[e.jsx(Fe,{className:"w-3 h-3"}),e.jsxs("span",{children:[r," dias úteis"]})]})]}),e.jsxs("div",{className:"flex justify-center gap-2",children:[o&&l&&e.jsxs(C,{variant:"outline",size:"sm",className:"justify-center rounded-xl border-slate-200 text-xs h-7 px-3",onClick:l,children:[e.jsx(ar,{className:"w-3 h-3 mr-1"}),"Editar"]}),e.jsxs(C,{variant:"secondary",size:"sm",className:"justify-center rounded-xl border-slate-200 text-xs h-7 px-3",onClick:i,children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})]})]})}function nte({etapas:t,zoom:s=100,editable:a=!1,onEdit:r,onDelete:n,onView:o}){return e.jsx("div",{id:"grid-anchor",className:"scroll-mt-[calc(var(--safe-top)+var(--toolbar-h)+56px)] pt-2",style:{"--card-scale":s/100},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 xl:gap-5",style:{transform:`scale(${s/100})`,transformOrigin:"top left"},children:t.map(i=>e.jsx("div",{className:"h-[220px]",children:e.jsx(rte,{index:i.orderIndex,title:i.title,department:i.department||"",days:i.days||0,zoom:s,editable:a,onViewDetails:()=>o==null?void 0:o(i.id),onEdit:()=>r==null?void 0:r(i.id)})},i.id))})})}function ote({etapas:t,onEdit:s,onDelete:a,onView:r}){const n=l=>{s==null||s(l)},o=l=>{a==null||a(l)},i=l=>{r==null||r(l)};return e.jsx("div",{id:"list-anchor",className:"scroll-mt-[calc(var(--safe-top)+var(--toolbar-h)+56px)] pt-2",children:e.jsx("div",{className:"rounded-2xl border bg-white shadow-sm overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+56px)] z-10 bg-white border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 text-center p-3 font-medium text-slate-600",children:"#"}),e.jsx("th",{className:"text-left p-3 font-medium text-slate-600",children:"Etapa"}),e.jsx("th",{className:"text-left p-3 font-medium text-slate-600",children:"Setor"}),e.jsx("th",{className:"w-24 text-center p-3 font-medium text-slate-600",children:"Prazo"}),e.jsx("th",{className:"w-32 text-center p-3 font-medium text-slate-600",children:"Ações"})]})}),e.jsx("tbody",{children:t.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors border-b",children:[e.jsx("td",{className:"text-center p-3",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center text-sm font-semibold",children:l.orderIndex})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"font-medium text-slate-900",children:l.title})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-slate-600",children:l.department||""})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),l.days||0,"d"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>i(l.id),className:"h-8 w-8 p-0",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(l.id),className:"h-8 w-8 p-0",children:e.jsx(ar,{className:"w-4 h-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>o(l.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-4 h-4"})})]})})]},l.id))})]})})})}const R2=t=>{let s;const a=new Set,r=(u,d)=>{const h=typeof u=="function"?u(s):u;if(!Object.is(h,s)){const x=s;s=d??(typeof h!="object"||h===null)?h:Object.assign({},s,h),a.forEach(f=>f(s,x))}},n=()=>s,l={setState:r,getState:n,getInitialState:()=>c,subscribe:u=>(a.add(u),()=>a.delete(u))},c=s=t(r,n,l);return l},ite=t=>t?R2(t):R2,lte=t=>t;function cte(t,s=lte){const a=Z.useSyncExternalStore(t.subscribe,Z.useCallback(()=>s(t.getState()),[t,s]),Z.useCallback(()=>s(t.getInitialState()),[t,s]));return Z.useDebugValue(a),a}const dte=t=>{const s=ite(t),a=r=>cte(s,r);return Object.assign(a,s),a},R6=t=>dte;function uy(t,s){let a;try{a=t()}catch{return}return{getItem:n=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=a.getItem(n))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(n,o)=>a.setItem(n,JSON.stringify(o,void 0)),removeItem:n=>a.removeItem(n)}}const H0=t=>s=>{try{const a=t(s);return a instanceof Promise?a:{then(r){return H0(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return H0(r)(a)}}}},ute=(t,s)=>(a,r,n)=>{let o={storage:uy(()=>localStorage),partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...s},i=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...p)},r,n);const d=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},h=n.setState;n.setState=(p,y)=>(h(p,y),d());const x=t((...p)=>(a(...p),d()),r,n);n.getInitialState=()=>x;let f;const g=()=>{var p,y;if(!u)return;i=!1,l.forEach(b=>{var j;return b((j=r())!=null?j:x)});const v=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(p=r())!=null?p:x))||void 0;return H0(u.getItem.bind(u))(o.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate){const j=o.migrate(b.state,b.version);return j instanceof Promise?j.then(w=>[!0,w]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var j;const[w,N]=b;if(f=o.merge(N,(j=r())!=null?j:x),a(f,!0),w)return d()}).then(()=>{v==null||v(f,void 0),f=r(),i=!0,c.forEach(b=>b(f))}).catch(b=>{v==null||v(void 0,b)})};return n.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||g(),f||x},M6=ute,mte={"modelo-fiscatus":[{id:"stage-1",modelId:"modelo-fiscatus",title:"Elaboração do DFD",department:"GSP - Gerência de Soluções e Projetos",days:5,orderIndex:1,tools:["management","main_form","stage_panel","stage_actions","comments"],toolsOrder:["management","main_form","stage_panel","stage_actions","comments"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[{id:"v1",label:"v1.0",createdAt:Date.now()-864e5,author:"João Silva"},{id:"v2",label:"v1.1",createdAt:Date.now()-432e5,author:"Maria Santos"}],attachments:[{id:"att1",name:"documento-base.pdf",sizeKB:1024,updatedAt:Date.now()-36e5}]},main_form:{schemaId:"dfd-schema",requiredFields:["objeto","justificativa"],values:{objeto:"Contratação de serviços de TI",justificativa:"Necessidade de modernização dos sistemas"},requiredFieldsCatalog:[{id:"req1",label:"Objeto",icon:"FileText",color:"indigo"},{id:"req2",label:"Justificativa",icon:"AlertCircle",color:"emerald"}]},stage_panel:{showSLA:!0,startDate:"2024-01-15",dueDate:"2024-01-20",checklist:[{id:"chk1",label:"Revisar documentação",checked:!0},{id:"chk2",label:"Validar orçamento",checked:!1},{id:"chk3",label:"Aprovar cronograma",checked:!0}],checklistCatalog:[{id:"cat1",label:"Revisar documentação",icon:"FileText",color:"slate"},{id:"cat2",label:"Validar orçamento",icon:"CheckCircle",color:"emerald"},{id:"cat3",label:"Aprovar cronograma",icon:"Calendar",color:"indigo"}],progress:75},stage_actions:{actions:["send","finish","generate_doc"],actionsCatalog:[{id:"act1",label:"Enviar para análise",icon:"Send",color:"indigo",meta:{actionType:"send"}},{id:"act2",label:"Finalizar processo",icon:"CheckCircle",color:"emerald",meta:{actionType:"finish"}},{id:"act3",label:"Gerar documento",icon:"FileText",color:"amber",meta:{actionType:"generate_doc"}}]},comments:{allowMentions:!0,list:[{id:"c1",author:"Ana Costa",role:"Analista",text:"Documento revisado e aprovado",createdAt:Date.now()-72e5},{id:"c2",author:"Carlos Lima",role:"Gerente",text:"Aguardando aprovação final",createdAt:Date.now()-36e5}]}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","main_form","stage_panel","stage_actions","comments"]}},{id:"stage-2",modelId:"modelo-fiscatus",title:"Aprovação do DFD",department:"GSL - Gerência de Suprimentos e Logística",days:3,orderIndex:2,tools:["management","stage_panel","comments","signatures"],toolsOrder:["management","stage_panel","comments","signatures"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},stage_panel:{showSLA:!0,startDate:"2024-01-20",dueDate:"2024-01-23",checklist:[{id:"chk4",label:"Analisar proposta",checked:!0},{id:"chk5",label:"Verificar conformidade",checked:!1}],progress:50},comments:{allowMentions:!0,list:[]},signatures:{signers:[{id:"1",name:"João Silva",role:"Gerente",status:"signed"},{id:"2",name:"Maria Santos",role:"Coordenador",status:"pending"}]}},layout:{mode:"50-50",density:"cozy",showGuides:!1,scale:1,orderLeft:["management","stage_panel"],orderRight:["comments","signatures"]}},{id:"stage-3",modelId:"modelo-fiscatus",title:"Assinatura do DFD",department:"GRH - Gerência de Recursos Humanos",days:3,orderIndex:3,tools:["management","signatures","doc_view","stage_panel"],toolsOrder:["management","signatures","doc_view","stage_panel"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},signatures:{signers:[{id:"3",name:"Pedro Costa",role:"Diretor",status:"pending"}]},doc_view:{previewMode:"modal",fileName:"DFD_Final.pdf",sizeMB:2.5},stage_panel:{showSLA:!0,startDate:"2024-01-23",dueDate:"2024-01-26",checklist:[{id:"chk6",label:"Assinar documento",checked:!1}],progress:0}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","signatures","doc_view","stage_panel"]}},{id:"stage-4",modelId:"modelo-fiscatus",title:"Despacho do DFD",department:"GUE - Gerência de Urgência e Emergência",days:2,orderIndex:4,tools:["management","stage_panel","stage_actions"],toolsOrder:["management","stage_panel","stage_actions"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},stage_panel:{showSLA:!0,startDate:"2024-01-26",dueDate:"2024-01-28",checklist:[{id:"chk7",label:"Finalizar processo",checked:!1}],progress:0},stage_actions:{actions:["send","finish"]}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","stage_panel","stage_actions"]}}]},hte=["management","main_form","stage_panel","stage_actions","comments"],xte=["management","main_form","stage_panel","stage_actions","comments"],fte={management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},main_form:{schemaId:"default-schema",requiredFields:[],values:{}},stage_panel:{showSLA:!0,startDate:void 0,dueDate:void 0,checklist:[],progress:0},stage_actions:{actions:["send","finish","generate_doc"]},comments:{allowMentions:!0,list:[]},signatures:{signers:[]},doc_view:{previewMode:"modal",fileName:void 0,sizeMB:void 0}},Zr=R6()(M6((t,s)=>({stages:mte,activeModelId:"modelo-fiscatus",defaultTools:hte,defaultToolsOrder:xte,defaultToolConfig:fte,enableTool:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||r==="doc_view"&&!o.tools.includes("signatures"))return;const i=[...o.tools];i.includes(r)||i.push(r);const l=[...o.toolsOrder];l.includes(r)||l.push(r),t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,tools:i,toolsOrder:l}:c)}})},disableTool:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i=o.tools.filter(c=>c!==r),l=o.toolsOrder.filter(c=>c!==r);if(r==="signatures"){const c=i.filter(d=>d!=="doc_view"),u=l.filter(d=>d!=="doc_view");t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(d=>d.id===a?{...d,tools:c,toolsOrder:u}:d)}})}else t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,tools:i,toolsOrder:l}:c)}})},reorderTools:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i=r.filter(l=>o.tools.includes(l));t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,toolsOrder:i}:l)}})},updateToolConfig:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i={...o.toolConfig,...r};t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,toolConfig:i}:l)}})},reorderStages:(a,r)=>{const n=s();t({stages:{...n.stages,[a]:r}})},updateStage:(a,r)=>{const n=s(),o=n.getStage(a);o&&t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(i=>i.id===a?{...i,...r}:i)}})},setActiveModel:a=>{t({activeModelId:a})},setDefaultTools:(a,r,n)=>{t({defaultTools:a,defaultToolsOrder:r,defaultToolConfig:n})},setLayout:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i={...o.layout,...r};t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,layout:i}:l)}})},moveToolInLayout:(a,r,n,o)=>{const i=s(),l=i.getStage(a);if(!l||!l.layout)return;const c={...l.layout};c.orderStack&&(c.orderStack=c.orderStack.filter(u=>u!==r)),c.orderLeft&&(c.orderLeft=c.orderLeft.filter(u=>u!==r)),c.orderRight&&(c.orderRight=c.orderRight.filter(u=>u!==r)),n==="stack"?(c.orderStack=c.orderStack||[],c.orderStack.splice(o,0,r)):n==="left"?(c.orderLeft=c.orderLeft||[],c.orderLeft.splice(o,0,r)):n==="right"&&(c.orderRight=c.orderRight||[],c.orderRight.splice(o,0,r)),c.columnOf&&(c.columnOf[r]=n==="stack"?"left":n),t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(u=>u.id===a?{...u,layout:c}:u)}})},addVersion:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=[...o.toolConfig.management.versions||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,versions:l}}}:c)}})},removeVersion:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=(o.toolConfig.management.versions||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,versions:l}}}:c)}})},addAttachment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=[...o.toolConfig.management.attachments||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,attachments:l}}}:c)}})},removeAttachment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=(o.toolConfig.management.attachments||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,attachments:l}}}:c)}})},setFormValue:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i||!i.toolConfig.main_form)return;const c={...i.toolConfig.main_form.values||{},[r]:n};t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:{...u.toolConfig,main_form:{...u.toolConfig.main_form,values:c}}}:u)}})},toggleChecklistItem:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.stage_panel)return;const l=(o.toolConfig.stage_panel.checklist||[]).map(c=>c.id===r?{...c,checked:!c.checked}:c);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,stage_panel:{...c.toolConfig.stage_panel,checklist:l}}}:c)}})},reorderChecklist:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.stage_panel)return;const i=o.toolConfig.stage_panel.checklist||[],l=r.map(c=>i.find(u=>u.id===c)).filter(Boolean);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,stage_panel:{...c.toolConfig.stage_panel,checklist:l}}}:c)}})},setSLA:(a,r,n)=>{const o=s(),i=o.getStage(a);!i||!i.toolConfig.stage_panel||t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(l=>l.id===a?{...l,toolConfig:{...l.toolConfig,stage_panel:{...l.toolConfig.stage_panel,startDate:r,dueDate:n}}}:l)}})},setProgress:(a,r)=>{const n=s(),o=n.getStage(a);!o||!o.toolConfig.stage_panel||t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(i=>i.id===a?{...i,toolConfig:{...i.toolConfig,stage_panel:{...i.toolConfig.stage_panel,progress:r}}}:i)}})},addComment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.comments)return;const l=[...o.toolConfig.comments.list||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,comments:{...c.toolConfig.comments,list:l}}}:c)}})},deleteComment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.comments)return;const l=(o.toolConfig.comments.list||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,comments:{...c.toolConfig.comments,list:l}}}:c)}})},addSigner:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.signatures)return;const l=[...o.toolConfig.signatures.signers||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,signatures:{...c.toolConfig.signatures,signers:l}}}:c)}})},updateSigner:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i||!i.toolConfig.signatures)return;const c=(i.toolConfig.signatures.signers||[]).map(u=>u.id===r?{...u,...n}:u);t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:{...u.toolConfig,signatures:{...u.toolConfig.signatures,signers:c}}}:u)}})},removeSigner:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.signatures)return;const l=(o.toolConfig.signatures.signers||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,signatures:{...c.toolConfig.signatures,signers:l}}}:c)}})},enforceDeps:a=>{const r=s(),n=r.getStage(a);if(n&&!n.tools.includes("signatures")&&n.tools.includes("doc_view")){const o=n.tools.filter(c=>c!=="doc_view"),i=n.toolsOrder.filter(c=>c!=="doc_view"),l={...n.layout};l.orderStack&&(l.orderStack=l.orderStack.filter(c=>c!=="doc_view")),l.orderLeft&&(l.orderLeft=l.orderLeft.filter(c=>c!=="doc_view")),l.orderRight&&(l.orderRight=l.orderRight.filter(c=>c!=="doc_view")),t({stages:{...r.stages,[n.modelId]:r.stages[n.modelId].map(c=>c.id===a?{...c,tools:o,toolsOrder:i,layout:l}:c)}})}},addBalloon:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i)return;const l={...n,id:n.id||crypto.randomUUID()},c={...i.toolConfig};switch(r){case"main_form.requiredFields":c.main_form||(c.main_form={}),c.main_form.requiredFieldsCatalog=[...c.main_form.requiredFieldsCatalog||[],l];break;case"stage_panel.checklist":c.stage_panel||(c.stage_panel={checklist:[]}),c.stage_panel.checklistCatalog=[...c.stage_panel.checklistCatalog||[],l];break;case"stage_actions.catalog":c.stage_actions||(c.stage_actions={actions:[]}),c.stage_actions.actionsCatalog=[...c.stage_actions.actionsCatalog||[],l];break;case"management.tags":c.management||(c.management={}),c.management.tags=[...c.management.tags||[],l];break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:c}:u)}})},renameBalloon:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,label:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},removeBalloon:(a,r,n)=>{var c,u,d,h;const o=s(),i=o.getStage(a);if(!i)return;const l={...i.toolConfig};switch(r){case"main_form.requiredFields":(c=l.main_form)!=null&&c.requiredFieldsCatalog&&(l.main_form.requiredFieldsCatalog=l.main_form.requiredFieldsCatalog.filter(x=>x.id!==n));break;case"stage_panel.checklist":(u=l.stage_panel)!=null&&u.checklistCatalog&&(l.stage_panel.checklistCatalog=l.stage_panel.checklistCatalog.filter(x=>x.id!==n));break;case"stage_actions.catalog":(d=l.stage_actions)!=null&&d.actionsCatalog&&(l.stage_actions.actionsCatalog=l.stage_actions.actionsCatalog.filter(x=>x.id!==n));break;case"management.tags":(h=l.management)!=null&&h.tags&&(l.management.tags=l.management.tags.filter(x=>x.id!==n));break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(x=>x.id===a?{...x,toolConfig:l}:x)}})},reorderBalloons:(a,r,n)=>{var c,u,d,h;const o=s(),i=o.getStage(a);if(!i)return;const l={...i.toolConfig};switch(r){case"main_form.requiredFields":if((c=l.main_form)!=null&&c.requiredFieldsCatalog){const x=l.main_form.requiredFieldsCatalog;l.main_form.requiredFieldsCatalog=n.map(f=>x.find(g=>g.id===f)).filter(Boolean)}break;case"stage_panel.checklist":if((u=l.stage_panel)!=null&&u.checklistCatalog){const x=l.stage_panel.checklistCatalog;l.stage_panel.checklistCatalog=n.map(f=>x.find(g=>g.id===f)).filter(Boolean)}break;case"stage_actions.catalog":if((d=l.stage_actions)!=null&&d.actionsCatalog){const x=l.stage_actions.actionsCatalog;l.stage_actions.actionsCatalog=n.map(f=>x.find(g=>g.id===f)).filter(Boolean)}break;case"management.tags":if((h=l.management)!=null&&h.tags){const x=l.management.tags;l.management.tags=n.map(f=>x.find(g=>g.id===f)).filter(Boolean)}break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(x=>x.id===a?{...x,toolConfig:l}:x)}})},setBalloonIcon:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,icon:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},setBalloonColor:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,color:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},getStage:a=>{const r=s();for(const n of Object.values(r.stages)){const o=n.find(i=>i.id===a);if(o)return o}},getStagesByModel:a=>s().stages[a]||[]}),{name:"flow-storage",storage:uy(()=>localStorage),partialize:t=>({stages:t.stages,activeModelId:t.activeModelId,defaultTools:t.defaultTools,defaultToolsOrder:t.defaultToolsOrder,defaultToolConfig:t.defaultToolConfig}),onRehydrateStorage:()=>t=>{try{t&&console.log("Flow store rehydrated successfully")}catch(s){console.error("Error rehydrating flow store:",s)}}}));function pte({stage:t,layout:s,isFullscreen:a,hasChanges:r,onLayoutChange:n,onFullscreenToggle:o,onRevert:i,onSave:l}){const c=()=>{const d=Math.min(s.scale+.1,2);n({scale:d})},u=()=>{const d=Math.max(s.scale-.1,.5);n({scale:d})};return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"layout-mode",className:"text-sm text-slate-600",children:"Layout:"}),e.jsxs(rt,{value:s.mode,onValueChange:d=>n({mode:d}),children:[e.jsx(st,{className:"w-24 h-8",children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"stack",children:"Empilhado"}),e.jsx(ve,{value:"50-50",children:"50/50"}),e.jsx(ve,{value:"60-40",children:"60/40"}),e.jsx(ve,{value:"40-60",children:"40/60"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"density",className:"text-sm text-slate-600",children:"Densidade:"}),e.jsxs(rt,{value:s.density,onValueChange:d=>n({density:d}),children:[e.jsx(st,{className:"w-20 h-8",children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"cozy",children:"Cozy"}),e.jsx(ve,{value:"compact",children:"Compact"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"show-guides",className:"text-sm text-slate-600",children:"Guias:"}),e.jsx(Mr,{id:"show-guides",checked:s.showGuides,onCheckedChange:d=>n({showGuides:d})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:u,disabled:s.scale<=.5,children:e.jsx(X4,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-slate-600 min-w-[3rem] text-center",children:[Math.round(s.scale*100),"%"]}),e.jsx(C,{variant:"outline",size:"sm",onClick:c,disabled:s.scale>=2,children:e.jsx(K4,{className:"w-4 h-4"})})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:o,title:a?"Sair do modo tela cheia":"Modo tela cheia",children:a?e.jsx(uF,{className:"w-4 h-4"}):e.jsx(B4,{className:"w-4 h-4"})})]})}const I6={management:{label:"Gerenciamento",Icon:bF,desc:"Versões e anexos oficiais",color:"bg-blue-50 text-blue-700 border-blue-200"},main_form:{label:"Formulário",Icon:bl,desc:"Campos estruturados",color:"bg-green-50 text-green-700 border-green-200"},stage_panel:{label:"Painel da Etapa",Icon:rF,desc:"Status, prazo, checklist e timeline",color:"bg-purple-50 text-purple-700 border-purple-200"},stage_actions:{label:"Ações da Etapa",Icon:vF,desc:"Enviar, concluir, gerar documento",color:"bg-orange-50 text-orange-700 border-orange-200"},comments:{label:"Comentários",Icon:dF,desc:"Troca de mensagens e @menções",color:"bg-cyan-50 text-cyan-700 border-cyan-200"},signatures:{label:"Assinaturas",Icon:Oo,desc:"Fluxo de assinaturas digitais",color:"bg-red-50 text-red-700 border-red-200"},doc_view:{label:"Visualização",Icon:Ze,desc:"Prévia do documento",dependsOn:"signatures",color:"bg-indigo-50 text-indigo-700 border-indigo-200"}},Dl=t=>I6[t],M2=(t,s)=>{const a=Dl(t);return a.dependsOn?s.includes(a.dependsOn):!0},gte=t=>Object.keys(I6),vte={management:$e,main_form:$e,stage_panel:hm,stage_actions:W4,comments:no,signatures:qt,doc_view:Ze};function O6({tool:t,stage:s,density:a,isDragging:r=!1,onRemove:n,onConfigure:o,children:i}){var d,h,x,f,g,p,y,v,b,j;const l=Dl(t),c=vte[t],u=a==="compact";return e.jsxs("div",{className:je("group relative bg-white border border-slate-200 rounded-lg transition-all",r&&"opacity-50 shadow-lg",u?"p-3":"p-4"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-slate-100 rounded",children:e.jsx(c,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:je("font-medium text-slate-900",u?"text-sm":"text-base"),children:l.title}),!u&&e.jsx("p",{className:"text-xs text-slate-500",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("div",{className:"p-1 hover:bg-slate-100 rounded cursor-grab active:cursor-grabbing",children:e.jsx(Ll,{className:"w-4 h-4 text-slate-400"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:o,className:"h-7 w-7 p-0",children:e.jsx(Ft,{className:"w-3.5 h-3.5"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:n,className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Yt,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"space-y-3",children:i}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-100",children:[t==="management"&&e.jsxs(e.Fragment,{children:[(h=(d=s.toolConfig.management)==null?void 0:d.versions)!=null&&h.length?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.management.versions.length," versões"]}):null,(f=(x=s.toolConfig.management)==null?void 0:x.attachments)!=null&&f.length?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.management.attachments.length," anexos"]}):null]}),t==="comments"&&((p=(g=s.toolConfig.comments)==null?void 0:g.list)!=null&&p.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.comments.list.length," comentários"]}):null,t==="signatures"&&((v=(y=s.toolConfig.signatures)==null?void 0:y.signers)!=null&&v.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.signatures.signers.length," signatários"]}):null,t==="stage_panel"&&((j=(b=s.toolConfig.stage_panel)==null?void 0:b.checklist)!=null&&j.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.stage_panel.checklist.filter(w=>w.checked).length,"/",s.toolConfig.stage_panel.checklist.length," concluído"]}):null]})]})}function bte({stage:t,density:s}){const{addVersion:a,removeVersion:r,addAttachment:n,removeAttachment:o,updateToolConfig:i}=Zr(),l=t.toolConfig.management,c=(l==null?void 0:l.versions)||[],u=(l==null?void 0:l.attachments)||[],d=()=>{const g=c.length+1,p={id:`v${Date.now()}`,label:`v${g}.0`,createdAt:Date.now(),author:"Usuário Atual"};a(t.id,p)},h=()=>{const g={id:`att${Date.now()}`,name:`documento-${u.length+1}.pdf`,sizeKB:Math.floor(Math.random()*5e3)+100,updatedAt:Date.now()};n(t.id,g)},x=g=>new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),f=g=>g<1024?`${g} KB`:`${(g/1024).toFixed(1)} MB`;return e.jsxs("div",{className:"space-y-4",children:[(l==null?void 0:l.allowVersions)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"Versões"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:d,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Nova versão"]})]}),c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:g.label}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:g.author}),e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{children:x(g.createdAt)})]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>r(t.id,g.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},g.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhuma versão criada"})]}),(l==null?void 0:l.allowAttachments)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"Anexos"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:h,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar anexo"]})]}),u.length>0?e.jsx("div",{className:"space-y-2",children:u.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vl,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:g.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("span",{children:f(g.sizeKB)}),e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{children:x(g.updatedAt)})]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>o(t.id,g.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},g.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum anexo adicionado"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.allowVersions)||!1,onChange:g=>i(t.id,{management:{...l,allowVersions:g.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir versões"})]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.allowAttachments)||!1,onChange:g=>i(t.id,{management:{...l,allowAttachments:g.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir anexos"})]})]})})]})}const Pm=[{name:"slate",label:"Cinza",class:"border-slate-200 bg-slate-50 text-slate-700"},{name:"indigo",label:"Azul",class:"border-indigo-200 bg-indigo-50 text-indigo-700"},{name:"emerald",label:"Verde",class:"border-emerald-200 bg-emerald-50 text-emerald-700"},{name:"amber",label:"Âmbar",class:"border-amber-200 bg-amber-50 text-amber-700"},{name:"rose",label:"Rosa",class:"border-rose-200 bg-rose-50 text-rose-700"},{name:"purple",label:"Roxo",class:"border-purple-200 bg-purple-50 text-purple-700"}],W0=[{name:"FileText",icon:$e,emoji:"📄"},{name:"CheckCircle",icon:Re,emoji:"✅"},{name:"AlertCircle",icon:Ss,emoji:"⚠️"},{name:"Clock",icon:Fe,emoji:"🕐"},{name:"User",icon:ht,emoji:"👤"},{name:"Mail",icon:rb,emoji:"📧"},{name:"Phone",icon:fF,emoji:"📞"},{name:"Calendar",icon:wt,emoji:"📅"},{name:"MapPin",icon:iF,emoji:"📍"},{name:"Tag",icon:yF,emoji:"🏷️"},{name:"Star",icon:ih,emoji:"⭐"},{name:"Heart",icon:tF,emoji:"❤️"},{name:"Bookmark",icon:Uz,emoji:"🔖"},{name:"Flag",icon:vt,emoji:"🚩"},{name:"Target",icon:NF,emoji:"🎯"},{name:"Zap",icon:SF,emoji:"⚡"},{name:"Shield",icon:Ca,emoji:"🛡️"},{name:"Lock",icon:ab,emoji:"🔒"},{name:"Send",icon:vs,emoji:"📤"}],jte=[{value:"send",label:"Enviar"},{value:"finish",label:"Concluir"},{value:"generate_doc",label:"Gerar documento"},{value:"custom",label:"Personalizado"}],yte=({item:t,onRename:s,onRemove:a,onIconChange:r,onColorChange:n,allowIcon:o,allowColor:i,isEditing:l,onStartEdit:c,onCancelEdit:u})=>{const{attributes:d,listeners:h,setNodeRef:x,transform:f,transition:g,isDragging:p}=rf({id:t.id}),[y,v]=m.useState(t.label),[b,j]=m.useState(""),w=m.useRef(null),N={transform:Sr.Transform.toString(f),transition:g};m.useEffect(()=>{l&&w.current&&(w.current.focus(),w.current.select())},[l]);const E=()=>{const T=y.trim();if(T.length<1){j("Nome muito curto");return}if(T.length>32){j("Nome muito longo (máximo 32 caracteres)");return}s(t.id,T),u()},A=T=>{T.key==="Enter"?E():T.key==="Escape"&&(v(t.label),j(""),u())},P=T=>(Pm.find(L=>L.name===T)||Pm[0]).class,z=T=>{if(!T)return null;const k=W0.find(L=>L.name===T);return k?e.jsx("span",{className:"text-xs",children:k.emoji}):null};return e.jsxs("div",{ref:x,style:N,className:`flex items-center gap-3 p-3 bg-white border rounded-lg ${p?"opacity-50 shadow-lg":"hover:bg-slate-50"}`,children:[e.jsx("div",{...d,...h,className:"p-1 hover:bg-slate-200 rounded cursor-grab active:cursor-grabbing",children:e.jsx(Ll,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ${P(t.color)}`,children:[t.icon&&o&&z(t.icon),e.jsx("span",{children:t.label})]}),e.jsx("div",{className:"flex-1",children:l?e.jsxs("div",{children:[e.jsx(De,{ref:w,value:y,onChange:T=>{v(T.target.value),j("")},onKeyDown:A,onBlur:E,className:`text-sm ${b?"border-red-500":""}`,placeholder:"Nome do balão"}),b&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:b})]}):e.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.label})}),!l&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>c(t.id),children:e.jsx(H4,{className:"w-4 h-4"})})}),e.jsx(St,{children:e.jsx("p",{children:"Renomear"})})]}),o&&e.jsxs(Pl,{children:[e.jsx(Al,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx($g,{className:"w-4 h-4"})})}),e.jsx(li,{className:"w-64 p-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-medium",children:"Ícone"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:W0.map(T=>e.jsx(C,{variant:t.icon===T.name?"default":"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r(t.id,T.name),children:e.jsx("span",{className:"text-xs",children:T.emoji})},T.name))})]})})]}),i&&e.jsxs(Pl,{children:[e.jsx(Al,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx($g,{className:"w-4 h-4"})})}),e.jsx(li,{className:"w-48 p-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-medium",children:"Cor"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Pm.map(T=>e.jsx(C,{variant:t.color===T.name?"default":"outline",size:"sm",className:`h-6 px-2 text-xs ${T.class}`,onClick:()=>n(t.id,T.name),children:T.label},T.name))})]})})]}),e.jsxs(ZT,{children:[e.jsx(e6,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:e.jsx(It,{className:"w-4 h-4"})})}),e.jsxs(Zj,{children:[e.jsxs(ey,{children:[e.jsx(sy,{children:"Excluir balão"}),e.jsxs(ay,{children:['Tem certeza que deseja excluir "',t.label,'"? Esta ação não pode ser desfeita.']})]}),e.jsxs(ty,{children:[e.jsx(ny,{children:"Cancelar"}),e.jsx(ry,{onClick:()=>a(t.id),children:"Excluir"})]})]})]})]})]})};function my({open:t,onOpenChange:s,stageId:a,area:r,title:n,description:o,items:i,allowIcon:l=!0,allowColor:c=!0}){var he;const{addBalloon:u,renameBalloon:d,removeBalloon:h,reorderBalloons:x,setBalloonIcon:f,setBalloonColor:g}=Zr(),[p,y]=m.useState(i),[v,b]=m.useState(null),[j,w]=m.useState(""),[N,E]=m.useState(""),[A,P]=m.useState("slate"),[z,T]=m.useState("custom"),[k,L]=m.useState(""),[U,Y]=m.useState(null),K=Jx(po(Ql,{activationConstraint:{distance:8}}),po(Jl,{coordinateGetter:nf})),F=m.useRef(null);m.useEffect(()=>{y(i)},[i]),m.useEffect(()=>{t&&F.current&&setTimeout(()=>{var ae;return(ae=F.current)==null?void 0:ae.focus()},100)},[t]),m.useEffect(()=>{const ae=be=>{t&&((be.ctrlKey||be.metaKey)&&be.key==="s"?(be.preventDefault(),O()):be.key==="Escape"&&S())};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[t]);const O=()=>{p.forEach((xe,ne)=>{const Ae=i[ne];!Ae||(Ae.id,xe.id)});const ae=i.map(xe=>xe.id),be=p.map(xe=>xe.id);JSON.stringify(ae)!==JSON.stringify(be)&&x(a,r,be),s(!1)},S=()=>{y(i),b(null),w(""),E(""),P("slate"),T("custom"),L(""),s(!1)},$=(ae,be)=>{if(p.some(ne=>ne.id!==ae&&ne.label.toLowerCase()===be.toLowerCase())){L("Já existe um balão com este nome");return}y(ne=>ne.map(Ae=>Ae.id===ae?{...Ae,label:be}:Ae)),d(a,r,ae,be)},H=ae=>{y(be=>be.filter(xe=>xe.id!==ae)),h(a,r,ae)},J=(ae,be)=>{y(xe=>xe.map(ne=>ne.id===ae?{...ne,icon:be}:ne)),f(a,r,ae,be)},re=(ae,be)=>{y(xe=>xe.map(ne=>ne.id===ae?{...ne,color:be}:ne)),g(a,r,ae,be)},le=()=>{if(!j.trim()){L("Nome é obrigatório");return}const ae=j.trim();if(ae.length<1){L("Nome muito curto");return}if(ae.length>32){L("Nome muito longo (máximo 32 caracteres)");return}if(p.some(ne=>ne.label.toLowerCase()===ae.toLowerCase())){L("Já existe um balão com este nome");return}const xe={id:crypto.randomUUID(),label:ae,icon:N||void 0,color:A,meta:r==="stage_actions.catalog"?{actionType:z}:void 0};y(ne=>[...ne,xe]),u(a,r,xe),w(""),E(""),P("slate"),T("custom"),L(""),setTimeout(()=>{var ne;return(ne=F.current)==null?void 0:ne.focus()},100)},we=ae=>{const{active:be,over:xe}=ae;if(Y(null),!xe||be.id===xe.id)return;const ne=p.findIndex(ye=>ye.id===be.id),Ae=p.findIndex(ye=>ye.id===xe.id);if(ne!==-1&&Ae!==-1){const ye=Zl(p,ne,Ae);y(ye)}},ke=ae=>{Y(ae.active.id)};return e.jsx(Rt,{children:e.jsx(zb,{open:t,onOpenChange:s,children:e.jsxs(Rx,{className:"w-[500px] sm:w-[600px]",children:[e.jsxs(Mx,{children:[e.jsxs(Ix,{className:"flex items-center justify-between",children:[e.jsx("span",{children:n}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",onClick:S,children:"Cancelar"}),e.jsxs(C,{onClick:O,children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]}),o&&e.jsx(Fb,{children:o})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs(B,{className:"text-sm font-medium mb-3 block",children:["Balões (",p.length,")"]}),p.length>0?e.jsxs(sf,{sensors:K,collisionDetection:Qx,onDragStart:ke,onDragEnd:we,children:[e.jsx(af,{items:p.map(ae=>ae.id),strategy:Hj,children:e.jsx("div",{className:"space-y-2",role:"list",children:p.map(ae=>e.jsx(yte,{item:ae,onRename:$,onRemove:H,onIconChange:J,onColorChange:re,allowIcon:l,allowColor:c,isEditing:v===ae.id,onStartEdit:b,onCancelEdit:()=>b(null)},ae.id))})}),e.jsx(Uj,{children:U?e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border rounded-lg shadow-lg",children:[e.jsx(Ll,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs bg-slate-50",children:(he=p.find(ae=>ae.id===U))==null?void 0:he.label})]}):null})]}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("p",{className:"text-sm",children:"Nenhum balão adicionado"}),e.jsx("p",{className:"text-xs mt-1",children:"Use o formulário abaixo para adicionar o primeiro"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx(B,{className:"text-sm font-medium mb-3 block",children:"Adicionar balão"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"newLabel",className:"text-sm text-slate-700 mb-1 block",children:"Nome"}),e.jsx(De,{ref:F,id:"newLabel",value:j,onChange:ae=>{w(ae.target.value),L("")},onKeyDown:ae=>{ae.key==="Enter"&&le()},placeholder:"Nome do balão",className:`text-sm ${k?"border-red-500":""}`}),k&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:k})]}),r==="stage_actions.catalog"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"actionType",className:"text-sm text-slate-700 mb-1 block",children:"Tipo de ação"}),e.jsxs(rt,{value:z,onValueChange:T,children:[e.jsx(st,{children:e.jsx(nt,{})}),e.jsx(at,{children:jte.map(ae=>e.jsx(ve,{value:ae.value,children:ae.label},ae.value))})]})]}),l&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm text-slate-700 mb-2 block",children:"Ícone (opcional)"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:W0.map(ae=>e.jsx(C,{variant:N===ae.name?"default":"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>E(N===ae.name?"":ae.name),children:e.jsx("span",{className:"text-xs",children:ae.emoji})},ae.name))})]}),c&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm text-slate-700 mb-2 block",children:"Cor"}),e.jsx("div",{className:"flex gap-2",children:Pm.map(ae=>e.jsx(C,{variant:A===ae.name?"default":"outline",size:"sm",className:`h-6 px-2 text-xs ${ae.class}`,onClick:()=>P(ae.name),children:ae.label},ae.name))})]}),e.jsxs(C,{onClick:le,disabled:!j.trim(),className:"w-full",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Adicionar balão"]})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("p",{className:"text-xs text-slate-500",children:["💡 ",e.jsx("strong",{children:"Dicas:"})," Arraste para reordenar • Enter confirma • Esc cancela • Ctrl/Cmd+S salva"]})})]})]})})})}function hy({item:t,className:s=""}){const a=n=>{switch(n){case"indigo":return"border-indigo-200 bg-indigo-50 text-indigo-700";case"emerald":return"border-emerald-200 bg-emerald-50 text-emerald-700";case"amber":return"border-amber-200 bg-amber-50 text-amber-700";case"rose":return"border-rose-200 bg-rose-50 text-rose-700";case"purple":return"border-purple-200 bg-purple-50 text-purple-700";default:return"border-slate-200 bg-slate-50 text-slate-700"}},r=n=>({FileText:"📄",AlertCircle:"⚠️",CheckCircle:"✅",Clock:"🕐",User:"👤",Mail:"📧",Phone:"📞",Calendar:"📅",MapPin:"📍",Tag:"🏷️",Star:"⭐",Heart:"❤️",Bookmark:"🔖",Flag:"🚩",Target:"🎯",Zap:"⚡",Shield:"🛡️",Lock:"🔒",Send:"📤"})[n||""]||"📄";return e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ${a(t.color)} ${s}`,children:[t.icon&&e.jsx("span",{className:"text-xs",children:r(t.icon)}),e.jsx("span",{children:t.label})]})}const I2=[{key:"objeto",label:"Objeto",type:"text",required:!0},{key:"justificativa",label:"Justificativa",type:"textarea",required:!0},{key:"valor_estimado",label:"Valor Estimado",type:"text",required:!1},{key:"prazo_execucao",label:"Prazo de Execução",type:"text",required:!1},{key:"observacoes",label:"Observações",type:"textarea",required:!1}];function Nte({stage:t,density:s}){const{setFormValue:a}=Zr(),[r,n]=m.useState(!1),o=t.toolConfig.main_form,i=(o==null?void 0:o.values)||{},l=(o==null?void 0:o.requiredFields)||[],c=(o==null?void 0:o.requiredFieldsCatalog)||[],u=(h,x)=>{a(t.id,h,x)},d=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:"Formulário principal da etapa"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Campos obrigatórios"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(h=>e.jsx(hy,{item:h},h.id))}),c.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhum campo obrigatório definido"})]}),e.jsx("div",{className:"space-y-3",children:I2.map(h=>{const x=l.includes(h.key),f=i[h.key]||"";return e.jsxs("div",{children:[e.jsxs(B,{htmlFor:h.key,className:"text-sm font-medium",children:[h.label,x&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.type==="textarea"?e.jsx(xt,{id:h.key,value:f,onChange:g=>u(h.key,g.target.value),placeholder:`Digite ${h.label.toLowerCase()}...`,className:d?"h-16":"h-20",rows:d?2:3}):e.jsx(De,{id:h.key,type:h.type,value:f,onChange:g=>u(h.key,g.target.value),placeholder:`Digite ${h.label.toLowerCase()}...`,className:d?"h-8":"h-9"}),x&&!f&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Este campo é obrigatório"})]},h.key)})}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Campos preenchidos:"}),e.jsxs("span",{children:[Object.values(i).filter(h=>h&&h.toString().trim()).length," / ",I2.length]})]})}),e.jsx(my,{open:r,onOpenChange:n,stageId:t.id,area:"main_form.requiredFields",title:"Campos obrigatórios",description:"Gerencie os campos obrigatórios do formulário",items:c,allowIcon:!0,allowColor:!0})]})}function wte({stage:t,density:s}){const{setProgress:a,setSLA:r,toggleChecklistItem:n,reorderChecklist:o,updateToolConfig:i}=Zr(),[l,c]=m.useState(!1),u=t.toolConfig.stage_panel,d=(u==null?void 0:u.checklist)||[],h=(u==null?void 0:u.checklistCatalog)||[],x=(u==null?void 0:u.progress)||0,f=(u==null?void 0:u.startDate)||"",g=(u==null?void 0:u.dueDate)||"",p=()=>{const j={id:`chk${Date.now()}`,label:"Nova tarefa",checked:!1},w=[...d,j];i(t.id,{stage_panel:{...u,checklist:w}})},y=j=>{const w=d.filter(N=>N.id!==j);i(t.id,{stage_panel:{...u,checklist:w}})},v=(j,w)=>{const N=d.map(E=>E.id===j?{...E,label:w}:E);i(t.id,{stage_panel:{...u,checklist:N}})},b=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(B,{htmlFor:"progress",className:"text-sm font-medium",children:["Progresso: ",x,"%"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"progress",type:"range",min:"0",max:"100",value:x,onChange:j=>a(t.id,parseInt(j.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"100%"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"startDate",className:"text-sm font-medium",children:"Data Início"}),e.jsx(De,{id:"startDate",type:"date",value:f,onChange:j=>r(t.id,j.target.value,g),className:b?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"dueDate",className:"text-sm font-medium",children:"Data Vencimento"}),e.jsx(De,{id:"dueDate",type:"date",value:g,onChange:j=>r(t.id,f,j.target.value),className:b?"h-8":"h-9"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Catálogo de tarefas"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(j=>e.jsx(hy,{item:j},j.id))}),h.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhuma tarefa no catálogo"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Checklist"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:p,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),d.length>0?e.jsx("div",{className:"space-y-2",children:d.map((j,w)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border",children:[e.jsx("div",{className:"p-1 hover:bg-slate-200 rounded cursor-grab active:cursor-grabbing",children:e.jsx(Ll,{className:"w-3 h-3 text-slate-400"})}),e.jsx("input",{type:"checkbox",checked:j.checked,onChange:()=>n(t.id,j.id),className:"rounded"}),e.jsx(De,{value:j.label,onChange:N=>v(j.id,N.target.value),className:je("flex-1 border-0 bg-transparent p-0 h-auto",j.checked&&"line-through text-slate-500")}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>y(j.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},j.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhuma tarefa adicionada"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Tarefas concluídas:"}),e.jsxs("span",{children:[d.filter(j=>j.checked).length," / ",d.length]})]})}),e.jsx(my,{open:l,onOpenChange:c,stageId:t.id,area:"stage_panel.checklist",title:"Catálogo de tarefas",description:"Gerencie as tarefas disponíveis no checklist",items:h,allowIcon:!0,allowColor:!0})]})}const Lp=[{key:"send",label:"Enviar",icon:vs,description:"Enviar para próxima etapa"},{key:"finish",label:"Finalizar",icon:Re,description:"Marcar como concluído"},{key:"generate_doc",label:"Gerar Documento",icon:$e,description:"Gerar documento final"}];function Cte({stage:t,density:s}){const{updateToolConfig:a}=Zr(),[r,n]=m.useState(!1),o=t.toolConfig.stage_actions,i=(o==null?void 0:o.actions)||[],l=(o==null?void 0:o.actionsCatalog)||[],c=d=>{const h=i.includes(d)?i.filter(x=>x!==d):[...i,d];a(t.id,{stage_actions:{actions:h}})},u=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:"Ações disponíveis para esta etapa"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Catálogo de ações"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(d=>e.jsx(hy,{item:d},d.id))}),l.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhuma ação no catálogo"})]}),e.jsx("div",{className:"space-y-3",children:Lp.map(d=>{const h=i.includes(d.key),x=d.icon;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:d.key,checked:h,onChange:()=>c(d.key),className:"rounded"}),e.jsxs(B,{htmlFor:d.key,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(x,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:d.label}),!u&&e.jsx("p",{className:"text-xs text-slate-500",children:d.description})]})]})]},d.key)})}),i.length>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Preview dos botões:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(d=>{const h=Lp.find(f=>f.key===d);if(!h)return null;const x=h.icon;return e.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:!0,children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),h.label]},d)})})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Ações selecionadas:"}),e.jsxs("span",{children:[i.length," / ",Lp.length]})]})}),e.jsx(my,{open:r,onOpenChange:n,stageId:t.id,area:"stage_actions.catalog",title:"Catálogo de ações",description:"Gerencie as ações disponíveis para esta etapa",items:l,allowIcon:!0,allowColor:!0})]})}const Ste=[{id:"1",name:"João Silva",role:"Gerente"},{id:"2",name:"Maria Santos",role:"Coordenador"},{id:"3",name:"Pedro Costa",role:"Diretor"},{id:"4",name:"Ana Lima",role:"Analista"}];function Ete({stage:t,density:s}){var p,y;const{addComment:a,deleteComment:r,updateToolConfig:n}=Zr(),[o,i]=m.useState(""),[l,c]=m.useState(!1),u=((p=t.toolConfig.comments)==null?void 0:p.list)||[],d=((y=t.toolConfig.comments)==null?void 0:y.allowMentions)||!1,h=()=>{if(!o.trim())return;const v={id:`c${Date.now()}`,author:"Usuário Atual",role:"Analista",text:o,createdAt:Date.now(),mentions:o.match(/@\w+/g)||[]};a(t.id,v),i("")},x=v=>{const b=`@${v}`;i(j=>j+(j?" ":"")+b+" "),c(!1)},f=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(no,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Novo comentário"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(xt,{value:o,onChange:v=>i(v.target.value),placeholder:"Digite seu comentário...",className:je("resize-none",g?"h-16":"h-20"),rows:g?2:3}),d&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"absolute top-1 right-1 h-6 w-6 p-0",children:e.jsx(zl,{className:"w-3 h-3"})})]}),l&&e.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded border",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Mencionar:"}),e.jsx("div",{className:"space-y-1",children:Ste.map(v=>e.jsxs("button",{onClick:()=>x(v.name),className:"block w-full text-left text-xs hover:bg-slate-100 p-1 rounded",children:[e.jsx("span",{className:"font-medium",children:v.name}),e.jsxs("span",{className:"text-slate-500 ml-1",children:["(",v.role,")"]})]},v.id))})]}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(C,{size:"sm",onClick:h,disabled:!o.trim(),className:"h-7 px-3 text-xs",children:"Comentar"})})]}),u.length>0?e.jsx("div",{className:"space-y-3",children:u.map(v=>e.jsxs("div",{className:"p-3 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:v.author}),v.role&&e.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",v.role,")"]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>r(t.id,v.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-2",children:v.text}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{children:f(v.createdAt)})]})]},v.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum comentário ainda"}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:v=>n(t.id,{comments:{...t.toolConfig.comments,allowMentions:v.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir menções (@)"})]})})]})}function Pte({stage:t,density:s}){const{addSigner:a,updateSigner:r,removeSigner:n}=Zr(),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({name:"",role:"",status:"pending"}),h=t.toolConfig.signatures,x=(h==null?void 0:h.signers)||[],f=()=>{if(!u.name.trim())return;const b={id:`s${Date.now()}`,name:u.name,role:u.role||void 0,status:u.status};a(t.id,b),d({name:"",role:"",status:"pending"}),i(!1)},g=(b,j,w)=>{r(t.id,b,{[j]:w}),c(null)},p=b=>{switch(b){case"signed":return e.jsx(Fl,{className:"w-4 h-4 text-green-500"});case"rejected":return e.jsx(qe,{className:"w-4 h-4 text-red-500"});default:return e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-slate-300"})}},y=b=>{switch(b){case"signed":return"text-green-700 bg-green-50 border-green-200";case"rejected":return"text-red-700 bg-red-50 border-red-200";default:return"text-slate-700 bg-slate-50 border-slate-200"}},v=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Signatários"})]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),o&&e.jsx("div",{className:"p-3 bg-slate-50 rounded border",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-name",className:"text-xs",children:"Nome"}),e.jsx(De,{id:"signer-name",value:u.name,onChange:b=>d(j=>({...j,name:b.target.value})),placeholder:"Nome do signatário",className:v?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-role",className:"text-xs",children:"Papel (opcional)"}),e.jsx(De,{id:"signer-role",value:u.role,onChange:b=>d(j=>({...j,role:b.target.value})),placeholder:"Ex: Gerente, Diretor",className:v?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-status",className:"text-xs",children:"Status"}),e.jsxs(rt,{value:u.status,onValueChange:b=>d(j=>({...j,status:b})),children:[e.jsx(st,{className:v?"h-8":"h-9",children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"pending",children:"Pendente"}),e.jsx(ve,{value:"signed",children:"Assinado"}),e.jsx(ve,{value:"rejected",children:"Rejeitado"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{size:"sm",onClick:f,disabled:!u.name.trim(),className:"h-7 px-3 text-xs",children:"Adicionar"}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>{i(!1),d({name:"",role:"",status:"pending"})},className:"h-7 px-3 text-xs",children:"Cancelar"})]})]})}),x.length>0?e.jsx("div",{className:"space-y-2",children:x.map(b=>e.jsxs("div",{className:je("p-3 rounded border flex items-center justify-between",y(b.status)),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p(b.status),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:b.name}),b.role&&e.jsx("div",{className:"text-xs opacity-75",children:b.role})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[l===b.id?e.jsxs(rt,{value:b.status,onValueChange:j=>g(b.id,"status",j),children:[e.jsx(st,{className:"h-7 w-24 text-xs",children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"pending",children:"Pendente"}),e.jsx(ve,{value:"signed",children:"Assinado"}),e.jsx(ve,{value:"rejected",children:"Rejeitado"})]})]}):e.jsx("span",{className:"text-xs font-medium capitalize",children:b.status==="pending"?"Pendente":b.status==="signed"?"Assinado":"Rejeitado"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(l===b.id?null:b.id),className:"h-6 w-6 p-0",children:e.jsx(H4,{className:"w-3 h-3"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(t.id,b.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]})]},b.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum signatário adicionado"}),e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Total de signatários:"}),e.jsx("span",{children:x.length})]}),x.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"Assinados:"}),e.jsx("span",{children:x.filter(b=>b.status==="signed").length})]})]})]})}function Ate({stage:t,density:s}){const{updateToolConfig:a}=Zr(),r=t.toolConfig.doc_view,n=(r==null?void 0:r.previewMode)||"modal",o=(r==null?void 0:r.fileName)||"",i=(r==null?void 0:r.sizeMB)||0,l=h=>{a(t.id,{doc_view:{...r,previewMode:h}})},c=h=>{a(t.id,{doc_view:{...r,fileName:h}})},u=h=>{a(t.id,{doc_view:{...r,sizeMB:h}})},d=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Visualização de Documento"})]}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center",children:[e.jsx($e,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:o||"documento.pdf"}),e.jsx("div",{className:"text-xs text-slate-500 mb-4",children:i>0?`${i} MB`:"Tamanho não especificado"}),e.jsx("div",{className:"flex gap-2 justify-center",children:e.jsx(C,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:!0,children:n==="modal"?e.jsxs(e.Fragment,{children:[e.jsx(B4,{className:"w-3 h-3 mr-1"}),"Abrir Modal"]}):e.jsxs(e.Fragment,{children:[e.jsx(tb,{className:"w-3 h-3 mr-1"}),"Nova Aba"]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"preview-mode",className:"text-sm font-medium",children:"Modo de Visualização"}),e.jsxs(rt,{value:n,onValueChange:l,children:[e.jsx(st,{className:d?"h-8":"h-9",children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"modal",children:"Modal"}),e.jsx(ve,{value:"new_tab",children:"Nova Aba"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"file-name",className:"text-sm font-medium",children:"Nome do Arquivo"}),e.jsx(De,{id:"file-name",value:o,onChange:h=>c(h.target.value),placeholder:"documento.pdf",className:d?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"file-size",className:"text-sm font-medium",children:"Tamanho (MB)"}),e.jsx(De,{id:"file-size",type:"number",value:i,onChange:h=>u(parseFloat(h.target.value)||0),placeholder:"2.5",step:"0.1",min:"0",className:d?"h-8":"h-9"})]})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"text-xs text-slate-500",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Modal:"})," Abre o documento em uma janela sobreposta"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nova Aba:"})," Abre o documento em uma nova aba do navegador"]})]})})]})}const Dte=({tool:t,stage:s,density:a,onRemove:r,onConfigure:n,isDragging:o=!1})=>{const{attributes:i,listeners:l,setNodeRef:c,transform:u,transition:d,isDragging:h}=rf({id:t}),x={transform:Sr.Transform.toString(u),transition:d},f=()=>{switch(t){case"management":return e.jsx(bte,{stage:s,density:a});case"main_form":return e.jsx(Nte,{stage:s,density:a});case"stage_panel":return e.jsx(wte,{stage:s,density:a});case"stage_actions":return e.jsx(Cte,{stage:s,density:a});case"comments":return e.jsx(Ete,{stage:s,density:a});case"signatures":return e.jsx(Pte,{stage:s,density:a});case"doc_view":return e.jsx(Ate,{stage:s,density:a});default:return null}};return e.jsx("div",{ref:c,style:x,...i,children:e.jsx(O6,{tool:t,stage:s,density:a,onRemove:r,onConfigure:n,isDragging:o||h,children:f()})})};function kte({stage:t,layout:s,onLayoutChange:a,onToolRemove:r,onToolConfigure:n,className:o=""}){const[i,l]=m.useState(null),c=Jx(po(Ql,{activationConstraint:{distance:8}}),po(Jl,{coordinateGetter:nf}));m.useEffect(()=>{document.documentElement.style.setProperty("--card-scale",s.scale.toString())},[s.scale]);const d=(()=>{if(s.mode==="stack")return{stack:s.orderStack||t.tools};const p=s.orderLeft||[],y=s.orderRight||[];return{left:p,right:y}})(),h=p=>{l(p.active.id)},x=p=>{const{active:y,over:v}=p;if(!v)return;const b=y.id,j=v.id},f=p=>{const{active:y,over:v}=p;if(l(null),!v)return;const b=y.id,j=v.id;if(b!==j&&s.mode==="stack"){const w=d.stack,N=w.indexOf(b),E=w.indexOf(j);if(N!==-1&&E!==-1){const A=Zl(w,N,E);a({orderStack:A})}}},g=(p,y)=>p.length===0?e.jsx("div",{className:`
            min-h-[200px] border-2 border-dashed border-slate-300 rounded-lg 
            flex items-center justify-center text-slate-500
            ${s.showGuides?"bg-slate-50":"bg-transparent"}
          `,children:e.jsx("span",{className:"text-sm",children:"Arraste ferramentas aqui"})}):e.jsx(af,{items:p,strategy:Hj,children:e.jsx("div",{className:"space-y-4",children:p.map(v=>e.jsx(Dte,{tool:v,stage:t,density:s.density,onRemove:()=>r(v),onConfigure:()=>n(v)},v))})});return e.jsx("div",{className:je("h-full w-full",o),style:{"--card-scale":`${s.scale??1}`},children:e.jsxs("article",{className:je("stage-card","relative w-full h-auto","rounded-2xl border border-slate-200 shadow-sm bg-white","p-6 md:p-8",s.showGuides&&"[outline:1px_solid_theme(colors.slate.200)]","origin-top scale-[var(--card-scale)]"),children:[e.jsx("div",{className:"absolute -top-2 left-4 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"absolute -top-2 right-4 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-500 text-white flex items-center justify-center font-semibold absolute -left-3 -top-3",children:t.orderIndex}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"inline-flex items-center rounded-full bg-slate-100 text-slate-700 text-sm px-3 py-1",children:t.department}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.days," dias úteis"]})]})]})})}),e.jsx("div",{className:je("mt-4",s.mode==="stack"&&"grid grid-cols-1 gap-4",s.mode==="50-50"&&"grid grid-cols-2 gap-4",s.mode==="60-40"&&"grid grid-cols-[3fr_2fr] gap-4",s.mode==="40-60"&&"grid grid-cols-[2fr_3fr] gap-4"),children:e.jsxs(sf,{sensors:c,collisionDetection:Qx,onDragStart:h,onDragOver:x,onDragEnd:f,children:[s.mode==="stack"?e.jsx("div",{children:g(d.stack)}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2 font-medium",children:"Coluna Esquerda"}),g(d.left)]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2 font-medium",children:"Coluna Direita"}),g(d.right)]})]}),e.jsx(Uj,{children:i?e.jsx(O6,{tool:i,density:s.density,isDragging:!0}):null})]})})]})})}const z6=({tool:t,isActive:s,isDisabled:a=!1,onToggle:r,onRemove:n,isDragging:o=!1,readOnly:i=!1})=>{const l=Dl(t);return e.jsxs("div",{className:`
        flex items-center gap-3 p-3 rounded-lg border transition-all duration-200
        ${s?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-200 hover:bg-slate-100"}
        ${a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow-md"}
        ${o?"opacity-50 shadow-lg":""}
      `,onClick:()=>!a&&!i&&r(t),role:"button",tabIndex:a?-1:0,"aria-label":`${s?"Desativar":"Ativar"} ${l.label}`,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&!a&&!i&&(c.preventDefault(),r(t))},children:[e.jsx("div",{className:`p-2 rounded-md ${l.color}`,children:e.jsx(l.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900 truncate",children:l.label}),l.dependsOn&&e.jsx(Rt,{children:e.jsxs(Pt,{children:[e.jsx(At,{asChild:!0,children:e.jsx(fn,{className:"w-3 h-3 text-slate-400"})}),e.jsx(St,{children:e.jsxs("p",{children:["Depende de: ",Dl(l.dependsOn).label]})})]})})]}),e.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:l.desc})]}),!i&&s&&n?e.jsx("button",{onClick:c=>{c.stopPropagation(),n(t)},className:"p-1 rounded-full hover:bg-slate-200 transition-colors","aria-label":`Remover ${l.label}`,children:e.jsx(Yt,{className:"w-4 h-4 text-slate-500"})}):!i&&!s&&!a?e.jsx("button",{onClick:c=>{c.stopPropagation(),r(t)},className:"p-1 rounded-full hover:bg-slate-200 transition-colors","aria-label":`Adicionar ${l.label}`,children:e.jsx(Mt,{className:"w-4 h-4 text-slate-500"})}):null]})},Tte=t=>{const{attributes:s,listeners:a,setNodeRef:r,transform:n,transition:o,isDragging:i}=rf({id:t.tool}),l={transform:Sr.Transform.toString(n),transition:o};return e.jsx("div",{ref:r,style:l,...s,...a,children:e.jsx(z6,{...t,isDragging:i})})},Rte=({tools:t,toolsOrder:s,onChangeTools:a,onChangeOrder:r,className:n="",readOnly:o=!1})=>{const[i,l]=m.useState(null),{toast:c}=Kt(),u=Jx(po(Ql,{activationConstraint:{distance:8}}),po(Jl,{coordinateGetter:nf})),d=gte(),h=s.length>0?s.filter(v=>t.includes(v)):t,x=v=>{if(t.includes(v)){const b=t.filter(w=>w!==v),j=s.filter(w=>w!==v);if(v==="signatures"){const w=b.filter(E=>E!=="doc_view"),N=j.filter(E=>E!=="doc_view");a(w),r(N),t.includes("doc_view")&&c({title:"Visualização desativada",description:"A visualização de documentos foi desativada porque depende de Assinaturas."})}else a(b),r(j)}else if(M2(v,t)){const b=[...t,v],j=[...s,v];a(b),r(j)}},f=v=>{x(v)},g=v=>{l(v.active.id)},p=v=>{const{active:b,over:j}=v;if(l(null),!j)return;const w=h.indexOf(b.id),N=h.indexOf(j.id);if(w!==N){const E=Zl(h,w,N);r(E),c({title:"Ordem atualizada",description:"A ordem das ferramentas foi atualizada."})}},y=i?Dl(i):null;return e.jsxs("div",{className:`space-y-6 ${n}`,children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fn,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Dependências:"}),e.jsxs("p",{className:"text-blue-700",children:[e.jsx("strong",{children:"Visualização"})," só pode ser ativada quando ",e.jsx("strong",{children:"Assinaturas"})," estiver ativa."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx("span",{children:"Disponíveis"}),e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:d.length})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(v=>{const b=!M2(v,t);return e.jsx(z6,{tool:v,isActive:!1,isDisabled:b,onToggle:x,readOnly:o},v)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx("span",{children:"Ativas"}),e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:h.length})]}),e.jsxs(sf,{sensors:o?[]:u,collisionDetection:Qx,onDragStart:o?void 0:g,onDragEnd:o?void 0:p,children:[e.jsx(af,{items:h,strategy:Hj,children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:h.map(v=>e.jsx(Tte,{tool:v,isActive:!0,onRemove:f,readOnly:o},v))})}),e.jsx(Uj,{children:y?e.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-3 shadow-lg opacity-90",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-md ${y.color}`,children:e.jsx(y.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:y.label}),e.jsx("p",{className:"text-xs text-slate-600",children:y.desc})]})]})}):null})]}),h.length===0&&e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Mt,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-sm",children:"Nenhuma ferramenta ativa"}),e.jsx("p",{className:"text-xs mt-1",children:"Clique nas ferramentas disponíveis para ativá-las"})]})]})]})]})},Mte=({tool:t,config:s,onConfigChange:a,isDisabled:r=!1})=>{const n=Dl(t),o=s[t]||{},i=()=>{var l,c;switch(t){case"management":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-versions",children:"Versões"}),e.jsx(Mr,{id:"allow-versions",checked:o.allowVersions??!0,onCheckedChange:u=>a({[t]:{...o,allowVersions:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-attachments",children:"Anexos"}),e.jsx(Mr,{id:"allow-attachments",checked:o.allowAttachments??!0,onCheckedChange:u=>a({[t]:{...o,allowAttachments:u}}),disabled:r})]})]});case"main_form":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"schema-id",children:"Modelo de Formulário"}),e.jsxs(rt,{value:o.schemaId||"default-schema",onValueChange:u=>a({[t]:{...o,schemaId:u}}),disabled:r,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione um modelo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"default-schema",children:"Modelo Padrão"}),e.jsx(ve,{value:"dfd-schema",children:"Modelo DFD"}),e.jsx(ve,{value:"etp-schema",children:"Modelo ETP"}),e.jsx(ve,{value:"custom-schema",children:"Modelo Personalizado"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"required-fields",children:"Campos Obrigatórios"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(l=o.requiredFields)==null?void 0:l.map((u,d)=>e.jsxs(oe,{variant:"secondary",className:"flex items-center gap-1",children:[u,e.jsx("button",{onClick:()=>{var x;if(r)return;const h=((x=o.requiredFields)==null?void 0:x.filter((f,g)=>g!==d))||[];a({[t]:{...o,requiredFields:h}})},className:"ml-1 text-xs hover:text-red-600 disabled:opacity-50",disabled:r,children:"×"})]},d)),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>{if(r)return;const u=prompt("Nome do campo obrigatório:");if(u){const d=[...o.requiredFields||[],u];a({[t]:{...o,requiredFields:d}})}},disabled:r,children:"+ Adicionar"})]})]})]});case"stage_panel":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-sla",children:"Exibir SLA (Status & Prazo)"}),e.jsx(Mr,{id:"show-sla",checked:o.showSLA??!0,onCheckedChange:u=>a({[t]:{...o,showSLA:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-checklist",children:"Exibir Checklist"}),e.jsx(Mr,{id:"show-checklist",checked:o.showChecklist??!0,onCheckedChange:u=>a({[t]:{...o,showChecklist:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-timeline",children:"Exibir Timeline"}),e.jsx(Mr,{id:"show-timeline",checked:o.showTimeline??!0,onCheckedChange:u=>a({[t]:{...o,showTimeline:u}}),disabled:r})]})]});case"stage_actions":return e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{children:"Ações Disponíveis"}),e.jsx("div",{className:"space-y-2",children:[{key:"send",label:"Enviar para análise"},{key:"finish",label:"Concluir etapa"},{key:"generate_doc",label:"Gerar documento"}].map(({key:u,label:d})=>{var h;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:`action-${u}`,children:d}),e.jsx(Mr,{id:`action-${u}`,checked:((h=o.actions)==null?void 0:h.includes(u))??!0,onCheckedChange:x=>{if(r)return;const f=o.actions||[],g=x?[...f,u]:f.filter(p=>p!==u);a({[t]:{...o,actions:g}})},disabled:r})]},u)})})]});case"comments":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-mentions",children:"Permitir @menções"}),e.jsx(Mr,{id:"allow-mentions",checked:o.allowMentions??!0,onCheckedChange:u=>a({[t]:{...o,allowMentions:u}}),disabled:r})]})});case"signatures":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"Signatários"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[(c=o.signers)==null?void 0:c.map((u,d)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:u.name}),u.role&&e.jsx("div",{className:"text-xs text-slate-600",children:u.role})]}),e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{var x;if(r)return;const h=((x=o.signers)==null?void 0:x.filter((f,g)=>g!==d))||[];a({[t]:{...o,signers:h}})},disabled:r,children:"Remover"})]},u.id)),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>{if(r)return;const u=prompt("Nome do signatário:"),d=prompt("Papel do signatário (opcional):");if(u){const h={id:Date.now().toString(),name:u,role:d||void 0},x=[...o.signers||[],h];a({[t]:{...o,signers:x}})}},disabled:r,children:"+ Adicionar Signatário"})]})]})});case"doc_view":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"preview-mode",children:"Modo de Visualização"}),e.jsxs(rt,{value:o.previewMode||"modal",onValueChange:u=>a({[t]:{...o,previewMode:u}}),disabled:r,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione o modo"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"modal",children:"Modal"}),e.jsx(ve,{value:"new_tab",children:"Nova Aba"})]})]})]}),r&&e.jsx("div",{className:"text-sm text-slate-500 italic",children:'Ative "Assinaturas" para configurar a visualização de documentos.'})]});default:return e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Nenhuma configuração disponível para esta ferramenta."})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-md ${n.color}`,children:e.jsx(n.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.label}),e.jsx("p",{className:"text-sm text-slate-600",children:n.desc})]})]}),e.jsx(qj,{}),i()]})};function Ite({stage:t,onPatch:s,onEnableTool:a,onDisableTool:r,onReorderTools:n,onUpdateToolConfig:o,readOnly:i=!1}){const{toast:l}=Kt(),[c,u]=m.useState("general"),d=f=>{s({tools:f,toolsOrder:f})},h=f=>{n(f),l({title:"Ordem atualizada",description:"A ordem das ferramentas foi atualizada."})},x=f=>{o(f)};return e.jsx("div",{className:"h-full flex flex-col",children:e.jsxs(Va,{value:c,onValueChange:u,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b shadow-[0_1px_0_0_rgba(15,23,42,.06)] z-10",children:e.jsxs(Sa,{className:"grid w-full grid-cols-4 h-12",children:[e.jsxs(Vt,{value:"general",className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Geral"]}),e.jsxs(Vt,{value:"tools",className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Ferramentas"]}),e.jsxs(Vt,{value:"config",className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Configurações"]}),e.jsxs(Vt,{value:"permissions",className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"w-4 h-4"}),"Permissões"]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[e.jsx(Gt,{value:"general",className:"space-y-6 mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"title",className:"text-sm font-medium",children:"Título da Etapa"}),e.jsx(De,{id:"title",value:t.title,onChange:f=>s({title:f.target.value}),disabled:i,placeholder:"Digite o título da etapa...",className:"h-10"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Nome que aparecerá no card da etapa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"department",className:"text-sm font-medium",children:"Setor Responsável"}),e.jsxs(rt,{value:t.department||"",onValueChange:f=>s({department:f}),disabled:i,children:[e.jsx(st,{className:"h-10",children:e.jsx(nt,{placeholder:"Selecione o setor responsável"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"GSP - Gerência de Soluções e Projetos",children:"GSP - Gerência de Soluções e Projetos"}),e.jsx(ve,{value:"GSL - Gerência de Suprimentos e Logística",children:"GSL - Gerência de Suprimentos e Logística"}),e.jsx(ve,{value:"GRH - Gerência de Recursos Humanos",children:"GRH - Gerência de Recursos Humanos"}),e.jsx(ve,{value:"GUE - Gerência de Urgência e Emergência",children:"GUE - Gerência de Urgência e Emergência"}),e.jsx(ve,{value:"GLC - Gerência de Licitações e Contratos",children:"GLC - Gerência de Licitações e Contratos"}),e.jsx(ve,{value:"GFC - Gerência Financeira e Contábil",children:"GFC - Gerência Financeira e Contábil"}),e.jsx(ve,{value:"GTEC - Gerência de Tecnologia da Informação",children:"GTEC - Gerência de Tecnologia da Informação"}),e.jsx(ve,{value:"GAP - Gerência de Administração e Patrimônio",children:"GAP - Gerência de Administração e Patrimônio"}),e.jsx(ve,{value:"NAJ - Assessoria Jurídica",children:"NAJ - Assessoria Jurídica"}),e.jsx(ve,{value:"GESP - Gerência de Especialidades",children:"GESP - Gerência de Especialidades"}),e.jsx(ve,{value:"GCOM - Gerência de Comunicação",children:"GCOM - Gerência de Comunicação"}),e.jsx(ve,{value:"GQUAL - Gerência de Qualidade",children:"GQUAL - Gerência de Qualidade"}),e.jsx(ve,{value:"GSEG - Gerência de Segurança",children:"GSEG - Gerência de Segurança"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Setor responsável pela execução desta etapa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"days",className:"text-sm font-medium",children:"Prazo (Dias Úteis)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{id:"days",type:"number",min:"1",max:"365",value:t.days||"",onChange:f=>s({days:parseInt(f.target.value)||0}),disabled:i,placeholder:"Ex: 5",className:"h-10 w-24"}),e.jsx("span",{className:"text-sm text-slate-500",children:"dias úteis"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Tempo estimado para conclusão da etapa"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Resumo da Etapa"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Título:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.title||"Não definido"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Setor:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.department||"Não definido"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Prazo:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.days?`${t.days} dias úteis`:"Não definido"})]})]})]})})]})}),e.jsx(Gt,{value:"tools",className:"mt-0",children:e.jsx(Rte,{tools:t.tools,toolsOrder:t.toolsOrder,onChangeTools:d,onChangeOrder:h,readOnly:i})}),e.jsx(Gt,{value:"config",className:"mt-0",children:e.jsx("div",{className:"space-y-6",children:t.tools.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Ss,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{children:"Nenhuma ferramenta ativa"}),e.jsx("p",{className:"text-sm mt-1",children:'Ative ferramentas na aba "Ferramentas" para configurá-las'})]}):t.tools.map(f=>e.jsx(Mte,{tool:f,config:t.toolConfig||{},onConfigChange:x,isDisabled:f==="doc_view"&&!t.tools.includes("signatures")},f))})}),e.jsx(Gt,{value:"permissions",className:"mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Ca,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{className:"font-medium",children:"Permissões & Regras"}),e.jsx("p",{className:"text-sm mt-1",children:"Em desenvolvimento - funcionalidade futura"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Funcionalidades Planejadas:"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[e.jsx("li",{children:"• Campos obrigatórios por role"}),e.jsx("li",{children:"• Bloqueios condicionais"}),e.jsx("li",{children:"• Permissões por usuário/grupo"}),e.jsx("li",{children:"• Dependências entre etapas"}),e.jsx("li",{children:"• Validação de ordem de execução"})]})]})]})})]})]})})}function Ote({stage:t,isOpen:s,onClose:a,mode:r="edit"}){const{updateStage:n,enableTool:o,disableTool:i,reorderTools:l,updateToolConfig:c,setLayout:u,moveToolInLayout:d,enforceDeps:h}=Zr(),{toast:x}=Kt(),[f,g]=m.useState(null),[p,y]=m.useState(!1),[v,b]=m.useState(!1),[j,w]=m.useState(()=>{const O=localStorage.getItem(`stage.layout.${t==null?void 0:t.id}`);return O?JSON.parse(O):{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:(t==null?void 0:t.tools)||[]}});m.useEffect(()=>{if(t&&s){g({...t}),y(!1);const O=localStorage.getItem(`stage.layout.${t.id}`);w(O?JSON.parse(O):{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:t.tools})}},[t,s]),m.useEffect(()=>{f&&j&&localStorage.setItem(`stage.layout.${f.id}`,JSON.stringify(j))},[j,f]),m.useEffect(()=>{s&&setTimeout(()=>{var O;(O=document.getElementById("stage-preview-pane"))==null||O.scrollTo({top:0,behavior:"instant"})},100)},[s]),m.useEffect(()=>{if(!s)return;const O=S=>{S.key==="Escape"&&(S.preventDefault(),N()),(S.ctrlKey||S.metaKey)&&S.key==="s"&&(S.preventDefault(),E()),(S.ctrlKey||S.metaKey)&&(S.key==="ArrowLeft"||S.key==="ArrowRight")&&S.preventDefault()};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s,p]);const N=m.useCallback(()=>{p&&!window.confirm("Você tem alterações não salvas. Deseja realmente fechar?")||a()},[p,a]),E=m.useCallback(()=>{f&&(n(f.id,{title:f.title,department:f.department,days:f.days,status:f.status,tools:f.tools,toolsOrder:f.toolsOrder,toolConfig:f.toolConfig}),y(!1),x({title:"Etapa salva",description:"As alterações foram salvas com sucesso."}))},[f,n,x]),A=m.useCallback(()=>{t&&(g({...t}),y(!1),x({title:"Alterações revertidas",description:"O estado original foi restaurado."}))},[t,x]),P=m.useCallback(O=>{if(!f)return;const S={...f,...O};g(S),n(f.id,O),y(!0)},[f,n]),z=m.useCallback(O=>{f&&(o(f.id,O),h(f.id),y(!0))},[f,o,h]),T=m.useCallback(O=>{f&&(i(f.id,O),y(!0))},[f,i]),k=m.useCallback(O=>{f&&(l(f.id,O),y(!0))},[f,l]),L=m.useCallback(O=>{f&&(c(f.id,O),y(!0))},[f,c]),U=O=>{switch(O){case"done":return e.jsx(oe,{className:"bg-emerald-100 text-emerald-700",children:"Concluído"});case"in_progress":return e.jsx(oe,{className:"bg-indigo-100 text-indigo-700",children:"Em Andamento"});case"pending":return e.jsx(oe,{className:"bg-slate-100 text-slate-700",children:"Pendente"})}},Y=m.useCallback(O=>{f&&(u(f.id,O),w(S=>({...S,...O})),y(!0))},[f,u]),K=m.useCallback(O=>{f&&(i(f.id,O),h(f.id),y(!0))},[f,i,h]),F=m.useCallback(O=>{console.log("Configurar ferramenta:",O)},[]);return!s||!f?null:e.jsxs("div",{className:`
        fixed inset-0 z-[60]
        grid
        grid-rows-[56px,1fr]
        grid-cols-1 md:grid-cols-2
        md:[grid-template-columns:50%_50%]
        bg-slate-50
      `,children:[e.jsx("header",{className:"col-span-2 bg-white/95 backdrop-blur border-b",children:e.jsxs("div",{className:"h-[56px] px-4 lg:px-6 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:f.title}),U(f.status)]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(pte,{stage:f,layout:j,isFullscreen:v,hasChanges:p,onLayoutChange:Y,onFullscreenToggle:()=>b(!v),onRevert:A,onSave:E})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:A,disabled:!p,children:"Reverter"}),e.jsx(C,{size:"sm",onClick:E,disabled:!p,children:"Salvar"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:N,children:e.jsx(Yt,{className:"w-4 h-4"})})]})]})}),e.jsx("section",{id:"preview-pane",className:`
          row-start-2 col-start-1
          h-full w-full
          overflow-auto
          px-4 lg:px-6 py-4
          bg-slate-50
        `,children:e.jsx(kte,{stage:f,layout:j,onLayoutChange:Y,onToolRemove:K,onToolConfigure:F,className:"h-full w-full"})}),e.jsx("aside",{id:"config-pane",className:`
          row-start-2 col-start-2
          h-full w-full
          overflow-auto
          border-l bg-white
        `,children:e.jsx(Ite,{stage:f,onPatch:P,onEnableTool:z,onDisableTool:T,onReorderTools:k,onUpdateToolConfig:L,readOnly:r==="details"})})]})}function zte(){const{getStagesByModel:t,getStage:s,activeModelId:a}=Zr(),[r,n]=m.useState("Modelo Fiscatus"),[o,i]=m.useState("Fluxo completo para contratações públicas com todas as etapas necessárias para licitação e contratação."),[l,c]=m.useState("grid"),[u,d]=m.useState(100),[h,x]=m.useState(()=>{const S=localStorage.getItem("sidebar-collapsed");return S?JSON.parse(S):!1}),[f,g]=m.useState(null),[p,y]=m.useState(!1),[v,b]=m.useState("edit");m.useEffect(()=>(document.body.style.overscrollBehavior="contain",()=>{document.body.style.overscrollBehavior=""}),[]),m.useEffect(()=>{const S=setTimeout(()=>{document.body.style.overflow="auto"},50);return()=>clearTimeout(S)},[h]);const j=t(a||"modelo-fiscatus"),w=j.length,N=j.reduce((S,$)=>S+($.days||0),0),E=3,A=5,P=()=>{console.log("Modelo salvo")},z=()=>{console.log("Alterações revertidas")},T=S=>{c(S)},k=S=>{d(S)},L=S=>{console.log("Excluir etapa:",S)},U=S=>{g(S),b("details"),y(!0)},Y=S=>{g(S),b("edit"),y(!0)},K=()=>{y(!1),g(null)},F=()=>{const S=!h;x(S),localStorage.setItem("sidebar-collapsed",JSON.stringify(S))},O=j;return e.jsxs("div",{style:{"--safe-top":"56px","--pagebar-h":"52px","--toolbar-h":"48px","--gutter":"20px"},className:"h-screen w-screen overflow-x-hidden overflow-y-auto bg-slate-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:`w-full grid grid-cols-12 gap-4 lg:gap-6 px-[var(--gutter)] pb-8 min-h-full ${h?"pt-[calc(var(--safe-top)+var(--toolbar-h)+80px)]":"pt-[calc(var(--safe-top)+var(--toolbar-h)+40px)]"}`,children:[e.jsx("aside",{className:`col-span-12 ${h?"lg:hidden":"lg:col-span-2"} space-y-4`,id:"sidebar",children:e.jsx("div",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+52px)]",children:e.jsx(Fee,{onToggleCollapse:F})})}),e.jsxs("section",{className:`col-span-12 ${h?"lg:col-span-12":"lg:col-span-10"} space-y-4`,id:"canvas",children:[e.jsx(_ee,{nomeModelo:r,descricaoModelo:o,totalEtapas:w,totalDias:N,linhasCriticas:E,assinaturasPendentes:A,onNomeChange:n,onDescricaoChange:i,onSalvar:P,onReverter:z}),e.jsx(ate,{totalEtapas:w,totalDias:N,onViewModeChange:T,onZoomChange:k}),l==="grid"?e.jsx(nte,{etapas:O,zoom:u,editable:!0,onEdit:Y,onDelete:L,onView:U}):e.jsx(ote,{etapas:O,onEdit:Y,onDelete:L,onView:U}),O.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma etapa encontrada"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Adicione a primeira etapa ao seu modelo"}),e.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Adicionar primeiro card"})]})]})]}),h&&e.jsx("button",{onClick:F,className:"fixed left-4 top-[calc(var(--safe-top)+var(--toolbar-h)+120px)] z-30 bg-white border border-slate-200 rounded-lg p-2 shadow-lg hover:shadow-xl transition-all hover:bg-slate-50","aria-label":"Expandir sidebar",children:e.jsx(xF,{className:"w-5 h-5 text-slate-600"})}),e.jsx(Ote,{stage:f?s(f):null,isOpen:p,onClose:K,mode:v})]})}function Fte(){const t=fs(),{toast:s}=Kt(),{user:a,setUser:r}=Dt(),[n,o]=m.useState(!1),i=F=>F.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2),l=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),r(null),s({title:"Logout realizado",description:"Você foi desconectado do sistema com sucesso.",variant:"default"}),t("/login")},[c,u]=m.useState({nomeCompleto:"Lucas Moreira Brito",cargo:"Gerente de Recursos Humanos",email:"lucas.brito@hospital.gov.br",senhaAtual:"",novaSenha:"",confirmarSenha:"",idioma:"pt-BR"}),[d,h]=m.useState({nomeEntidade:"Prefeitura Municipal de São Paulo",sigla:"PMSP",cnpj:"12.345.678/0001-90",esferaAdministrativa:"municipal",emailContato:"fiscatus@prefeitura.sp.gov.br",telefone:"(11) 1234-5678",endereco:"Av. Paulista, 1000 - Bela Vista, São Paulo - SP, 01310-100",logotipo:null}),[x,f]=m.useState({tiposNotificacao:{novosProcessos:!0,pendenciasAssinatura:!0,mudancasStatus:!0,prazosVencendo:!0,novosDocumentos:!0}}),[g,p]=m.useState({modoExibicao:"claro"}),[y,v]=m.useState(null),[b,j]=m.useState(null),[w,N]=m.useState({}),[E,A]=m.useState("perfilUsuario"),[P,z]=m.useState({atual:!1,nova:!1,confirmar:!1}),T=async(F,O)=>{N(S=>({...S,[F]:!0})),await new Promise(S=>setTimeout(S,1e3)),N(S=>({...S,[F]:!1})),s({title:"Sucesso!",description:`Configurações de ${F} salvas com sucesso.`,variant:"default"})},k=F=>{var S;const O=(S=F.target.files)==null?void 0:S[0];O&&h($=>({...$,logotipo:O}))},L=F=>{var S;const O=(S=F.target.files)==null?void 0:S[0];if(O){v(O);const $=URL.createObjectURL(O);j($),s({title:"Foto atualizada!",description:"Sua foto de perfil foi alterada com sucesso.",variant:"default"})}},U=()=>{v(null),j(null),s({title:"Foto removida!",description:"Sua foto de perfil foi removida.",variant:"default"})},Y=async()=>{if(c.novaSenha!==c.confirmarSenha){s({title:"Erro!",description:"As senhas não coincidem.",variant:"destructive"});return}N(F=>({...F,alterarSenha:!0})),await new Promise(F=>setTimeout(F,1500)),N(F=>({...F,alterarSenha:!1})),u(F=>({...F,senhaAtual:"",novaSenha:"",confirmarSenha:""})),s({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso.",variant:"default"})},K=()=>{switch(E){case"perfilUsuario":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Perfil do Usuário"}),e.jsx("p",{className:"text-gray-600",children:"Edite suas informações pessoais e preferências individuais"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"nomeCompleto",children:"Nome completo"}),e.jsx(De,{id:"nomeCompleto",value:c.nomeCompleto,onChange:()=>{},readOnly:!0,disabled:!0,placeholder:"Digite seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo / Função"}),e.jsx(De,{id:"cargo",value:c.cargo,onChange:()=>{},readOnly:!0,disabled:!0,placeholder:"Ex: Fiscal de Contratos"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"email",children:"E-mail institucional"}),e.jsx(De,{id:"email",type:"email",value:c.email,onChange:F=>u(O=>({...O,email:F.target.value})),placeholder:"seu.email@prefeitura.gov.br",disabled:!0}),e.jsx("p",{className:"text-sm text-gray-500",children:"E-mail não editável pois é usado para login"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{children:"Foto de perfil"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:b?e.jsx("img",{src:b,alt:"Foto de perfil",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx(ht,{className:"w-10 h-10 text-gray-400"})})}),e.jsx("label",{htmlFor:"foto-perfil",className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors shadow-lg",children:e.jsx(qz,{className:"w-4 h-4 text-white"})}),e.jsx("input",{id:"foto-perfil",type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{var F;return(F=document.getElementById("foto-perfil"))==null?void 0:F.click()},children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Alterar foto"]}),b&&e.jsxs(C,{variant:"outline",size:"sm",onClick:U,className:"text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Remover foto"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"idioma",children:"Idioma preferido"}),e.jsxs(rt,{value:c.idioma,onValueChange:F=>u(O=>({...O,idioma:F})),children:[e.jsx(st,{children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"pt-BR",children:"Português"}),e.jsx(ve,{value:"en-US",children:"Inglês"}),e.jsx(ve,{value:"es-ES",children:"Espanhol"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alterar Senha"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"senhaAtual",children:"Senha atual"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"senhaAtual",type:P.atual?"text":"password",value:c.senhaAtual,onChange:F=>u(O=>({...O,senhaAtual:F.target.value})),placeholder:"Digite sua senha atual"}),e.jsx("button",{type:"button",onClick:()=>z(F=>({...F,atual:!F.atual})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.atual?e.jsx(Yi,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"novaSenha",children:"Nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"novaSenha",type:P.nova?"text":"password",value:c.novaSenha,onChange:F=>u(O=>({...O,novaSenha:F.target.value})),placeholder:"Digite a nova senha"}),e.jsx("button",{type:"button",onClick:()=>z(F=>({...F,nova:!F.nova})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.nova?e.jsx(Yi,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"confirmarSenha",children:"Confirmar nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"confirmarSenha",type:P.confirmar?"text":"password",value:c.confirmarSenha,onChange:F=>u(O=>({...O,confirmarSenha:F.target.value})),placeholder:"Confirme a nova senha"}),e.jsx("button",{type:"button",onClick:()=>z(F=>({...F,confirmar:!F.confirmar})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.confirmar?e.jsx(Yi,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]})]})]})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx(C,{onClick:()=>T("Perfil do Usuário"),disabled:w.perfilUsuario,className:"bg-blue-600 hover:bg-blue-700",children:w.perfilUsuario?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Atualizar Perfil"}),e.jsx(C,{onClick:Y,disabled:w.alterarSenha||!c.senhaAtual||!c.novaSenha||!c.confirmarSenha,variant:"outline",children:w.alterarSenha?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),"Alterando..."]}):"Alterar Senha"})]})]});case"perfilAdministracao":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Perfil da Administração Pública"}),e.jsx("p",{className:"text-gray-600",children:"Define dados institucionais da entidade que utiliza o sistema"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"nomeEntidade",children:"Nome da entidade pública"}),e.jsx(De,{id:"nomeEntidade",value:d.nomeEntidade,onChange:F=>h(O=>({...O,nomeEntidade:F.target.value})),placeholder:"Digite o nome da entidade"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"sigla",children:"Sigla"}),e.jsx(De,{id:"sigla",value:d.sigla,onChange:F=>h(O=>({...O,sigla:F.target.value})),placeholder:"Ex: PMSP"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(De,{id:"cnpj",value:d.cnpj,onChange:()=>{},readOnly:!0,placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"esferaAdministrativa",children:"Esfera administrativa"}),e.jsxs(rt,{value:d.esferaAdministrativa,onValueChange:F=>h(O=>({...O,esferaAdministrativa:F})),children:[e.jsx(st,{children:e.jsx(nt,{})}),e.jsxs(at,{children:[e.jsx(ve,{value:"municipal",children:"Municipal"}),e.jsx(ve,{value:"estadual",children:"Estadual"}),e.jsx(ve,{value:"federal",children:"Federal"}),e.jsx(ve,{value:"consorcio",children:"Consórcio Público"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"emailContato",children:"E-mail de contato oficial"}),e.jsx(De,{id:"emailContato",type:"email",value:d.emailContato,onChange:F=>h(O=>({...O,emailContato:F.target.value})),placeholder:"contato@entidade.gov.br"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"telefone",children:"Telefone institucional"}),e.jsx(De,{id:"telefone",value:d.telefone,onChange:F=>h(O=>({...O,telefone:F.target.value})),placeholder:"(00) 0000-0000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"endereco",children:"Endereço completo"}),e.jsx(De,{id:"endereco",value:d.endereco,onChange:F=>h(O=>({...O,endereco:F.target.value})),placeholder:"Rua, número, bairro, cidade - UF, CEP"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"logotipo",children:"Logotipo da administração"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(De,{id:"logotipo",type:"file",accept:"image/*",onChange:k,className:"max-w-xs"}),d.logotipo&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:URL.createObjectURL(d.logotipo),alt:"Preview",className:"w-12 h-12 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.logotipo.name})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Formatos aceitos: PNG, JPG, SVG. Tamanho máximo: 2MB."})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>T("Perfil da Administração"),disabled:w.perfilAdministracao,className:"bg-blue-600 hover:bg-blue-700",children:w.perfilAdministracao?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Informações da Administração"})})]});case"notificacoes":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Notificações"}),e.jsx("p",{className:"text-gray-600",children:"Configure como deseja receber comunicações do sistema"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tipos de notificação a receber:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"novosProcessos",checked:x.tiposNotificacao.novosProcessos,onCheckedChange:F=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,novosProcessos:F}}))}),e.jsx(B,{htmlFor:"novosProcessos",children:"Novos processos atribuídos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"pendenciasAssinatura",checked:x.tiposNotificacao.pendenciasAssinatura,onCheckedChange:F=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,pendenciasAssinatura:F}}))}),e.jsx(B,{htmlFor:"pendenciasAssinatura",children:"Pendências de assinatura"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"mudancasStatus",checked:x.tiposNotificacao.mudancasStatus,onCheckedChange:F=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,mudancasStatus:F}}))}),e.jsx(B,{htmlFor:"mudancasStatus",children:"Mudanças no status do processo"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"prazosVencendo",checked:x.tiposNotificacao.prazosVencendo,onCheckedChange:F=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,prazosVencendo:F}}))}),e.jsx(B,{htmlFor:"prazosVencendo",children:"Prazos vencendo ou vencidos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"novosDocumentos",checked:x.tiposNotificacao.novosDocumentos,onCheckedChange:F=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,novosDocumentos:F}}))}),e.jsx(B,{htmlFor:"novosDocumentos",children:"Novos documentos anexados"})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>T("Notificações"),disabled:w.notificacoes,className:"bg-blue-600 hover:bg-blue-700",children:w.notificacoes?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Preferências de Notificação"})})]});case"aparencia":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Aparência"}),e.jsx("p",{className:"text-gray-600",children:"Customize a interface de acordo com sua preferência visual"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modo de exibição:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",id:"modoClaro",name:"modoExibicao",value:"claro",checked:g.modoExibicao==="claro",onChange:F=>p(O=>({...O,modoExibicao:F.target.value})),className:"w-4 h-4 text-blue-600"}),e.jsxs(B,{htmlFor:"modoClaro",className:"flex items-center gap-2",children:[e.jsx(q4,{className:"w-4 h-4"}),"Claro"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",id:"modoEscuro",name:"modoExibicao",value:"escuro",checked:g.modoExibicao==="escuro",onChange:F=>p(O=>({...O,modoExibicao:F.target.value})),className:"w-4 h-4 text-blue-600"}),e.jsxs(B,{htmlFor:"modoEscuro",className:"flex items-center gap-2",children:[e.jsx(U4,{className:"w-4 h-4"}),"Escuro"]})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>T("Aparência"),disabled:w.aparencia,className:"bg-blue-600 hover:bg-blue-700",children:w.aparencia?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Aplicar Aparência"})})]});case"templates":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Templates e Documentos"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie os modelos de documentos do sistema"})]}),e.jsx("div",{className:"space-y-4",children:templates.map(F=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:F.nome}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{type:"file",accept:".pdf,.doc,.docx",onChange:O=>handleUploadTemplate(F.id,O),className:"max-w-xs"}),F.nomeArquivo&&e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"outline",size:"sm",children:e.jsx(bt,{className:"w-4 h-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>handleRemoverTemplate(F.id),children:e.jsx(It,{className:"w-4 h-4"})})]})]})]}),F.nomeArquivo&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Arquivo: ",F.nomeArquivo]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Este template será usado como base para novos documentos do tipo ",F.nome.toLowerCase(),"."]})]},F.id))}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>T("Templates",templates),disabled:w.templates,className:"bg-orange-600 hover:bg-orange-700",children:w.templates?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Templates"})})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"p-2",children:e.jsx(ix,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-gray-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Configurações"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(De,{type:"text",placeholder:"Buscar processo...",className:"w-32 md:w-40 lg:w-64 border-gray-200 focus:border-blue-300 focus:ring-blue-200"}),e.jsxs("div",{className:"relative",children:[e.jsx(pL,{onClick:()=>o(!n)}),e.jsx(JE,{isOpen:n,onClose:()=>o(!1)})]}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Configurações",onClick:()=>t("/configuracoes"),children:e.jsx(Ft,{className:"w-4 h-4 text-gray-600"})}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx("button",{className:"flex items-center justify-center w-8 h-8 rounded-full border border-gray-200 bg-gray-100 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsxs(hr,{className:"w-8 h-8 border-0",children:[e.jsx(xr,{src:"/usuario.png"}),e.jsx(fr,{className:"bg-gray-100 text-gray-700 font-medium text-sm",children:a?i(a.nome):"GM"})]})})}),e.jsxs(Zd,{align:"end",className:"w-64 p-2",children:[e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:(a==null?void 0:a.nome)||"Usuário"}),e.jsx("div",{className:"text-gray-500 text-xs",children:(a==null?void 0:a.email)||"usuario@exemplo.com"})]}),e.jsx(fh,{}),e.jsxs(pr,{onClick:l,className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50 focus:text-red-700 focus:bg-red-50",children:[e.jsx(G4,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair do sistema"})]})]})]})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-64 bg-white border-r border-gray-200 min-h-screen",children:e.jsx("nav",{className:"p-4 space-y-1",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>A("perfilUsuario"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="perfilUsuario"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:"Perfil do Usuário"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>A("perfilAdministracao"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="perfilAdministracao"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($s,{className:"w-4 h-4"}),e.jsx("span",{children:"Perfil da Administração"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>A("notificacoes"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="notificacoes"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ro,{className:"w-4 h-4"}),e.jsx("span",{children:"Notificações"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>A("aparencia"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="aparencia"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($g,{className:"w-4 h-4"}),e.jsx("span",{children:"Aparência"})]}),e.jsx(Fs,{className:"w-4 h-4"})]})]})})}),e.jsx("div",{className:"flex-1 p-8",children:e.jsx("div",{className:"max-w-4xl",children:K()})})]})]})}function _te({notification:t,isOpen:s,onClose:a,onMarkAsRead:r}){if(!t)return null;const n=l=>{switch(l){case"process":return"text-blue-600 bg-blue-50";case"signature":return"text-purple-600 bg-purple-50";case"warning":return"text-orange-600 bg-orange-50";case"success":return"text-green-600 bg-green-50";case"info":return"text-blue-600 bg-blue-50";case"system":return"text-gray-600 bg-gray-50";case"deadline":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},o=l=>{switch(l){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},i=()=>{t.isRead||r(t.id),a()};return e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsx(Qe,{children:e.jsx(Xe,{className:"text-lg font-semibold",children:"Detalhes da Notificação"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${n(t.type)}`,children:t.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),!t.isRead&&e.jsx(oe,{variant:"default",className:"bg-blue-600 text-white text-xs",children:"• Nova"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:t.timestamp}),e.jsxs(oe,{variant:"outline",className:o(t.priority),children:[t.priority==="high"?"Alta":t.priority==="medium"?"Média":"Baixa"," prioridade"]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:t.type==="process"?"Processo":t.type==="signature"?"Assinatura":t.type==="warning"?"Aviso":t.type==="success"?"Sucesso":t.type==="info"?"Informação":t.type==="system"?"Sistema":t.type==="deadline"?"Prazo":t.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:t.isRead?"text-green-600":"text-blue-600",children:t.isRead?"Lida":"Não lida"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[!t.isRead&&e.jsxs(C,{onClick:i,variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Marcar como lida"]}),e.jsx(C,{onClick:a,variant:"outline",size:"sm",className:"flex-1",children:"Fechar"})]})]})]})})}const O2=[{id:"1",type:"mention",title:"Você foi mencionado",description:"Yasmin Pissolati Mattos Bretz mencionou você em um comentário do processo PA-001/2024.",timestamp:"há 30 minutos",isRead:!1,link:"/processo/1#comentario-123",icon:e.jsx(zl,{className:"w-4 h-4"}),priority:"medium"},{id:"2",type:"signature",title:"Assinatura solicitada",description:"DFD 010/2025 está aguardando sua assinatura há mais de 24 horas",timestamp:"há 2 horas",isRead:!1,link:"/processos/10",icon:e.jsx(ar,{className:"w-4 h-4"}),priority:"high"},{id:"3",type:"process",title:"Processo atualizado",description:"ETP 011/2025 foi movido para 'Em andamento' pelo usuário Lucas Moreira Brito",timestamp:"há 5 horas",isRead:!1,link:"/processos/11",icon:e.jsx($e,{className:"w-4 h-4"}),priority:"medium"},{id:"3",type:"deadline",title:"Prazo próximo",description:"TR 012/2025 vence em 2 dias. Ação necessária para evitar atraso",timestamp:"ontem",isRead:!0,link:"/processos/12",icon:e.jsx(Fe,{className:"w-4 h-4"}),priority:"high"},{id:"4",type:"success",title:"Processo concluído",description:"DFD 013/2025 foi finalizado com sucesso e arquivado no sistema",timestamp:"2 dias atrás",isRead:!0,link:"/processos/13",icon:e.jsx(Re,{className:"w-4 h-4"}),priority:"low"},{id:"5",type:"info",title:"Nova atribuição",description:"Você foi designado para analisar ETP 014/2025 pelo gestor Maria Santos",timestamp:"3 dias atrás",isRead:!0,link:"/processos/14",icon:e.jsx(fn,{className:"w-4 h-4"}),priority:"medium"},{id:"6",type:"system",title:"Manutenção programada",description:"O sistema estará indisponível das 02:00 às 04:00 para manutenção. Durante este período, algumas funcionalidades podem estar temporariamente indisponíveis. Pedimos desculpas pelo inconveniente.",timestamp:"há 1 dia",isRead:!1,icon:e.jsx(pt,{className:"w-4 h-4"}),priority:"medium"},{id:"7",type:"warning",title:"Documento expirado",description:"O documento 'Anexo A - Especificações' do processo ETP 015/2025 expirou",timestamp:"há 3 dias",isRead:!0,link:"/processos/15",icon:e.jsx(pt,{className:"w-4 h-4"}),priority:"high"},{id:"8",type:"process",title:"Comentário adicionado",description:"Novo comentário em ETP 016/2025: 'Necessário ajuste na especificação técnica'",timestamp:"há 4 dias",isRead:!0,link:"/processos/16",icon:e.jsx($e,{className:"w-4 h-4"}),priority:"low"},{id:"9",type:"info",title:"Atualização do sistema",description:"Nova versão do sistema Fiscatus foi lançada com melhorias na interface e correções de bugs. As principais novidades incluem: melhor performance, interface mais intuitiva, e novas funcionalidades de relatórios.",timestamp:"há 5 dias",isRead:!0,icon:e.jsx(fn,{className:"w-4 h-4"}),priority:"medium"}],Lte=[{key:"todas",label:"Todas",icon:"✅",color:"bg-gray-100 hover:bg-gray-200 text-gray-700"},{key:"nao-lidas",label:"Não lidas",icon:"📥",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"},{key:"lidas",label:"Lidas",icon:"📤",color:"bg-green-100 hover:bg-green-200 text-green-700"},{key:"mencoes",label:"Menções",icon:"@",color:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700"},{key:"processo",label:"Processo",icon:"🔄",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"},{key:"assinatura",label:"Assinatura",icon:"✍️",color:"bg-purple-100 hover:bg-purple-200 text-purple-700"},{key:"sistema",label:"Sistema",icon:"⚙️",color:"bg-gray-100 hover:bg-gray-200 text-gray-700"},{key:"prazo",label:"Prazo",icon:"⏰",color:"bg-red-100 hover:bg-red-200 text-red-700"},{key:"aviso",label:"Aviso",icon:"⚠️",color:"bg-orange-100 hover:bg-orange-200 text-orange-700"},{key:"sucesso",label:"Sucesso",icon:"✅",color:"bg-green-100 hover:bg-green-200 text-green-700"},{key:"info",label:"Info",icon:"ℹ️",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"}];function $te(){const[t,s]=m.useState(O2),[a,r]=m.useState(O2),[n,o]=m.useState(["todas"]),[i,l]=m.useState("");m.useState(!1);const[c,u]=m.useState(null),[d,h]=m.useState(!1),x=fs(),{toast:f}=Kt();m.useEffect(()=>{let N=t;if(n.includes("todas")||(N=N.filter(E=>n.some(A=>{switch(A){case"nao-lidas":return!E.isRead;case"lidas":return E.isRead;case"mencoes":return E.type==="mention";case"processo":return E.type==="process";case"assinatura":return E.type==="signature";case"sistema":return E.type==="system";case"prazo":return E.type==="deadline";case"aviso":return E.type==="warning";case"sucesso":return E.type==="success";case"info":return E.type==="info";default:return!1}}))),i.trim()){const E=i.toLowerCase();N=N.filter(A=>A.title.toLowerCase().includes(E)||A.description.toLowerCase().includes(E))}N.sort((E,A)=>!E.isRead&&A.isRead?-1:E.isRead&&!A.isRead?1:0),r(N)},[t,n,i]);const g=N=>{o(E=>{if(N==="todas")return["todas"];const A=E.filter(P=>P!=="todas");if(E.includes(N)){const P=A.filter(z=>z!==N);return P.length===0?["todas"]:P}else return[...A,N]})},p=()=>{o(["todas"]),l("")},y=N=>{s(E=>E.map(A=>A.id===N?{...A,isRead:!0}:A)),f({title:"Notificação marcada como lida",description:"A notificação foi atualizada com sucesso.",variant:"default"})},v=N=>{N.isRead||y(N.id),N.link?x(N.link):(u(N),h(!0))},b=N=>{switch(N){case"mention":return"text-indigo-600 bg-indigo-50 border-indigo-200";case"process":return"text-blue-600 bg-blue-50 border-blue-200";case"signature":return"text-purple-600 bg-purple-50 border-purple-200";case"warning":return"text-orange-600 bg-orange-50 border-orange-200";case"success":return"text-green-600 bg-green-50 border-green-200";case"info":return"text-blue-600 bg-blue-50 border-blue-200";case"system":return"text-gray-600 bg-gray-50 border-gray-200";case"deadline":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},j=N=>N,w=t.filter(N=>!N.isRead).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 h-screen flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtros"}),(n.length>1||n.length===1&&!n.includes("todas"))&&e.jsxs(C,{variant:"ghost",size:"sm",onClick:p,className:"text-xs text-gray-500 hover:text-gray-700",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Limpar filtros"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto pb-2",children:Lte.map(N=>e.jsxs("button",{onClick:()=>g(N.key),className:`inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 border ${n.includes(N.key)?`${N.color} border-current shadow-sm`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-base",children:N.icon}),e.jsx("span",{children:N.label}),N.key==="nao-lidas"&&w>0&&e.jsx(oe,{variant:"default",className:"ml-1 bg-blue-600 text-white text-xs",children:w})]},N.key))})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto px-6 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(N=>e.jsx(Ge,{className:`transition-all duration-200 hover:shadow-lg cursor-pointer border-2 ${N.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 shadow-md"}`,onClick:()=>v(N),children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`p-3 rounded-xl border relative ${b(N.type)}`,children:[N.icon,!N.isRead&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx(jF,{className:"w-4 h-4 text-blue-600"})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg line-clamp-1",children:N.title}),!N.isRead&&e.jsx(oe,{variant:"default",className:"bg-blue-600 text-white text-xs px-2 py-1",children:"Nova"})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 leading-relaxed",children:N.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),j(N.timestamp)]}),e.jsxs(oe,{variant:"outline",className:`text-xs ${N.priority==="high"?"border-red-200 text-red-700 bg-red-50":N.priority==="medium"?"border-yellow-200 text-yellow-700 bg-yellow-50":"border-green-200 text-green-700 bg-green-50"}`,children:[N.priority==="high"?"Alta":N.priority==="medium"?"Média":"Baixa"," prioridade"]})]})]}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",onClick:E=>E.stopPropagation(),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:e.jsx(eb,{className:"w-4 h-4"})})}),e.jsxs(Zd,{align:"end",children:[!N.isRead&&e.jsxs(pr,{onClick:E=>{E.stopPropagation(),y(N.id)},children:[e.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Marcar como lida"]}),e.jsxs(pr,{onClick:E=>{E.stopPropagation(),u(N),h(!0)},children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Ver detalhes"]}),N.link&&e.jsxs(pr,{onClick:E=>{E.stopPropagation(),x(N.link)},children:[e.jsx(tb,{className:"w-4 h-4 mr-2"}),"Ir para processo"]})]})]})]})})]})})},N.id))}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Ge,{className:"text-center py-16 px-8 max-w-md",children:e.jsx(We,{children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full",children:e.jsx(sF,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Nenhuma notificação encontrada"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i||n.some(N=>N!=="todas")?"Tente ajustar os filtros ou termos de busca para encontrar notificações":"Você não possui notificações no momento. Novas notificações aparecerão aqui quando disponíveis."}),(i||n.some(N=>N!=="todas"))&&e.jsx(C,{variant:"outline",className:"mt-4",onClick:p,children:"Limpar filtros"})]})]})})})})})})})]}),e.jsx(_te,{notification:c,isOpen:d,onClose:()=>{h(!1),u(null)},onMarkAsRead:y})]})}function Vte({items:t,className:s}){const a=sr();return e.jsx("div",{className:je("relative w-full max-w-md mx-auto",s),children:e.jsx("div",{className:"flex items-center justify-center space-x-1 bg-background/60 backdrop-blur-xl border border-border/50 rounded-2xl p-1 shadow-lg",children:t.map((r,n)=>{const o=a.pathname===r.url,i=r.icon;return e.jsxs(cd,{to:r.url,className:"relative flex items-center justify-center w-16 h-12 rounded-xl transition-all duration-300 hover:scale-105",children:[e.jsxs(ms.div,{className:"flex flex-col items-center justify-center w-full h-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(i,{className:je("w-5 h-5 transition-colors duration-300",o?"text-primary":"text-muted-foreground")}),e.jsx("span",{className:je("text-xs mt-1 font-medium transition-colors duration-300",o?"text-primary":"text-muted-foreground"),children:r.name})]}),o&&e.jsx(ms.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 border border-primary/20 rounded-xl",initial:!1,transition:{type:"spring",stiffness:500,damping:30},children:e.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-t-full",children:[e.jsx("div",{className:"absolute w-12 h-6 bg-primary/20 rounded-full blur-md -top-2 -left-2"}),e.jsx("div",{className:"absolute w-8 h-6 bg-primary/20 rounded-full blur-md -top-1"}),e.jsx("div",{className:"absolute w-4 h-4 bg-primary/20 rounded-full blur-sm top-0 left-2"})]})})]},r.name)})})})}function z2({items:t,className:s,variant:a="default"}){const r=sr();return e.jsx("div",{className:je("relative w-full",s),children:e.jsx("div",{className:je("flex items-center justify-center gap-2 bg-background/60 backdrop-blur-xl border border-border/50 rounded-2xl p-2 shadow-lg",a==="compact"?"max-w-sm":"max-w-4xl"),children:t.map((n,o)=>{const i=r.pathname===n.url||n.url!=="/"&&r.pathname.startsWith(n.url),l=n.icon;return e.jsxs(cd,{to:n.url,className:je("relative flex items-center justify-center rounded-xl transition-all duration-300 hover:scale-105",a==="compact"?"w-12 h-10":"w-20 h-14"),children:[e.jsxs(ms.div,{className:"flex flex-col items-center justify-center w-full h-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(l,{className:je("transition-colors duration-300",a==="compact"?"w-4 h-4":"w-5 h-5",i?"text-primary":"text-muted-foreground")}),a==="default"&&e.jsx("span",{className:je("text-xs mt-1 font-medium transition-colors duration-300 text-center leading-tight",i?"text-primary":"text-muted-foreground"),children:n.name})]}),i&&e.jsx(ms.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 border border-primary/20 rounded-xl",initial:!1,transition:{type:"spring",stiffness:500,damping:30},children:e.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-t-full",children:[e.jsx("div",{className:"absolute w-12 h-6 bg-primary/20 rounded-full blur-md -top-2 -left-2"}),e.jsx("div",{className:"absolute w-8 h-6 bg-primary/20 rounded-full blur-md -top-1"}),e.jsx("div",{className:"absolute w-4 h-4 bg-primary/20 rounded-full blur-sm top-0 left-2"})]})})]},n.name)})})})}function Gte(){const t=[{name:"Planejamento da Contratação",url:"/planejamento-da-contratacao",icon:sb},{name:"Meus Processos",url:"/processos",icon:$e},{name:"Processos da Gerência",url:"/processos-gerencia",icon:qt},{name:"Minhas Assinaturas",url:"/assinaturas",icon:Tt},{name:"Modelos de Fluxo",url:"/modelos-de-fluxo",icon:mF}];return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-slate-800",children:"Navegação Tubelight"}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Navegação moderna com efeito de luz e animações suaves"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Versão Padrão"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Vte,{items:t})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Versão Compacta"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(z2,{items:t,variant:"compact"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Versão Compacta com Texto"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(z2,{items:t,variant:"default"})})]})]})]})})}function Bte(){return e.jsx(Gte,{})}function Ni(t){return t.trim().toLowerCase()}function F2(t,s,a){var i;if(a===null)return!1;if(a===s)return!0;let r=a;const n=new Map(t.map(l=>[l.id,l])),o=new Set;for(;r;){if(r===s||o.has(r))return!0;o.add(r),r=((i=n.get(r))==null?void 0:i.unidadePaiId)??null}return!1}function wi(t){const s=t.responsavelUserId;return!s||t.membros.some(r=>r.userId===s)?t:{...t,membros:[{userId:s,funcao:"chefe"},...t.membros]}}const Ute=[{id:"u1",nome:"Ana Clara",email:"ana.clara@hospital.gov.br",ativo:!0},{id:"u2",nome:"Bruno Lima",email:"bruno.lima@hospital.gov.br",ativo:!0},{id:"u3",nome:"Carla Souza",email:"carla.souza@hospital.gov.br",ativo:!0},{id:"u4",nome:"Diego Martins",email:"diego.martins@hospital.gov.br",ativo:!0},{id:"u5",nome:"Eduarda Nunes",email:"eduarda.nunes@hospital.gov.br",ativo:!0},{id:"u6",nome:"Felipe Araujo",email:"felipe.araujo@hospital.gov.br",ativo:!0},{id:"u7",nome:"Gabriela Rocha",email:"gabriela.rocha@hospital.gov.br",ativo:!0},{id:"u8",nome:"Henrique Alves",email:"henrique.alves@hospital.gov.br",ativo:!0},{id:"u9",nome:"Isabela Castro",email:"isabela.castro@hospital.gov.br",ativo:!0},{id:"u10",nome:"João Pedro",email:"joao.pedro@hospital.gov.br",ativo:!0}],Hs=()=>Date.now(),Hte=()=>[{id:"g1",nome:"Gerência de Soluções e Projetos",sigla:"GSP",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),descricao:"Responsável por soluções e projetos",competencias:["projetos","soluções"],responsavelUserId:"u1",email:"gsp@hospital.gov.br"},{id:"g2",nome:"Gerência de Licitações",sigla:"GLC",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u2"},{id:"g3",nome:"Gerência Financeira",sigla:"GFC",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u3"},{id:"g4",nome:"Gerência de Recursos Humanos",sigla:"GRH",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u4"},{id:"g5",nome:"Gerência de Urgência e Emergência",sigla:"GUE",status:"inativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u5"}].map(wi),zs=R6()(M6((t,s)=>({gerencias:Hte(),usuarios:Ute,createGerencia:a=>{const r=s();if(!a.nome||!a.nome.trim())throw new Error("Nome é obrigatório");const n=Ni(a.nome);if(r.gerencias.some(c=>Ni(c.nome)===n))throw new Error("Nome de gerência deve ser único");const o=`g_${Math.random().toString(36).slice(2,9)}`,i=Hs(),l=wi({...a,id:o,createdAt:i,updatedAt:i});return t({gerencias:[...r.gerencias,l]}),o},updateGerencia:(a,r)=>{t(n=>{const o=n.gerencias.findIndex(u=>u.id===a);if(o===-1)return n;const i=n.gerencias[o];let l={...i,...r,updatedAt:Hs()};if(r!=null&&r.nome&&Ni(r.nome)!==Ni(i.nome)&&n.gerencias.some(u=>u.id!==a&&Ni(u.nome)===Ni(r.nome)))throw new Error("Nome de gerência deve ser único");if((r==null?void 0:r.unidadePaiId)!==void 0&&F2(n.gerencias,a,r.unidadePaiId??null))throw new Error("Movimento inválido: criaria ciclo");l=wi(l);const c=[...n.gerencias];return c[o]=l,{...n,gerencias:c}})},deleteGerencia:a=>{t(r=>{if(r.gerencias.some(o=>o.unidadePaiId===a))throw new Error("Não é possível excluir: possui subunidades");return{...r,gerencias:r.gerencias.filter(o=>o.id!==a)}})},moveGerencia:(a,r)=>{t(n=>{if(F2(n.gerencias,a,r))throw new Error("Movimento inválido: criaria ciclo");const o=n.gerencias.map(i=>i.id===a?{...i,unidadePaiId:r,updatedAt:Hs()}:i);return{...n,gerencias:o}})},addMembro:(a,r,n)=>{t(o=>{const i=o.gerencias.findIndex(h=>h.id===a);if(i===-1)return o;const l=o.gerencias[i];if(l.membros.some(h=>h.userId===r))return o;const c=[...l.membros,{userId:r,funcao:n}],u=wi({...l,membros:c,updatedAt:Hs()}),d=[...o.gerencias];return d[i]=u,{...o,gerencias:d}})},updateMembro:(a,r,n)=>{t(o=>{const i=o.gerencias.findIndex(h=>h.id===a);if(i===-1)return o;const l=o.gerencias[i],c=l.membros.map(h=>h.userId===r?{...h,...n}:h),u=wi({...l,membros:c,updatedAt:Hs()}),d=[...o.gerencias];return d[i]=u,{...o,gerencias:d}})},removeMembro:(a,r)=>{t(n=>{const o=n.gerencias.findIndex(h=>h.id===a);if(o===-1)return n;const i=n.gerencias[o];let l=i.membros.filter(h=>h.userId!==r);const c=i.responsavelUserId===r?null:i.responsavelUserId??null,u=wi({...i,membros:l,responsavelUserId:c,updatedAt:Hs()}),d=[...n.gerencias];return d[o]=u,{...n,gerencias:d}})},getGerencia:a=>s().gerencias.find(r=>r.id===a),findChildren:a=>s().gerencias.filter(r=>(r.unidadePaiId??null)===a).sort((r,n)=>r.nome.localeCompare(n.nome))}),{name:"admin-store",storage:uy(()=>localStorage),version:1,partialize:t=>({gerencias:t.gerencias,usuarios:t.usuarios})}));function Wte({selectedId:t,onSelect:s,onCreateChild:a,onEdit:r,onDelete:n}){const o=zs(y=>y.gerencias),i=zs(y=>y.findChildren);zs(y=>y.moveGerencia);const[l,c]=m.useState(""),[u,d]=m.useState("todas");m.useState({});const h=m.useMemo(()=>i(null),[i,o]),x=y=>u==="todas"?!0:u==="ativas"?y.status==="ativa":y.status==="inativa",f=y=>{var b,j;if(!l.trim())return!0;const v=l.toLowerCase();return y.nome.toLowerCase().includes(v)||(((b=y.sigla)==null?void 0:b.toLowerCase().includes(v))??!1)||(((j=y.descricao)==null?void 0:j.toLowerCase().includes(v))??!1)},g=y=>x(y)&&f(y),p=(y,v=0)=>{const j=t===y.id,w=[],N=g(y),E=w.length>0;return!N&&!E?null:e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 py-1 px-2 rounded cursor-pointer ${j?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>s(y.id),"aria-selected":j,role:"treeitem","aria-expanded":void 0,style:{paddingLeft:8+v*16},children:[e.jsx("span",{className:"w-4 h-4"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"truncate font-medium",children:y.nome}),y.sigla&&e.jsx(oe,{variant:"secondary",className:"text-[10px]",children:y.sigla}),e.jsx(oe,{variant:y.status==="ativa"?"outline":"secondary",className:`text-[10px] ${y.status==="inativa"?"opacity-60":""}`,children:y.status==="ativa"?"Ativa":"Inativa"})]})}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",onClick:A=>A.stopPropagation(),"aria-label":"Ações",children:e.jsx(eb,{className:"w-4 h-4"})})}),e.jsxs(Zd,{align:"end",children:[e.jsx(pr,{onClick:()=>r==null?void 0:r(y.id),children:"Editar"}),e.jsx(pr,{onClick:()=>n==null?void 0:n(y.id),children:"Excluir"})]})]})]}),!1]},y.id)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(De,{placeholder:"Buscar gerência…",value:l,onChange:y=>c(y.target.value)}),e.jsxs(rt,{value:u,onValueChange:y=>d(y),children:[e.jsx(st,{className:"w-40",children:e.jsx(nt,{placeholder:"Status"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todas",children:"Todas"}),e.jsx(ve,{value:"ativas",children:"Ativas"}),e.jsx(ve,{value:"inativas",children:"Inativas"})]})]}),e.jsxs(C,{variant:"outline",onClick:()=>a==null?void 0:a(null),children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"})," Nova Gerência"]})]}),e.jsxs("div",{role:"tree","aria-label":"Lista de Gerências",className:"max-h-[60vh] overflow-auto",children:[h.map(y=>p(y)),h.length===0&&e.jsx("div",{className:"text-sm text-muted-foreground py-4 px-2",children:"Nenhuma gerência cadastrada."})]})]})}function qte({gerenciaId:t,onEdit:s,onAddMember:a}){var u;const r=zs(d=>d.getGerencia),n=zs(d=>d.findChildren),o=zs(d=>d.usuarios),i=r(t);if(!i)return e.jsx(Ge,{children:e.jsxs(_t,{children:[e.jsx(Lt,{children:"Gerência não encontrada"}),e.jsx(Ra,{children:"Verifique a seleção à esquerda"})]})});const l=Yte(t,r);n(t);const c=i.responsavelUserId?o.find(d=>d.id===i.responsavelUserId):void 0;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ge,{children:[e.jsxs(_t,{className:"flex flex-row items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(Lt,{className:"flex items-center gap-2",children:[i.nome,i.sigla&&e.jsx(oe,{variant:"secondary",children:i.sigla})]}),e.jsx(Ra,{children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(oe,{variant:i.status==="ativa"?"outline":"secondary",className:i.status==="inativa"?"opacity-60":"",children:i.status==="ativa"?"Ativa":"Inativa"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Atualizada em ",new Date(i.updatedAt).toLocaleDateString("pt-BR")]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"outline",onClick:()=>s==null?void 0:s(i.id),children:[e.jsx(bl,{className:"w-4 h-4 mr-2"})," Editar"]}),e.jsxs(C,{variant:"outline",disabled:!0,children:[e.jsx(It,{className:"w-4 h-4 mr-2"})," Excluir"]})]})]}),e.jsxs(We,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx($p,{label:"Responsável",value:c?`${c.nome} (${c.email})`:"—"}),e.jsx($p,{label:"E-mail",value:i.email||"—"}),e.jsx($p,{label:"Telefone",value:i.telefone||"—"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Competências"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:(u=i.competencias)!=null&&u.length?i.competencias.map(d=>e.jsx(oe,{variant:"secondary",children:d},d)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"—"})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Unidade Pai"}),e.jsx("div",{className:"text-sm",children:l.length===0?"Raiz":l.map(d=>d.nome).join(" › ")})]}),i.descricao&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Descrição"}),e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:i.descricao})]})]})]}),e.jsxs(Ge,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Membros"}),e.jsx(Ra,{children:"Usuários associados à gerência"})]}),e.jsxs(C,{onClick:()=>a==null?void 0:a(i.id),children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"})," Adicionar Membro"]})]}),e.jsx(We,{children:i.membros.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:'Nenhum membro. Clique em "Adicionar Membro".'}):e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(dt,{children:"Usuário"}),e.jsx(dt,{children:"E-mail"}),e.jsx(dt,{children:"Função"}),e.jsx(dt,{children:"Desde"}),e.jsx(dt,{children:"Até"})]})}),e.jsx(ho,{children:i.membros.map(d=>{const h=o.find(x=>x.id===d.userId);return e.jsxs(Ys,{children:[e.jsx(ct,{children:(h==null?void 0:h.nome)||d.userId}),e.jsx(ct,{children:(h==null?void 0:h.email)||"—"}),e.jsx(ct,{className:"capitalize",children:d.funcao}),e.jsx(ct,{children:d.desde?new Date(d.desde).toLocaleDateString("pt-BR"):"—"}),e.jsx(ct,{children:d.ate?new Date(d.ate).toLocaleDateString("pt-BR"):"—"})]},d.userId)})})]})})]})]})}function Yte(t,s){const a=[];let r=s(t);for(;r&&r.unidadePaiId;){const n=s(r.unidadePaiId);if(!n)break;a.unshift(n),r=n}return a}function $p({label:t,value:s}){return e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("div",{className:"text-sm mt-1 break-words",children:s})]})}function Kte({open:t,onOpenChange:s,gerenciaId:a,defaultParentId:r=null}){const n=!!a,o=zs(b=>b.getGerencia),i=zs(b=>b.createGerencia),l=zs(b=>b.updateGerencia);zs(b=>b.gerencias);const c=zs(b=>b.usuarios),u=a?o(a):void 0,[d,h]=m.useState({nome:(u==null?void 0:u.nome)||"",sigla:(u==null?void 0:u.sigla)||"",status:(u==null?void 0:u.status)||"ativa",unidadePaiId:null,responsavelUserId:(u==null?void 0:u.responsavelUserId)??null,email:(u==null?void 0:u.email)||"",telefone:(u==null?void 0:u.telefone)||"",localizacao:(u==null?void 0:u.localizacao)||"",competencias:(u==null?void 0:u.competencias)||[],slaPadraoDias:(u==null?void 0:u.slaPadraoDias)||void 0,descricao:(u==null?void 0:u.descricao)||""});Z.useEffect(()=>{n&&u?h({nome:u.nome,sigla:u.sigla,status:u.status,unidadePaiId:null,responsavelUserId:u.responsavelUserId??null,email:u.email,telefone:u.telefone,localizacao:u.localizacao,competencias:u.competencias||[],slaPadraoDias:u.slaPadraoDias,descricao:u.descricao}):n||h(b=>({...b,unidadePaiId:null}))},[a,n,t]),m.useMemo(()=>[],[]);const x=()=>{try{if(!d.nome||!d.nome.trim()){yt({title:"Erro",description:"Nome é obrigatório",variant:"destructive"});return}if(d.sigla&&d.sigla.length>8){yt({title:"Erro",description:"Sigla deve ter no máximo 8 caracteres",variant:"destructive"});return}if(n&&a)l(a,{...d,status:d.status||"ativa"}),yt({title:"Sucesso",description:"Gerência atualizada"});else{const b=i({nome:d.nome,sigla:d.sigla,status:d.status||"ativa",unidadePaiId:null,responsavelUserId:d.responsavelUserId??null,email:d.email,telefone:d.telefone,localizacao:d.localizacao,competencias:d.competencias||[],slaPadraoDias:d.slaPadraoDias,descricao:d.descricao,membros:[],createdAt:0,updatedAt:0});yt({title:"Sucesso",description:"Gerência criada"})}s(!1)}catch(b){yt({title:"Erro",description:(b==null?void 0:b.message)||"Falha ao salvar",variant:"destructive"})}},f=()=>s(!1),g=b=>{b.trim()&&h(j=>({...j,competencias:Array.from(new Set([...j.competencias||[],b.trim()]))}))},p=b=>h(j=>({...j,competencias:(j.competencias||[]).filter(w=>w!==b)})),[y,v]=m.useState("");return e.jsx(zb,{open:t,onOpenChange:s,children:e.jsxs(Rx,{side:"right",className:"w-full sm:max-w-xl",children:[e.jsxs(Mx,{children:[e.jsx(Ix,{children:n?"Editar Gerência":"Nova Gerência"}),e.jsx(Fb,{children:"Preencha as informações da gerência"})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Nome *"}),e.jsx(De,{value:d.nome||"",onChange:b=>h({...d,nome:b.target.value}),placeholder:"Ex: Gerência de Projetos"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Sigla"}),e.jsx(De,{value:d.sigla||"",maxLength:8,onChange:b=>h({...d,sigla:b.target.value}),placeholder:"GSP"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Status"}),e.jsxs(rt,{value:d.status||"ativa",onValueChange:b=>h({...d,status:b}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"ativa",children:"Ativa"}),e.jsx(ve,{value:"inativa",children:"Inativa"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"Responsável"}),e.jsxs(rt,{value:d.responsavelUserId??"",onValueChange:b=>h({...d,responsavelUserId:b||null}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Nenhum"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"",children:"Nenhum"}),c.map(b=>e.jsxs(ve,{value:b.id,children:[b.nome," — ",b.email]},b.id))]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"E-mail"}),e.jsx(De,{value:d.email||"",onChange:b=>h({...d,email:b.target.value}),placeholder:"gsp@org.gov.br"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Telefone"}),e.jsx(De,{value:d.telefone||"",onChange:b=>h({...d,telefone:b.target.value}),placeholder:"(61) 99999-9999"})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Localização"}),e.jsx(De,{value:d.localizacao||"",onChange:b=>h({...d,localizacao:b.target.value}),placeholder:"Prédio A, 3º andar"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Competências"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(De,{value:y,onChange:b=>v(b.target.value),placeholder:"Digite e Enter",onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),g(y),v(""))}}),e.jsx(C,{type:"button",variant:"outline",onClick:()=>{g(y),v("")},children:"Adicionar"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(d.competencias||[]).map(b=>e.jsxs(oe,{variant:"secondary",className:"cursor-pointer",onClick:()=>p(b),children:[b," ✕"]},b))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"SLA padrão (dias)"}),e.jsx(De,{type:"number",min:0,value:d.slaPadraoDias??"",onChange:b=>h({...d,slaPadraoDias:b.target.value===""?void 0:Number(b.target.value)})})]})}),e.jsxs("div",{children:[e.jsx(B,{children:"Descrição"}),e.jsx(xt,{value:d.descricao||"",onChange:b=>h({...d,descricao:b.target.value}),rows:4})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(C,{variant:"outline",onClick:f,children:"Cancelar"}),e.jsx(C,{onClick:x,children:"Salvar"})]})]})]})})}function Xte({open:t,onOpenChange:s,gerenciaId:a}){const r=zs(j=>j.usuarios),n=zs(j=>j.getGerencia),o=zs(j=>j.addMembro),i=zs(j=>j.updateMembro),l=n(a),[c,u]=m.useState(""),[d,h]=m.useState("membro"),[x,f]=m.useState(""),[g,p]=m.useState("");Z.useEffect(()=>{t||(u(""),h("membro"),f(""),p(""))},[t]);const y=new Set(((l==null?void 0:l.membros)||[]).map(j=>j.userId)),v=m.useMemo(()=>r.filter(j=>!y.has(j.id)),[r,y]),b=()=>{try{if(!c){yt({title:"Erro",description:"Selecione um usuário",variant:"destructive"});return}if(!l)return;o(l.id,c,d),(x||g)&&i(l.id,c,{desde:x||void 0,ate:g||void 0}),yt({title:"Sucesso",description:"Membro adicionado"}),s(!1)}catch(j){yt({title:"Erro",description:(j==null?void 0:j.message)||"Falha ao salvar",variant:"destructive"})}};return e.jsx(Ke,{open:t,onOpenChange:s,children:e.jsxs(Ye,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Adicionar Membro"}),e.jsx(tt,{children:"Selecione o usuário, função e datas"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Usuário"}),e.jsxs(rt,{value:c,onValueChange:u,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione um usuário"})}),e.jsx(at,{children:v.map(j=>e.jsxs(ve,{value:j.id,children:[j.nome," — ",j.email]},j.id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Função"}),e.jsxs(rt,{value:d,onValueChange:j=>h(j),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"chefe",children:"Chefe"}),e.jsx(ve,{value:"substituto",children:"Substituto"}),e.jsx(ve,{value:"membro",children:"Membro"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Desde"}),e.jsx(De,{type:"date",value:x,onChange:j=>f(j.target.value)})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Até"}),e.jsx(De,{type:"date",value:g,onChange:j=>p(j.target.value)})]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),e.jsx(C,{onClick:b,children:"Salvar"})]})]})})}function Jte(){const t=zs(x=>x.gerencias),s=zs(x=>x.usuarios),[a,r]=Z.useState(null),[n,o]=Z.useState(!1),[i,l]=Z.useState(null),[c,u]=Z.useState(null),[d,h]=Z.useState(!1);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gerências"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários, roles e convites da organização"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(C,{onClick:()=>{l(null),u(null),o(!0)},children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"})," Nova Gerência"]})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("div",{className:"col-span-12 lg:col-span-4",children:e.jsxs(Ge,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Estrutura de Gerências"}),e.jsxs(Ra,{children:[t.length," unidades • ",s.length," usuários"]})]}),e.jsx(We,{children:e.jsx(Wte,{selectedId:a,onSelect:r,onCreateChild:x=>{l(null),u(x??null),o(!0)},onEdit:x=>{l(x),u(null),o(!0)}})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-8",children:e.jsxs(Ge,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Detalhes da Gerência"}),e.jsx(Ra,{children:a?"Gerência selecionada":"Selecione uma gerência à esquerda ou crie uma nova"})]}),e.jsx(We,{children:a?e.jsx(qte,{gerenciaId:a,onEdit:x=>{l(x),o(!0)},onAddMember:()=>h(!0)}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma gerência à esquerda ou crie uma nova"})})]})})]}),e.jsx(Kte,{open:n,onOpenChange:o,gerenciaId:i,defaultParentId:c}),a&&e.jsx(Xte,{open:d,onOpenChange:h,gerenciaId:a})]})}const Qte=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{_id:"2",token:"inv_xyz789uvw012",role:"4",email:void 0,used:!0,createdBy:"1",acceptedBy:"5",createdAt:new Date(Date.now()-7*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()}];function Zte(){var D;const t=fs(),{user:s}=Dt(),{gerencias:a}=Wj(),[r,n]=m.useState(bd),[o,i]=m.useState(vb),[l,c]=m.useState(Qte),[u,d]=m.useState("users"),[h,x]=m.useState(""),[f,g]=m.useState("todos"),[p,y]=m.useState("todas"),[v,b]=m.useState(!1),[j,w]=m.useState(!1),[N,E]=m.useState(!1),[A,P]=m.useState(!1),[z,T]=m.useState(null),[k,L]=m.useState(null),[U,Y]=m.useState({name:"",permissions:[]}),[K,F]=m.useState({name:"",permissions:[]}),[O,S]=m.useState({role:"",email:""}),[$,H]=m.useState({nome:"",email:"",cargo:"",gerencia:"",role:"",isActive:!0}),J=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(M=>M.isOrgAdmin)),re=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(M=>M.isOrgAdmin)),le=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(M=>M.isOrgAdmin));if(!J&&!re&&!le)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Você não tem permissão para acessar a página de administração."})]})});const we=()=>{if(!U.name.trim()){yt({title:"Erro",description:"Nome da role é obrigatório",variant:"destructive"});return}const M={_id:Date.now().toString(),name:U.name,permissions:U.permissions,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i([...o,M]),Y({name:"",permissions:[]}),b(!1),yt({title:"Sucesso",description:"Role criada com sucesso"})},ke=M=>{if(o.length<=1){yt({title:"Erro",description:"Não é possível excluir a última role",variant:"destructive"});return}i(o.filter(q=>q._id!==M)),yt({title:"Sucesso",description:"Role excluída com sucesso"})},he=M=>{L(M),F({name:M.name,permissions:[...M.permissions]}),P(!0)},ae=()=>{if(k){if(!K.name.trim()){yt({title:"Erro",description:"Nome da role é obrigatório",variant:"destructive"});return}if(K.permissions.length===0){yt({title:"Erro",description:"Selecione pelo menos uma permissão",variant:"destructive"});return}i(o.map(M=>M._id===k._id?{...M,name:K.name,permissions:K.permissions,updatedAt:new Date().toISOString()}:M)),P(!1),L(null),yt({title:"Sucesso",description:"Role atualizada com sucesso"})}},be=()=>{if(!O.role){yt({title:"Erro",description:"Selecione uma role para o convite",variant:"destructive"});return}const M={_id:Date.now().toString(),token:`inv_${Math.random().toString(36).substr(2,12)}`,role:O.role,email:O.email||void 0,used:!1,createdBy:(s==null?void 0:s._id)||"",acceptedBy:void 0,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};c([...l,M]),S({role:"",email:""}),w(!1),yt({title:"Sucesso",description:"Convite criado com sucesso"})},xe=M=>{const q=`${window.location.origin}/invite/${M}`;navigator.clipboard.writeText(q),yt({title:"Sucesso",description:"Link do convite copiado para a área de transferência"})},ne=M=>{const q=l.find(W=>W._id===M);if(q){if(q.used){yt({title:"Erro",description:"Não é possível excluir um convite que já foi aceito",variant:"destructive"});return}window.confirm(`Tem certeza que deseja excluir o convite ${q.token}?`)&&(c(l.filter(W=>W._id!==M)),yt({title:"Sucesso",description:"Convite excluído com sucesso"}))}},Ae=M=>{n(r.map(q=>q._id===M?{...q,isActive:!q.isActive}:q)),yt({title:"Sucesso",description:"Status do usuário atualizado"})},ye=M=>{var q;T(M),H({nome:M.nome||"",email:M.email,cargo:M.cargo||"",gerencia:M.gerencia||"",role:((q=M.orgs[0])==null?void 0:q.role)||"",isActive:M.isActive}),E(!0)},Be=()=>{if(z){if(!$.nome.trim()){yt({title:"Erro",description:"Nome é obrigatório",variant:"destructive"});return}if(!$.email.trim()){yt({title:"Erro",description:"Email é obrigatório",variant:"destructive"});return}if(!$.gerencia){yt({title:"Erro",description:"Gerência é obrigatória",variant:"destructive"});return}if(!$.role){yt({title:"Erro",description:"Role é obrigatória",variant:"destructive"});return}n(r.map(M=>M._id===z._id?{...M,nome:$.nome,email:$.email,cargo:$.cargo,gerencia:$.gerencia,isActive:$.isActive,orgs:[{...M.orgs[0],role:$.role}]}:M)),E(!1),T(null),yt({title:"Sucesso",description:"Usuário atualizado com sucesso"})}},de=["platform.admin","org.admin","users.manage","roles.manage","invites.manage","invites.create","organizations.manage","processes.manage","processes.create","processes.edit","processes.view","reports.view"],Te=M=>{var q;return((q=o.find(W=>W._id===M))==null?void 0:q.name)||"Role não encontrada"},Pe=M=>{var q;return((q=r.find(W=>W._id===M))==null?void 0:q.nome)||"Usuário não encontrado"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>t(-1),className:"flex items-center gap-2",children:[e.jsx(ix,{className:"h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Administração"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários, roles e convites da organização"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(oe,{variant:s!=null&&s.isPlatformAdmin?"default":"secondary",children:s!=null&&s.isPlatformAdmin?"Admin da Plataforma":"Admin da Organização"})})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsxs(Va,{value:u,onValueChange:d,className:"space-y-4",children:[e.jsxs(Sa,{children:[e.jsxs(Vt,{value:"users",className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-4 w-4"}),"Usuários"]}),e.jsxs(Vt,{value:"gerencias",className:"flex items-center gap-2",children:[e.jsx(V4,{className:"h-4 w-4"}),"Gerências"]}),e.jsxs(Vt,{value:"invites",className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4"}),"Convites"]}),e.jsxs(Vt,{value:"roles",className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-4 w-4"}),"Roles"]})]}),e.jsx(Gt,{value:"users",className:"space-y-4",children:e.jsxs(Ge,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Usuários da Organização"}),e.jsx(Ra,{children:"Gerencie os usuários e suas permissões"})]}),e.jsxs(We,{children:[e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx(De,{placeholder:"Buscar por nome, email ou gerência",value:h,onChange:M=>x(M.target.value)}),e.jsxs(rt,{value:f,onValueChange:M=>g(M),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Status"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todos",children:"Todos"}),e.jsx(ve,{value:"ativos",children:"Ativos"}),e.jsx(ve,{value:"inativos",children:"Inativos"})]})]}),e.jsxs(rt,{value:p,onValueChange:y,children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Gerência"})}),e.jsxs(at,{children:[e.jsx(ve,{value:"todas",children:"Todas as Gerências"}),Array.from(new Set(r.map(M=>M.gerencia).filter(Boolean))).map(M=>e.jsx(ve,{value:M,children:M},M))]})]})]}),(()=>{const M=h.trim().toLowerCase(),q=ue=>!M||(ue.nome||"").toLowerCase().includes(M)||ue.email.toLowerCase().includes(M)||(ue.gerencia||"").toLowerCase().includes(M),W=ue=>f==="todos"||f==="ativos"&&ue.isActive||f==="inativos"&&!ue.isActive,I=ue=>p==="todas"||(ue.gerencia||"")===p,ee=r.filter(ue=>q(ue)&&W(ue)&&I(ue));return e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(dt,{children:"Nome"}),e.jsx(dt,{children:"Email"}),e.jsx(dt,{children:"Gerência"}),e.jsx(dt,{children:"Role"}),e.jsx(dt,{children:"Status"}),e.jsx(dt,{children:"Ações"})]})}),e.jsxs(ho,{children:[ee.map(ue=>{var G;return e.jsxs(Ys,{children:[e.jsx(ct,{className:"font-medium",children:ue.nome||"Nome não informado"}),e.jsx(ct,{children:ue.email}),e.jsx(ct,{children:ue.gerencia||"N/A"}),e.jsx(ct,{children:e.jsx(oe,{variant:"outline",children:Te((G=ue.orgs[0])==null?void 0:G.role)})}),e.jsx(ct,{children:e.jsx(oe,{variant:ue.isActive?"default":"destructive",children:ue.isActive?"Ativo":"Inativo"})}),e.jsx(ct,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>ye(ue),children:e.jsx(bl,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>Ae(ue._id),children:ue.isActive?e.jsx(Yi,{className:"h-4 w-4"}):e.jsx(Ze,{className:"h-4 w-4"})})]})})]},ue._id)}),ee.length===0&&e.jsx(Ys,{children:e.jsx(ct,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Nenhum usuário encontrado."})})]})]})})()]})]})}),e.jsx(Gt,{value:"roles",className:"space-y-4",children:e.jsxs(Ge,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Roles e Permissões"}),e.jsx(Ra,{children:"Gerencie as roles e suas permissões"})]}),e.jsxs(Ke,{open:v,onOpenChange:b,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Nova Role"]})}),e.jsxs(Ye,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Criar Nova Role"}),e.jsx(tt,{children:"Crie uma nova role com permissões específicas"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"roleName",children:"Nome da Role"}),e.jsx(De,{id:"roleName",value:U.name,onChange:M=>Y({...U,name:M.target.value}),placeholder:"Ex: Gerente de Projetos"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Permissões"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:de.map(M=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:M,checked:U.permissions.includes(M),onCheckedChange:q=>{Y(q?{...U,permissions:[...U.permissions,M]}:{...U,permissions:U.permissions.filter(W=>W!==M)})}}),e.jsx(B,{htmlFor:M,className:"text-sm",children:M})]},M))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(C,{onClick:we,children:"Criar Role"})]})]})]})]}),e.jsx(We,{children:e.jsx("div",{className:"space-y-4",children:o.map(M=>e.jsxs(Ge,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{className:"text-lg",children:M.name}),e.jsxs(Ra,{children:[M.permissions.length," permissões"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(M),title:"Editar role",children:e.jsx(bl,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>ke(M._id),disabled:o.length<=1,title:o.length<=1?"Não é possível excluir a última role":"Excluir role",children:e.jsx(It,{className:"h-4 w-4"})})]})]}),e.jsx(We,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:M.permissions.map(q=>e.jsx(oe,{variant:"secondary",children:q},q))})})]},M._id))})})]})}),e.jsx(Gt,{value:"invites",className:"space-y-4",children:e.jsxs(Ge,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Convites"}),e.jsx(Ra,{children:"Gerencie os convites para novos usuários"})]}),e.jsxs(Ke,{open:j,onOpenChange:w,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Novo Convite"]})}),e.jsxs(Ye,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Criar Novo Convite"}),e.jsx(tt,{children:"Crie um convite por link para um novo usuário"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"inviteRole",children:"Role"}),e.jsxs(rt,{value:O.role,onValueChange:M=>S({...O,role:M}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione uma role"})}),e.jsx(at,{children:o.map(M=>e.jsx(ve,{value:M._id,children:M.name},M._id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"inviteEmail",children:"Email (Opcional)"}),e.jsx(De,{id:"inviteEmail",type:"email",value:O.email,onChange:M=>S({...O,email:M.target.value}),placeholder:"usuario@exemplo.com"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Se não informado, o convite será público"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(C,{onClick:be,children:"Criar Convite"})]})]})]})]}),e.jsx(We,{children:e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(dt,{children:"Token"}),e.jsx(dt,{children:"Role"}),e.jsx(dt,{children:"Email"}),e.jsx(dt,{children:"Status"}),e.jsx(dt,{children:"Criado por"}),e.jsx(dt,{children:"Data de Criação"}),e.jsx(dt,{children:"Expira em"}),e.jsx(dt,{children:"Ações"})]})}),e.jsx(ho,{children:l.map(M=>{var q,W;return e.jsxs(Ys,{children:[e.jsx(ct,{className:"font-mono text-sm",children:M.token}),e.jsx(ct,{children:e.jsx(oe,{variant:"outline",children:Te(M.role)})}),e.jsx(ct,{children:M.email||e.jsx(oe,{variant:"secondary",children:"Público"})}),e.jsx(ct,{children:e.jsx(oe,{variant:M.used?"default":"secondary",children:M.used?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"Aceito"]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Pendente"]})})}),e.jsx(ct,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-sm",children:Pe(M.createdBy)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(q=r.find(I=>I._id===M.createdBy))==null?void 0:q.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(W=r.find(I=>I._id===M.createdBy))==null?void 0:W.gerencia})]})}),e.jsxs(ct,{children:[e.jsx("div",{className:"text-sm",children:new Date(M.createdAt).toLocaleDateString("pt-BR")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(M.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs(ct,{children:[e.jsx("div",{className:"text-sm",children:new Date(M.expiresAt).toLocaleDateString("pt-BR")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(M.expiresAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx(ct,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[!M.used&&e.jsx(C,{variant:"outline",size:"sm",onClick:()=>xe(M.token),title:"Copiar link do convite",children:e.jsx(sh,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>ne(M._id),disabled:M.used,title:M.used?"Não é possível excluir convite aceito":"Excluir convite",className:M.used?"opacity-50":"hover:bg-red-50 hover:border-red-200 hover:text-red-600",children:e.jsx(It,{className:"h-4 w-4"})})]})})]},M._id)})})]})})]})}),e.jsx(Gt,{value:"gerencias",className:"space-y-4",children:e.jsx(Jte,{})})]}),e.jsx(Ke,{open:A,onOpenChange:P,children:e.jsxs(Ye,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Editar Role"}),e.jsx(tt,{children:"Edite as informações e permissões da role"})]}),k&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editRoleName",children:"Nome da Role"}),e.jsx(De,{id:"editRoleName",value:K.name,onChange:M=>F({...K,name:M.target.value}),placeholder:"Ex: Gerente de Projetos"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Permissões"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:de.map(M=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:`edit-${M}`,checked:K.permissions.includes(M),onCheckedChange:q=>{F(q?{...K,permissions:[...K.permissions,M]}:{...K,permissions:K.permissions.filter(W=>W!==M)})}}),e.jsx(B,{htmlFor:`edit-${M}`,className:"text-sm",children:M})]},M))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),e.jsx(C,{onClick:ae,children:"Salvar Alterações"})]})]})}),e.jsx(Ke,{open:N,onOpenChange:E,children:e.jsxs(Ye,{className:"max-w-2xl",children:[e.jsxs(Qe,{children:[e.jsx(Xe,{children:"Editar Usuário"}),e.jsx(tt,{children:"Edite as informações do usuário"})]}),z&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editNome",children:"Nome Completo *"}),e.jsx(De,{id:"editNome",value:$.nome,onChange:M=>H({...$,nome:M.target.value}),placeholder:"Nome completo do usuário"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editEmail",children:"Email *"}),e.jsx(De,{id:"editEmail",type:"email",value:$.email,onChange:M=>H({...$,email:M.target.value}),placeholder:"email@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editCargo",children:"Cargo"}),e.jsx(De,{id:"editCargo",value:$.cargo,onChange:M=>H({...$,cargo:M.target.value}),placeholder:"Cargo do usuário"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editGerencia",children:"Gerência *"}),e.jsxs(rt,{value:$.gerencia,onValueChange:M=>H({...$,gerencia:M}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione uma gerência"})}),e.jsx(at,{children:a.map(M=>e.jsx(ve,{value:M.nomeCompleto,children:M.nomeCompleto},M.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editRole",children:"Role *"}),e.jsxs(rt,{value:$.role,onValueChange:M=>H({...$,role:M}),children:[e.jsx(st,{children:e.jsx(nt,{placeholder:"Selecione uma role"})}),e.jsx(at,{children:o.map(M=>e.jsx(ve,{value:M._id,children:M.name},M._id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx($t,{id:"editIsActive",checked:$.isActive,onCheckedChange:M=>H({...$,isActive:!!M})}),e.jsx(B,{htmlFor:"editIsActive",className:"text-sm",children:"Usuário ativo"})]})]})]}),$.role&&e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsx(B,{className:"text-sm font-medium",children:"Permissões da Role:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(D=o.find(M=>M._id===$.role))==null?void 0:D.permissions.map(M=>e.jsx(oe,{variant:"secondary",className:"text-xs",children:M},M))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),e.jsx(C,{onClick:Be,children:"Salvar Alterações"})]})]})})]})]})}const ese=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{_id:"2",token:"inv_xyz789uvw012",role:"4",email:void 0,used:!0,createdBy:"1",acceptedBy:"5",createdAt:new Date(Date.now()-7*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()}];function tse(){const{token:t}=ax(),s=fs(),{acceptInvite:a}=Dt(),[r,n]=m.useState(null),[o,i]=m.useState(null),[l,c]=m.useState(!0),[u,d]=m.useState(!1),[h,x]=m.useState({nome:"",email:"",cargo:"",gerencia:"",password:"",confirmPassword:""});m.useEffect(()=>{if(t){const p=ese.find(y=>y.token===t);if(p){n(p);const y=vb.find(v=>v._id===p.role);i(y||null)}c(!1)}},[t]);const f=async()=>{if(!(!r||!o)){if(!h.nome.trim()){yt({title:"Erro",description:"Nome é obrigatório",variant:"destructive"});return}if(!h.email.trim()){yt({title:"Erro",description:"Email é obrigatório",variant:"destructive"});return}if(r.email&&h.email!==r.email){yt({title:"Erro",description:"Email deve corresponder ao convite",variant:"destructive"});return}if(!h.password.trim()){yt({title:"Erro",description:"Senha é obrigatória",variant:"destructive"});return}if(h.password!==h.confirmPassword){yt({title:"Erro",description:"Senhas não coincidem",variant:"destructive"});return}if(h.password.length<6){yt({title:"Erro",description:"Senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}d(!0);try{if(!t)throw new Error("Token não encontrado");if(await a(t,{nome:h.nome,email:h.email,cargo:h.cargo,gerencia:h.gerencia,password:h.password}))yt({title:"Sucesso",description:"Convite aceito com sucesso! Redirecionando para o sistema..."}),s("/");else throw new Error("Falha ao aceitar convite")}catch{yt({title:"Erro",description:"Erro ao aceitar convite. Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return l?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Carregando convite..."})]})})}):r?r.used?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Este convite já foi utilizado."})]})}):new Date(r.expiresAt)<new Date?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs(la,{children:["Este convite expirou em ",new Date(r.expiresAt).toLocaleDateString("pt-BR"),"."]})]})}):e.jsx("div",{className:"container mx-auto p-6 max-w-2xl",children:e.jsxs(Ge,{children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx(Ut,{className:"h-6 w-6 text-primary"})}),e.jsx(Lt,{children:"Aceitar Convite"}),e.jsx(Ra,{children:"Complete seu cadastro para acessar a plataforma"})]}),e.jsxs(We,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Role: "}),e.jsx(oe,{variant:"outline",children:o==null?void 0:o.name})]}),r.email&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email: "}),e.jsx("span",{className:"text-muted-foreground",children:r.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Expira em: "}),e.jsx("span",{className:"text-muted-foreground",children:new Date(r.expiresAt).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Nome Completo *"}),e.jsx(De,{id:"nome",value:h.nome,onChange:p=>x({...h,nome:p.target.value}),placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"email",children:"Email *"}),e.jsx(De,{id:"email",type:"email",value:h.email,onChange:p=>x({...h,email:p.target.value}),placeholder:"seu@email.com",disabled:!!r.email}),r.email&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Email pré-definido no convite"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo"}),e.jsx(De,{id:"cargo",value:h.cargo,onChange:p=>x({...h,cargo:p.target.value}),placeholder:"Seu cargo"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"gerencia",children:"Gerência"}),e.jsx(De,{id:"gerencia",value:h.gerencia,onChange:p=>x({...h,gerencia:p.target.value}),placeholder:"Sua gerência"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"password",children:"Senha *"}),e.jsx(De,{id:"password",type:"password",value:h.password,onChange:p=>x({...h,password:p.target.value}),placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),e.jsx(De,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:p=>x({...h,confirmPassword:p.target.value}),placeholder:"Digite a senha novamente"})]})]})]}),o&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Permissões que você terá:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.permissions.map(p=>e.jsx(oe,{variant:"secondary",className:"text-xs",children:p},p))})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(C,{variant:"outline",onClick:()=>s("/"),className:"flex-1",children:"Cancelar"}),e.jsx(C,{onClick:f,disabled:u,className:"flex-1",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Aceitando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Aceitar Convite"]})})]})]})]})}):e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Convite não encontrado ou inválido."})]})})}const sse=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()}];function ase(){const{user:t,setUser:s}=Dt(),[a,r]=m.useState([]),[n,o]=m.useState(!0);m.useEffect(()=>{const c=sse.filter(u=>u.email===(t==null?void 0:t.email)&&!u.used);r(c),o(!1)},[t]);const i=c=>{r(u=>u.filter(d=>d._id!==c)),yt({title:"Sucesso",description:"Convite aceito com sucesso! Redirecionando..."}),setTimeout(()=>{window.location.href="/"},2e3)};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Verificando convites..."})]})});const l=e.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white border rounded-lg shadow-lg p-4 z-50",children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"🔧 TESTE - Trocar Usuário:"}),e.jsx("select",{value:(t==null?void 0:t._id)||"",onChange:c=>{const u=bd.find(d=>d._id===c.target.value);s(u||null)},className:"text-xs border rounded px-2 py-1 bg-white text-black",children:bd.map(c=>e.jsxs("option",{value:c._id,children:[c.nome," (",c.email,") - ",c.orgs.length>0?"Com Org":"Sem Org"]},c._id))})]});return a.length===0?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:[e.jsxs(Ge,{className:"w-full max-w-2xl",children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-orange-100",children:e.jsx(rb,{className:"h-6 w-6 text-orange-600"})}),e.jsx(Lt,{className:"text-2xl",children:"Nenhum Convite Encontrado"}),e.jsx(Ra,{className:"text-lg",children:"Você não possui convites pendentes para nenhuma organização"})]}),e.jsxs(We,{className:"space-y-6",children:[e.jsxs(ia,{children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Para acessar o sistema, você precisa ser convidado por um administrador de uma organização."})]}),e.jsxs("div",{className:"bg-muted/50 p-6 rounded-lg space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Como obter acesso:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Entre em contato com um administrador"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Procure um gerente ou administrador da organização onde você deseja trabalhar"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Solicite um convite"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Peça para que seja criado um convite com seu email"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Aguarde o convite"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um link por email para aceitar o convite"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(C,{onClick:()=>window.location.reload(),className:"w-full sm:w-auto",children:"Verificar Novamente"})})]})]}),l]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:[e.jsxs(Ge,{className:"w-full max-w-2xl",children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:e.jsx(Ut,{className:"h-6 w-6 text-green-600"})}),e.jsx(Lt,{className:"text-2xl",children:"Convites Pendentes"}),e.jsx(Ra,{className:"text-lg",children:"Você possui convites para organizações"})]}),e.jsx(We,{className:"space-y-6",children:a.map(c=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:"Convite para Organização"})]}),e.jsxs(oe,{variant:"secondary",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),"Expira em ",new Date(c.expiresAt).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Token do Convite"}),e.jsx("p",{className:"font-mono text-sm bg-muted p-2 rounded",children:c.token})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-sm",children:c.email})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(C,{onClick:()=>i(c._id),className:"flex-1",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Aceitar Convite"]}),e.jsx(C,{variant:"outline",onClick:()=>window.location.reload(),children:"Recusar"})]})]},c._id))})]}),l]})}function rse(){const{user:t}=Dt(),[s,a]=m.useState({hasOrganization:!1,hasPendingInvites:!1,shouldRedirect:!1,redirectPath:"/",loading:!0});return m.useEffect(()=>{if(!t){console.log("useUserOrganization: No user found, redirecting to login"),a({hasOrganization:!1,hasPendingInvites:!1,shouldRedirect:!0,redirectPath:"/login",loading:!1});return}const r=t.orgs&&t.orgs.length>0,n=nse(t),o=window.location.pathname,i=o==="/fiscatus-app/verificar-convite"||o==="/verificar-convite";let l="/",c=!0;console.log("useUserOrganization Debug:",{user:t.email,hasOrganization:r,hasPendingInvites:n,currentPath:o,isOnVerifyPage:i}),i?(c=!1,console.log("useUserOrganization: On verify page, not redirecting")):r?(l="/",c=!1,console.log("useUserOrganization: User has organization, staying on dashboard")):n?(l="/verificar-convite",console.log("useUserOrganization: User has pending invites, redirecting to verify")):(l="/verificar-convite",console.log("useUserOrganization: User has no org or invites, redirecting to verify")),console.log("useUserOrganization: Final decision:",{shouldRedirect:c,redirectPath:l}),a({hasOrganization:r,hasPendingInvites:n,shouldRedirect:c,redirectPath:l,loading:!1})},[t]),s}function nse(t){return["usuario.sem.org@hospital.gov.br","novo.usuario@hospital.gov.br"].includes(t.email)}function Ju({children:t}){const{loading:s,shouldRedirect:a,redirectPath:r}=rse();return console.log("UserRedirect: Status:",{loading:s,shouldRedirect:a,redirectPath:r}),s?(console.log("UserRedirect: Loading..."),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Verificando acesso..."})]})})):a?(console.log("UserRedirect: Redirecting to:",r),e.jsx(Og,{to:r,replace:!0})):(console.log("UserRedirect: Rendering children"),e.jsx(e.Fragment,{children:t}))}var ose=t=>{switch(t){case"success":return cse;case"info":return use;case"warning":return dse;case"error":return mse;default:return null}},ise=Array(12).fill(0),lse=({visible:t})=>Z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Z.createElement("div",{className:"sonner-spinner"},ise.map((s,a)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),cse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),use=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hse=()=>{let[t,s]=Z.useState(document.hidden);return Z.useEffect(()=>{let a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t},q0=1,xse=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:a,...r}=t,n=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:q0++,o=this.toasts.find(l=>l.id===n),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:a}),{...l,...t,id:n,dismissible:i,title:a}):l):this.addToast({title:a,...r,dismissible:i,id:n}),n},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),n=a!==void 0;return r.then(async o=>{if(pse(o)&&!o.ok){n=!1;let i=typeof s.error=="function"?await s.error(`HTTP error! status: ${o.status}`):s.error,l=typeof s.description=="function"?await s.description(`HTTP error! status: ${o.status}`):s.description;this.create({id:a,type:"error",message:i,description:l})}else if(s.success!==void 0){n=!1;let i=typeof s.success=="function"?await s.success(o):s.success,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"success",message:i,description:l})}}).catch(async o=>{if(s.error!==void 0){n=!1;let i=typeof s.error=="function"?await s.error(o):s.error,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"error",message:i,description:l})}}).finally(()=>{var o;n&&(this.dismiss(a),a=void 0),(o=s.finally)==null||o.call(s)}),a},this.custom=(t,s)=>{let a=(s==null?void 0:s.id)||q0++;return this.create({jsx:t(a),id:a,...s}),a},this.subscribers=[],this.toasts=[]}},Aa=new xse,fse=(t,s)=>{let a=(s==null?void 0:s.id)||q0++;return Aa.addToast({title:t,...s,id:a}),a},pse=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gse=fse,vse=()=>Aa.toasts;Object.assign(gse,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:vse});function bse(t,{insertAt:s}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}bse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qu(t){return t.label!==void 0}var jse=3,yse="32px",Nse=4e3,wse=356,Cse=14,Sse=20,Ese=200;function Pse(...t){return t.filter(Boolean).join(" ")}var Ase=t=>{var s,a,r,n,o,i,l,c,u,d;let{invert:h,toast:x,unstyled:f,interacting:g,setHeights:p,visibleToasts:y,heights:v,index:b,toasts:j,expanded:w,removeToast:N,defaultRichColors:E,closeButton:A,style:P,cancelButtonStyle:z,actionButtonStyle:T,className:k="",descriptionClassName:L="",duration:U,position:Y,gap:K,loadingIcon:F,expandByDefault:O,classNames:S,icons:$,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:J,cn:re}=t,[le,we]=Z.useState(!1),[ke,he]=Z.useState(!1),[ae,be]=Z.useState(!1),[xe,ne]=Z.useState(!1),[Ae,ye]=Z.useState(0),[Be,de]=Z.useState(0),Te=Z.useRef(null),Pe=Z.useRef(null),D=b===0,M=b+1<=y,q=x.type,W=x.dismissible!==!1,I=x.className||"",ee=x.descriptionClassName||"",ue=Z.useMemo(()=>v.findIndex(Ie=>Ie.toastId===x.id)||0,[v,x.id]),G=Z.useMemo(()=>{var Ie;return(Ie=x.closeButton)!=null?Ie:A},[x.closeButton,A]),ge=Z.useMemo(()=>x.duration||U||Nse,[x.duration,U]),Ne=Z.useRef(0),Me=Z.useRef(0),et=Z.useRef(0),se=Z.useRef(null),[ze,_e]=Y.split("-"),Q=Z.useMemo(()=>v.reduce((Ie,X,me)=>me>=ue?Ie:Ie+X.height,0),[v,ue]),Ce=hse(),_=x.invert||h,R=q==="loading";Me.current=Z.useMemo(()=>ue*K+Q,[ue,Q]),Z.useEffect(()=>{we(!0)},[]),Z.useLayoutEffect(()=>{if(!le)return;let Ie=Pe.current,X=Ie.style.height;Ie.style.height="auto";let me=Ie.getBoundingClientRect().height;Ie.style.height=X,de(me),p(V=>V.find(ie=>ie.toastId===x.id)?V.map(ie=>ie.toastId===x.id?{...ie,height:me}:ie):[{toastId:x.id,height:me,position:x.position},...V])},[le,x.title,x.description,p,x.id]);let te=Z.useCallback(()=>{he(!0),ye(Me.current),p(Ie=>Ie.filter(X=>X.toastId!==x.id)),setTimeout(()=>{N(x)},Ese)},[x,N,p,Me]);Z.useEffect(()=>{if(x.promise&&q==="loading"||x.duration===1/0||x.type==="loading")return;let Ie,X=ge;return w||g||J&&Ce?(()=>{if(et.current<Ne.current){let me=new Date().getTime()-Ne.current;X=X-me}et.current=new Date().getTime()})():X!==1/0&&(Ne.current=new Date().getTime(),Ie=setTimeout(()=>{var me;(me=x.onAutoClose)==null||me.call(x,x),te()},X)),()=>clearTimeout(Ie)},[w,g,O,x,ge,te,x.promise,q,J,Ce]),Z.useEffect(()=>{let Ie=Pe.current;if(Ie){let X=Ie.getBoundingClientRect().height;return de(X),p(me=>[{toastId:x.id,height:X,position:x.position},...me]),()=>p(me=>me.filter(V=>V.toastId!==x.id))}},[p,x.id]),Z.useEffect(()=>{x.delete&&te()},[te,x.delete]);function fe(){return $!=null&&$.loading?Z.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},$.loading):F?Z.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},F):Z.createElement(lse,{visible:q==="loading"})}return Z.createElement("li",{"aria-live":x.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Pe,className:re(k,I,S==null?void 0:S.toast,(s=x==null?void 0:x.classNames)==null?void 0:s.toast,S==null?void 0:S.default,S==null?void 0:S[q],(a=x==null?void 0:x.classNames)==null?void 0:a[q]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:E,"data-styled":!(x.jsx||x.unstyled||f),"data-mounted":le,"data-promise":!!x.promise,"data-removed":ke,"data-visible":M,"data-y-position":ze,"data-x-position":_e,"data-index":b,"data-front":D,"data-swiping":ae,"data-dismissible":W,"data-type":q,"data-invert":_,"data-swipe-out":xe,"data-expanded":!!(w||O&&le),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${ke?Ae:Me.current}px`,"--initial-height":O?"auto":`${Be}px`,...P,...x.style},onPointerDown:Ie=>{R||!W||(Te.current=new Date,ye(Me.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(be(!0),se.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,X,me,V;if(xe||!W)return;se.current=null;let ie=Number(((Ie=Pe.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ce=new Date().getTime()-((X=Te.current)==null?void 0:X.getTime()),Le=Math.abs(ie)/ce;if(Math.abs(ie)>=Sse||Le>.11){ye(Me.current),(me=x.onDismiss)==null||me.call(x,x),te(),ne(!0);return}(V=Pe.current)==null||V.style.setProperty("--swipe-amount","0px"),be(!1)},onPointerMove:Ie=>{var X;if(!se.current||!W)return;let me=Ie.clientY-se.current.y,V=Ie.clientX-se.current.x,ie=(ze==="top"?Math.min:Math.max)(0,me),ce=Ie.pointerType==="touch"?10:2;Math.abs(ie)>ce?(X=Pe.current)==null||X.style.setProperty("--swipe-amount",`${me}px`):Math.abs(V)>ce&&(se.current=null)}},G&&!x.jsx?Z.createElement("button",{"aria-label":H,"data-disabled":R,"data-close-button":!0,onClick:R||!W?()=>{}:()=>{var Ie;te(),(Ie=x.onDismiss)==null||Ie.call(x,x)},className:re(S==null?void 0:S.closeButton,(n=x==null?void 0:x.classNames)==null?void 0:n.closeButton)},Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,x.jsx||Z.isValidElement(x.title)?x.jsx||x.title:Z.createElement(Z.Fragment,null,q||x.icon||x.promise?Z.createElement("div",{"data-icon":"",className:re(S==null?void 0:S.icon,(o=x==null?void 0:x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||fe():null,x.type!=="loading"?x.icon||($==null?void 0:$[q])||ose(q):null):null,Z.createElement("div",{"data-content":"",className:re(S==null?void 0:S.content,(i=x==null?void 0:x.classNames)==null?void 0:i.content)},Z.createElement("div",{"data-title":"",className:re(S==null?void 0:S.title,(l=x==null?void 0:x.classNames)==null?void 0:l.title)},x.title),x.description?Z.createElement("div",{"data-description":"",className:re(L,ee,S==null?void 0:S.description,(c=x==null?void 0:x.classNames)==null?void 0:c.description)},x.description):null),Z.isValidElement(x.cancel)?x.cancel:x.cancel&&Qu(x.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||z,onClick:Ie=>{var X,me;Qu(x.cancel)&&W&&((me=(X=x.cancel).onClick)==null||me.call(X,Ie),te())},className:re(S==null?void 0:S.cancelButton,(u=x==null?void 0:x.classNames)==null?void 0:u.cancelButton)},x.cancel.label):null,Z.isValidElement(x.action)?x.action:x.action&&Qu(x.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||T,onClick:Ie=>{var X,me;Qu(x.action)&&(Ie.defaultPrevented||((me=(X=x.action).onClick)==null||me.call(X,Ie),te()))},className:re(S==null?void 0:S.actionButton,(d=x==null?void 0:x.classNames)==null?void 0:d.actionButton)},x.action.label):null))};function _2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Dse=t=>{let{invert:s,position:a="bottom-right",hotkey:r=["altKey","KeyT"],expand:n,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:x=jse,toastOptions:f,dir:g=_2(),gap:p=Cse,loadingIcon:y,icons:v,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:w=Pse}=t,[N,E]=Z.useState([]),A=Z.useMemo(()=>Array.from(new Set([a].concat(N.filter(J=>J.position).map(J=>J.position)))),[N,a]),[P,z]=Z.useState([]),[T,k]=Z.useState(!1),[L,U]=Z.useState(!1),[Y,K]=Z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=Z.useRef(null),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=Z.useRef(null),$=Z.useRef(!1),H=Z.useCallback(J=>{var re;(re=N.find(le=>le.id===J.id))!=null&&re.delete||Aa.dismiss(J.id),E(le=>le.filter(({id:we})=>we!==J.id))},[N]);return Z.useEffect(()=>Aa.subscribe(J=>{if(J.dismiss){E(re=>re.map(le=>le.id===J.id?{...le,delete:!0}:le));return}setTimeout(()=>{l4.flushSync(()=>{E(re=>{let le=re.findIndex(we=>we.id===J.id);return le!==-1?[...re.slice(0,le),{...re[le],...J},...re.slice(le+1)]:[J,...re]})})})}),[]),Z.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{K(J?"dark":"light")})},[c]),Z.useEffect(()=>{N.length<=1&&k(!1)},[N]),Z.useEffect(()=>{let J=re=>{var le,we;r.every(ke=>re[ke]||re.code===ke)&&(k(!0),(le=F.current)==null||le.focus()),re.code==="Escape"&&(document.activeElement===F.current||(we=F.current)!=null&&we.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),Z.useEffect(()=>{if(F.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,$.current=!1)}},[F.current]),N.length?Z.createElement("section",{"aria-label":`${b} ${O}`,tabIndex:-1},A.map((J,re)=>{var le;let[we,ke]=J.split("-");return Z.createElement("ol",{key:J,dir:g==="auto"?_2():g,tabIndex:-1,ref:F,className:i,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":we,"data-x-position":ke,style:{"--front-toast-height":`${((le=P[0])==null?void 0:le.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||yse,"--width":`${wse}px`,"--gap":`${p}px`,...h},onBlur:he=>{$.current&&!he.currentTarget.contains(he.relatedTarget)&&($.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||$.current||($.current=!0,S.current=he.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{L||k(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(he=>!he.position&&re===0||he.position===J).map((he,ae)=>{var be,xe;return Z.createElement(Ase,{key:he.id,icons:v,index:ae,toast:he,defaultRichColors:u,duration:(be=f==null?void 0:f.duration)!=null?be:d,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:s,visibleToasts:x,closeButton:(xe=f==null?void 0:f.closeButton)!=null?xe:o,interacting:L,position:J,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:H,toasts:N.filter(ne=>ne.position==he.position),heights:P.filter(ne=>ne.position==he.position),setHeights:z,expandByDefault:n,gap:p,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:j,cn:w})}))})):null};const kse=({...t})=>{const{theme:s="system"}=oE();return e.jsx(Dse,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Tse({children:t,attribute:s="class",defaultTheme:a="light",enableSystem:r=!0,disableTransitionOnChange:n=!1,...o}){return e.jsx(s_,{attribute:s,defaultTheme:a,enableSystem:r,disableTransitionOnChange:n,...o,children:t})}var xy="ToastProvider",[fy,Rse,Mse]=Bl("Toast"),[F6,yae]=ua("Toast",[Mse]),[Ise,mf]=F6(xy),_6=t=>{const{__scopeToast:s,label:a="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),x=m.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${xy}\`. Expected non-empty \`string\`.`),e.jsx(fy.Provider,{scope:s,children:e.jsx(Ise,{scope:s,label:a,duration:r,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(f=>f+1),[]),onToastRemove:m.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:x,children:i})})};_6.displayName=xy;var L6="ToastViewport",Ose=["F8"],Y0="toast.viewportPause",K0="toast.viewportResume",$6=m.forwardRef((t,s)=>{const{__scopeToast:a,hotkey:r=Ose,label:n="Notifications ({hotkey})",...o}=t,i=mf(L6,a),l=Rse(a),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),x=ot(s,h,i.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;m.useEffect(()=>{const y=v=>{var j;r.length!==0&&r.every(w=>v[w]||v.code===w)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),m.useEffect(()=>{const y=c.current,v=h.current;if(g&&y&&v){const b=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Y0);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(K0);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},w=E=>{!y.contains(E.relatedTarget)&&j()},N=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",b),y.addEventListener("focusout",w),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[g,i.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:y})=>{const b=l().map(j=>{const w=j.ref.current,N=[w,...Yse(w)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return m.useEffect(()=>{const y=h.current;if(y){const v=b=>{var N,E,A;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const P=document.activeElement,z=b.shiftKey;if(b.target===y&&z){(N=u.current)==null||N.focus();return}const L=p({tabbingDirection:z?"backwards":"forwards"}),U=L.findIndex(Y=>Y===P);Vp(L.slice(U+1))?b.preventDefault():z?(E=u.current)==null||E.focus():(A=d.current)==null||A.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,p]),e.jsxs(S_,{ref:c,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&e.jsx(X0,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});Vp(y)}}),e.jsx(fy.Slot,{scope:a,children:e.jsx(Ve.ol,{tabIndex:-1,...o,ref:x})}),g&&e.jsx(X0,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});Vp(y)}})]})});$6.displayName=L6;var V6="ToastFocusProxy",X0=m.forwardRef((t,s)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...n}=t,o=mf(V6,a);return e.jsx(Ud,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});X0.displayName=V6;var hf="Toast",zse="toast.swipeStart",Fse="toast.swipeMove",_se="toast.swipeCancel",Lse="toast.swipeEnd",G6=m.forwardRef((t,s)=>{const{forceMount:a,open:r,defaultOpen:n,onOpenChange:o,...i}=t,[l=!0,c]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(Ms,{present:a||l,children:e.jsx(Gse,{open:l,...i,ref:s,onClose:()=>c(!1),onPause:as(t.onPause),onResume:as(t.onResume),onSwipeStart:Ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});G6.displayName=hf;var[$se,Vse]=F6(hf,{onClose(){}}),Gse=m.forwardRef((t,s)=>{const{__scopeToast:a,type:r="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:x,onSwipeEnd:f,...g}=t,p=mf(hf,a),[y,v]=m.useState(null),b=ot(s,Y=>v(Y)),j=m.useRef(null),w=m.useRef(null),N=n||p.duration,E=m.useRef(0),A=m.useRef(N),P=m.useRef(0),{onToastAdd:z,onToastRemove:T}=p,k=as(()=>{var K;(y==null?void 0:y.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),i()}),L=m.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(k,Y))},[k]);m.useEffect(()=>{const Y=p.viewport;if(Y){const K=()=>{L(A.current),u==null||u()},F=()=>{const O=new Date().getTime()-E.current;A.current=A.current-O,window.clearTimeout(P.current),c==null||c()};return Y.addEventListener(Y0,F),Y.addEventListener(K0,K),()=>{Y.removeEventListener(Y0,F),Y.removeEventListener(K0,K)}}},[p.viewport,N,c,u,L]),m.useEffect(()=>{o&&!p.isClosePausedRef.current&&L(N)},[o,N,p.isClosePausedRef,L]),m.useEffect(()=>(z(),()=>T()),[z,T]);const U=m.useMemo(()=>y?K6(y):null,[y]);return p.viewport?e.jsxs(e.Fragment,{children:[U&&e.jsx(Bse,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),e.jsx($se,{scope:a,onClose:k,children:Ka.createPortal(e.jsx(fy.ItemSlot,{scope:a,children:e.jsx(C_,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,Y=>{Y.key==="Escape"&&(l==null||l(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ee(t.onPointerDown,Y=>{Y.button===0&&(j.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Ee(t.onPointerMove,Y=>{if(!j.current)return;const K=Y.clientX-j.current.x,F=Y.clientY-j.current.y,O=!!w.current,S=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=S?$(0,K):0,J=S?0:$(0,F),re=Y.pointerType==="touch"?10:2,le={x:H,y:J},we={originalEvent:Y,delta:le};O?(w.current=le,Zu(Fse,h,we,{discrete:!1})):L2(le,p.swipeDirection,re)?(w.current=le,Zu(zse,d,we,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(K)>re||Math.abs(F)>re)&&(j.current=null)}),onPointerUp:Ee(t.onPointerUp,Y=>{const K=w.current,F=Y.target;if(F.hasPointerCapture(Y.pointerId)&&F.releasePointerCapture(Y.pointerId),w.current=null,j.current=null,K){const O=Y.currentTarget,S={originalEvent:Y,delta:K};L2(K,p.swipeDirection,p.swipeThreshold)?Zu(Lse,f,S,{discrete:!0}):Zu(_se,x,S,{discrete:!0}),O.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Bse=t=>{const{__scopeToast:s,children:a,...r}=t,n=mf(hf,s),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return Wse(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(Gl,{asChild:!0,children:e.jsx(Ud,{...r,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",a]})})})},Use="ToastTitle",B6=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(Ve.div,{...r,ref:s})});B6.displayName=Use;var Hse="ToastDescription",U6=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(Ve.div,{...r,ref:s})});U6.displayName=Hse;var H6="ToastAction",W6=m.forwardRef((t,s)=>{const{altText:a,...r}=t;return a.trim()?e.jsx(Y6,{altText:a,asChild:!0,children:e.jsx(py,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${H6}\`. Expected non-empty \`string\`.`),null)});W6.displayName=H6;var q6="ToastClose",py=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t,n=Vse(q6,a);return e.jsx(Y6,{asChild:!0,children:e.jsx(Ve.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,n.onClose)})})});py.displayName=q6;var Y6=m.forwardRef((t,s)=>{const{__scopeToast:a,altText:r,...n}=t;return e.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:s})});function K6(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),qse(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...K6(r))}}),s}function Zu(t,s,a,{discrete:r}){const n=a.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?nb(n,o):n.dispatchEvent(o)}var L2=(t,s,a=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),o=r>n;return s==="left"||s==="right"?o&&r>a:!o&&n>a};function Wse(t=()=>{}){const s=as(t);Ps(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[s])}function qse(t){return t.nodeType===t.ELEMENT_NODE}function Yse(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Vp(t){const s=document.activeElement;return t.some(a=>a===s?!0:(a.focus(),document.activeElement!==s))}var Kse=_6,X6=$6,J6=G6,Q6=B6,Z6=U6,eR=W6,tR=py;const Xse=Kse,sR=m.forwardRef(({className:t,...s},a)=>e.jsx(X6,{ref:a,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));sR.displayName=X6.displayName;const Jse=Kr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aR=m.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(J6,{ref:r,className:je(Jse({variant:s}),t),...a}));aR.displayName=J6.displayName;const Qse=m.forwardRef(({className:t,...s},a)=>e.jsx(eR,{ref:a,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Qse.displayName=eR.displayName;const rR=m.forwardRef(({className:t,...s},a)=>e.jsx(tR,{ref:a,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Yt,{className:"h-4 w-4"})}));rR.displayName=tR.displayName;const nR=m.forwardRef(({className:t,...s},a)=>e.jsx(Q6,{ref:a,className:je("text-sm font-semibold",t),...s}));nR.displayName=Q6.displayName;const oR=m.forwardRef(({className:t,...s},a)=>e.jsx(Z6,{ref:a,className:je("text-sm opacity-90",t),...s}));oR.displayName=Z6.displayName;function Zse(){const{toasts:t}=Kt();return e.jsxs(Xse,{children:[t.map(function({id:s,title:a,description:r,action:n,...o}){return e.jsxs(aR,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(nR,{children:a}),r&&e.jsx(oR,{children:r})]}),n,e.jsx(rR,{})]},s)}),e.jsx(sR,{})]})}const eae=new QO,tae=()=>e.jsx(ez,{client:eae,children:e.jsx(Tse,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:e.jsx(Rt,{children:e.jsx(cL,{children:e.jsxs(hX,{children:[e.jsx(Zse,{}),e.jsx(kse,{}),e.jsx(PO,{basename:"/fiscatus-app/",children:e.jsxs(jO,{children:[e.jsx(ts,{path:"/",element:e.jsx(Ju,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/dashboard",element:e.jsx(Ju,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/login",element:e.jsx(c_,{})}),e.jsx(ts,{path:"/home",element:e.jsx(Ju,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/dfd",element:e.jsx(Og,{to:"/planejamento-da-contratacao",replace:!0})}),e.jsx(ts,{path:"/dfd/novo",element:e.jsx(Og,{to:"/planejamento-da-contratacao",replace:!0})}),e.jsx(ts,{path:"/planejamento-da-contratacao",element:e.jsx(DV,{})}),e.jsx(ts,{path:"/assinaturas",element:e.jsx(jw,{})}),e.jsx(ts,{path:"/assinaturas/:id",element:e.jsx(jw,{})}),e.jsx(ts,{path:"/processos",element:e.jsx(VG,{})}),e.jsx(ts,{path:"/processos/:id",element:e.jsx(k2,{})}),e.jsx(ts,{path:"/processo/:id",element:e.jsx(k2,{})}),e.jsx(ts,{path:"/novo-processo",element:e.jsx(jee,{})}),e.jsx(ts,{path:"/processos-gerencia",element:e.jsx(pee,{})}),e.jsx(ts,{path:"/processos-gerencia/pasta/:pastaId",element:e.jsx(Pee,{})}),e.jsx(ts,{path:"/modelos-de-fluxo",element:e.jsx(zte,{})}),e.jsx(ts,{path:"/configuracoes",element:e.jsx(Fte,{})}),e.jsx(ts,{path:"/notificacoes",element:e.jsx($te,{})}),e.jsx(ts,{path:"/tubelight-demo",element:e.jsx(Bte,{})}),e.jsx(ts,{path:"/administracao",element:e.jsx(Ju,{children:e.jsx(Zte,{})})}),e.jsx(ts,{path:"/invite/:token",element:e.jsx(tse,{})}),e.jsx(ts,{path:"/verificar-convite",element:e.jsx(ase,{})}),e.jsx(ts,{path:"*",element:e.jsx(d_,{})})]})})]})})})})});c4(document.getElementById("root")).render(e.jsx(tae,{}));
