var py=t=>{throw TypeError(t)};var ff=(t,s,a)=>s.has(t)||py("Cannot "+a);var Se=(t,s,a)=>(ff(t,s,"read from private field"),a?a.call(t):s.get(t)),Bt=(t,s,a)=>s.has(t)?py("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),gt=(t,s,a,r)=>(ff(t,s,"write to private field"),r?r.call(t,a):s.set(t,a),a),Vs=(t,s,a)=>(ff(t,s,"access private method"),a);var pu=(t,s,a,r)=>({set _(n){gt(t,s,n,a)},get _(){return Se(t,s,r)}});function oR(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();function q2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y2={exports:{}},$h={},K2={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),iR=Symbol.for("react.portal"),lR=Symbol.for("react.fragment"),cR=Symbol.for("react.strict_mode"),dR=Symbol.for("react.profiler"),uR=Symbol.for("react.provider"),mR=Symbol.for("react.context"),hR=Symbol.for("react.forward_ref"),xR=Symbol.for("react.suspense"),fR=Symbol.for("react.memo"),pR=Symbol.for("react.lazy"),gy=Symbol.iterator;function gR(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var X2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J2=Object.assign,Q2={};function Tl(t,s,a){this.props=t,this.context=s,this.refs=Q2,this.updater=a||X2}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z2(){}Z2.prototype=Tl.prototype;function X0(t,s,a){this.props=t,this.context=s,this.refs=Q2,this.updater=a||X2}var J0=X0.prototype=new Z2;J0.constructor=X0;J2(J0,Tl.prototype);J0.isPureReactComponent=!0;var vy=Array.isArray,eC=Object.prototype.hasOwnProperty,Q0={current:null},tC={key:!0,ref:!0,__self:!0,__source:!0};function sC(t,s,a){var r,n={},o=null,i=null;if(s!=null)for(r in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(o=""+s.key),s)eC.call(s,r)&&!tC.hasOwnProperty(r)&&(n[r]=s[r]);var l=arguments.length-2;if(l===1)n.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)n[r]===void 0&&(n[r]=l[r]);return{$$typeof:Fd,type:t,key:o,ref:i,props:n,_owner:Q0.current}}function vR(t,s){return{$$typeof:Fd,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function bR(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return s[a]})}var by=/\/+/g;function pf(t,s){return typeof t=="object"&&t!==null&&t.key!=null?bR(""+t.key):s.toString(36)}function tm(t,s,a,r,n){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Fd:case iR:i=!0}}if(i)return i=t,n=n(i),t=r===""?"."+pf(i,0):r,vy(n)?(a="",t!=null&&(a=t.replace(by,"$&/")+"/"),tm(n,s,a,"",function(u){return u})):n!=null&&(Z0(n)&&(n=vR(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(by,"$&/")+"/")+t)),s.push(n)),1;if(i=0,r=r===""?".":r+":",vy(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+pf(o,l);i+=tm(o,s,a,c,n)}else if(c=gR(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+pf(o,l++),i+=tm(o,s,a,c,n);else if(o==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function gu(t,s,a){if(t==null)return t;var r=[],n=0;return tm(t,r,"","",function(o){return s.call(a,o,n++)}),r}function jR(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ca={current:null},sm={transition:null},yR={ReactCurrentDispatcher:ca,ReactCurrentBatchConfig:sm,ReactCurrentOwner:Q0};function aC(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:gu,forEach:function(t,s,a){gu(t,function(){s.apply(this,arguments)},a)},count:function(t){var s=0;return gu(t,function(){s++}),s},toArray:function(t){return gu(t,function(s){return s})||[]},only:function(t){if(!Z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=Tl;Et.Fragment=lR;Et.Profiler=dR;Et.PureComponent=X0;Et.StrictMode=cR;Et.Suspense=xR;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR;Et.act=aC;Et.cloneElement=function(t,s,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J2({},t.props),n=t.key,o=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(o=s.ref,i=Q0.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in s)eC.call(s,c)&&!tC.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fd,type:t.type,key:n,ref:o,props:r,_owner:i}};Et.createContext=function(t){return t={$$typeof:mR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uR,_context:t},t.Consumer=t};Et.createElement=sC;Et.createFactory=function(t){var s=sC.bind(null,t);return s.type=t,s};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:hR,render:t}};Et.isValidElement=Z0;Et.lazy=function(t){return{$$typeof:pR,_payload:{_status:-1,_result:t},_init:jR}};Et.memo=function(t,s){return{$$typeof:fR,type:t,compare:s===void 0?null:s}};Et.startTransition=function(t){var s=sm.transition;sm.transition={};try{t()}finally{sm.transition=s}};Et.unstable_act=aC;Et.useCallback=function(t,s){return ca.current.useCallback(t,s)};Et.useContext=function(t){return ca.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return ca.current.useDeferredValue(t)};Et.useEffect=function(t,s){return ca.current.useEffect(t,s)};Et.useId=function(){return ca.current.useId()};Et.useImperativeHandle=function(t,s,a){return ca.current.useImperativeHandle(t,s,a)};Et.useInsertionEffect=function(t,s){return ca.current.useInsertionEffect(t,s)};Et.useLayoutEffect=function(t,s){return ca.current.useLayoutEffect(t,s)};Et.useMemo=function(t,s){return ca.current.useMemo(t,s)};Et.useReducer=function(t,s,a){return ca.current.useReducer(t,s,a)};Et.useRef=function(t){return ca.current.useRef(t)};Et.useState=function(t){return ca.current.useState(t)};Et.useSyncExternalStore=function(t,s,a){return ca.current.useSyncExternalStore(t,s,a)};Et.useTransition=function(){return ca.current.useTransition()};Et.version="18.3.1";K2.exports=Et;var m=K2.exports;const Z=q2(m),rC=oR({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR=m,wR=Symbol.for("react.element"),CR=Symbol.for("react.fragment"),SR=Object.prototype.hasOwnProperty,ER=NR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PR={key:!0,ref:!0,__self:!0,__source:!0};function nC(t,s,a){var r,n={},o=null,i=null;a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)SR.call(s,r)&&!PR.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:wR,type:t,key:o,ref:i,props:n,_owner:ER.current}}$h.Fragment=CR;$h.jsx=nC;$h.jsxs=nC;Y2.exports=$h;var e=Y2.exports,oC={exports:{}},_a={},iC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(S,L){var U=S.length;S.push(L);e:for(;0<U;){var J=U-1>>>1,re=S[J];if(0<n(re,L))S[J]=L,S[U]=re,U=J;else break e}}function a(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var L=S[0],U=S.pop();if(U!==L){S[0]=U;e:for(var J=0,re=S.length,le=re>>>1;J<le;){var Ne=2*(J+1)-1,ke=S[Ne],he=Ne+1,ae=S[he];if(0>n(ke,U))he<re&&0>n(ae,ke)?(S[J]=ae,S[he]=U,J=he):(S[J]=ke,S[Ne]=U,J=Ne);else if(he<re&&0>n(ae,U))S[J]=ae,S[he]=U,J=he;else break e}}return L}function n(S,L){var U=S.sortIndex-L.sortIndex;return U!==0?U:S.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,x=3,f=!1,v=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(S){for(var L=a(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=S)r(u),L.sortIndex=L.expirationTime,s(c,L);else break;L=a(u)}}function N(S){if(p=!1,j(S),!v)if(a(c)!==null)v=!0,z(w);else{var L=a(u);L!==null&&O(N,L.startTime-S)}}function w(S,L){v=!1,p&&(p=!1,g(P),P=-1),f=!0;var U=x;try{for(j(L),h=a(c);h!==null&&(!(h.expirationTime>L)||S&&!k());){var J=h.callback;if(typeof J=="function"){h.callback=null,x=h.priorityLevel;var re=J(h.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?h.callback=re:h===a(c)&&r(c),j(L)}else r(c);h=a(c)}if(h!==null)var le=!0;else{var Ne=a(u);Ne!==null&&O(N,Ne.startTime-L),le=!1}return le}finally{h=null,x=U,f=!1}}var E=!1,D=null,P=-1,_=5,M=-1;function k(){return!(t.unstable_now()-M<_)}function $(){if(D!==null){var S=t.unstable_now();M=S;var L=!0;try{L=D(!0,S)}finally{L?H():(E=!1,D=null)}}else E=!1}var H;if(typeof b=="function")H=function(){b($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,K=Y.port2;Y.port1.onmessage=$,H=function(){K.postMessage(null)}}else H=function(){y($,0)};function z(S){D=S,E||(E=!0,H())}function O(S,L){P=y(function(){S(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,z(w))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(S){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var U=x;x=L;try{return S()}finally{x=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var U=x;x=S;try{return L()}finally{x=U}},t.unstable_scheduleCallback=function(S,L,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,S){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,S={id:d++,callback:L,priorityLevel:S,startTime:U,expirationTime:re,sortIndex:-1},U>J?(S.sortIndex=U,s(u,S),a(c)===null&&S===a(u)&&(p?(g(P),P=-1):p=!0,O(N,U-J))):(S.sortIndex=re,s(c,S),v||f||(v=!0,z(w))),S},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(S){var L=x;return function(){var U=x;x=L;try{return S.apply(this,arguments)}finally{x=U}}}})(lC);iC.exports=lC;var AR=iC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=m,Oa=AR;function Oe(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cC=new Set,Hc={};function di(t,s){ml(t,s),ml(t+"Capture",s)}function ml(t,s){for(Hc[t]=s,t=0;t<s.length;t++)cC.add(s[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,kR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},yy={};function TR(t){return Gp.call(yy,t)?!0:Gp.call(jy,t)?!1:kR.test(t)?yy[t]=!0:(jy[t]=!0,!1)}function RR(t,s,a,r){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MR(t,s,a,r){if(s===null||typeof s>"u"||RR(t,s,a,r))return!0;if(r)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function da(t,s,a,r,n,o,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=o,this.removeEmptyString=i}var Ls={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ls[t]=new da(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ls[s]=new da(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ls[t]=new da(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ls[t]=new da(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ls[t]=new da(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ls[t]=new da(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ls[t]=new da(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ls[t]=new da(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ls[t]=new da(t,5,!1,t.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(ev,tv);Ls[s]=new da(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(ev,tv);Ls[s]=new da(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(ev,tv);Ls[s]=new da(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ls[t]=new da(t,1,!1,t.toLowerCase(),null,!1,!1)});Ls.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ls[t]=new da(t,1,!1,t.toLowerCase(),null,!0,!0)});function sv(t,s,a,r){var n=Ls.hasOwnProperty(s)?Ls[s]:null;(n!==null?n.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(MR(s,a,n,r)&&(a=null),r||n===null?TR(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(s=n.attributeName,r=n.attributeNamespace,a===null?t.removeAttribute(s):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,r?t.setAttributeNS(r,s,a):t.setAttribute(s,a))))}var jn=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Si=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),mC=Symbol.for("react.offscreen"),Ny=Symbol.iterator;function oc(t){return t===null||typeof t!="object"?null:(t=Ny&&t[Ny]||t["@@iterator"],typeof t=="function"?t:null)}var cs=Object.assign,gf;function bc(t){if(gf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gf=s&&s[1]||""}return`
`+gf+t}var vf=!1;function bf(t,s){if(!t||vf)return"";vf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var r=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){r=u}t.call(s.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),o=r.stack.split(`
`),i=n.length-1,l=o.length-1;1<=i&&0<=l&&n[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==o[l]){var c=`
`+n[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{vf=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?bc(t):""}function IR(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case Si:return"Portal";case Bp:return"Profiler";case av:return"StrictMode";case Up:return"Suspense";case Hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uC:return(t.displayName||"Context")+".Consumer";case dC:return(t._context.displayName||"Context")+".Provider";case rv:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nv:return s=t.displayName||null,s!==null?s:Wp(t.type)||"Memo";case Rn:s=t._payload,t=t._init;try{return Wp(t(s))}catch{}}return null}function OR(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(s);case 8:return s===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hC(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zR(t){var s=hC(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,o=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function bu(t){t._valueTracker||(t._valueTracker=zR(t))}function xC(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=hC(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Dm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,s){var a=s.checked;return cs({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function wy(t,s){var a=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;a=so(s.value!=null?s.value:a),t._wrapperState={initialChecked:r,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fC(t,s){s=s.checked,s!=null&&sv(t,"checked",s,!1)}function Yp(t,s){fC(t,s);var a=so(s.value),r=s.type;if(a!=null)r==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Kp(t,s.type,a):s.hasOwnProperty("defaultValue")&&Kp(t,s.type,so(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Cy(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Kp(t,s,a){(s!=="number"||Dm(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var jc=Array.isArray;function Gi(t,s,a,r){if(t=t.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=s.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&r&&(t[a].defaultSelected=!0)}else{for(a=""+so(a),s=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function Xp(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return cs({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sy(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(Oe(92));if(jc(a)){if(1<a.length)throw Error(Oe(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:so(a)}}function pC(t,s){var a=so(s.value),r=so(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),r!=null&&(t.defaultValue=""+r)}function Ey(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function gC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?gC(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,vC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,r,n){MSApp.execUnsafeLocalFunction(function(){return t(s,a,r,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Wc(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FR=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(t){FR.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Pc[s]=Pc[t]})});function bC(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Pc.hasOwnProperty(t)&&Pc[t]?(""+s).trim():s+"px"}function jC(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var r=a.indexOf("--")===0,n=bC(a,s[a],r);a==="float"&&(a="cssFloat"),r?t.setProperty(a,n):t[a]=n}}var _R=cs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,s){if(s){if(_R[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Oe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Oe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Oe(62))}}function Zp(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,Bi=null,Ui=null;function Py(t){if(t=$d(t)){if(typeof tg!="function")throw Error(Oe(280));var s=t.stateNode;s&&(s=Hh(s),tg(t.stateNode,t.type,s))}}function yC(t){Bi?Ui?Ui.push(t):Ui=[t]:Bi=t}function NC(){if(Bi){var t=Bi,s=Ui;if(Ui=Bi=null,Py(t),s)for(t=0;t<s.length;t++)Py(s[t])}}function wC(t,s){return t(s)}function CC(){}var jf=!1;function SC(t,s,a){if(jf)return t(s,a);jf=!0;try{return wC(t,s,a)}finally{jf=!1,(Bi!==null||Ui!==null)&&(CC(),NC())}}function qc(t,s){var a=t.stateNode;if(a===null)return null;var r=Hh(a);if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(Oe(231,s,typeof a));return a}var sg=!1;if(dn)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){sg=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{sg=!1}function LR(t,s,a,r,n,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(a,u)}catch(d){this.onError(d)}}var Ac=!1,km=null,Tm=!1,ag=null,$R={onError:function(t){Ac=!0,km=t}};function VR(t,s,a,r,n,o,i,l,c){Ac=!1,km=null,LR.apply($R,arguments)}function GR(t,s,a,r,n,o,i,l,c){if(VR.apply(this,arguments),Ac){if(Ac){var u=km;Ac=!1,km=null}else throw Error(Oe(198));Tm||(Tm=!0,ag=u)}}function ui(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function EC(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ay(t){if(ui(t)!==t)throw Error(Oe(188))}function BR(t){var s=t.alternate;if(!s){if(s=ui(t),s===null)throw Error(Oe(188));return s!==t?null:t}for(var a=t,r=s;;){var n=a.return;if(n===null)break;var o=n.alternate;if(o===null){if(r=n.return,r!==null){a=r;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===a)return Ay(n),t;if(o===r)return Ay(n),s;o=o.sibling}throw Error(Oe(188))}if(a.return!==r.return)a=n,r=o;else{for(var i=!1,l=n.child;l;){if(l===a){i=!0,a=n,r=o;break}if(l===r){i=!0,r=n,a=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===a){i=!0,a=o,r=n;break}if(l===r){i=!0,r=o,a=n;break}l=l.sibling}if(!i)throw Error(Oe(189))}}if(a.alternate!==r)throw Error(Oe(190))}if(a.tag!==3)throw Error(Oe(188));return a.stateNode.current===a?t:s}function PC(t){return t=BR(t),t!==null?AC(t):null}function AC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=AC(t);if(s!==null)return s;t=t.sibling}return null}var DC=Oa.unstable_scheduleCallback,Dy=Oa.unstable_cancelCallback,UR=Oa.unstable_shouldYield,HR=Oa.unstable_requestPaint,gs=Oa.unstable_now,WR=Oa.unstable_getCurrentPriorityLevel,iv=Oa.unstable_ImmediatePriority,kC=Oa.unstable_UserBlockingPriority,Rm=Oa.unstable_NormalPriority,qR=Oa.unstable_LowPriority,TC=Oa.unstable_IdlePriority,Vh=null,Gr=null;function YR(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:JR,KR=Math.log,XR=Math.LN2;function JR(t){return t>>>=0,t===0?32:31-(KR(t)/XR|0)|0}var yu=64,Nu=4194304;function yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mm(t,s){var a=t.pendingLanes;if(a===0)return 0;var r=0,n=t.suspendedLanes,o=t.pingedLanes,i=a&268435455;if(i!==0){var l=i&~n;l!==0?r=yc(l):(o&=i,o!==0&&(r=yc(o)))}else i=a&~n,i!==0?r=yc(i):o!==0&&(r=yc(o));if(r===0)return 0;if(s!==0&&s!==r&&!(s&n)&&(n=r&-r,o=s&-s,n>=o||n===16&&(o&4194240)!==0))return s;if(r&4&&(r|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)a=31-gr(s),n=1<<a,r|=t[a],s&=~n;return r}function QR(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZR(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,n=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-gr(o),l=1<<i,c=n[i];c===-1?(!(l&a)||l&r)&&(n[i]=QR(l,s)):c<=s&&(t.expiredLanes|=l),o&=~l}}function rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RC(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function yf(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function _d(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-gr(s),t[s]=a}function eM(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-gr(a),o=1<<n;s[n]=0,r[n]=-1,t[n]=-1,a&=~o}}function lv(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-gr(a),n=1<<r;n&s|t[r]&s&&(t[r]|=s),a&=~n}}var Wt=0;function MC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IC,cv,OC,zC,FC,ng=!1,wu=[],Hn=null,Wn=null,qn=null,Yc=new Map,Kc=new Map,On=[],tM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(t,s){switch(t){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(s.pointerId)}}function lc(t,s,a,r,n,o){return t===null||t.nativeEvent!==o?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:o,targetContainers:[n]},s!==null&&(s=$d(s),s!==null&&cv(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function sM(t,s,a,r,n){switch(s){case"focusin":return Hn=lc(Hn,t,s,a,r,n),!0;case"dragenter":return Wn=lc(Wn,t,s,a,r,n),!0;case"mouseover":return qn=lc(qn,t,s,a,r,n),!0;case"pointerover":var o=n.pointerId;return Yc.set(o,lc(Yc.get(o)||null,t,s,a,r,n)),!0;case"gotpointercapture":return o=n.pointerId,Kc.set(o,lc(Kc.get(o)||null,t,s,a,r,n)),!0}return!1}function _C(t){var s=Fo(t.target);if(s!==null){var a=ui(s);if(a!==null){if(s=a.tag,s===13){if(s=EC(a),s!==null){t.blockedOn=s,FC(t.priority,function(){OC(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function am(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=og(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);eg=r,a.target.dispatchEvent(r),eg=null}else return s=$d(a),s!==null&&cv(s),t.blockedOn=a,!1;s.shift()}return!0}function Ty(t,s,a){am(t)&&a.delete(s)}function aM(){ng=!1,Hn!==null&&am(Hn)&&(Hn=null),Wn!==null&&am(Wn)&&(Wn=null),qn!==null&&am(qn)&&(qn=null),Yc.forEach(Ty),Kc.forEach(Ty)}function cc(t,s){t.blockedOn===s&&(t.blockedOn=null,ng||(ng=!0,Oa.unstable_scheduleCallback(Oa.unstable_NormalPriority,aM)))}function Xc(t){function s(n){return cc(n,t)}if(0<wu.length){cc(wu[0],t);for(var a=1;a<wu.length;a++){var r=wu[a];r.blockedOn===t&&(r.blockedOn=null)}}for(Hn!==null&&cc(Hn,t),Wn!==null&&cc(Wn,t),qn!==null&&cc(qn,t),Yc.forEach(s),Kc.forEach(s),a=0;a<On.length;a++)r=On[a],r.blockedOn===t&&(r.blockedOn=null);for(;0<On.length&&(a=On[0],a.blockedOn===null);)_C(a),a.blockedOn===null&&On.shift()}var Hi=jn.ReactCurrentBatchConfig,Im=!0;function rM(t,s,a,r){var n=Wt,o=Hi.transition;Hi.transition=null;try{Wt=1,dv(t,s,a,r)}finally{Wt=n,Hi.transition=o}}function nM(t,s,a,r){var n=Wt,o=Hi.transition;Hi.transition=null;try{Wt=4,dv(t,s,a,r)}finally{Wt=n,Hi.transition=o}}function dv(t,s,a,r){if(Im){var n=og(t,s,a,r);if(n===null)Tf(t,s,r,Om,a),ky(t,r);else if(sM(n,t,s,a,r))r.stopPropagation();else if(ky(t,r),s&4&&-1<tM.indexOf(t)){for(;n!==null;){var o=$d(n);if(o!==null&&IC(o),o=og(t,s,a,r),o===null&&Tf(t,s,r,Om,a),o===n)break;n=o}n!==null&&r.stopPropagation()}else Tf(t,s,r,null,a)}}var Om=null;function og(t,s,a,r){if(Om=null,t=ov(r),t=Fo(t),t!==null)if(s=ui(t),s===null)t=null;else if(a=s.tag,a===13){if(t=EC(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Om=t,null}function LC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WR()){case iv:return 1;case kC:return 4;case Rm:case qR:return 16;case TC:return 536870912;default:return 16}default:return 16}}var Gn=null,uv=null,rm=null;function $C(){if(rm)return rm;var t,s=uv,a=s.length,r,n="value"in Gn?Gn.value:Gn.textContent,o=n.length;for(t=0;t<a&&s[t]===n[t];t++);var i=a-t;for(r=1;r<=i&&s[a-r]===n[o-r];r++);return rm=n.slice(t,1<r?1-r:void 0)}function nm(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Cu(){return!0}function Ry(){return!1}function La(t){function s(a,r,n,o,i){this._reactName=a,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(a=t[l],this[l]=a?a(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cu:Ry,this.isPropagationStopped=Ry,this}return cs(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),s}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=La(Rl),Ld=cs({},Rl,{view:0,detail:0}),oM=La(Ld),Nf,wf,dc,Gh=cs({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dc&&(dc&&t.type==="mousemove"?(Nf=t.screenX-dc.screenX,wf=t.screenY-dc.screenY):wf=Nf=0,dc=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:wf}}),My=La(Gh),iM=cs({},Gh,{dataTransfer:0}),lM=La(iM),cM=cs({},Ld,{relatedTarget:0}),Cf=La(cM),dM=cs({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),uM=La(dM),mM=cs({},Rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hM=La(mM),xM=cs({},Rl,{data:0}),Iy=La(xM),fM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vM(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=gM[t])?!!s[t]:!1}function hv(){return vM}var bM=cs({},Ld,{key:function(t){if(t.key){var s=fM[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=nm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(t){return t.type==="keypress"?nm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jM=La(bM),yM=cs({},Gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=La(yM),NM=cs({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),wM=La(NM),CM=cs({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),SM=La(CM),EM=cs({},Gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PM=La(EM),AM=[9,13,27,32],xv=dn&&"CompositionEvent"in window,Dc=null;dn&&"documentMode"in document&&(Dc=document.documentMode);var DM=dn&&"TextEvent"in window&&!Dc,VC=dn&&(!xv||Dc&&8<Dc&&11>=Dc),zy=" ",Fy=!1;function GC(t,s){switch(t){case"keyup":return AM.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function kM(t,s){switch(t){case"compositionend":return BC(s);case"keypress":return s.which!==32?null:(Fy=!0,zy);case"textInput":return t=s.data,t===zy&&Fy?null:t;default:return null}}function TM(t,s){if(Pi)return t==="compositionend"||!xv&&GC(t,s)?(t=$C(),rm=uv=Gn=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return VC&&s.locale!=="ko"?null:s.data;default:return null}}var RM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!RM[t.type]:s==="textarea"}function UC(t,s,a,r){yC(r),s=zm(s,"onChange"),0<s.length&&(a=new mv("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var kc=null,Jc=null;function MM(t){tS(t,0)}function Bh(t){var s=ki(t);if(xC(s))return t}function IM(t,s){if(t==="change")return s}var HC=!1;if(dn){var Sf;if(dn){var Ef="oninput"in document;if(!Ef){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),Ef=typeof Ly.oninput=="function"}Sf=Ef}else Sf=!1;HC=Sf&&(!document.documentMode||9<document.documentMode)}function $y(){kc&&(kc.detachEvent("onpropertychange",WC),Jc=kc=null)}function WC(t){if(t.propertyName==="value"&&Bh(Jc)){var s=[];UC(s,Jc,t,ov(t)),SC(MM,s)}}function OM(t,s,a){t==="focusin"?($y(),kc=s,Jc=a,kc.attachEvent("onpropertychange",WC)):t==="focusout"&&$y()}function zM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bh(Jc)}function FM(t,s){if(t==="click")return Bh(s)}function _M(t,s){if(t==="input"||t==="change")return Bh(s)}function LM(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var br=typeof Object.is=="function"?Object.is:LM;function Qc(t,s){if(br(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!Gp.call(s,n)||!br(t[n],s[n]))return!1}return!0}function Vy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gy(t,s){var a=Vy(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vy(a)}}function qC(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qC(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function YC(){for(var t=window,s=Dm();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Dm(t.document)}return s}function fv(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function $M(t){var s=YC(),a=t.focusedElem,r=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&qC(a.ownerDocument.documentElement,a)){if(r!==null&&fv(a)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,o=Math.min(r.start,n);r=r.end===void 0?o:Math.min(r.end,n),!t.extend&&o>r&&(n=r,r=o,o=n),n=Gy(a,o);var i=Gy(a,r);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),o>r?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VM=dn&&"documentMode"in document&&11>=document.documentMode,Ai=null,ig=null,Tc=null,lg=!1;function By(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lg||Ai==null||Ai!==Dm(r)||(r=Ai,"selectionStart"in r&&fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Qc(Tc,r)||(Tc=r,r=zm(ig,"onSelect"),0<r.length&&(s=new mv("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Ai)))}function Su(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Di={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Pf={},KC={};dn&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Uh(t){if(Pf[t])return Pf[t];if(!Di[t])return t;var s=Di[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in KC)return Pf[t]=s[a];return t}var XC=Uh("animationend"),JC=Uh("animationiteration"),QC=Uh("animationstart"),ZC=Uh("transitionend"),eS=new Map,Uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,s){eS.set(t,s),di(s,[t])}for(var Af=0;Af<Uy.length;Af++){var Df=Uy[Af],GM=Df.toLowerCase(),BM=Df[0].toUpperCase()+Df.slice(1);go(GM,"on"+BM)}go(XC,"onAnimationEnd");go(JC,"onAnimationIteration");go(QC,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(ZC,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function Hy(t,s,a){var r=t.type||"unknown-event";t.currentTarget=a,GR(r,s,void 0,t),t.currentTarget=null}function tS(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],n=r.event;r=r.listeners;e:{var o=void 0;if(s)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&n.isPropagationStopped())break e;Hy(n,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&n.isPropagationStopped())break e;Hy(n,l,u),o=c}}}if(Tm)throw t=ag,Tm=!1,ag=null,t}function Zt(t,s){var a=s[hg];a===void 0&&(a=s[hg]=new Set);var r=t+"__bubble";a.has(r)||(sS(s,t,2,!1),a.add(r))}function kf(t,s,a){var r=0;s&&(r|=4),sS(a,t,r,s)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Zc(t){if(!t[Eu]){t[Eu]=!0,cC.forEach(function(a){a!=="selectionchange"&&(UM.has(a)||kf(a,!1,t),kf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Eu]||(s[Eu]=!0,kf("selectionchange",!1,s))}}function sS(t,s,a,r){switch(LC(s)){case 1:var n=rM;break;case 4:n=nM;break;default:n=dv}a=n.bind(null,s,a,t),n=void 0,!sg||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(s,a,{capture:!0,passive:n}):t.addEventListener(s,a,!0):n!==void 0?t.addEventListener(s,a,{passive:n}):t.addEventListener(s,a,!1)}function Tf(t,s,a,r,n){var o=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;l!==null;){if(i=Fo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}SC(function(){var u=o,d=ov(a),h=[];e:{var x=eS.get(t);if(x!==void 0){var f=mv,v=t;switch(t){case"keypress":if(nm(a)===0)break e;case"keydown":case"keyup":f=jM;break;case"focusin":v="focus",f=Cf;break;case"focusout":v="blur",f=Cf;break;case"beforeblur":case"afterblur":f=Cf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wM;break;case XC:case JC:case QC:f=uM;break;case ZC:f=SM;break;case"scroll":f=oM;break;case"wheel":f=PM;break;case"copy":case"cut":case"paste":f=hM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Oy}var p=(s&4)!==0,y=!p&&t==="scroll",g=p?x!==null?x+"Capture":null:x;p=[];for(var b=u,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,g!==null&&(N=qc(b,g),N!=null&&p.push(ed(b,N,j)))),y)break;b=b.return}0<p.length&&(x=new f(x,v,null,a,d),h.push({event:x,listeners:p}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",x&&a!==eg&&(v=a.relatedTarget||a.fromElement)&&(Fo(v)||v[un]))break e;if((f||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,f?(v=a.relatedTarget||a.toElement,f=u,v=v?Fo(v):null,v!==null&&(y=ui(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(p=My,N="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=Oy,N="onPointerLeave",g="onPointerEnter",b="pointer"),y=f==null?x:ki(f),j=v==null?x:ki(v),x=new p(N,b+"leave",f,a,d),x.target=y,x.relatedTarget=j,N=null,Fo(d)===u&&(p=new p(g,b+"enter",v,a,d),p.target=j,p.relatedTarget=y,N=p),y=N,f&&v)t:{for(p=f,g=v,b=0,j=p;j;j=fi(j))b++;for(j=0,N=g;N;N=fi(N))j++;for(;0<b-j;)p=fi(p),b--;for(;0<j-b;)g=fi(g),j--;for(;b--;){if(p===g||g!==null&&p===g.alternate)break t;p=fi(p),g=fi(g)}p=null}else p=null;f!==null&&Wy(h,x,f,p,!1),v!==null&&y!==null&&Wy(h,y,v,p,!0)}}e:{if(x=u?ki(u):window,f=x.nodeName&&x.nodeName.toLowerCase(),f==="select"||f==="input"&&x.type==="file")var w=IM;else if(_y(x))if(HC)w=_M;else{w=zM;var E=OM}else(f=x.nodeName)&&f.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(w=FM);if(w&&(w=w(t,u))){UC(h,w,a,d);break e}E&&E(t,x,u),t==="focusout"&&(E=x._wrapperState)&&E.controlled&&x.type==="number"&&Kp(x,"number",x.value)}switch(E=u?ki(u):window,t){case"focusin":(_y(E)||E.contentEditable==="true")&&(Ai=E,ig=u,Tc=null);break;case"focusout":Tc=ig=Ai=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,By(h,a,d);break;case"selectionchange":if(VM)break;case"keydown":case"keyup":By(h,a,d)}var D;if(xv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pi?GC(t,a)&&(P="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(P="onCompositionStart");P&&(VC&&a.locale!=="ko"&&(Pi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pi&&(D=$C()):(Gn=d,uv="value"in Gn?Gn.value:Gn.textContent,Pi=!0)),E=zm(u,P),0<E.length&&(P=new Iy(P,t,null,a,d),h.push({event:P,listeners:E}),D?P.data=D:(D=BC(a),D!==null&&(P.data=D)))),(D=DM?kM(t,a):TM(t,a))&&(u=zm(u,"onBeforeInput"),0<u.length&&(d=new Iy("onBeforeInput","beforeinput",null,a,d),h.push({event:d,listeners:u}),d.data=D))}tS(h,s)})}function ed(t,s,a){return{instance:t,listener:s,currentTarget:a}}function zm(t,s){for(var a=s+"Capture",r=[];t!==null;){var n=t,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=qc(t,a),o!=null&&r.unshift(ed(t,o,n)),o=qc(t,s),o!=null&&r.push(ed(t,o,n))),t=t.return}return r}function fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wy(t,s,a,r,n){for(var o=s._reactName,i=[];a!==null&&a!==r;){var l=a,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,n?(c=qc(a,o),c!=null&&i.unshift(ed(a,c,l))):n||(c=qc(a,o),c!=null&&i.push(ed(a,c,l)))),a=a.return}i.length!==0&&t.push({event:s,listeners:i})}var HM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(HM,`
`).replace(WM,"")}function Pu(t,s,a){if(s=qy(s),qy(t)!==s&&a)throw Error(Oe(425))}function Fm(){}var cg=null,dg=null;function ug(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,qM=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,YM=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(KM)}:mg;function KM(t){setTimeout(function(){throw t})}function Rf(t,s){var a=s,r=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){t.removeChild(n),Xc(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=n}while(a);Xc(s)}function Yn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Ky(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ml,td="__reactProps$"+Ml,un="__reactContainer$"+Ml,hg="__reactEvents$"+Ml,XM="__reactListeners$"+Ml,JM="__reactHandles$"+Ml;function Fo(t){var s=t[Fr];if(s)return s;for(var a=t.parentNode;a;){if(s=a[un]||a[Fr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ky(t);t!==null;){if(a=t[Fr])return a;t=Ky(t)}return s}t=a,a=t.parentNode}return null}function $d(t){return t=t[Fr]||t[un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function Hh(t){return t[td]||null}var xg=[],Ti=-1;function vo(t){return{current:t}}function es(t){0>Ti||(t.current=xg[Ti],xg[Ti]=null,Ti--)}function Xt(t,s){Ti++,xg[Ti]=t.current,t.current=s}var ao={},Xs=vo(ao),ja=vo(!1),Xo=ao;function hl(t,s){var a=t.type.contextTypes;if(!a)return ao;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in a)n[o]=s[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function ya(t){return t=t.childContextTypes,t!=null}function _m(){es(ja),es(Xs)}function Xy(t,s,a){if(Xs.current!==ao)throw Error(Oe(168));Xt(Xs,s),Xt(ja,a)}function aS(t,s,a){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return a;r=r.getChildContext();for(var n in r)if(!(n in s))throw Error(Oe(108,OR(t)||"Unknown",n));return cs({},a,r)}function Lm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,Xo=Xs.current,Xt(Xs,t),Xt(ja,ja.current),!0}function Jy(t,s,a){var r=t.stateNode;if(!r)throw Error(Oe(169));a?(t=aS(t,s,Xo),r.__reactInternalMemoizedMergedChildContext=t,es(ja),es(Xs),Xt(Xs,t)):es(ja),Xt(ja,a)}var nn=null,Wh=!1,Mf=!1;function rS(t){nn===null?nn=[t]:nn.push(t)}function QM(t){Wh=!0,rS(t)}function bo(){if(!Mf&&nn!==null){Mf=!0;var t=0,s=Wt;try{var a=nn;for(Wt=1;t<a.length;t++){var r=a[t];do r=r(!0);while(r!==null)}nn=null,Wh=!1}catch(n){throw nn!==null&&(nn=nn.slice(t+1)),DC(iv,bo),n}finally{Wt=s,Mf=!1}}return null}var Ri=[],Mi=0,$m=null,Vm=0,Wa=[],qa=0,Jo=null,on=1,ln="";function To(t,s){Ri[Mi++]=Vm,Ri[Mi++]=$m,$m=t,Vm=s}function nS(t,s,a){Wa[qa++]=on,Wa[qa++]=ln,Wa[qa++]=Jo,Jo=t;var r=on;t=ln;var n=32-gr(r)-1;r&=~(1<<n),a+=1;var o=32-gr(s)+n;if(30<o){var i=n-n%5;o=(r&(1<<i)-1).toString(32),r>>=i,n-=i,on=1<<32-gr(s)+n|a<<n|r,ln=o+t}else on=1<<o|a<<n|r,ln=t}function pv(t){t.return!==null&&(To(t,1),nS(t,1,0))}function gv(t){for(;t===$m;)$m=Ri[--Mi],Ri[Mi]=null,Vm=Ri[--Mi],Ri[Mi]=null;for(;t===Jo;)Jo=Wa[--qa],Wa[qa]=null,ln=Wa[--qa],Wa[qa]=null,on=Wa[--qa],Wa[qa]=null}var Ma=null,Ta=null,ss=!1,mr=null;function oS(t,s){var a=Ya(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function Qy(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ma=t,Ta=Yn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ma=t,Ta=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Jo!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Ya(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,Ma=t,Ta=null,!0):!1;default:return!1}}function fg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pg(t){if(ss){var s=Ta;if(s){var a=s;if(!Qy(t,s)){if(fg(t))throw Error(Oe(418));s=Yn(a.nextSibling);var r=Ma;s&&Qy(t,s)?oS(r,a):(t.flags=t.flags&-4097|2,ss=!1,Ma=t)}}else{if(fg(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,ss=!1,Ma=t}}}function Zy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ma=t}function Au(t){if(t!==Ma)return!1;if(!ss)return Zy(t),ss=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!ug(t.type,t.memoizedProps)),s&&(s=Ta)){if(fg(t))throw iS(),Error(Oe(418));for(;s;)oS(t,s),s=Yn(s.nextSibling)}if(Zy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){Ta=Yn(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}Ta=null}}else Ta=Ma?Yn(t.stateNode.nextSibling):null;return!0}function iS(){for(var t=Ta;t;)t=Yn(t.nextSibling)}function xl(){Ta=Ma=null,ss=!1}function vv(t){mr===null?mr=[t]:mr.push(t)}var ZM=jn.ReactCurrentBatchConfig;function uc(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Oe(309));var r=a.stateNode}if(!r)throw Error(Oe(147,t));var n=r,o=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===o?s.ref:(s=function(i){var l=n.refs;i===null?delete l[o]:l[o]=i},s._stringRef=o,s)}if(typeof t!="string")throw Error(Oe(284));if(!a._owner)throw Error(Oe(290,t))}return t}function Du(t,s){throw t=Object.prototype.toString.call(s),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function eN(t){var s=t._init;return s(t._payload)}function lS(t){function s(g,b){if(t){var j=g.deletions;j===null?(g.deletions=[b],g.flags|=16):j.push(b)}}function a(g,b){if(!t)return null;for(;b!==null;)s(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function n(g,b){return g=Qn(g,b),g.index=0,g.sibling=null,g}function o(g,b,j){return g.index=j,t?(j=g.alternate,j!==null?(j=j.index,j<b?(g.flags|=2,b):j):(g.flags|=2,b)):(g.flags|=1048576,b)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,b,j,N){return b===null||b.tag!==6?(b=$f(j,g.mode,N),b.return=g,b):(b=n(b,j),b.return=g,b)}function c(g,b,j,N){var w=j.type;return w===Ei?d(g,b,j.props.children,N,j.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rn&&eN(w)===b.type)?(N=n(b,j.props),N.ref=uc(g,b,j),N.return=g,N):(N=mm(j.type,j.key,j.props,null,g.mode,N),N.ref=uc(g,b,j),N.return=g,N)}function u(g,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Vf(j,g.mode,N),b.return=g,b):(b=n(b,j.children||[]),b.return=g,b)}function d(g,b,j,N,w){return b===null||b.tag!==7?(b=qo(j,g.mode,N,w),b.return=g,b):(b=n(b,j),b.return=g,b)}function h(g,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$f(""+b,g.mode,j),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vu:return j=mm(b.type,b.key,b.props,null,g.mode,j),j.ref=uc(g,null,b),j.return=g,j;case Si:return b=Vf(b,g.mode,j),b.return=g,b;case Rn:var N=b._init;return h(g,N(b._payload),j)}if(jc(b)||oc(b))return b=qo(b,g.mode,j,null),b.return=g,b;Du(g,b)}return null}function x(g,b,j,N){var w=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(g,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vu:return j.key===w?c(g,b,j,N):null;case Si:return j.key===w?u(g,b,j,N):null;case Rn:return w=j._init,x(g,b,w(j._payload),N)}if(jc(j)||oc(j))return w!==null?null:d(g,b,j,N,null);Du(g,j)}return null}function f(g,b,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(j)||null,l(b,g,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vu:return g=g.get(N.key===null?j:N.key)||null,c(b,g,N,w);case Si:return g=g.get(N.key===null?j:N.key)||null,u(b,g,N,w);case Rn:var E=N._init;return f(g,b,j,E(N._payload),w)}if(jc(N)||oc(N))return g=g.get(j)||null,d(b,g,N,w,null);Du(b,N)}return null}function v(g,b,j,N){for(var w=null,E=null,D=b,P=b=0,_=null;D!==null&&P<j.length;P++){D.index>P?(_=D,D=null):_=D.sibling;var M=x(g,D,j[P],N);if(M===null){D===null&&(D=_);break}t&&D&&M.alternate===null&&s(g,D),b=o(M,b,P),E===null?w=M:E.sibling=M,E=M,D=_}if(P===j.length)return a(g,D),ss&&To(g,P),w;if(D===null){for(;P<j.length;P++)D=h(g,j[P],N),D!==null&&(b=o(D,b,P),E===null?w=D:E.sibling=D,E=D);return ss&&To(g,P),w}for(D=r(g,D);P<j.length;P++)_=f(D,g,P,j[P],N),_!==null&&(t&&_.alternate!==null&&D.delete(_.key===null?P:_.key),b=o(_,b,P),E===null?w=_:E.sibling=_,E=_);return t&&D.forEach(function(k){return s(g,k)}),ss&&To(g,P),w}function p(g,b,j,N){var w=oc(j);if(typeof w!="function")throw Error(Oe(150));if(j=w.call(j),j==null)throw Error(Oe(151));for(var E=w=null,D=b,P=b=0,_=null,M=j.next();D!==null&&!M.done;P++,M=j.next()){D.index>P?(_=D,D=null):_=D.sibling;var k=x(g,D,M.value,N);if(k===null){D===null&&(D=_);break}t&&D&&k.alternate===null&&s(g,D),b=o(k,b,P),E===null?w=k:E.sibling=k,E=k,D=_}if(M.done)return a(g,D),ss&&To(g,P),w;if(D===null){for(;!M.done;P++,M=j.next())M=h(g,M.value,N),M!==null&&(b=o(M,b,P),E===null?w=M:E.sibling=M,E=M);return ss&&To(g,P),w}for(D=r(g,D);!M.done;P++,M=j.next())M=f(D,g,P,M.value,N),M!==null&&(t&&M.alternate!==null&&D.delete(M.key===null?P:M.key),b=o(M,b,P),E===null?w=M:E.sibling=M,E=M);return t&&D.forEach(function($){return s(g,$)}),ss&&To(g,P),w}function y(g,b,j,N){if(typeof j=="object"&&j!==null&&j.type===Ei&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case vu:e:{for(var w=j.key,E=b;E!==null;){if(E.key===w){if(w=j.type,w===Ei){if(E.tag===7){a(g,E.sibling),b=n(E,j.props.children),b.return=g,g=b;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rn&&eN(w)===E.type){a(g,E.sibling),b=n(E,j.props),b.ref=uc(g,E,j),b.return=g,g=b;break e}a(g,E);break}else s(g,E);E=E.sibling}j.type===Ei?(b=qo(j.props.children,g.mode,N,j.key),b.return=g,g=b):(N=mm(j.type,j.key,j.props,null,g.mode,N),N.ref=uc(g,b,j),N.return=g,g=N)}return i(g);case Si:e:{for(E=j.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){a(g,b.sibling),b=n(b,j.children||[]),b.return=g,g=b;break e}else{a(g,b);break}else s(g,b);b=b.sibling}b=Vf(j,g.mode,N),b.return=g,g=b}return i(g);case Rn:return E=j._init,y(g,b,E(j._payload),N)}if(jc(j))return v(g,b,j,N);if(oc(j))return p(g,b,j,N);Du(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(a(g,b.sibling),b=n(b,j),b.return=g,g=b):(a(g,b),b=$f(j,g.mode,N),b.return=g,g=b),i(g)):a(g,b)}return y}var fl=lS(!0),cS=lS(!1),Gm=vo(null),Bm=null,Ii=null,bv=null;function jv(){bv=Ii=Bm=null}function yv(t){var s=Gm.current;es(Gm),t._currentValue=s}function gg(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function Wi(t,s){Bm=t,bv=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(ga=!0),t.firstContext=null)}function Za(t){var s=t._currentValue;if(bv!==t)if(t={context:t,memoizedValue:s,next:null},Ii===null){if(Bm===null)throw Error(Oe(308));Ii=t,Bm.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return s}var _o=null;function Nv(t){_o===null?_o=[t]:_o.push(t)}function dS(t,s,a,r){var n=s.interleaved;return n===null?(a.next=a,Nv(s)):(a.next=n.next,n.next=a),s.interleaved=a,mn(t,r)}function mn(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Mn=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uS(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var n=r.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),r.pending=s,mn(t,a)}return n=r.interleaved,n===null?(s.next=s,Nv(r)):(s.next=n.next,n.next=s),r.interleaved=s,mn(t,a)}function om(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,lv(t,a)}}function tN(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var n=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};o===null?n=o=i:o=o.next=i,a=a.next}while(a!==null);o===null?n=o=s:o=o.next=s}else n=o=s;a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function Um(t,s,a,r){var n=t.updateQueue;Mn=!1;var o=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=n.baseState;i=0,d=u=c=null,l=o;do{var x=l.lane,f=l.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,p=l;switch(x=s,f=a,p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(f,h,x);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,x=typeof v=="function"?v.call(f,h,x):v,x==null)break e;h=cs({},h,x);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=n.effects,x===null?n.effects=[l]:x.push(l))}else f={eventTime:f,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,i|=x;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;x=l,l=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else o===null&&(n.shared.lanes=0);Zo|=i,t.lanes=i,t.memoizedState=h}}function sN(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],n=r.callback;if(n!==null){if(r.callback=null,r=a,typeof n!="function")throw Error(Oe(191,n));n.call(r)}}}var Vd={},Br=vo(Vd),sd=vo(Vd),ad=vo(Vd);function Lo(t){if(t===Vd)throw Error(Oe(174));return t}function Cv(t,s){switch(Xt(ad,s),Xt(sd,t),Xt(Br,Vd),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Jp(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Jp(s,t)}es(Br),Xt(Br,s)}function pl(){es(Br),es(sd),es(ad)}function mS(t){Lo(ad.current);var s=Lo(Br.current),a=Jp(s,t.type);s!==a&&(Xt(sd,t),Xt(Br,a))}function Sv(t){sd.current===t&&(es(Br),es(sd))}var os=vo(0);function Hm(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var If=[];function Ev(){for(var t=0;t<If.length;t++)If[t]._workInProgressVersionPrimary=null;If.length=0}var im=jn.ReactCurrentDispatcher,Of=jn.ReactCurrentBatchConfig,Qo=0,ls=null,ws=null,As=null,Wm=!1,Rc=!1,rd=0,eI=0;function Gs(){throw Error(Oe(321))}function Pv(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!br(t[a],s[a]))return!1;return!0}function Av(t,s,a,r,n,o){if(Qo=o,ls=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,im.current=t===null||t.memoizedState===null?rI:nI,t=a(r,n),Rc){o=0;do{if(Rc=!1,rd=0,25<=o)throw Error(Oe(301));o+=1,As=ws=null,s.updateQueue=null,im.current=oI,t=a(r,n)}while(Rc)}if(im.current=qm,s=ws!==null&&ws.next!==null,Qo=0,As=ws=ls=null,Wm=!1,s)throw Error(Oe(300));return t}function Dv(){var t=rd!==0;return rd=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return As===null?ls.memoizedState=As=t:As=As.next=t,As}function er(){if(ws===null){var t=ls.alternate;t=t!==null?t.memoizedState:null}else t=ws.next;var s=As===null?ls.memoizedState:As.next;if(s!==null)As=s,ws=t;else{if(t===null)throw Error(Oe(310));ws=t,t={memoizedState:ws.memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},As===null?ls.memoizedState=As=t:As=As.next=t}return As}function nd(t,s){return typeof s=="function"?s(t):s}function zf(t){var s=er(),a=s.queue;if(a===null)throw Error(Oe(311));a.lastRenderedReducer=t;var r=ws,n=r.baseQueue,o=a.pending;if(o!==null){if(n!==null){var i=n.next;n.next=o.next,o.next=i}r.baseQueue=n=o,a.pending=null}if(n!==null){o=n.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Qo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,ls.lanes|=d,Zo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,br(r,s.memoizedState)||(ga=!0),s.memoizedState=r,s.baseState=i,s.baseQueue=c,a.lastRenderedState=r}if(t=a.interleaved,t!==null){n=t;do o=n.lane,ls.lanes|=o,Zo|=o,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ff(t){var s=er(),a=s.queue;if(a===null)throw Error(Oe(311));a.lastRenderedReducer=t;var r=a.dispatch,n=a.pending,o=s.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do o=t(o,i.action),i=i.next;while(i!==n);br(o,s.memoizedState)||(ga=!0),s.memoizedState=o,s.baseQueue===null&&(s.baseState=o),a.lastRenderedState=o}return[o,r]}function hS(){}function xS(t,s){var a=ls,r=er(),n=s(),o=!br(r.memoizedState,n);if(o&&(r.memoizedState=n,ga=!0),r=r.queue,kv(gS.bind(null,a,r,t),[t]),r.getSnapshot!==s||o||As!==null&&As.memoizedState.tag&1){if(a.flags|=2048,od(9,pS.bind(null,a,r,n,s),void 0,null),Rs===null)throw Error(Oe(349));Qo&30||fS(a,s,n)}return n}function fS(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ls.updateQueue,s===null?(s={lastEffect:null,stores:null},ls.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function pS(t,s,a,r){s.value=a,s.getSnapshot=r,vS(s)&&bS(t)}function gS(t,s,a){return a(function(){vS(s)&&bS(t)})}function vS(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!br(t,a)}catch{return!0}}function bS(t){var s=mn(t,1);s!==null&&vr(s,t,1,-1)}function aN(t){var s=Rr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:t},s.queue=t,t=t.dispatch=aI.bind(null,ls,t),[s.memoizedState,t]}function od(t,s,a,r){return t={tag:t,create:s,destroy:a,deps:r,next:null},s=ls.updateQueue,s===null?(s={lastEffect:null,stores:null},ls.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t)),t}function jS(){return er().memoizedState}function lm(t,s,a,r){var n=Rr();ls.flags|=t,n.memoizedState=od(1|s,a,void 0,r===void 0?null:r)}function qh(t,s,a,r){var n=er();r=r===void 0?null:r;var o=void 0;if(ws!==null){var i=ws.memoizedState;if(o=i.destroy,r!==null&&Pv(r,i.deps)){n.memoizedState=od(s,a,o,r);return}}ls.flags|=t,n.memoizedState=od(1|s,a,o,r)}function rN(t,s){return lm(8390656,8,t,s)}function kv(t,s){return qh(2048,8,t,s)}function yS(t,s){return qh(4,2,t,s)}function NS(t,s){return qh(4,4,t,s)}function wS(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function CS(t,s,a){return a=a!=null?a.concat([t]):null,qh(4,4,wS.bind(null,s,t),a)}function Tv(){}function SS(t,s){var a=er();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Pv(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function ES(t,s){var a=er();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Pv(s,r[1])?r[0]:(t=t(),a.memoizedState=[t,s],t)}function PS(t,s,a){return Qo&21?(br(a,s)||(a=RC(),ls.lanes|=a,Zo|=a,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,ga=!0),t.memoizedState=a)}function tI(t,s){var a=Wt;Wt=a!==0&&4>a?a:4,t(!0);var r=Of.transition;Of.transition={};try{t(!1),s()}finally{Wt=a,Of.transition=r}}function AS(){return er().memoizedState}function sI(t,s,a){var r=Jn(t);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},DS(t))kS(s,a);else if(a=dS(t,s,a,r),a!==null){var n=na();vr(a,t,r,n),TS(a,s,r)}}function aI(t,s,a){var r=Jn(t),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(DS(t))kS(s,n);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=s.lastRenderedReducer,o!==null))try{var i=s.lastRenderedState,l=o(i,a);if(n.hasEagerState=!0,n.eagerState=l,br(l,i)){var c=s.interleaved;c===null?(n.next=n,Nv(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}a=dS(t,s,n,r),a!==null&&(n=na(),vr(a,t,r,n),TS(a,s,r))}}function DS(t){var s=t.alternate;return t===ls||s!==null&&s===ls}function kS(t,s){Rc=Wm=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function TS(t,s,a){if(a&4194240){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,lv(t,a)}}var qm={readContext:Za,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},rI={readContext:Za,useCallback:function(t,s){return Rr().memoizedState=[t,s===void 0?null:s],t},useContext:Za,useEffect:rN,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,lm(4194308,4,wS.bind(null,s,t),a)},useLayoutEffect:function(t,s){return lm(4194308,4,t,s)},useInsertionEffect:function(t,s){return lm(4,2,t,s)},useMemo:function(t,s){var a=Rr();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var r=Rr();return s=a!==void 0?a(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=sI.bind(null,ls,t),[r.memoizedState,t]},useRef:function(t){var s=Rr();return t={current:t},s.memoizedState=t},useState:aN,useDebugValue:Tv,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=aN(!1),s=t[0];return t=tI.bind(null,t[1]),Rr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var r=ls,n=Rr();if(ss){if(a===void 0)throw Error(Oe(407));a=a()}else{if(a=s(),Rs===null)throw Error(Oe(349));Qo&30||fS(r,s,a)}n.memoizedState=a;var o={value:a,getSnapshot:s};return n.queue=o,rN(gS.bind(null,r,o,t),[t]),r.flags|=2048,od(9,pS.bind(null,r,o,a,s),void 0,null),a},useId:function(){var t=Rr(),s=Rs.identifierPrefix;if(ss){var a=ln,r=on;a=(r&~(1<<32-gr(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=rd++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=eI++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},nI={readContext:Za,useCallback:SS,useContext:Za,useEffect:kv,useImperativeHandle:CS,useInsertionEffect:yS,useLayoutEffect:NS,useMemo:ES,useReducer:zf,useRef:jS,useState:function(){return zf(nd)},useDebugValue:Tv,useDeferredValue:function(t){var s=er();return PS(s,ws.memoizedState,t)},useTransition:function(){var t=zf(nd)[0],s=er().memoizedState;return[t,s]},useMutableSource:hS,useSyncExternalStore:xS,useId:AS,unstable_isNewReconciler:!1},oI={readContext:Za,useCallback:SS,useContext:Za,useEffect:kv,useImperativeHandle:CS,useInsertionEffect:yS,useLayoutEffect:NS,useMemo:ES,useReducer:Ff,useRef:jS,useState:function(){return Ff(nd)},useDebugValue:Tv,useDeferredValue:function(t){var s=er();return ws===null?s.memoizedState=t:PS(s,ws.memoizedState,t)},useTransition:function(){var t=Ff(nd)[0],s=er().memoizedState;return[t,s]},useMutableSource:hS,useSyncExternalStore:xS,useId:AS,unstable_isNewReconciler:!1};function lr(t,s){if(t&&t.defaultProps){s=cs({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function vg(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:cs({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yh={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var r=na(),n=Jn(t),o=cn(r,n);o.payload=s,a!=null&&(o.callback=a),s=Kn(t,o,n),s!==null&&(vr(s,t,n,r),om(s,t,n))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=na(),n=Jn(t),o=cn(r,n);o.tag=1,o.payload=s,a!=null&&(o.callback=a),s=Kn(t,o,n),s!==null&&(vr(s,t,n,r),om(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=na(),r=Jn(t),n=cn(a,r);n.tag=2,s!=null&&(n.callback=s),s=Kn(t,n,r),s!==null&&(vr(s,t,r,a),om(s,t,r))}};function nN(t,s,a,r,n,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):s.prototype&&s.prototype.isPureReactComponent?!Qc(a,r)||!Qc(n,o):!0}function RS(t,s,a){var r=!1,n=ao,o=s.contextType;return typeof o=="object"&&o!==null?o=Za(o):(n=ya(s)?Xo:Xs.current,r=s.contextTypes,o=(r=r!=null)?hl(t,n):ao),s=new s(a,o),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yh,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),s}function oN(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Yh.enqueueReplaceState(s,s.state,null)}function bg(t,s,a,r){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},wv(t);var o=s.contextType;typeof o=="object"&&o!==null?n.context=Za(o):(o=ya(s)?Xo:Xs.current,n.context=hl(t,o)),n.state=t.memoizedState,o=s.getDerivedStateFromProps,typeof o=="function"&&(vg(t,s,o,a),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Yh.enqueueReplaceState(n,n.state,null),Um(t,a,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function gl(t,s){try{var a="",r=s;do a+=IR(r),r=r.return;while(r);var n=a}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:s,stack:n,digest:null}}function _f(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function jg(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function MS(t,s,a){a=cn(-1,a),a.tag=3,a.payload={element:null};var r=s.value;return a.callback=function(){Km||(Km=!0,kg=r),jg(t,s)},a}function IS(t,s,a){a=cn(-1,a),a.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;a.payload=function(){return r(n)},a.callback=function(){jg(t,s)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(a.callback=function(){jg(t,s),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),a}function iN(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new iI;var n=new Set;r.set(s,n)}else n=r.get(s),n===void 0&&(n=new Set,r.set(s,n));n.has(a)||(n.add(a),t=yI.bind(null,t,s,a),s.then(t,t))}function lN(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function cN(t,s,a,r,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=cn(-1,1),s.tag=2,Kn(a,s,1))),a.lanes|=1),t)}var lI=jn.ReactCurrentOwner,ga=!1;function ea(t,s,a,r){s.child=t===null?cS(s,null,a,r):fl(s,t.child,a,r)}function dN(t,s,a,r,n){a=a.render;var o=s.ref;return Wi(s,n),r=Av(t,s,a,r,o,n),a=Dv(),t!==null&&!ga?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,hn(t,s,n)):(ss&&a&&pv(s),s.flags|=1,ea(t,s,r,n),s.child)}function uN(t,s,a,r,n){if(t===null){var o=a.type;return typeof o=="function"&&!Lv(o)&&o.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=o,OS(t,s,o,r,n)):(t=mm(a.type,null,r,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(o=t.child,!(t.lanes&n)){var i=o.memoizedProps;if(a=a.compare,a=a!==null?a:Qc,a(i,r)&&t.ref===s.ref)return hn(t,s,n)}return s.flags|=1,t=Qn(o,r),t.ref=s.ref,t.return=s,s.child=t}function OS(t,s,a,r,n){if(t!==null){var o=t.memoizedProps;if(Qc(o,r)&&t.ref===s.ref)if(ga=!1,s.pendingProps=r=o,(t.lanes&n)!==0)t.flags&131072&&(ga=!0);else return s.lanes=t.lanes,hn(t,s,n)}return yg(t,s,a,r,n)}function zS(t,s,a){var r=s.pendingProps,n=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(zi,Da),Da|=a;else{if(!(a&1073741824))return t=o!==null?o.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Xt(zi,Da),Da|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:a,Xt(zi,Da),Da|=r}else o!==null?(r=o.baseLanes|a,s.memoizedState=null):r=a,Xt(zi,Da),Da|=r;return ea(t,s,n,a),s.child}function FS(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function yg(t,s,a,r,n){var o=ya(a)?Xo:Xs.current;return o=hl(s,o),Wi(s,n),a=Av(t,s,a,r,o,n),r=Dv(),t!==null&&!ga?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,hn(t,s,n)):(ss&&r&&pv(s),s.flags|=1,ea(t,s,a,n),s.child)}function mN(t,s,a,r,n){if(ya(a)){var o=!0;Lm(s)}else o=!1;if(Wi(s,n),s.stateNode===null)cm(t,s),RS(s,a,r),bg(s,a,r,n),r=!0;else if(t===null){var i=s.stateNode,l=s.memoizedProps;i.props=l;var c=i.context,u=a.contextType;typeof u=="object"&&u!==null?u=Za(u):(u=ya(a)?Xo:Xs.current,u=hl(s,u));var d=a.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&oN(s,i,r,u),Mn=!1;var x=s.memoizedState;i.state=x,Um(s,r,i,n),c=s.memoizedState,l!==r||x!==c||ja.current||Mn?(typeof d=="function"&&(vg(s,a,d,r),c=s.memoizedState),(l=Mn||nN(s,a,l,r,x,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{i=s.stateNode,uS(t,s),l=s.memoizedProps,u=s.type===s.elementType?l:lr(s.type,l),i.props=u,h=s.pendingProps,x=i.context,c=a.contextType,typeof c=="object"&&c!==null?c=Za(c):(c=ya(a)?Xo:Xs.current,c=hl(s,c));var f=a.getDerivedStateFromProps;(d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||x!==c)&&oN(s,i,r,c),Mn=!1,x=s.memoizedState,i.state=x,Um(s,r,i,n);var v=s.memoizedState;l!==h||x!==v||ja.current||Mn?(typeof f=="function"&&(vg(s,a,f,r),v=s.memoizedState),(u=Mn||nN(s,a,u,r,x,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),r=!1)}return Ng(t,s,a,r,o,n)}function Ng(t,s,a,r,n,o){FS(t,s);var i=(s.flags&128)!==0;if(!r&&!i)return n&&Jy(s,a,!1),hn(t,s,o);r=s.stateNode,lI.current=s;var l=i&&typeof a.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&i?(s.child=fl(s,t.child,null,o),s.child=fl(s,null,l,o)):ea(t,s,l,o),s.memoizedState=r.state,n&&Jy(s,a,!0),s.child}function _S(t){var s=t.stateNode;s.pendingContext?Xy(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Xy(t,s.context,!1),Cv(t,s.containerInfo)}function hN(t,s,a,r,n){return xl(),vv(n),s.flags|=256,ea(t,s,a,r),s.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function Cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function LS(t,s,a){var r=s.pendingProps,n=os.current,o=!1,i=(s.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(o=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Xt(os,n&1),t===null)return pg(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=r.children,t=r.fallback,o?(r=s.mode,o=s.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Jh(i,r,0,null),t=qo(t,r,a,null),o.return=s,t.return=s,o.sibling=t,s.child=o,s.child.memoizedState=Cg(a),s.memoizedState=wg,t):Rv(s,i));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return cI(t,s,i,r,l,n,a);if(o){o=r.fallback,i=s.mode,n=t.child,l=n.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&s.child!==n?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=Qn(n,c),r.subtreeFlags=n.subtreeFlags&14680064),l!==null?o=Qn(l,o):(o=qo(o,i,a,null),o.flags|=2),o.return=s,r.return=s,r.sibling=o,s.child=r,r=o,o=s.child,i=t.child.memoizedState,i=i===null?Cg(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~a,s.memoizedState=wg,r}return o=t.child,t=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=a),r.return=s,r.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=r,s.memoizedState=null,r}function Rv(t,s){return s=Jh({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function ku(t,s,a,r){return r!==null&&vv(r),fl(s,t.child,null,a),t=Rv(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function cI(t,s,a,r,n,o,i){if(a)return s.flags&256?(s.flags&=-257,r=_f(Error(Oe(422))),ku(t,s,i,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(o=r.fallback,n=s.mode,r=Jh({mode:"visible",children:r.children},n,0,null),o=qo(o,n,i,null),o.flags|=2,r.return=s,o.return=s,r.sibling=o,s.child=r,s.mode&1&&fl(s,t.child,null,i),s.child.memoizedState=Cg(i),s.memoizedState=wg,o);if(!(s.mode&1))return ku(t,s,i,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Oe(419)),r=_f(o,r,void 0),ku(t,s,i,r)}if(l=(i&t.childLanes)!==0,ga||l){if(r=Rs,r!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|i)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,mn(t,n),vr(r,t,n,-1))}return _v(),r=_f(Error(Oe(421))),ku(t,s,i,r)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=NI.bind(null,t),n._reactRetry=s,null):(t=o.treeContext,Ta=Yn(n.nextSibling),Ma=s,ss=!0,mr=null,t!==null&&(Wa[qa++]=on,Wa[qa++]=ln,Wa[qa++]=Jo,on=t.id,ln=t.overflow,Jo=s),s=Rv(s,r.children),s.flags|=4096,s)}function xN(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),gg(t.return,s,a)}function Lf(t,s,a,r,n){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(o.isBackwards=s,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=a,o.tailMode=n)}function $S(t,s,a){var r=s.pendingProps,n=r.revealOrder,o=r.tail;if(ea(t,s,r.children,a),r=os.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xN(t,a,s);else if(t.tag===19)xN(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xt(os,r),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(a=s.child,n=null;a!==null;)t=a.alternate,t!==null&&Hm(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),Lf(s,!1,n,a,o);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&Hm(t)===null){s.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}Lf(s,!0,a,null,o);break;case"together":Lf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cm(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function hn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Zo|=s.lanes,!(a&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(Oe(153));if(s.child!==null){for(t=s.child,a=Qn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Qn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function dI(t,s,a){switch(s.tag){case 3:_S(s),xl();break;case 5:mS(s);break;case 1:ya(s.type)&&Lm(s);break;case 4:Cv(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,n=s.memoizedProps.value;Xt(Gm,r._currentValue),r._currentValue=n;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(Xt(os,os.current&1),s.flags|=128,null):a&s.child.childLanes?LS(t,s,a):(Xt(os,os.current&1),t=hn(t,s,a),t!==null?t.sibling:null);Xt(os,os.current&1);break;case 19:if(r=(a&s.childLanes)!==0,t.flags&128){if(r)return $S(t,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Xt(os,os.current),r)break;return null;case 22:case 23:return s.lanes=0,zS(t,s,a)}return hn(t,s,a)}var VS,Sg,GS,BS;VS=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Sg=function(){};GS=function(t,s,a,r){var n=t.memoizedProps;if(n!==r){t=s.stateNode,Lo(Br.current);var o=null;switch(a){case"input":n=qp(t,n),r=qp(t,r),o=[];break;case"select":n=cs({},n,{value:void 0}),r=cs({},r,{value:void 0}),o=[];break;case"textarea":n=Xp(t,n),r=Xp(t,r),o=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fm)}Qp(a,r);var i;a=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(i in l)l.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=n!=null?n[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(a||(a={}),a[i]=c[i])}else a||(o||(o=[]),o.push(u,a)),a=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}a&&(o=o||[]).push("style",a);var u=o;(s.updateQueue=u)&&(s.flags|=4)}};BS=function(t,s,a,r){a!==r&&(s.flags|=4)};function mc(t,s){if(!ss)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bs(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function uI(t,s,a){var r=s.pendingProps;switch(gv(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(s),null;case 1:return ya(s.type)&&_m(),Bs(s),null;case 3:return r=s.stateNode,pl(),es(ja),es(Xs),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,mr!==null&&(Mg(mr),mr=null))),Sg(t,s),Bs(s),null;case 5:Sv(s);var n=Lo(ad.current);if(a=s.type,t!==null&&s.stateNode!=null)GS(t,s,a,r,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(Oe(166));return Bs(s),null}if(t=Lo(Br.current),Au(s)){r=s.stateNode,a=s.type;var o=s.memoizedProps;switch(r[Fr]=s,r[td]=o,t=(s.mode&1)!==0,a){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(n=0;n<Nc.length;n++)Zt(Nc[n],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":wy(r,o),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zt("invalid",r);break;case"textarea":Sy(r,o),Zt("invalid",r)}Qp(a,o),n=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Pu(r.textContent,l,t),n=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Pu(r.textContent,l,t),n=["children",""+l]):Hc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Zt("scroll",r)}switch(a){case"input":bu(r),Cy(r,o,!0);break;case"textarea":bu(r),Ey(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fm)}r=n,s.updateQueue=r,r!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gC(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(a,{is:r.is}):(t=i.createElement(a),a==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,a),t[Fr]=s,t[td]=r,VS(t,s,!1,!1),s.stateNode=t;e:{switch(i=Zp(a,r),a){case"dialog":Zt("cancel",t),Zt("close",t),n=r;break;case"iframe":case"object":case"embed":Zt("load",t),n=r;break;case"video":case"audio":for(n=0;n<Nc.length;n++)Zt(Nc[n],t);n=r;break;case"source":Zt("error",t),n=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),n=r;break;case"details":Zt("toggle",t),n=r;break;case"input":wy(t,r),n=qp(t,r),Zt("invalid",t);break;case"option":n=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=cs({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":Sy(t,r),n=Xp(t,r),Zt("invalid",t);break;default:n=r}Qp(a,n),l=n;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?jC(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vC(t,c)):o==="children"?typeof c=="string"?(a!=="textarea"||c!=="")&&Wc(t,c):typeof c=="number"&&Wc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Zt("scroll",t):c!=null&&sv(t,o,c,i))}switch(a){case"input":bu(t),Cy(t,r,!1);break;case"textarea":bu(t),Ey(t);break;case"option":r.value!=null&&t.setAttribute("value",""+so(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Fm)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bs(s),null;case 6:if(t&&s.stateNode!=null)BS(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(Oe(166));if(a=Lo(ad.current),Lo(Br.current),Au(s)){if(r=s.stateNode,a=s.memoizedProps,r[Fr]=s,(o=r.nodeValue!==a)&&(t=Ma,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,a,(t.mode&1)!==0)}o&&(s.flags|=4)}else r=(a.nodeType===9?a:a.ownerDocument).createTextNode(r),r[Fr]=s,s.stateNode=r}return Bs(s),null;case 13:if(es(os),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ss&&Ta!==null&&s.mode&1&&!(s.flags&128))iS(),xl(),s.flags|=98560,o=!1;else if(o=Au(s),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Oe(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[Fr]=s}else xl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bs(s),o=!1}else mr!==null&&(Mg(mr),mr=null),o=!0;if(!o)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||os.current&1?Ss===0&&(Ss=3):_v())),s.updateQueue!==null&&(s.flags|=4),Bs(s),null);case 4:return pl(),Sg(t,s),t===null&&Zc(s.stateNode.containerInfo),Bs(s),null;case 10:return yv(s.type._context),Bs(s),null;case 17:return ya(s.type)&&_m(),Bs(s),null;case 19:if(es(os),o=s.memoizedState,o===null)return Bs(s),null;if(r=(s.flags&128)!==0,i=o.rendering,i===null)if(r)mc(o,!1);else{if(Ss!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=Hm(t),i!==null){for(s.flags|=128,mc(o,!1),r=i.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=a,a=s.child;a!==null;)o=a,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Xt(os,os.current&1|2),s.child}t=t.sibling}o.tail!==null&&gs()>vl&&(s.flags|=128,r=!0,mc(o,!1),s.lanes=4194304)}else{if(!r)if(t=Hm(i),t!==null){if(s.flags|=128,r=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),mc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ss)return Bs(s),null}else 2*gs()-o.renderingStartTime>vl&&a!==1073741824&&(s.flags|=128,r=!0,mc(o,!1),s.lanes=4194304);o.isBackwards?(i.sibling=s.child,s.child=i):(a=o.last,a!==null?a.sibling=i:s.child=i,o.last=i)}return o.tail!==null?(s=o.tail,o.rendering=s,o.tail=s.sibling,o.renderingStartTime=gs(),s.sibling=null,a=os.current,Xt(os,r?a&1|2:a&1),s):(Bs(s),null);case 22:case 23:return Fv(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?Da&1073741824&&(Bs(s),s.subtreeFlags&6&&(s.flags|=8192)):Bs(s),null;case 24:return null;case 25:return null}throw Error(Oe(156,s.tag))}function mI(t,s){switch(gv(s),s.tag){case 1:return ya(s.type)&&_m(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return pl(),es(ja),es(Xs),Ev(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Sv(s),null;case 13:if(es(os),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(Oe(340));xl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return es(os),null;case 4:return pl(),null;case 10:return yv(s.type._context),null;case 22:case 23:return Fv(),null;case 24:return null;default:return null}}var Tu=!1,Ws=!1,hI=typeof WeakSet=="function"?WeakSet:Set,We=null;function Oi(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(r){xs(t,s,r)}else a.current=null}function Eg(t,s,a){try{a()}catch(r){xs(t,s,r)}}var fN=!1;function xI(t,s){if(cg=Im,t=YC(),fv(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=t,x=null;t:for(;;){for(var f;h!==a||n!==0&&h.nodeType!==3||(l=i+n),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)x=h,h=f;for(;;){if(h===t)break t;if(x===a&&++u===n&&(l=i),x===o&&++d===r&&(c=i),(f=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=f}a=l===-1||c===-1?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(dg={focusedElem:t,selectionRange:a},Im=!1,We=s;We!==null;)if(s=We,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,We=t;else for(;We!==null;){s=We;try{var v=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,y=v.memoizedState,g=s.stateNode,b=g.getSnapshotBeforeUpdate(s.elementType===s.type?p:lr(s.type,p),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(N){xs(s,s.return,N)}if(t=s.sibling,t!==null){t.return=s.return,We=t;break}We=s.return}return v=fN,fN=!1,v}function Mc(t,s,a){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var o=n.destroy;n.destroy=void 0,o!==void 0&&Eg(s,a,o)}n=n.next}while(n!==r)}}function Kh(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var r=a.create;a.destroy=r()}a=a.next}while(a!==s)}}function Pg(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function US(t){var s=t.alternate;s!==null&&(t.alternate=null,US(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Fr],delete s[td],delete s[hg],delete s[XM],delete s[JM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HS(t){return t.tag===5||t.tag===3||t.tag===4}function pN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ag(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Fm));else if(r!==4&&(t=t.child,t!==null))for(Ag(t,s,a),t=t.sibling;t!==null;)Ag(t,s,a),t=t.sibling}function Dg(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dg(t,s,a),t=t.sibling;t!==null;)Dg(t,s,a),t=t.sibling}var Is=null,ur=!1;function Sn(t,s,a){for(a=a.child;a!==null;)WS(t,s,a),a=a.sibling}function WS(t,s,a){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Vh,a)}catch{}switch(a.tag){case 5:Ws||Oi(a,s);case 6:var r=Is,n=ur;Is=null,Sn(t,s,a),Is=r,ur=n,Is!==null&&(ur?(t=Is,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Is.removeChild(a.stateNode));break;case 18:Is!==null&&(ur?(t=Is,a=a.stateNode,t.nodeType===8?Rf(t.parentNode,a):t.nodeType===1&&Rf(t,a),Xc(t)):Rf(Is,a.stateNode));break;case 4:r=Is,n=ur,Is=a.stateNode.containerInfo,ur=!0,Sn(t,s,a),Is=r,ur=n;break;case 0:case 11:case 14:case 15:if(!Ws&&(r=a.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var o=n,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Eg(a,s,i),n=n.next}while(n!==r)}Sn(t,s,a);break;case 1:if(!Ws&&(Oi(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(l){xs(a,s,l)}Sn(t,s,a);break;case 21:Sn(t,s,a);break;case 22:a.mode&1?(Ws=(r=Ws)||a.memoizedState!==null,Sn(t,s,a),Ws=r):Sn(t,s,a);break;default:Sn(t,s,a)}}function gN(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new hI),s.forEach(function(r){var n=wI.bind(null,t,r);a.has(r)||(a.add(r),r.then(n,n))})}}function nr(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];try{var o=t,i=s,l=i;e:for(;l!==null;){switch(l.tag){case 5:Is=l.stateNode,ur=!1;break e;case 3:Is=l.stateNode.containerInfo,ur=!0;break e;case 4:Is=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(Is===null)throw Error(Oe(160));WS(o,i,n),Is=null,ur=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){xs(n,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qS(s,t),s=s.sibling}function qS(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(s,t),Tr(t),r&4){try{Mc(3,t,t.return),Kh(3,t)}catch(p){xs(t,t.return,p)}try{Mc(5,t,t.return)}catch(p){xs(t,t.return,p)}}break;case 1:nr(s,t),Tr(t),r&512&&a!==null&&Oi(a,a.return);break;case 5:if(nr(s,t),Tr(t),r&512&&a!==null&&Oi(a,a.return),t.flags&32){var n=t.stateNode;try{Wc(n,"")}catch(p){xs(t,t.return,p)}}if(r&4&&(n=t.stateNode,n!=null)){var o=t.memoizedProps,i=a!==null?a.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fC(n,o),Zp(l,i);var u=Zp(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?jC(n,h):d==="dangerouslySetInnerHTML"?vC(n,h):d==="children"?Wc(n,h):sv(n,d,h,u)}switch(l){case"input":Yp(n,o);break;case"textarea":pC(n,o);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Gi(n,!!o.multiple,f,!1):x!==!!o.multiple&&(o.defaultValue!=null?Gi(n,!!o.multiple,o.defaultValue,!0):Gi(n,!!o.multiple,o.multiple?[]:"",!1))}n[td]=o}catch(p){xs(t,t.return,p)}}break;case 6:if(nr(s,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Oe(162));n=t.stateNode,o=t.memoizedProps;try{n.nodeValue=o}catch(p){xs(t,t.return,p)}}break;case 3:if(nr(s,t),Tr(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Xc(s.containerInfo)}catch(p){xs(t,t.return,p)}break;case 4:nr(s,t),Tr(t);break;case 13:nr(s,t),Tr(t),n=t.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(Ov=gs())),r&4&&gN(t);break;case 22:if(d=a!==null&&a.memoizedState!==null,t.mode&1?(Ws=(u=Ws)||d,nr(s,t),Ws=u):nr(s,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(We=t,d=t.child;d!==null;){for(h=We=d;We!==null;){switch(x=We,f=x.child,x.tag){case 0:case 11:case 14:case 15:Mc(4,x,x.return);break;case 1:Oi(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){r=x,a=x.return;try{s=r,v.props=s.memoizedProps,v.state=s.memoizedState,v.componentWillUnmount()}catch(p){xs(r,a,p)}}break;case 5:Oi(x,x.return);break;case 22:if(x.memoizedState!==null){bN(h);continue}}f!==null?(f.return=x,We=f):bN(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bC("display",i))}catch(p){xs(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){xs(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nr(s,t),Tr(t),r&4&&gN(t);break;case 21:break;default:nr(s,t),Tr(t)}}function Tr(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(HS(a)){var r=a;break e}a=a.return}throw Error(Oe(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(Wc(n,""),r.flags&=-33);var o=pN(t);Dg(t,o,n);break;case 3:case 4:var i=r.stateNode.containerInfo,l=pN(t);Ag(t,l,i);break;default:throw Error(Oe(161))}}catch(c){xs(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function fI(t,s,a){We=t,YS(t)}function YS(t,s,a){for(var r=(t.mode&1)!==0;We!==null;){var n=We,o=n.child;if(n.tag===22&&r){var i=n.memoizedState!==null||Tu;if(!i){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Ws;l=Tu;var u=Ws;if(Tu=i,(Ws=c)&&!u)for(We=n;We!==null;)i=We,c=i.child,i.tag===22&&i.memoizedState!==null?jN(n):c!==null?(c.return=i,We=c):jN(n);for(;o!==null;)We=o,YS(o),o=o.sibling;We=n,Tu=l,Ws=u}vN(t)}else n.subtreeFlags&8772&&o!==null?(o.return=n,We=o):vN(t)}}function vN(t){for(;We!==null;){var s=We;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ws||Kh(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Ws)if(a===null)r.componentDidMount();else{var n=s.elementType===s.type?a.memoizedProps:lr(s.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=s.updateQueue;o!==null&&sN(s,o,r);break;case 3:var i=s.updateQueue;if(i!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sN(s,i,a)}break;case 5:var l=s.stateNode;if(a===null&&s.flags&4){a=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Ws||s.flags&512&&Pg(s)}catch(x){xs(s,s.return,x)}}if(s===t){We=null;break}if(a=s.sibling,a!==null){a.return=s.return,We=a;break}We=s.return}}function bN(t){for(;We!==null;){var s=We;if(s===t){We=null;break}var a=s.sibling;if(a!==null){a.return=s.return,We=a;break}We=s.return}}function jN(t){for(;We!==null;){var s=We;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Kh(4,s)}catch(c){xs(s,a,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var n=s.return;try{r.componentDidMount()}catch(c){xs(s,n,c)}}var o=s.return;try{Pg(s)}catch(c){xs(s,o,c)}break;case 5:var i=s.return;try{Pg(s)}catch(c){xs(s,i,c)}}}catch(c){xs(s,s.return,c)}if(s===t){We=null;break}var l=s.sibling;if(l!==null){l.return=s.return,We=l;break}We=s.return}}var pI=Math.ceil,Ym=jn.ReactCurrentDispatcher,Mv=jn.ReactCurrentOwner,Xa=jn.ReactCurrentBatchConfig,Tt=0,Rs=null,ys=null,_s=0,Da=0,zi=vo(0),Ss=0,id=null,Zo=0,Xh=0,Iv=0,Ic=null,pa=null,Ov=0,vl=1/0,rn=null,Km=!1,kg=null,Xn=null,Ru=!1,Bn=null,Xm=0,Oc=0,Tg=null,dm=-1,um=0;function na(){return Tt&6?gs():dm!==-1?dm:dm=gs()}function Jn(t){return t.mode&1?Tt&2&&_s!==0?_s&-_s:ZM.transition!==null?(um===0&&(um=RC()),um):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:LC(t.type)),t):1}function vr(t,s,a,r){if(50<Oc)throw Oc=0,Tg=null,Error(Oe(185));_d(t,a,r),(!(Tt&2)||t!==Rs)&&(t===Rs&&(!(Tt&2)&&(Xh|=a),Ss===4&&zn(t,_s)),Na(t,r),a===1&&Tt===0&&!(s.mode&1)&&(vl=gs()+500,Wh&&bo()))}function Na(t,s){var a=t.callbackNode;ZR(t,s);var r=Mm(t,t===Rs?_s:0);if(r===0)a!==null&&Dy(a),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(a!=null&&Dy(a),s===1)t.tag===0?QM(yN.bind(null,t)):rS(yN.bind(null,t)),YM(function(){!(Tt&6)&&bo()}),a=null;else{switch(MC(r)){case 1:a=iv;break;case 4:a=kC;break;case 16:a=Rm;break;case 536870912:a=TC;break;default:a=Rm}a=s4(a,KS.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function KS(t,s){if(dm=-1,um=0,Tt&6)throw Error(Oe(327));var a=t.callbackNode;if(qi()&&t.callbackNode!==a)return null;var r=Mm(t,t===Rs?_s:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=Jm(t,r);else{s=r;var n=Tt;Tt|=2;var o=JS();(Rs!==t||_s!==s)&&(rn=null,vl=gs()+500,Wo(t,s));do try{bI();break}catch(l){XS(t,l)}while(!0);jv(),Ym.current=o,Tt=n,ys!==null?s=0:(Rs=null,_s=0,s=Ss)}if(s!==0){if(s===2&&(n=rg(t),n!==0&&(r=n,s=Rg(t,n))),s===1)throw a=id,Wo(t,0),zn(t,r),Na(t,gs()),a;if(s===6)zn(t,r);else{if(n=t.current.alternate,!(r&30)&&!gI(n)&&(s=Jm(t,r),s===2&&(o=rg(t),o!==0&&(r=o,s=Rg(t,o))),s===1))throw a=id,Wo(t,0),zn(t,r),Na(t,gs()),a;switch(t.finishedWork=n,t.finishedLanes=r,s){case 0:case 1:throw Error(Oe(345));case 2:Ro(t,pa,rn);break;case 3:if(zn(t,r),(r&130023424)===r&&(s=Ov+500-gs(),10<s)){if(Mm(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){na(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=mg(Ro.bind(null,t,pa,rn),s);break}Ro(t,pa,rn);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(s=t.eventTimes,n=-1;0<r;){var i=31-gr(r);o=1<<i,i=s[i],i>n&&(n=i),r&=~o}if(r=n,r=gs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pI(r/1960))-r,10<r){t.timeoutHandle=mg(Ro.bind(null,t,pa,rn),r);break}Ro(t,pa,rn);break;case 5:Ro(t,pa,rn);break;default:throw Error(Oe(329))}}}return Na(t,gs()),t.callbackNode===a?KS.bind(null,t):null}function Rg(t,s){var a=Ic;return t.current.memoizedState.isDehydrated&&(Wo(t,s).flags|=256),t=Jm(t,s),t!==2&&(s=pa,pa=a,s!==null&&Mg(s)),t}function Mg(t){pa===null?pa=t:pa.push.apply(pa,t)}function gI(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var r=0;r<a.length;r++){var n=a[r],o=n.getSnapshot;n=n.value;try{if(!br(o(),n))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zn(t,s){for(s&=~Iv,s&=~Xh,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-gr(s),r=1<<a;t[a]=-1,s&=~r}}function yN(t){if(Tt&6)throw Error(Oe(327));qi();var s=Mm(t,0);if(!(s&1))return Na(t,gs()),null;var a=Jm(t,s);if(t.tag!==0&&a===2){var r=rg(t);r!==0&&(s=r,a=Rg(t,r))}if(a===1)throw a=id,Wo(t,0),zn(t,s),Na(t,gs()),a;if(a===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ro(t,pa,rn),Na(t,gs()),null}function zv(t,s){var a=Tt;Tt|=1;try{return t(s)}finally{Tt=a,Tt===0&&(vl=gs()+500,Wh&&bo())}}function ei(t){Bn!==null&&Bn.tag===0&&!(Tt&6)&&qi();var s=Tt;Tt|=1;var a=Xa.transition,r=Wt;try{if(Xa.transition=null,Wt=1,t)return t()}finally{Wt=r,Xa.transition=a,Tt=s,!(Tt&6)&&bo()}}function Fv(){Da=zi.current,es(zi)}function Wo(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,qM(a)),ys!==null)for(a=ys.return;a!==null;){var r=a;switch(gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_m();break;case 3:pl(),es(ja),es(Xs),Ev();break;case 5:Sv(r);break;case 4:pl();break;case 13:es(os);break;case 19:es(os);break;case 10:yv(r.type._context);break;case 22:case 23:Fv()}a=a.return}if(Rs=t,ys=t=Qn(t.current,null),_s=Da=s,Ss=0,id=null,Iv=Xh=Zo=0,pa=Ic=null,_o!==null){for(s=0;s<_o.length;s++)if(a=_o[s],r=a.interleaved,r!==null){a.interleaved=null;var n=r.next,o=a.pending;if(o!==null){var i=o.next;o.next=n,r.next=i}a.pending=r}_o=null}return t}function XS(t,s){do{var a=ys;try{if(jv(),im.current=qm,Wm){for(var r=ls.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Wm=!1}if(Qo=0,As=ws=ls=null,Rc=!1,rd=0,Mv.current=null,a===null||a.return===null){Ss=1,id=s,ys=null;break}e:{var o=t,i=a.return,l=a,c=s;if(s=_s,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=lN(i);if(f!==null){f.flags&=-257,cN(f,i,l,o,s),f.mode&1&&iN(o,u,s),s=f,c=u;var v=s.updateQueue;if(v===null){var p=new Set;p.add(c),s.updateQueue=p}else v.add(c);break e}else{if(!(s&1)){iN(o,u,s),_v();break e}c=Error(Oe(426))}}else if(ss&&l.mode&1){var y=lN(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),cN(y,i,l,o,s),vv(gl(c,l));break e}}o=c=gl(c,l),Ss!==4&&(Ss=2),Ic===null?Ic=[o]:Ic.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,s&=-s,o.lanes|=s;var g=MS(o,c,s);tN(o,g);break e;case 1:l=c;var b=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Xn===null||!Xn.has(j)))){o.flags|=65536,s&=-s,o.lanes|=s;var N=IS(o,l,s);tN(o,N);break e}}o=o.return}while(o!==null)}ZS(a)}catch(w){s=w,ys===a&&a!==null&&(ys=a=a.return);continue}break}while(!0)}function JS(){var t=Ym.current;return Ym.current=qm,t===null?qm:t}function _v(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),Rs===null||!(Zo&268435455)&&!(Xh&268435455)||zn(Rs,_s)}function Jm(t,s){var a=Tt;Tt|=2;var r=JS();(Rs!==t||_s!==s)&&(rn=null,Wo(t,s));do try{vI();break}catch(n){XS(t,n)}while(!0);if(jv(),Tt=a,Ym.current=r,ys!==null)throw Error(Oe(261));return Rs=null,_s=0,Ss}function vI(){for(;ys!==null;)QS(ys)}function bI(){for(;ys!==null&&!UR();)QS(ys)}function QS(t){var s=t4(t.alternate,t,Da);t.memoizedProps=t.pendingProps,s===null?ZS(t):ys=s,Mv.current=null}function ZS(t){var s=t;do{var a=s.alternate;if(t=s.return,s.flags&32768){if(a=mI(a,s),a!==null){a.flags&=32767,ys=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ss=6,ys=null;return}}else if(a=uI(a,s,Da),a!==null){ys=a;return}if(s=s.sibling,s!==null){ys=s;return}ys=s=t}while(s!==null);Ss===0&&(Ss=5)}function Ro(t,s,a){var r=Wt,n=Xa.transition;try{Xa.transition=null,Wt=1,jI(t,s,a,r)}finally{Xa.transition=n,Wt=r}return null}function jI(t,s,a,r){do qi();while(Bn!==null);if(Tt&6)throw Error(Oe(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var o=a.lanes|a.childLanes;if(eM(t,o),t===Rs&&(ys=Rs=null,_s=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ru||(Ru=!0,s4(Rm,function(){return qi(),null})),o=(a.flags&15990)!==0,a.subtreeFlags&15990||o){o=Xa.transition,Xa.transition=null;var i=Wt;Wt=1;var l=Tt;Tt|=4,Mv.current=null,xI(t,a),qS(a,t),$M(dg),Im=!!cg,dg=cg=null,t.current=a,fI(a),HR(),Tt=l,Wt=i,Xa.transition=o}else t.current=a;if(Ru&&(Ru=!1,Bn=t,Xm=n),o=t.pendingLanes,o===0&&(Xn=null),YR(a.stateNode),Na(t,gs()),s!==null)for(r=t.onRecoverableError,a=0;a<s.length;a++)n=s[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(Km)throw Km=!1,t=kg,kg=null,t;return Xm&1&&t.tag!==0&&qi(),o=t.pendingLanes,o&1?t===Tg?Oc++:(Oc=0,Tg=t):Oc=0,bo(),null}function qi(){if(Bn!==null){var t=MC(Xm),s=Xa.transition,a=Wt;try{if(Xa.transition=null,Wt=16>t?16:t,Bn===null)var r=!1;else{if(t=Bn,Bn=null,Xm=0,Tt&6)throw Error(Oe(331));var n=Tt;for(Tt|=4,We=t.current;We!==null;){var o=We,i=o.child;if(We.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(We=u;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:Mc(8,d,o)}var h=d.child;if(h!==null)h.return=d,We=h;else for(;We!==null;){d=We;var x=d.sibling,f=d.return;if(US(d),d===u){We=null;break}if(x!==null){x.return=f,We=x;break}We=f}}}var v=o.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}We=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,We=i;else e:for(;We!==null;){if(o=We,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mc(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,We=g;break e}We=o.return}}var b=t.current;for(We=b;We!==null;){i=We;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,We=j;else e:for(i=b;We!==null;){if(l=We,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kh(9,l)}}catch(w){xs(l,l.return,w)}if(l===i){We=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,We=N;break e}We=l.return}}if(Tt=n,bo(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Wt=a,Xa.transition=s}}return!1}function NN(t,s,a){s=gl(a,s),s=MS(t,s,1),t=Kn(t,s,1),s=na(),t!==null&&(_d(t,1,s),Na(t,s))}function xs(t,s,a){if(t.tag===3)NN(t,t,a);else for(;s!==null;){if(s.tag===3){NN(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=gl(a,t),t=IS(s,t,1),s=Kn(s,t,1),t=na(),s!==null&&(_d(s,1,t),Na(s,t));break}}s=s.return}}function yI(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),s=na(),t.pingedLanes|=t.suspendedLanes&a,Rs===t&&(_s&a)===a&&(Ss===4||Ss===3&&(_s&130023424)===_s&&500>gs()-Ov?Wo(t,0):Iv|=a),Na(t,s)}function e4(t,s){s===0&&(t.mode&1?(s=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):s=1);var a=na();t=mn(t,s),t!==null&&(_d(t,s,a),Na(t,a))}function NI(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),e4(t,a)}function wI(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(s),e4(t,a)}var t4;t4=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||ja.current)ga=!0;else{if(!(t.lanes&a)&&!(s.flags&128))return ga=!1,dI(t,s,a);ga=!!(t.flags&131072)}else ga=!1,ss&&s.flags&1048576&&nS(s,Vm,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;cm(t,s),t=s.pendingProps;var n=hl(s,Xs.current);Wi(s,a),n=Av(null,s,r,t,n,a);var o=Dv();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ya(r)?(o=!0,Lm(s)):o=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,wv(s),n.updater=Yh,s.stateNode=n,n._reactInternals=s,bg(s,r,t,a),s=Ng(null,s,r,!0,o,a)):(s.tag=0,ss&&o&&pv(s),ea(null,s,n,a),s=s.child),s;case 16:r=s.elementType;e:{switch(cm(t,s),t=s.pendingProps,n=r._init,r=n(r._payload),s.type=r,n=s.tag=SI(r),t=lr(r,t),n){case 0:s=yg(null,s,r,t,a);break e;case 1:s=mN(null,s,r,t,a);break e;case 11:s=dN(null,s,r,t,a);break e;case 14:s=uN(null,s,r,lr(r.type,t),a);break e}throw Error(Oe(306,r,""))}return s;case 0:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),yg(t,s,r,n,a);case 1:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),mN(t,s,r,n,a);case 3:e:{if(_S(s),t===null)throw Error(Oe(387));r=s.pendingProps,o=s.memoizedState,n=o.element,uS(t,s),Um(s,r,null,a);var i=s.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=o,s.memoizedState=o,s.flags&256){n=gl(Error(Oe(423)),s),s=hN(t,s,r,a,n);break e}else if(r!==n){n=gl(Error(Oe(424)),s),s=hN(t,s,r,a,n);break e}else for(Ta=Yn(s.stateNode.containerInfo.firstChild),Ma=s,ss=!0,mr=null,a=cS(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xl(),r===n){s=hn(t,s,a);break e}ea(t,s,r,a)}s=s.child}return s;case 5:return mS(s),t===null&&pg(s),r=s.type,n=s.pendingProps,o=t!==null?t.memoizedProps:null,i=n.children,ug(r,n)?i=null:o!==null&&ug(r,o)&&(s.flags|=32),FS(t,s),ea(t,s,i,a),s.child;case 6:return t===null&&pg(s),null;case 13:return LS(t,s,a);case 4:return Cv(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=fl(s,null,r,a):ea(t,s,r,a),s.child;case 11:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),dN(t,s,r,n,a);case 7:return ea(t,s,s.pendingProps,a),s.child;case 8:return ea(t,s,s.pendingProps.children,a),s.child;case 12:return ea(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(r=s.type._context,n=s.pendingProps,o=s.memoizedProps,i=n.value,Xt(Gm,r._currentValue),r._currentValue=i,o!==null)if(br(o.value,i)){if(o.children===n.children&&!ja.current){s=hn(t,s,a);break e}}else for(o=s.child,o!==null&&(o.return=s);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cn(-1,a&-a),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=a,c=o.alternate,c!==null&&(c.lanes|=a),gg(o.return,a,s),l.lanes|=a;break}c=c.next}}else if(o.tag===10)i=o.type===s.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Oe(341));i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),gg(i,a,s),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===s){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ea(t,s,n.children,a),s=s.child}return s;case 9:return n=s.type,r=s.pendingProps.children,Wi(s,a),n=Za(n),r=r(n),s.flags|=1,ea(t,s,r,a),s.child;case 14:return r=s.type,n=lr(r,s.pendingProps),n=lr(r.type,n),uN(t,s,r,n,a);case 15:return OS(t,s,s.type,s.pendingProps,a);case 17:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:lr(r,n),cm(t,s),s.tag=1,ya(r)?(t=!0,Lm(s)):t=!1,Wi(s,a),RS(s,r,n),bg(s,r,n,a),Ng(null,s,r,!0,t,a);case 19:return $S(t,s,a);case 22:return zS(t,s,a)}throw Error(Oe(156,s.tag))};function s4(t,s){return DC(t,s)}function CI(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(t,s,a,r){return new CI(t,s,a,r)}function Lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SI(t){if(typeof t=="function")return Lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rv)return 11;if(t===nv)return 14}return 2}function Qn(t,s){var a=t.alternate;return a===null?(a=Ya(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function mm(t,s,a,r,n,o){var i=2;if(r=t,typeof t=="function")Lv(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ei:return qo(a.children,n,o,s);case av:i=8,n|=8;break;case Bp:return t=Ya(12,a,s,n|2),t.elementType=Bp,t.lanes=o,t;case Up:return t=Ya(13,a,s,n),t.elementType=Up,t.lanes=o,t;case Hp:return t=Ya(19,a,s,n),t.elementType=Hp,t.lanes=o,t;case mC:return Jh(a,n,o,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dC:i=10;break e;case uC:i=9;break e;case rv:i=11;break e;case nv:i=14;break e;case Rn:i=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return s=Ya(i,a,s,n),s.elementType=t,s.type=r,s.lanes=o,s}function qo(t,s,a,r){return t=Ya(7,t,r,s),t.lanes=a,t}function Jh(t,s,a,r){return t=Ya(22,t,r,s),t.elementType=mC,t.lanes=a,t.stateNode={isHidden:!1},t}function $f(t,s,a){return t=Ya(6,t,null,s),t.lanes=a,t}function Vf(t,s,a){return s=Ya(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function EI(t,s,a,r,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function $v(t,s,a,r,n,o,i,l,c){return t=new EI(t,s,a,l,c),s===1?(s=1,o===!0&&(s|=8)):s=0,o=Ya(3,null,null,s),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(o),t}function PI(t,s,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:r==null?null:""+r,children:t,containerInfo:s,implementation:a}}function a4(t){if(!t)return ao;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(Oe(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ya(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Oe(171))}if(t.tag===1){var a=t.type;if(ya(a))return aS(t,a,s)}return s}function r4(t,s,a,r,n,o,i,l,c){return t=$v(a,r,!0,t,n,o,i,l,c),t.context=a4(null),a=t.current,r=na(),n=Jn(a),o=cn(r,n),o.callback=s??null,Kn(a,o,n),t.current.lanes=n,_d(t,n,r),Na(t,r),t}function Qh(t,s,a,r){var n=s.current,o=na(),i=Jn(n);return a=a4(a),s.context===null?s.context=a:s.pendingContext=a,s=cn(o,i),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=Kn(n,s,i),t!==null&&(vr(t,n,i,o),om(t,n,i)),i}function Qm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wN(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Vv(t,s){wN(t,s),(t=t.alternate)&&wN(t,s)}function AI(){return null}var n4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gv(t){this._internalRoot=t}Zh.prototype.render=Gv.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(Oe(409));Qh(t,s,null,null)};Zh.prototype.unmount=Gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ei(function(){Qh(null,t,null,null)}),s[un]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var s=zC();t={blockedOn:null,target:t,priority:s};for(var a=0;a<On.length&&s!==0&&s<On[a].priority;a++);On.splice(a,0,t),a===0&&_C(t)}};function Bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CN(){}function DI(t,s,a,r,n){if(n){if(typeof r=="function"){var o=r;r=function(){var u=Qm(i);o.call(u)}}var i=r4(s,r,t,0,null,!1,!1,"",CN);return t._reactRootContainer=i,t[un]=i.current,Zc(t.nodeType===8?t.parentNode:t),ei(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof r=="function"){var l=r;r=function(){var u=Qm(c);l.call(u)}}var c=$v(t,0,!1,null,null,!1,!1,"",CN);return t._reactRootContainer=c,t[un]=c.current,Zc(t.nodeType===8?t.parentNode:t),ei(function(){Qh(s,c,a,r)}),c}function tx(t,s,a,r,n){var o=a._reactRootContainer;if(o){var i=o;if(typeof n=="function"){var l=n;n=function(){var c=Qm(i);l.call(c)}}Qh(s,i,t,n)}else i=DI(a,s,t,n,r);return Qm(i)}IC=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=yc(s.pendingLanes);a!==0&&(lv(s,a|1),Na(s,gs()),!(Tt&6)&&(vl=gs()+500,bo()))}break;case 13:ei(function(){var r=mn(t,1);if(r!==null){var n=na();vr(r,t,1,n)}}),Vv(t,1)}};cv=function(t){if(t.tag===13){var s=mn(t,134217728);if(s!==null){var a=na();vr(s,t,134217728,a)}Vv(t,134217728)}};OC=function(t){if(t.tag===13){var s=Jn(t),a=mn(t,s);if(a!==null){var r=na();vr(a,t,s,r)}Vv(t,s)}};zC=function(){return Wt};FC=function(t,s){var a=Wt;try{return Wt=t,s()}finally{Wt=a}};tg=function(t,s,a){switch(s){case"input":if(Yp(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var n=Hh(r);if(!n)throw Error(Oe(90));xC(r),Yp(r,n)}}}break;case"textarea":pC(t,a);break;case"select":s=a.value,s!=null&&Gi(t,!!a.multiple,s,!1)}};wC=zv;CC=ei;var kI={usingClientEntryPoint:!1,Events:[$d,ki,Hh,yC,NC,zv]},hc={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PC(t),t===null?null:t.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Vh=Mu.inject(TI),Gr=Mu}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;_a.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(s))throw Error(Oe(200));return PI(t,s,null,a)};_a.createRoot=function(t,s){if(!Bv(t))throw Error(Oe(299));var a=!1,r="",n=n4;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=$v(t,1,!1,null,null,a,!1,r,n),t[un]=s.current,Zc(t.nodeType===8?t.parentNode:t),new Gv(s)};_a.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=PC(s),t=t===null?null:t.stateNode,t};_a.flushSync=function(t){return ei(t)};_a.hydrate=function(t,s,a){if(!ex(s))throw Error(Oe(200));return tx(null,t,s,!0,a)};_a.hydrateRoot=function(t,s,a){if(!Bv(t))throw Error(Oe(405));var r=a!=null&&a.hydratedSources||null,n=!1,o="",i=n4;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),s=r4(s,null,t,1,a??null,n,!1,o,i),t[un]=s.current,Zc(t),r)for(t=0;t<r.length;t++)a=r[t],n=a._getVersion,n=n(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,n]:s.mutableSourceEagerHydrationData.push(a,n);return new Zh(s)};_a.render=function(t,s,a){if(!ex(s))throw Error(Oe(200));return tx(null,t,s,!1,a)};_a.unmountComponentAtNode=function(t){if(!ex(t))throw Error(Oe(40));return t._reactRootContainer?(ei(function(){tx(null,null,t,!1,function(){t._reactRootContainer=null,t[un]=null})}),!0):!1};_a.unstable_batchedUpdates=zv;_a.unstable_renderSubtreeIntoContainer=function(t,s,a,r){if(!ex(a))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return tx(t,s,a,!1,r)};_a.version="18.3.1-next-f1338f8080-20240426";function o4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o4)}catch(t){console.error(t)}}o4(),oC.exports=_a;var Ka=oC.exports;const i4=q2(Ka);var l4,SN=Ka;l4=SN.createRoot,SN.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ld.apply(this,arguments)}var Un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Un||(Un={}));const EN="popstate";function RI(t){t===void 0&&(t={});function s(r,n){let{pathname:o,search:i,hash:l}=r.location;return Ig("",{pathname:o,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:Zm(n)}return II(s,a,null,t)}function bs(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function c4(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function MI(){return Math.random().toString(36).substr(2,8)}function PN(t,s){return{usr:t.state,key:t.key,idx:s}}function Ig(t,s,a,r){return a===void 0&&(a=null),ld({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Il(s):s,{state:a,key:s&&s.key||r||MI()})}function Zm(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Il(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function II(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,i=n.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ld({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=Un.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:g})}function x(y,g){l=Un.Push;let b=Ig(p.location,y,g);u=d()+1;let j=PN(b,u),N=p.createHref(b);try{i.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(N)}o&&c&&c({action:l,location:p.location,delta:1})}function f(y,g){l=Un.Replace;let b=Ig(p.location,y,g);u=d();let j=PN(b,u),N=p.createHref(b);i.replaceState(j,"",N),o&&c&&c({action:l,location:p.location,delta:0})}function v(y){let g=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof y=="string"?y:Zm(y);return b=b.replace(/ $/,"%20"),bs(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let p={get action(){return l},get location(){return t(n,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(EN,h),c=y,()=>{n.removeEventListener(EN,h),c=null}},createHref(y){return s(n,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:f,go(y){return i.go(y)}};return p}var AN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AN||(AN={}));function OI(t,s,a){return a===void 0&&(a="/"),zI(t,s,a,!1)}function zI(t,s,a,r){let n=typeof s=="string"?Il(s):s,o=Uv(n.pathname||"/",a);if(o==null)return null;let i=d4(t);FI(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=YI(o);l=WI(i[c],u,r)}return l}function d4(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(bs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zn([r,c.relativePath]),d=a.concat(c);o.children&&o.children.length>0&&(bs(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d4(o.children,s,d,u)),!(o.path==null&&!o.index)&&s.push({path:u,score:UI(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,i);else for(let c of u4(o.path))n(o,i,c)}),s}function u4(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return n?[o,""]:[o];let i=u4(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),n&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function FI(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:HI(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const _I=/^:[\w-]+$/,LI=3,$I=2,VI=1,GI=10,BI=-2,DN=t=>t==="*";function UI(t,s){let a=t.split("/"),r=a.length;return a.some(DN)&&(r+=BI),s&&(r+=$I),a.filter(n=>!DN(n)).reduce((n,o)=>n+(_I.test(o)?LI:o===""?VI:GI),r)}function HI(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function WI(t,s,a){let{routesMeta:r}=t,n={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?s:s.slice(o.length)||"/",h=kN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!h&&u&&a&&!r[r.length-1].route.index&&(h=kN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:Zn([o,h.pathname]),pathnameBase:QI(Zn([o,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(o=Zn([o,h.pathnameBase]))}return i}function kN(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=qI(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:x,isOptional:f}=d;if(x==="*"){let p=l[h]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?u[x]=void 0:u[x]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function qI(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),c4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function YI(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return c4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Uv(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function KI(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?Il(t):t;return{pathname:a?a.startsWith("/")?a:XI(a,s):s,search:ZI(r),hash:eO(n)}}function XI(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Gf(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JI(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Hv(t,s){let a=JI(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Wv(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Il(t):(n=ld({},t),bs(!n.pathname||!n.pathname.includes("?"),Gf("?","pathname","search",n)),bs(!n.pathname||!n.pathname.includes("#"),Gf("#","pathname","hash",n)),bs(!n.search||!n.search.includes("#"),Gf("#","search","hash",n)));let o=t===""||n.pathname==="",i=o?"/":n.pathname,l;if(i==null)l=a;else{let h=s.length-1;if(!r&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}l=h>=0?s[h]:"/"}let c=KI(n,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),QI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m4=["post","put","patch","delete"];new Set(m4);const sO=["get",...m4];new Set(sO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},cd.apply(this,arguments)}const qv=m.createContext(null),aO=m.createContext(null),jo=m.createContext(null),sx=m.createContext(null),yn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),h4=m.createContext(null);function rO(t,s){let{relative:a}=s===void 0?{}:s;Ol()||bs(!1);let{basename:r,navigator:n}=m.useContext(jo),{hash:o,pathname:i,search:l}=f4(t,{relative:a}),c=i;return r!=="/"&&(c=i==="/"?r:Zn([r,i])),n.createHref({pathname:c,search:l,hash:o})}function Ol(){return m.useContext(sx)!=null}function sr(){return Ol()||bs(!1),m.useContext(sx).location}function x4(t){m.useContext(jo).static||m.useLayoutEffect(t)}function fs(){let{isDataRoute:t}=m.useContext(yn);return t?gO():nO()}function nO(){Ol()||bs(!1);let t=m.useContext(qv),{basename:s,future:a,navigator:r}=m.useContext(jo),{matches:n}=m.useContext(yn),{pathname:o}=sr(),i=JSON.stringify(Hv(n,a.v7_relativeSplatPath)),l=m.useRef(!1);return x4(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Wv(u,JSON.parse(i),o,d.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Zn([s,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[s,r,i,o,t])}function ax(){let{matches:t}=m.useContext(yn),s=t[t.length-1];return s?s.params:{}}function f4(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=m.useContext(jo),{matches:n}=m.useContext(yn),{pathname:o}=sr(),i=JSON.stringify(Hv(n,r.v7_relativeSplatPath));return m.useMemo(()=>Wv(t,JSON.parse(i),o,a==="path"),[t,i,o,a])}function oO(t,s){return iO(t,s)}function iO(t,s,a,r){Ol()||bs(!1);let{navigator:n}=m.useContext(jo),{matches:o}=m.useContext(yn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=sr(),d;if(s){var h;let y=typeof s=="string"?Il(s):s;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||bs(!1),d=y}else d=u;let x=d.pathname||"/",f=x;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=OI(t,{pathname:f}),p=mO(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zn([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Zn([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,a,r);return s&&p?m.createElement(sx.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},p):p}function lO(){let t=pO(),s=tO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},s),a?m.createElement("pre",{style:n},a):null,null)}const cO=m.createElement(lO,null);class dO extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?m.createElement(yn.Provider,{value:this.props.routeContext},m.createElement(h4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uO(t){let{routeContext:s,match:a,children:r}=t,n=m.useContext(qv);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),m.createElement(yn.Provider,{value:s},r)}function mO(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,l=(n=a)==null?void 0:n.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||bs(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(a&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:x,errors:f}=a,v=h.route.loader&&x[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,x)=>{let f,v=!1,p=null,y=null;a&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||cO,c&&(u<0&&x===0?(v=!0,y=null):u===x&&(v=!0,y=h.route.hydrateFallbackElement||null)));let g=s.concat(i.slice(0,x+1)),b=()=>{let j;return f?j=p:v?j=y:h.route.Component?j=m.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,m.createElement(uO,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:a!=null},children:j})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?m.createElement(dO,{location:a.location,revalidation:a.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var p4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p4||{}),eh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eh||{});function hO(t){let s=m.useContext(qv);return s||bs(!1),s}function xO(t){let s=m.useContext(aO);return s||bs(!1),s}function fO(t){let s=m.useContext(yn);return s||bs(!1),s}function g4(t){let s=fO(),a=s.matches[s.matches.length-1];return a.route.id||bs(!1),a.route.id}function pO(){var t;let s=m.useContext(h4),a=xO(eh.UseRouteError),r=g4(eh.UseRouteError);return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function gO(){let{router:t}=hO(p4.UseNavigateStable),s=g4(eh.UseNavigateStable),a=m.useRef(!1);return x4(()=>{a.current=!0}),m.useCallback(function(n,o){o===void 0&&(o={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,cd({fromRouteId:s},o)))},[t,s])}function Og(t){let{to:s,replace:a,state:r,relative:n}=t;Ol()||bs(!1);let{future:o,static:i}=m.useContext(jo),{matches:l}=m.useContext(yn),{pathname:c}=sr(),u=fs(),d=Wv(s,Hv(l,o.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:a,state:r,relative:n}),[u,h,n,a,r]),null}function ts(t){bs(!1)}function vO(t){let{basename:s="/",children:a=null,location:r,navigationType:n=Un.Pop,navigator:o,static:i=!1,future:l}=t;Ol()&&bs(!1);let c=s.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:cd({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Il(r));let{pathname:d="/",search:h="",hash:x="",state:f=null,key:v="default"}=r,p=m.useMemo(()=>{let y=Uv(d,c);return y==null?null:{location:{pathname:y,search:h,hash:x,state:f,key:v},navigationType:n}},[c,d,h,x,f,v,n]);return p==null?null:m.createElement(jo.Provider,{value:u},m.createElement(sx.Provider,{children:a,value:p}))}function bO(t){let{children:s,location:a}=t;return oO(zg(s),a)}new Promise(()=>{});function zg(t,s){s===void 0&&(s=[]);let a=[];return m.Children.forEach(t,(r,n)=>{if(!m.isValidElement(r))return;let o=[...s,n];if(r.type===m.Fragment){a.push.apply(a,zg(r.props.children,o));return}r.type!==ts&&bs(!1),!r.props.index||!r.props.children||bs(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=zg(r.props.children,o)),a.push(i)}),a}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fg.apply(this,arguments)}function jO(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function yO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NO(t,s){return t.button===0&&(!s||s==="_self")&&!yO(t)}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CO="6";try{window.__reactRouterVersion=CO}catch{}const SO="startTransition",TN=rC[SO];function EO(t){let{basename:s,children:a,future:r,window:n}=t,o=m.useRef();o.current==null&&(o.current=RI({window:n,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&TN?TN(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(vO,{basename:s,children:a,location:l.location,navigationType:l.action,navigator:i,future:r})}const PO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dd=m.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=s,x=jO(s,wO),{basename:f}=m.useContext(jo),v,p=!1;if(typeof u=="string"&&AO.test(u)&&(v=u,PO))try{let j=new URL(window.location.href),N=u.startsWith("//")?new URL(j.protocol+u):new URL(u),w=Uv(N.pathname,f);N.origin===j.origin&&w!=null?u=w+N.search+N.hash:p=!0}catch{}let y=rO(u,{relative:n}),g=DO(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:h});function b(j){r&&r(j),j.defaultPrevented||g(j)}return m.createElement("a",Fg({},x,{href:v||y,onClick:p||o?r:b,ref:a,target:c}))});var RN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(RN||(RN={}));var MN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MN||(MN={}));function DO(t,s){let{target:a,replace:r,state:n,preventScrollReset:o,relative:i,viewTransition:l}=s===void 0?{}:s,c=fs(),u=sr(),d=f4(t,{relative:i});return m.useCallback(h=>{if(NO(h,a)){h.preventDefault();let x=r!==void 0?r:Zm(u)===Zm(d);c(t,{replace:x,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,n,a,t,o,i,l])}var rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nx=typeof window>"u"||"Deno"in globalThis;function cr(){}function kO(t,s){return typeof t=="function"?t(s):t}function TO(t){return typeof t=="number"&&t>=0&&t!==1/0}function RO(t,s){return Math.max(t+(s||0)-Date.now(),0)}function IN(t,s){return typeof t=="function"?t(s):t}function MO(t,s){return typeof t=="function"?t(s):t}function ON(t,s){const{type:a="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:l}=t;if(i){if(r){if(s.queryHash!==Yv(i,s.options))return!1}else if(!md(s.queryKey,i))return!1}if(a!=="all"){const c=s.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||n&&n!==s.state.fetchStatus||o&&!o(s))}function zN(t,s){const{exact:a,status:r,predicate:n,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(a){if(ud(s.options.mutationKey)!==ud(o))return!1}else if(!md(s.options.mutationKey,o))return!1}return!(r&&s.state.status!==r||n&&!n(s))}function Yv(t,s){return((s==null?void 0:s.queryKeyHashFn)||ud)(t)}function ud(t){return JSON.stringify(t,(s,a)=>_g(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function md(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(a=>!md(t[a],s[a])):!1}function v4(t,s){if(t===s)return t;const a=FN(t)&&FN(s);if(a||_g(t)&&_g(s)){const r=a?t:Object.keys(t),n=r.length,o=a?s:Object.keys(s),i=o.length,l=a?[]:{};let c=0;for(let u=0;u<i;u++){const d=a?u:o[u];(!a&&r.includes(d)||a)&&t[d]===void 0&&s[d]===void 0?(l[d]=void 0,c++):(l[d]=v4(t[d],s[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return n===i&&c===n?t:l}return s}function FN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _g(t){if(!_N(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!_N(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _N(t){return Object.prototype.toString.call(t)==="[object Object]"}function IO(t){return new Promise(s=>{setTimeout(s,t)})}function OO(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?v4(t,s):s}function zO(t,s,a=0){const r=[...t,s];return a&&r.length>a?r.slice(1):r}function FO(t,s,a=0){const r=[s,...t];return a&&r.length>a?r.slice(0,-1):r}var Kv=Symbol();function b4(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Kv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Go,Fn,al,L2,_O=(L2=class extends rx{constructor(){super();Bt(this,Go);Bt(this,Fn);Bt(this,al);gt(this,al,s=>{if(!nx&&window.addEventListener){const a=()=>s();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){Se(this,Fn)||this.setEventListener(Se(this,al))}onUnsubscribe(){var s;this.hasListeners()||((s=Se(this,Fn))==null||s.call(this),gt(this,Fn,void 0))}setEventListener(s){var a;gt(this,al,s),(a=Se(this,Fn))==null||a.call(this),gt(this,Fn,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){Se(this,Go)!==s&&(gt(this,Go,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(a=>{a(s)})}isFocused(){var s;return typeof Se(this,Go)=="boolean"?Se(this,Go):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Go=new WeakMap,Fn=new WeakMap,al=new WeakMap,L2),j4=new _O,rl,_n,nl,$2,LO=($2=class extends rx{constructor(){super();Bt(this,rl,!0);Bt(this,_n);Bt(this,nl);gt(this,nl,s=>{if(!nx&&window.addEventListener){const a=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,_n)||this.setEventListener(Se(this,nl))}onUnsubscribe(){var s;this.hasListeners()||((s=Se(this,_n))==null||s.call(this),gt(this,_n,void 0))}setEventListener(s){var a;gt(this,nl,s),(a=Se(this,_n))==null||a.call(this),gt(this,_n,s(this.setOnline.bind(this)))}setOnline(s){Se(this,rl)!==s&&(gt(this,rl,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return Se(this,rl)}},rl=new WeakMap,_n=new WeakMap,nl=new WeakMap,$2),th=new LO;function $O(){let t,s;const a=new Promise((n,o)=>{t=n,s=o});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},a.reject=n=>{r({status:"rejected",reason:n}),s(n)},a}function VO(t){return Math.min(1e3*2**t,3e4)}function y4(t){return(t??"online")==="online"?th.isOnline():!0}var N4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bf(t){return t instanceof N4}function w4(t){let s=!1,a=0,r=!1,n;const o=$O(),i=p=>{var y;r||(x(new N4(p)),(y=t.abort)==null||y.call(t))},l=()=>{s=!0},c=()=>{s=!1},u=()=>j4.isFocused()&&(t.networkMode==="always"||th.isOnline())&&t.canRun(),d=()=>y4(t.networkMode)&&t.canRun(),h=p=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,p),n==null||n(),o.resolve(p))},x=p=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,p),n==null||n(),o.reject(p))},f=()=>new Promise(p=>{var y;n=g=>{(r||u())&&p(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;n=void 0,r||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(r)return;let p;const y=a===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(h).catch(g=>{var E;if(r)return;const b=t.retry??(nx?0:3),j=t.retryDelay??VO,N=typeof j=="function"?j(a,g):j,w=b===!0||typeof b=="number"&&a<b||typeof b=="function"&&b(a,g);if(s||!w){x(g);return}a++,(E=t.onFail)==null||E.call(t,a,g),IO(N).then(()=>u()?void 0:f()).then(()=>{s?x(g):v()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),o)}}function GO(){let t=[],s=0,a=l=>{l()},r=l=>{l()},n=l=>setTimeout(l,0);const o=l=>{s?t.push(l):n(()=>{a(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{a(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{a=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var aa=GO(),Bo,V2,C4=(V2=class{constructor(){Bt(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TO(this.gcTime)&&gt(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nx?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Bo)&&(clearTimeout(Se(this,Bo)),gt(this,Bo,void 0))}},Bo=new WeakMap,V2),ol,il,Ua,Us,Od,Uo,dr,an,G2,BO=(G2=class extends C4{constructor(s){super();Bt(this,dr);Bt(this,ol);Bt(this,il);Bt(this,Ua);Bt(this,Us);Bt(this,Od);Bt(this,Uo);gt(this,Uo,!1),gt(this,Od,s.defaultOptions),this.setOptions(s.options),this.observers=[],gt(this,Ua,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,gt(this,ol,HO(this.options)),this.state=s.state??Se(this,ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Se(this,Us))==null?void 0:s.promise}setOptions(s){this.options={...Se(this,Od),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,Ua).remove(this)}setData(s,a){const r=OO(this.state.data,s,this.options);return Vs(this,dr,an).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(s,a){Vs(this,dr,an).call(this,{type:"setState",state:s,setStateOptions:a})}cancel(s){var r,n;const a=(r=Se(this,Us))==null?void 0:r.promise;return(n=Se(this,Us))==null||n.cancel(s),a?a.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,ol))}isActive(){return this.observers.some(s=>MO(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!RO(this.state.dataUpdatedAt,s)}onFocus(){var a;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(a=Se(this,Us))==null||a.continue()}onOnline(){var a;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(a=Se(this,Us))==null||a.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Se(this,Ua).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(a=>a!==s),this.observers.length||(Se(this,Us)&&(Se(this,Uo)?Se(this,Us).cancel({revert:!0}):Se(this,Us).cancelRetry()),this.scheduleGc()),Se(this,Ua).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vs(this,dr,an).call(this,{type:"invalidate"})}fetch(s,a){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(Se(this,Us))return Se(this,Us).continueRetry(),Se(this,Us).promise}if(s&&this.setOptions(s),!this.options.queryFn){const h=this.observers.find(x=>x.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(gt(this,Uo,!0),r.signal)})},o=()=>{const h=b4(this.options,a),x={queryKey:this.queryKey,meta:this.meta};return n(x),gt(this,Uo,!1),this.options.persister?this.options.persister(h,x,this):h(x)},i={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),gt(this,il,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Vs(this,dr,an).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=h=>{var x,f,v,p;Bf(h)&&h.silent||Vs(this,dr,an).call(this,{type:"error",error:h}),Bf(h)||((f=(x=Se(this,Ua).config).onError)==null||f.call(x,h,this),(p=(v=Se(this,Ua).config).onSettled)==null||p.call(v,this.state.data,h,this)),this.scheduleGc()};return gt(this,Us,w4({initialPromise:a==null?void 0:a.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var x,f,v,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(f=(x=Se(this,Ua).config).onSuccess)==null||f.call(x,h,this),(p=(v=Se(this,Ua).config).onSettled)==null||p.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,x)=>{Vs(this,dr,an).call(this,{type:"failed",failureCount:h,error:x})},onPause:()=>{Vs(this,dr,an).call(this,{type:"pause"})},onContinue:()=>{Vs(this,dr,an).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Se(this,Us).start()}},ol=new WeakMap,il=new WeakMap,Ua=new WeakMap,Us=new WeakMap,Od=new WeakMap,Uo=new WeakMap,dr=new WeakSet,an=function(s){const a=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...UO(r.data,this.options),fetchMeta:s.meta??null};case"success":return{...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=s.error;return Bf(n)&&n.revert&&Se(this,il)?{...Se(this,il),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=a(this.state),aa.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,Ua).notify({query:this,type:"updated",action:s})})},G2);function UO(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y4(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HO(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Ir,B2,WO=(B2=class extends rx{constructor(s={}){super();Bt(this,Ir);this.config=s,gt(this,Ir,new Map)}build(s,a,r){const n=a.queryKey,o=a.queryHash??Yv(n,a);let i=this.get(o);return i||(i=new BO({cache:this,queryKey:n,queryHash:o,options:s.defaultQueryOptions(a),state:r,defaultOptions:s.getQueryDefaults(n)}),this.add(i)),i}add(s){Se(this,Ir).has(s.queryHash)||(Se(this,Ir).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const a=Se(this,Ir).get(s.queryHash);a&&(s.destroy(),a===s&&Se(this,Ir).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){aa.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Se(this,Ir).get(s)}getAll(){return[...Se(this,Ir).values()]}find(s){const a={exact:!0,...s};return this.getAll().find(r=>ON(a,r))}findAll(s={}){const a=this.getAll();return Object.keys(s).length>0?a.filter(r=>ON(s,r)):a}notify(s){aa.batch(()=>{this.listeners.forEach(a=>{a(s)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Ir=new WeakMap,B2),Or,Zs,Ho,zr,Dn,U2,qO=(U2=class extends C4{constructor(s){super();Bt(this,zr);Bt(this,Or);Bt(this,Zs);Bt(this,Ho);this.mutationId=s.mutationId,gt(this,Zs,s.mutationCache),gt(this,Or,[]),this.state=s.state||YO(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Se(this,Or).includes(s)||(Se(this,Or).push(s),this.clearGcTimeout(),Se(this,Zs).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){gt(this,Or,Se(this,Or).filter(a=>a!==s)),this.scheduleGc(),Se(this,Zs).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Se(this,Or).length||(this.state.status==="pending"?this.scheduleGc():Se(this,Zs).remove(this))}continue(){var s;return((s=Se(this,Ho))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var n,o,i,l,c,u,d,h,x,f,v,p,y,g,b,j,N,w,E,D;gt(this,Ho,w4({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(P,_)=>{Vs(this,zr,Dn).call(this,{type:"failed",failureCount:P,error:_})},onPause:()=>{Vs(this,zr,Dn).call(this,{type:"pause"})},onContinue:()=>{Vs(this,zr,Dn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,Zs).canRun(this)}));const a=this.state.status==="pending",r=!Se(this,Ho).canStart();try{if(!a){Vs(this,zr,Dn).call(this,{type:"pending",variables:s,isPaused:r}),await((o=(n=Se(this,Zs).config).onMutate)==null?void 0:o.call(n,s,this));const _=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,s));_!==this.state.context&&Vs(this,zr,Dn).call(this,{type:"pending",context:_,variables:s,isPaused:r})}const P=await Se(this,Ho).start();return await((u=(c=Se(this,Zs).config).onSuccess)==null?void 0:u.call(c,P,s,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,s,this.state.context)),await((f=(x=Se(this,Zs).config).onSettled)==null?void 0:f.call(x,P,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,P,null,s,this.state.context)),Vs(this,zr,Dn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(y=Se(this,Zs).config).onError)==null?void 0:g.call(y,P,s,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,P,s,this.state.context)),await((w=(N=Se(this,Zs).config).onSettled)==null?void 0:w.call(N,void 0,P,this.state.variables,this.state.context,this)),await((D=(E=this.options).onSettled)==null?void 0:D.call(E,void 0,P,s,this.state.context)),P}finally{Vs(this,zr,Dn).call(this,{type:"error",error:P})}}finally{Se(this,Zs).runNext(this)}}},Or=new WeakMap,Zs=new WeakMap,Ho=new WeakMap,zr=new WeakSet,Dn=function(s){const a=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=a(this.state),aa.batch(()=>{Se(this,Or).forEach(r=>{r.onMutationUpdate(s)}),Se(this,Zs).notify({mutation:this,type:"updated",action:s})})},U2);function YO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pa,zd,H2,KO=(H2=class extends rx{constructor(s={}){super();Bt(this,Pa);Bt(this,zd);this.config=s,gt(this,Pa,new Map),gt(this,zd,Date.now())}build(s,a,r){const n=new qO({mutationCache:this,mutationId:++pu(this,zd)._,options:s.defaultMutationOptions(a),state:r});return this.add(n),n}add(s){const a=Iu(s),r=Se(this,Pa).get(a)??[];r.push(s),Se(this,Pa).set(a,r),this.notify({type:"added",mutation:s})}remove(s){var r;const a=Iu(s);if(Se(this,Pa).has(a)){const n=(r=Se(this,Pa).get(a))==null?void 0:r.filter(o=>o!==s);n&&(n.length===0?Se(this,Pa).delete(a):Se(this,Pa).set(a,n))}this.notify({type:"removed",mutation:s})}canRun(s){var r;const a=(r=Se(this,Pa).get(Iu(s)))==null?void 0:r.find(n=>n.state.status==="pending");return!a||a===s}runNext(s){var r;const a=(r=Se(this,Pa).get(Iu(s)))==null?void 0:r.find(n=>n!==s&&n.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}clear(){aa.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...Se(this,Pa).values()].flat()}find(s){const a={exact:!0,...s};return this.getAll().find(r=>zN(a,r))}findAll(s={}){return this.getAll().filter(a=>zN(s,a))}notify(s){aa.batch(()=>{this.listeners.forEach(a=>{a(s)})})}resumePausedMutations(){const s=this.getAll().filter(a=>a.state.isPaused);return aa.batch(()=>Promise.all(s.map(a=>a.continue().catch(cr))))}},Pa=new WeakMap,zd=new WeakMap,H2);function Iu(t){var s;return((s=t.options.scope)==null?void 0:s.id)??String(t.mutationId)}function LN(t){return{onFetch:(s,a)=>{var d,h,x,f,v;const r=s.options,n=(x=(h=(d=s.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,o=((f=s.state.data)==null?void 0:f.pages)||[],i=((v=s.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(s.signal.aborted?p=!0:s.signal.addEventListener("abort",()=>{p=!0}),s.signal)})},g=b4(s.options,s.fetchOptions),b=async(j,N,w)=>{if(p)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const E={queryKey:s.queryKey,pageParam:N,direction:w?"backward":"forward",meta:s.options.meta};y(E);const D=await g(E),{maxPages:P}=s.options,_=w?FO:zO;return{pages:_(j.pages,D,P),pageParams:_(j.pageParams,N,P)}};if(n&&o.length){const j=n==="backward",N=j?XO:$N,w={pages:o,pageParams:i},E=N(r,w);l=await b(w,E,j)}else{const j=t??o.length;do{const N=c===0?i[0]??r.initialPageParam:$N(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<j)}return l};s.options.persister?s.fetchFn=()=>{var p,y;return(y=(p=s.options).persister)==null?void 0:y.call(p,u,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a)}:s.fetchFn=u}}}function $N(t,{pages:s,pageParams:a}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,a[r],a):void 0}function XO(t,{pages:s,pageParams:a}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,a[0],a):void 0}var us,Ln,$n,ll,cl,Vn,dl,ul,W2,JO=(W2=class{constructor(t={}){Bt(this,us);Bt(this,Ln);Bt(this,$n);Bt(this,ll);Bt(this,cl);Bt(this,Vn);Bt(this,dl);Bt(this,ul);gt(this,us,t.queryCache||new WO),gt(this,Ln,t.mutationCache||new KO),gt(this,$n,t.defaultOptions||{}),gt(this,ll,new Map),gt(this,cl,new Map),gt(this,Vn,0)}mount(){pu(this,Vn)._++,Se(this,Vn)===1&&(gt(this,dl,j4.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,us).onFocus())})),gt(this,ul,th.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,us).onOnline())})))}unmount(){var t,s;pu(this,Vn)._--,Se(this,Vn)===0&&((t=Se(this,dl))==null||t.call(this),gt(this,dl,void 0),(s=Se(this,ul))==null||s.call(this),gt(this,ul,void 0))}isFetching(t){return Se(this,us).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Se(this,Ln).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=Se(this,us).get(s.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const s=this.getQueryData(t.queryKey);if(s===void 0)return this.fetchQuery(t);{const a=this.defaultQueryOptions(t),r=Se(this,us).build(this,a);return t.revalidateIfStale&&r.isStaleByTime(IN(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(s)}}getQueriesData(t){return Se(this,us).findAll(t).map(({queryKey:s,state:a})=>{const r=a.data;return[s,r]})}setQueryData(t,s,a){const r=this.defaultQueryOptions({queryKey:t}),n=Se(this,us).get(r.queryHash),o=n==null?void 0:n.state.data,i=kO(s,o);if(i!==void 0)return Se(this,us).build(this,r).setData(i,{...a,manual:!0})}setQueriesData(t,s,a){return aa.batch(()=>Se(this,us).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,a)]))}getQueryState(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=Se(this,us).get(s.queryHash))==null?void 0:a.state}removeQueries(t){const s=Se(this,us);aa.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=Se(this,us),r={type:"active",...t};return aa.batch(()=>(a.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,s)))}cancelQueries(t={},s={}){const a={revert:!0,...s},r=aa.batch(()=>Se(this,us).findAll(t).map(n=>n.cancel(a)));return Promise.all(r).then(cr).catch(cr)}invalidateQueries(t={},s={}){return aa.batch(()=>{if(Se(this,us).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const a={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(a,s)})}refetchQueries(t={},s){const a={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},r=aa.batch(()=>Se(this,us).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,a);return a.throwOnError||(o=o.catch(cr)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(cr)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=Se(this,us).build(this,s);return a.isStaleByTime(IN(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cr).catch(cr)}fetchInfiniteQuery(t){return t.behavior=LN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cr).catch(cr)}ensureInfiniteQueryData(t){return t.behavior=LN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return th.isOnline()?Se(this,Ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,us)}getMutationCache(){return Se(this,Ln)}getDefaultOptions(){return Se(this,$n)}setDefaultOptions(t){gt(this,$n,t)}setQueryDefaults(t,s){Se(this,ll).set(ud(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...Se(this,ll).values()];let a={};return s.forEach(r=>{md(t,r.queryKey)&&(a={...a,...r.defaultOptions})}),a}setMutationDefaults(t,s){Se(this,cl).set(ud(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...Se(this,cl).values()];let a={};return s.forEach(r=>{md(t,r.mutationKey)&&(a={...a,...r.defaultOptions})}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...Se(this,$n).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Yv(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===Kv&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Se(this,$n).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Se(this,us).clear(),Se(this,Ln).clear()}},us=new WeakMap,Ln=new WeakMap,$n=new WeakMap,ll=new WeakMap,cl=new WeakMap,Vn=new WeakMap,dl=new WeakMap,ul=new WeakMap,W2),QO=m.createContext(void 0),ZO=({client:t,children:s})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(QO.Provider,{value:t,children:s}));function S4(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=S4(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function E4(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=S4(t))&&(r&&(r+=" "),r+=s);return r}const Xv="-",ez=t=>{const s=sz(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const l=i.split(Xv);return l[0]===""&&l.length!==1&&l.shift(),P4(l,s)||tz(i)},getConflictingClassGroupIds:(i,l)=>{const c=a[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},P4=(t,s)=>{var i;if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),n=r?P4(t.slice(1),r):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(Xv);return(i=s.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},VN=/^\[(.+)\]$/,tz=t=>{if(VN.test(t)){const s=VN.exec(t)[1],a=s==null?void 0:s.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},sz=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return rz(Object.entries(t.classGroups),a).forEach(([o,i])=>{Lg(i,r,o,s)}),r},Lg=(t,s,a,r)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:GN(s,n);o.classGroupId=a;return}if(typeof n=="function"){if(az(n)){Lg(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([o,i])=>{Lg(i,GN(s,o),a,r)})})},GN=(t,s)=>{let a=t;return s.split(Xv).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},az=t=>t.isThemeGetter,rz=(t,s)=>s?t.map(([a,r])=>{const n=r.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[a,n]}):t,nz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const n=(o,i)=>{a.set(o,i),s++,s>t&&(s=0,r=a,a=new Map)};return{get(o){let i=a.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return n(o,i),i},set(o,i){a.has(o)?a.set(o,i):n(o,i)}}},A4="!",oz=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,n=s[0],o=s.length,i=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let g=l[y];if(u===0){if(g===n&&(r||l.slice(y,y+o)===s)){c.push(l.slice(d,y)),d=y+o;continue}if(g==="/"){h=y;continue}}g==="["?u++:g==="]"&&u--}const x=c.length===0?l:l.substring(d),f=x.startsWith(A4),v=f?x.substring(1):x,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:p}};return a?l=>a({className:l,parseClassName:i}):i},iz=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},lz=t=>({cache:nz(t.cacheSize),parseClassName:oz(t),...ez(t)}),cz=/\s+/,dz=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=s,o=[],i=t.trim().split(cz);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:f}=a(u);let v=!!f,p=r(v?x.substring(0,f):x);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=r(x),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=iz(d).join(":"),g=h?y+A4:y,b=g+p;if(o.includes(b))continue;o.push(b);const j=n(p,v);for(let N=0;N<j.length;++N){const w=j[N];o.push(g+w)}l=u+(l.length>0?" "+l:l)}return l};function uz(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=D4(s))&&(r&&(r+=" "),r+=a);return r}const D4=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=D4(t[r]))&&(a&&(a+=" "),a+=s);return a};function mz(t,...s){let a,r,n,o=i;function i(c){const u=s.reduce((d,h)=>h(d),t());return a=lz(u),r=a.cache.get,n=a.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=dz(c,a);return n(c,d),d}return function(){return o(uz.apply(null,arguments))}}const Qt=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},k4=/^\[(?:([a-z-]+):)?(.+)\]$/i,hz=/^\d+\/\d+$/,xz=new Set(["px","full","screen"]),fz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=t=>Yi(t)||xz.has(t)||hz.test(t),En=t=>zl(t,"length",Pz),Yi=t=>!!t&&!Number.isNaN(Number(t)),Uf=t=>zl(t,"number",Yi),xc=t=>!!t&&Number.isInteger(Number(t)),jz=t=>t.endsWith("%")&&Yi(t.slice(0,-1)),pt=t=>k4.test(t),Pn=t=>fz.test(t),yz=new Set(["length","size","percentage"]),Nz=t=>zl(t,yz,T4),wz=t=>zl(t,"position",T4),Cz=new Set(["image","url"]),Sz=t=>zl(t,Cz,Dz),Ez=t=>zl(t,"",Az),fc=()=>!0,zl=(t,s,a)=>{const r=k4.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},Pz=t=>pz.test(t)&&!gz.test(t),T4=()=>!1,Az=t=>vz.test(t),Dz=t=>bz.test(t),kz=()=>{const t=Qt("colors"),s=Qt("spacing"),a=Qt("blur"),r=Qt("brightness"),n=Qt("borderColor"),o=Qt("borderRadius"),i=Qt("borderSpacing"),l=Qt("borderWidth"),c=Qt("contrast"),u=Qt("grayscale"),d=Qt("hueRotate"),h=Qt("invert"),x=Qt("gap"),f=Qt("gradientColorStops"),v=Qt("gradientColorStopPositions"),p=Qt("inset"),y=Qt("margin"),g=Qt("opacity"),b=Qt("padding"),j=Qt("saturate"),N=Qt("scale"),w=Qt("sepia"),E=Qt("skew"),D=Qt("space"),P=Qt("translate"),_=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pt,s],$=()=>[pt,s],H=()=>["",tn,En],Y=()=>["auto",Yi,pt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",pt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Yi,pt];return{cacheSize:500,separator:":",theme:{colors:[fc],spacing:[tn,En],blur:["none","",Pn,pt],brightness:J(),borderColor:[t],borderRadius:["none","","full",Pn,pt],borderSpacing:$(),borderWidth:H(),contrast:J(),grayscale:L(),hueRotate:J(),invert:L(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[jz,En],inset:k(),margin:k(),opacity:J(),padding:$(),saturate:J(),scale:J(),sepia:L(),skew:J(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[Pn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),pt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xc,pt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",xc,pt]}],"grid-cols":[{"grid-cols":[fc]}],"col-start-end":[{col:["auto",{span:["full",xc,pt]},pt]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[fc]}],"row-start-end":[{row:["auto",{span:[xc,pt]},pt]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,s]}],"min-w":[{"min-w":[pt,s,"min","max","fit"]}],"max-w":[{"max-w":[pt,s,"none","full","min","max","fit","prose",{screen:[Pn]},Pn]}],h:[{h:[pt,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Pn,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uf]}],"font-family":[{font:[fc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",Yi,Uf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,En]}],"underline-offset":[{"underline-offset":["auto",tn,pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),wz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:z()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[tn,pt]}],"outline-w":[{outline:[tn,En]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[tn,En]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pn,Ez]}],"shadow-color":[{shadow:[fc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pn,pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[xc,pt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,En,Uf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Tz=mz(kz);function be(...t){return Tz(E4(t))}function Je(t){if(!t)return"";try{const s=new Date(t);return isNaN(s.getTime())?"":s.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(s){return console.error("Erro ao formatar data:",s),""}}function Es(t){if(!t)return"";try{const s=new Date(t);return isNaN(s.getTime())?"":s.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(s){return console.error("Erro ao formatar data e hora:",s),""}}function Rz(t,s){const a=new Date(t),r=new Date;let n=0;const o=new Date(a);for(;o<=r;)o.getDay()!==0&&o.getDay()!==6&&n++,o.setDate(o.getDate()+1);return n}function Mz(t){const s=t.match(/(\d+)\s*dia/);return s?parseInt(s[1]):0}function Iz(t,s,a){if(t==="concluido"||!s)return!1;const r=Rz(s),n=Mz(a);return r>n}function R4(t,s,a){return t==="concluido"?"border-green-500":Iz(t,s,a)?"border-red-500":t==="andamento"?"border-blue-500":"border-gray-300"}function ox(t){return t===null?"Sem prazo definido":t<0?"dias em atraso":t<=2?"dias restantes (urgente)":"dias restantes"}function Jv(t){return t===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:t<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:t<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"}}const Ve=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));Ve.displayName="Card";const _t=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:be("flex flex-col space-y-1.5 p-6",t),...s}));_t.displayName="CardHeader";const Lt=m.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:be("text-2xl font-semibold leading-none tracking-tight",t),...s}));Lt.displayName="CardTitle";const Ra=m.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:be("text-sm text-muted-foreground",t),...s}));Ra.displayName="CardDescription";const Be=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:be("p-6 pt-0",t),...s}));Be.displayName="CardContent";const Oz=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:be("flex items-center p-6 pt-0",t),...s}));Oz.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M4=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=m.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...Fz,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:M4("lucide",n),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,s)=>{const a=m.forwardRef(({className:r,...n},o)=>m.createElement(_z,{ref:o,iconNode:s,className:M4(`lucide-${zz(t)}`,r),...n}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=pe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=pe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=pe("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=pe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=pe("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=pe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=pe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=pe("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=pe("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=pe("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=pe("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=pe("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=pe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=pe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=pe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=pe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=pe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=pe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=pe("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=pe("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=pe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=pe("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=pe("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=pe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=pe("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=pe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=pe("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=pe("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=pe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=pe("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=pe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=pe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function WN(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function CF(...t){return s=>{let a=!1;const r=t.map(n=>{const o=WN(n,s);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let n=0;n<r.length;n++){const o=r[n];typeof o=="function"?o():WN(t[n],null)}}}}function SF(t){const s=PF(t),a=m.forwardRef((r,n)=>{const{children:o,...i}=r,l=m.Children.toArray(o),c=l.find(DF);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return e.jsx(s,{...i,ref:n,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return e.jsx(s,{...i,ref:n,children:o})});return a.displayName=`${t}.Slot`,a}var EF=SF("Slot");function PF(t){const s=m.forwardRef((a,r)=>{const{children:n,...o}=a;if(m.isValidElement(n)){const i=TF(n),l=kF(o,n.props);return n.type!==m.Fragment&&(l.ref=r?CF(r,i):i),m.cloneElement(n,l)}return m.Children.count(n)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var AF=Symbol("radix.slottable");function DF(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AF}function kF(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{const c=o(...l);return n(...l),c}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function TF(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const qN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,YN=E4,Kr=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return YN(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:o}=s,i=Object.keys(n).map(u=>{const d=a==null?void 0:a[u],h=o==null?void 0:o[u];if(d===null)return null;const x=qN(d)||qN(h);return n[u][x]}),l=a&&Object.entries(a).reduce((u,d)=>{let[h,x]=d;return x===void 0||(u[h]=x),u},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:x,...f}=d;return Object.entries(f).every(v=>{let[p,y]=v;return Array.isArray(y)?y.includes({...o,...l}[p]):{...o,...l}[p]===y})?[...u,h,x]:u},[]);return YN(t,i,c,a==null?void 0:a.class,a==null?void 0:a.className)},cx=Kr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=m.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},o)=>{const i=r?EF:"button";return e.jsx(i,{className:be(cx({variant:s,size:a,className:t})),ref:o,...n})});C.displayName="Button";function RF(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function Pr(...t){return s=>t.forEach(a=>RF(a,s))}function rt(...t){return m.useCallback(Pr(...t),t)}function MF(t,s){const a=m.createContext(s),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return e.jsx(a.Provider,{value:c,children:i})};r.displayName=t+"Provider";function n(o){const i=m.useContext(a);if(i)return i;if(s!==void 0)return s;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,n]}function ua(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];const u=h=>{var g;const{scope:x,children:f,...v}=h,p=((g=x==null?void 0:x[t])==null?void 0:g[c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})};u.displayName=o+"Provider";function d(h,x){var p;const f=((p=x==null?void 0:x[t])==null?void 0:p[c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,IF(n,...s)]}function IF(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}function Ee(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t==null||t(n),a===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function as(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...a)=>{var r;return(r=s.current)==null?void 0:r.call(s,...a)},[])}function Qs({prop:t,defaultProp:s,onChange:a=()=>{}}){const[r,n]=OF({defaultProp:s,onChange:a}),o=t!==void 0,i=o?t:r,l=as(a),c=m.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else n(u)},[o,t,n,l]);return[i,c]}function OF({defaultProp:t,onChange:s}){const a=m.useState(t),[r]=a,n=m.useRef(r),o=as(s);return m.useEffect(()=>{n.current!==r&&(o(r),n.current=r)},[r,n,o]),a}function dx(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Ps=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function ux(t){const[s,a]=m.useState(void 0);return Ps(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;a({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else a(void 0)},[t]),s}function zF(t,s){return m.useReducer((a,r)=>s[a][r]??a,t)}var Ms=t=>{const{present:s,children:a}=t,r=FF(s),n=typeof a=="function"?a({present:r.isPresent}):m.Children.only(a),o=rt(r.ref,_F(n));return typeof a=="function"||r.isPresent?m.cloneElement(n,{ref:o}):null};Ms.displayName="Presence";function FF(t){const[s,a]=m.useState(),r=m.useRef({}),n=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[l,c]=zF(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=zu(r.current);o.current=l==="mounted"?u:"none"},[l]),Ps(()=>{const u=r.current,d=n.current;if(d!==t){const x=o.current,f=zu(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&x!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,c]),Ps(()=>{if(s){let u;const d=s.ownerDocument.defaultView??window,h=f=>{const p=zu(r.current).includes(f.animationName);if(f.target===s&&p&&(c("ANIMATION_END"),!n.current)){const y=s.style.animationFillMode;s.style.animationFillMode="forwards",u=d.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=y)})}},x=f=>{f.target===s&&(o.current=zu(r.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{d.clearTimeout(u),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),a(u)},[])}}function zu(t){return(t==null?void 0:t.animationName)||"none"}function _F(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var X4=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find($F);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Vg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Vg,{...r,ref:s,children:a})});X4.displayName="Slot";var Vg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=GF(a);return m.cloneElement(a,{...VF(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Vg.displayName="SlotClone";var LF=({children:t})=>e.jsx(e.Fragment,{children:t});function $F(t){return m.isValidElement(t)&&t.type===LF}function VF(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function GF(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var BF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=BF.reduce((t,s)=>{const a=m.forwardRef((r,n)=>{const{asChild:o,...i}=r,l=o?X4:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...i,ref:n})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function rb(t,s){t&&Ka.flushSync(()=>t.dispatchEvent(s))}var nb="Checkbox",[UF,nae]=ua(nb),[HF,WF]=UF(nb),J4=m.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:r,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[x,f]=m.useState(null),v=rt(s,N=>f(N)),p=m.useRef(!1),y=x?d||!!x.closest("form"):!0,[g=!1,b]=Qs({prop:n,defaultProp:o,onChange:u}),j=m.useRef(g);return m.useEffect(()=>{const N=x==null?void 0:x.form;if(N){const w=()=>b(j.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[x,b]),e.jsxs(HF,{scope:a,state:g,disabled:l,children:[e.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":eo(g)?"mixed":g,"aria-required":i,"data-state":eE(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:Ee(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ee(t.onClick,N=>{b(w=>eo(w)?!0:!w),y&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),y&&e.jsx(qF,{control:x,bubbles:!p.current,name:r,value:c,checked:g,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:eo(o)?!1:o})]})});J4.displayName=nb;var Q4="CheckboxIndicator",Z4=m.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:r,...n}=t,o=WF(Q4,a);return e.jsx(Ms,{present:r||eo(o.state)||o.state===!0,children:e.jsx(Ge.span,{"data-state":eE(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});Z4.displayName=Q4;var qF=t=>{const{control:s,checked:a,bubbles:r=!0,defaultChecked:n,...o}=t,i=m.useRef(null),l=dx(a),c=ux(s);m.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==a&&f){const v=new Event("click",{bubbles:r});d.indeterminate=eo(a),f.call(d,eo(a)?!1:a),d.dispatchEvent(v)}},[l,a,r]);const u=m.useRef(eo(a)?!1:a);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eo(t){return t==="indeterminate"}function eE(t){return eo(t)?"indeterminate":t?"checked":"unchecked"}var tE=J4,YF=Z4;const $t=m.forwardRef(({className:t,...s},a)=>e.jsx(tE,{ref:a,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(YF,{className:be("flex items-center justify-center text-current"),children:e.jsx(_l,{className:"h-4 w-4"})})}));$t.displayName=tE.displayName;const gd="/fiscatus-app/assets/logo_fiscatus-BOfWUIgZ.png",De=m.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));De.displayName="Input";var KF="Label",sE=m.forwardRef((t,s)=>e.jsx(Ge.label,{...t,ref:s,onMouseDown:a=>{var n;a.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));sE.displayName=KF;var aE=sE;const XF=Kr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=m.forwardRef(({className:t,...s},a)=>e.jsx(aE,{ref:a,className:be(XF(),t),...s}));B.displayName=aE.displayName;var JF=(t,s,a,r,n,o,i,l)=>{let c=document.documentElement,u=["light","dark"];function d(f){(Array.isArray(t)?t:[t]).forEach(v=>{let p=v==="class",y=p&&o?n.map(g=>o[g]||g):n;p?(c.classList.remove(...y),c.classList.add(o&&o[f]?o[f]:f)):c.setAttribute(v,f)}),h(f)}function h(f){l&&u.includes(f)&&(c.style.colorScheme=f)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let f=localStorage.getItem(s)||a,v=i&&f==="system"?x():f;d(v)}catch{}},KN=["light","dark"],rE="(prefers-color-scheme: dark)",QF=typeof window>"u",ob=m.createContext(void 0),ZF={setTheme:t=>{},themes:[]},nE=()=>{var t;return(t=m.useContext(ob))!=null?t:ZF},e_=t=>m.useContext(ob)?m.createElement(m.Fragment,null,t.children):m.createElement(s_,{...t}),t_=["light","dark"],s_=({forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:a=!0,enableColorScheme:r=!0,storageKey:n="theme",themes:o=t_,defaultTheme:i=a?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d,scriptProps:h})=>{let[x,f]=m.useState(()=>r_(n,i)),[v,p]=m.useState(()=>x==="system"?Hf():x),y=c?Object.values(c):o,g=m.useCallback(w=>{let E=w;if(!E)return;w==="system"&&a&&(E=Hf());let D=c?c[E]:E,P=s?n_(d):null,_=document.documentElement,M=k=>{k==="class"?(_.classList.remove(...y),D&&_.classList.add(D)):k.startsWith("data-")&&(D?_.setAttribute(k,D):_.removeAttribute(k))};if(Array.isArray(l)?l.forEach(M):M(l),r){let k=KN.includes(i)?i:null,$=KN.includes(E)?E:k;_.style.colorScheme=$}P==null||P()},[d]),b=m.useCallback(w=>{let E=typeof w=="function"?w(x):w;f(E);try{localStorage.setItem(n,E)}catch{}},[x]),j=m.useCallback(w=>{let E=Hf(w);p(E),x==="system"&&a&&!t&&g("system")},[x,t]);m.useEffect(()=>{let w=window.matchMedia(rE);return w.addListener(j),j(w),()=>w.removeListener(j)},[j]),m.useEffect(()=>{let w=E=>{E.key===n&&(E.newValue?f(E.newValue):b(i))};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[b]),m.useEffect(()=>{g(t??x)},[t,x]);let N=m.useMemo(()=>({theme:x,setTheme:b,forcedTheme:t,resolvedTheme:x==="system"?v:x,themes:a?[...o,"system"]:o,systemTheme:a?v:void 0}),[x,b,t,v,a,o]);return m.createElement(ob.Provider,{value:N},m.createElement(a_,{forcedTheme:t,storageKey:n,attribute:l,enableSystem:a,enableColorScheme:r,defaultTheme:i,value:c,themes:o,nonce:d,scriptProps:h}),u)},a_=m.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:i,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([a,s,o,t,l,i,r,n]).slice(1,-1);return m.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${JF.toString()})(${d})`}})}),r_=(t,s)=>{if(QF)return;let a;try{a=localStorage.getItem(t)||void 0}catch{}return a||s},n_=t=>{let s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},Hf=t=>(t||(t=window.matchMedia(rE)),t.matches?"dark":"light");function o_(){const[t,s]=m.useState(!0),[a,r]=m.useState(!1),[n,o]=m.useState(!1),[i,l]=m.useState(!1),{theme:c,setTheme:u}=nE(),[d,h]=m.useState({fullName:"",email:"",password:"",confirmPassword:""}),[x,f]=m.useState(!1),v=(g,b)=>{h(j=>({...j,[g]:b}))},p=g=>{g.preventDefault(),f(!0),(t||i)&&console.log("Form submitted:",{isLogin:t,formData:d})},y=()=>(t?d.email&&d.password:d.fullName&&d.email&&d.password&&d.confirmPassword)&&(t||i);return e.jsx("div",{className:"min-h-screen bg-background dark:bg-background flex items-center justify-center p-4",children:e.jsx(Ve,{className:"w-full max-w-4xl bg-card shadow-2xl border-0 rounded-2xl",children:e.jsx(Be,{className:"p-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 min-h-[600px]",children:[e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("div",{}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>u(c==="dark"?"light":"dark"),className:"text-muted-foreground hover:text-foreground",children:c==="dark"?e.jsx(H4,{className:"h-5 w-5"}):e.jsx(G4,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:t?"Bem-vindo de volta":"Criar conta"}),e.jsx("p",{className:"text-muted-foreground",children:t?"Entre na sua conta":"Digite seus dados para comear"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"fullName",className:"text-foreground",children:"Nome completo"}),e.jsx(De,{id:"fullName",type:"text",value:d.fullName,onChange:g=>v("fullName",g.target.value),className:"bg-background border-border rounded-md",placeholder:"Digite seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"email",className:"text-foreground",children:"Email"}),e.jsx(De,{id:"email",type:"email",value:d.email,onChange:g=>v("email",g.target.value),className:"bg-background border-border rounded-md",placeholder:"Digite seu email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"password",className:"text-foreground",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"password",type:a?"text":"password",value:d.password,onChange:g=>v("password",g.target.value),className:"bg-background border-border pr-10 rounded-md",placeholder:"Digite sua senha"}),e.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?e.jsx(Ki,{className:"h-4 w-4"}):e.jsx(Qe,{className:"h-4 w-4"})})]})]}),!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"confirmPassword",type:n?"text":"password",value:d.confirmPassword,onChange:g=>v("confirmPassword",g.target.value),className:"bg-background border-border pr-10 rounded-md",placeholder:"Confirme sua senha"}),e.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground",onClick:()=>o(!n),children:n?e.jsx(Ki,{className:"h-4 w-4"}):e.jsx(Qe,{className:"h-4 w-4"})})]})]}),t&&e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",children:"Esqueceu a senha?"})}),!t&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"terms",checked:i,onCheckedChange:g=>l(g===!0)}),e.jsxs(B,{htmlFor:"terms",className:"text-sm text-muted-foreground",children:["Li e aceito a"," ",e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",children:"poltica de privacidade"})]})]}),e.jsx(C,{type:"submit",className:"w-full bg-gradient-brand hover:bg-gradient-brand-hover text-primary-foreground",disabled:!y(),children:t?"Entrar":"Registrar"}),t&&e.jsxs(C,{type:"button",variant:"outline",className:"w-full border-border text-foreground flex items-center gap-2",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Entrar com Google"]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:[t?"No tem uma conta?":"J tem uma conta?"," ",e.jsx(C,{variant:"link",className:"p-0 h-auto text-primary",onClick:()=>{s(!t),h({fullName:"",email:"",password:"",confirmPassword:""}),f(!1)},children:t?"Cadastre-se":"Entrar"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex bg-gradient-to-br from-[#7F3FFF] via-[#4F8CFF] to-[#00E0FF] relative overflow-hidden items-center justify-center rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 text-center text-white",children:[e.jsx("div",{className:"relative mb-8",children:e.jsx("div",{className:"relative w-48 h-48 mx-auto",children:e.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:gd,alt:"Brain AI",className:"w-50 h-50 drop-shadow-2xl"}),e.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl"})]})})})}),e.jsx("h2",{className:"text-4xl font-bold tracking-wide",children:"FISCATUS"})]})]})]})})})})}const i_=()=>e.jsx(o_,{}),l_=()=>{const t=sr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},c_=Kr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:t,variant:s,...a}){return e.jsx("div",{className:be(c_({variant:s}),t),...a})}const d_=Kr("absolute pointer-events-none",{variants:{variant:{above:"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",below:"bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",left:"left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",right:"right-0 top-1/2 -translate-y-1/2 translate-x-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},size:{sm:"w-32 h-32",md:"w-48 h-48",lg:"w-64 h-64",xl:"w-80 h-80","2xl":"w-96 h-96"},color:{brand:"bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20",green:"bg-green-500/20",yellow:"bg-yellow-500/20",red:"bg-red-500/20"}},defaultVariants:{variant:"center",size:"lg",color:"brand"}}),oE=m.forwardRef(({className:t,variant:s,size:a,color:r,blur:n=60,...o},i)=>e.jsx("div",{ref:i,className:be(d_({variant:s,size:a,color:r,className:t})),style:{filter:`blur(${n}px)`,...o.style},...o}));oE.displayName="Glow";const u_=Kr("relative overflow-hidden rounded-lg border border-gray-200 bg-white shadow-lg",{variants:{variant:{default:"border-gray-200",gradient:"border-transparent bg-gradient-to-br from-blue-50 to-purple-50",dark:"border-gray-800 bg-gray-900"},size:{sm:"w-64 h-40",md:"w-80 h-48",lg:"w-96 h-56",xl:"w-[28rem] h-64","2xl":"w-[32rem] h-72",full:"w-full h-auto"},shadow:{none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl","2xl":"shadow-2xl"}},defaultVariants:{variant:"default",size:"lg",shadow:"lg"}}),iE=m.forwardRef(({className:t,variant:s,size:a,shadow:r,image:n,children:o,...i},l)=>e.jsx("div",{ref:l,className:be(u_({variant:s,size:a,shadow:r,className:t})),...i,children:n?e.jsx("img",{src:n.src,alt:n.alt,width:n.width,height:n.height,className:"w-full h-full object-cover"}):o}));iE.displayName="Mockup";const m_=Kr("relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-br from-gray-50 to-white",gradient:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",dark:"bg-gradient-to-br from-gray-900 to-gray-800"},size:{sm:"py-12 md:py-16",md:"py-16 md:py-20",lg:"py-20 md:py-24",xl:"py-24 md:py-32"}},defaultVariants:{variant:"default",size:"lg"}}),lE=m.forwardRef(({className:t,variant:s,size:a,title:r,description:n,primaryCta:o,secondaryCta:i,mockupImage:l,mockupContent:c,glowVariant:u="above",glowSize:d="xl",glowColor:h="brand",...x},f)=>{const v=m.useRef(null);return m.useEffect(()=>{const p=()=>{const y=window.scrollY;v.current&&(v.current.style.transform=`translateY(${Math.min(y*.08,40)}px)`)};return window.addEventListener("scroll",p,{passive:!0}),()=>window.removeEventListener("scroll",p)},[]),e.jsx("section",{ref:f,className:be(m_({variant:s,size:a,className:t})),...x,children:e.jsx("div",{className:"container mx-auto px-6 md:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-gray-900 leading-tight",children:r}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl",children:n})]}),(o||i)&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o&&e.jsx(C,{size:"lg",className:"h-12 px-6 gap-3 hover:translate-y-[-1px] transition-all duration-200 shadow-sm",onClick:o.onClick,asChild:!!o.href,children:o.href?e.jsx("a",{href:o.href,children:o.text}):o.text}),i&&e.jsx(C,{variant:"outline",size:"lg",className:"h-12 px-6 gap-3 hover:translate-y-[-1px] transition-all duration-200 border-gray-300 hover:border-indigo-300",onClick:i.onClick,asChild:!!i.href,children:i.href?e.jsx("a",{href:i.href,children:i.text}):i.text})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(iE,{size:"full",image:l,className:"animate-appear-zoom opacity-0 [animation-delay:500ms]",children:c}),e.jsx("div",{ref:v,className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx(oE,{variant:u,size:d,color:h,className:"animate-appear-zoom opacity-0 [animation-delay:1000ms]"})})]})]})})})});lE.displayName="HeroWithMockup";function h_(t="[data-reveal], [data-reveal-stagger]",s){const a=m.useRef(0),r=5;m.useEffect(()=>{let n=null,o=null;const i=()=>{const l=Array.from(document.querySelectorAll(t));if(l.length===0){a.current<r&&(a.current++,o=setTimeout(i,200));return}a.current=0,n=new IntersectionObserver(c=>{c.forEach(u=>{if(u.isIntersecting){u.target.classList.add("is-visible");const d=u.target.dataset.revealDelay;d&&(u.target.style.animationDelay=d),n==null||n.unobserve(u.target)}})},{rootMargin:"0px 0px -10% 0px",threshold:.15,...s}),l.forEach(c=>{n==null||n.observe(c)})};return i(),()=>{n&&n.disconnect(),o&&clearTimeout(o)}},[t,s])}function x_(){const t=m.useRef(null),s=m.useRef(0);return m.useEffect(()=>{const a=document.querySelector(".read-progress"),r=document.querySelector(".topbar");if(!a)return;const n=()=>{const i=document.documentElement,l=i.scrollTop||document.body.scrollTop;if(Math.abs(l-s.current)<1){t.current=null;return}s.current=l;const c=i.scrollHeight-i.clientHeight,u=Math.max(0,Math.min(1,l/c));a.style.width=`${u*100}%`,r&&(l>8?r.classList.add("shrink"):r.classList.remove("shrink")),t.current=null},o=()=>{t.current===null&&(t.current=requestAnimationFrame(n))};return n(),window.addEventListener("scroll",o,{passive:!0}),()=>{window.removeEventListener("scroll",o),t.current!==null&&cancelAnimationFrame(t.current)}},[]),null}function f_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t);m.useEffect(()=>{const r=n=>{n.key==="Escape"&&a(n)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[a,s])}var p_="DismissableLayer",Gg="dismissableLayer.update",g_="dismissableLayer.pointerDownOutside",v_="dismissableLayer.focusOutside",XN,cE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mi=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=m.useContext(cE),[d,h]=m.useState(null),x=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=rt(s,D=>h(D)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(y),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=g,w=j_(D=>{const P=D.target,_=[...u.branches].some(M=>M.contains(P));!N||_||(n==null||n(D),i==null||i(D),D.defaultPrevented||l==null||l())},x),E=y_(D=>{const P=D.target;[...u.branches].some(M=>M.contains(P))||(o==null||o(D),i==null||i(D),D.defaultPrevented||l==null||l())},x);return f_(D=>{b===u.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},x),m.useEffect(()=>{if(d)return a&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JN(),()=>{a&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=XN)}},[d,x,a,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JN())},[d,u]),m.useEffect(()=>{const D=()=>f({});return document.addEventListener(Gg,D),()=>document.removeEventListener(Gg,D)},[]),e.jsx(Ge.div,{...c,ref:v,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,w.onPointerDownCapture)})});mi.displayName=p_;var b_="DismissableLayerBranch",dE=m.forwardRef((t,s)=>{const a=m.useContext(cE),r=m.useRef(null),n=rt(s,r);return m.useEffect(()=>{const o=r.current;if(o)return a.branches.add(o),()=>{a.branches.delete(o)}},[a.branches]),e.jsx(Ge.div,{...t,ref:n})});dE.displayName=b_;function j_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t),r=m.useRef(!1),n=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){uE(g_,a,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=c,s.addEventListener("click",n.current,{once:!0})):c()}else s.removeEventListener("click",n.current);r.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",o),s.removeEventListener("click",n.current)}},[s,a]),{onPointerDownCapture:()=>r.current=!0}}function y_(t,s=globalThis==null?void 0:globalThis.document){const a=as(t),r=m.useRef(!1);return m.useEffect(()=>{const n=o=>{o.target&&!r.current&&uE(v_,a,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JN(){const t=new CustomEvent(Gg);document.dispatchEvent(t)}function uE(t,s,a,{discrete:r}){const n=a.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?rb(n,o):n.dispatchEvent(o)}var N_=mi,w_=dE,C_=rC.useId||(()=>{}),S_=0;function oa(t){const[s,a]=m.useState(C_());return Ps(()=>{a(r=>r??String(S_++))},[t]),s?`radix-${s}`:""}const E_=["top","right","bottom","left"],oo=Math.min,ka=Math.max,lh=Math.round,Fu=Math.floor,io=t=>({x:t,y:t}),P_={left:"right",right:"left",bottom:"top",top:"bottom"},A_={start:"end",end:"start"};function Bg(t,s,a){return ka(t,oo(s,a))}function pn(t,s){return typeof t=="function"?t(s):t}function gn(t){return t.split("-")[0]}function Vl(t){return t.split("-")[1]}function ib(t){return t==="x"?"y":"x"}function lb(t){return t==="y"?"height":"width"}function lo(t){return["top","bottom"].includes(gn(t))?"y":"x"}function cb(t){return ib(lo(t))}function D_(t,s,a){a===void 0&&(a=!1);const r=Vl(t),n=cb(t),o=lb(n);let i=n==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(i=ch(i)),[i,ch(i)]}function k_(t){const s=ch(t);return[Ug(t),s,Ug(s)]}function Ug(t){return t.replace(/start|end/g,s=>A_[s])}function T_(t,s,a){const r=["left","right"],n=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return a?s?n:r:s?r:n;case"left":case"right":return s?o:i;default:return[]}}function R_(t,s,a,r){const n=Vl(t);let o=T_(gn(t),a==="start",r);return n&&(o=o.map(i=>i+"-"+n),s&&(o=o.concat(o.map(Ug)))),o}function ch(t){return t.replace(/left|right|bottom|top/g,s=>P_[s])}function M_(t){return{top:0,right:0,bottom:0,left:0,...t}}function mE(t){return typeof t!="number"?M_(t):{top:t,right:t,bottom:t,left:t}}function dh(t){const{x:s,y:a,width:r,height:n}=t;return{width:r,height:n,top:a,left:s,right:s+r,bottom:a+n,x:s,y:a}}function QN(t,s,a){let{reference:r,floating:n}=t;const o=lo(s),i=cb(s),l=lb(i),c=gn(s),u=o==="y",d=r.x+r.width/2-n.width/2,h=r.y+r.height/2-n.height/2,x=r[l]/2-n[l]/2;let f;switch(c){case"top":f={x:d,y:r.y-n.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-n.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Vl(s)){case"start":f[i]-=x*(a&&u?-1:1);break;case"end":f[i]+=x*(a&&u?-1:1);break}return f}const I_=async(t,s,a)=>{const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:i}=a,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(s));let u=await i.getElementRects({reference:t,floating:s,strategy:n}),{x:d,y:h}=QN(u,r,c),x=r,f={},v=0;for(let p=0;p<l.length;p++){const{name:y,fn:g}=l[p],{x:b,y:j,data:N,reset:w}=await g({x:d,y:h,initialPlacement:r,placement:x,strategy:n,middlewareData:f,rects:u,platform:i,elements:{reference:t,floating:s}});d=b??d,h=j??h,f={...f,[y]:{...f[y],...N}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(x=w.placement),w.rects&&(u=w.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:n}):w.rects),{x:d,y:h}=QN(u,x,c)),p=-1)}return{x:d,y:h,placement:x,strategy:n,middlewareData:f}};async function vd(t,s){var a;s===void 0&&(s={});const{x:r,y:n,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:x=!1,padding:f=0}=pn(s,t),v=mE(f),y=l[x?h==="floating"?"reference":"floating":h],g=dh(await o.getClippingRect({element:(a=await(o.isElement==null?void 0:o.isElement(y)))==null||a?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:n,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},w=dh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(g.top-w.top+v.top)/N.y,bottom:(w.bottom-g.bottom+v.bottom)/N.y,left:(g.left-w.left+v.left)/N.x,right:(w.right-g.right+v.right)/N.x}}const O_=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:r,placement:n,rects:o,platform:i,elements:l,middlewareData:c}=s,{element:u,padding:d=0}=pn(t,s)||{};if(u==null)return{};const h=mE(d),x={x:a,y:r},f=cb(n),v=lb(f),p=await i.getDimensions(u),y=f==="y",g=y?"top":"left",b=y?"bottom":"right",j=y?"clientHeight":"clientWidth",N=o.reference[v]+o.reference[f]-x[f]-o.floating[v],w=x[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let D=E?E[j]:0;(!D||!await(i.isElement==null?void 0:i.isElement(E)))&&(D=l.floating[j]||o.floating[v]);const P=N/2-w/2,_=D/2-p[v]/2-1,M=oo(h[g],_),k=oo(h[b],_),$=M,H=D-p[v]-k,Y=D/2-p[v]/2+P,K=Bg($,Y,H),z=!c.arrow&&Vl(n)!=null&&Y!==K&&o.reference[v]/2-(Y<$?M:k)-p[v]/2<0,O=z?Y<$?Y-$:Y-H:0;return{[f]:x[f]+O,data:{[f]:K,centerOffset:Y-K-O,...z&&{alignmentOffset:O}},reset:z}}}),z_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,r;const{placement:n,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=s,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...y}=pn(t,s);if((a=o.arrow)!=null&&a.alignmentOffset)return{};const g=gn(n),b=lo(l),j=gn(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=x||(j||!p?[ch(l)]:k_(l)),E=v!=="none";!x&&E&&w.push(...R_(l,p,v,N));const D=[l,...w],P=await vd(s,y),_=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&_.push(P[g]),h){const Y=D_(n,i,N);_.push(P[Y[0]],P[Y[1]])}if(M=[...M,{placement:n,overflows:_}],!_.every(Y=>Y<=0)){var k,$;const Y=(((k=o.flip)==null?void 0:k.index)||0)+1,K=D[Y];if(K)return{data:{index:Y,overflows:M},reset:{placement:K}};let z=($=M.filter(O=>O.overflows[0]<=0).sort((O,S)=>O.overflows[1]-S.overflows[1])[0])==null?void 0:$.placement;if(!z)switch(f){case"bestFit":{var H;const O=(H=M.filter(S=>{if(E){const L=lo(S.placement);return L===b||L==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((S,L)=>S[1]-L[1])[0])==null?void 0:H[0];O&&(z=O);break}case"initialPlacement":z=l;break}if(n!==z)return{reset:{placement:z}}}return{}}}};function ZN(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function ew(t){return E_.some(s=>t[s]>=0)}const F_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:r="referenceHidden",...n}=pn(t,s);switch(r){case"referenceHidden":{const o=await vd(s,{...n,elementContext:"reference"}),i=ZN(o,a.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ew(i)}}}case"escaped":{const o=await vd(s,{...n,altBoundary:!0}),i=ZN(o,a.floating);return{data:{escapedOffsets:i,escaped:ew(i)}}}default:return{}}}}};async function __(t,s){const{placement:a,platform:r,elements:n}=t,o=await(r.isRTL==null?void 0:r.isRTL(n.floating)),i=gn(a),l=Vl(a),c=lo(a)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,h=pn(s,t);let{mainAxis:x,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:x*u}:{x:x*u,y:f*d}}const L_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,r;const{x:n,y:o,placement:i,middlewareData:l}=s,c=await __(s,t);return i===((a=l.offset)==null?void 0:a.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:n+c.x,y:o+c.y,data:{...c,placement:i}}}}},$_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:r,placement:n}=s,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:g,y:b}=y;return{x:g,y:b}}},...c}=pn(t,s),u={x:a,y:r},d=await vd(s,c),h=lo(gn(n)),x=ib(h);let f=u[x],v=u[h];if(o){const y=x==="y"?"top":"left",g=x==="y"?"bottom":"right",b=f+d[y],j=f-d[g];f=Bg(b,f,j)}if(i){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=v+d[y],j=v-d[g];v=Bg(b,v,j)}const p=l.fn({...s,[x]:f,[h]:v});return{...p,data:{x:p.x-a,y:p.y-r,enabled:{[x]:o,[h]:i}}}}}},V_=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:r,placement:n,rects:o,middlewareData:i}=s,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pn(t,s),d={x:a,y:r},h=lo(n),x=ib(h);let f=d[x],v=d[h];const p=pn(l,s),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=x==="y"?"height":"width",N=o.reference[x]-o.floating[j]+y.mainAxis,w=o.reference[x]+o.reference[j]-y.mainAxis;f<N?f=N:f>w&&(f=w)}if(u){var g,b;const j=x==="y"?"width":"height",N=["top","left"].includes(gn(n)),w=o.reference[h]-o.floating[j]+(N&&((g=i.offset)==null?void 0:g[h])||0)+(N?0:y.crossAxis),E=o.reference[h]+o.reference[j]+(N?0:((b=i.offset)==null?void 0:b[h])||0)-(N?y.crossAxis:0);v<w?v=w:v>E&&(v=E)}return{[x]:f,[h]:v}}}},G_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,r;const{placement:n,rects:o,platform:i,elements:l}=s,{apply:c=()=>{},...u}=pn(t,s),d=await vd(s,u),h=gn(n),x=Vl(n),f=lo(n)==="y",{width:v,height:p}=o.floating;let y,g;h==="top"||h==="bottom"?(y=h,g=x===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,y=x==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=v-d.left-d.right,N=oo(p-d[y],b),w=oo(v-d[g],j),E=!s.middlewareData.shift;let D=N,P=w;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(P=j),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(D=b),E&&!x){const M=ka(d.left,0),k=ka(d.right,0),$=ka(d.top,0),H=ka(d.bottom,0);f?P=v-2*(M!==0||k!==0?M+k:ka(d.left,d.right)):D=p-2*($!==0||H!==0?$+H:ka(d.top,d.bottom))}await c({...s,availableWidth:P,availableHeight:D});const _=await i.getDimensions(l.floating);return v!==_.width||p!==_.height?{reset:{rects:!0}}:{}}}};function mx(){return typeof window<"u"}function Gl(t){return hE(t)?(t.nodeName||"").toLowerCase():"#document"}function Ia(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Xr(t){var s;return(s=(hE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function hE(t){return mx()?t instanceof Node||t instanceof Ia(t).Node:!1}function jr(t){return mx()?t instanceof Element||t instanceof Ia(t).Element:!1}function qr(t){return mx()?t instanceof HTMLElement||t instanceof Ia(t).HTMLElement:!1}function tw(t){return!mx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ia(t).ShadowRoot}function Bd(t){const{overflow:s,overflowX:a,overflowY:r,display:n}=yr(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+a)&&!["inline","contents"].includes(n)}function B_(t){return["table","td","th"].includes(Gl(t))}function hx(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function db(t){const s=ub(),a=jr(t)?yr(t):t;return a.transform!=="none"||a.perspective!=="none"||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(a.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(a.contain||"").includes(r))}function U_(t){let s=co(t);for(;qr(s)&&!yl(s);){if(db(s))return s;if(hx(s))return null;s=co(s)}return null}function ub(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yl(t){return["html","body","#document"].includes(Gl(t))}function yr(t){return Ia(t).getComputedStyle(t)}function xx(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function co(t){if(Gl(t)==="html")return t;const s=t.assignedSlot||t.parentNode||tw(t)&&t.host||Xr(t);return tw(s)?s.host:s}function xE(t){const s=co(t);return yl(s)?t.ownerDocument?t.ownerDocument.body:t.body:qr(s)&&Bd(s)?s:xE(s)}function bd(t,s,a){var r;s===void 0&&(s=[]),a===void 0&&(a=!0);const n=xE(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),i=Ia(n);if(o){const l=Hg(i);return s.concat(i,i.visualViewport||[],Bd(n)?n:[],l&&a?bd(l):[])}return s.concat(n,bd(n,[],a))}function Hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fE(t){const s=yr(t);let a=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const n=qr(t),o=n?t.offsetWidth:a,i=n?t.offsetHeight:r,l=lh(a)!==o||lh(r)!==i;return l&&(a=o,r=i),{width:a,height:r,$:l}}function mb(t){return jr(t)?t:t.contextElement}function Ji(t){const s=mb(t);if(!qr(s))return io(1);const a=s.getBoundingClientRect(),{width:r,height:n,$:o}=fE(s);let i=(o?lh(a.width):a.width)/r,l=(o?lh(a.height):a.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const H_=io(0);function pE(t){const s=Ia(t);return!ub()||!s.visualViewport?H_:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function W_(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==Ia(t)?!1:s}function ni(t,s,a,r){s===void 0&&(s=!1),a===void 0&&(a=!1);const n=t.getBoundingClientRect(),o=mb(t);let i=io(1);s&&(r?jr(r)&&(i=Ji(r)):i=Ji(t));const l=W_(o,a,r)?pE(o):io(0);let c=(n.left+l.x)/i.x,u=(n.top+l.y)/i.y,d=n.width/i.x,h=n.height/i.y;if(o){const x=Ia(o),f=r&&jr(r)?Ia(r):r;let v=x,p=Hg(v);for(;p&&r&&f!==v;){const y=Ji(p),g=p.getBoundingClientRect(),b=yr(p),j=g.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,N=g.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=j,u+=N,v=Ia(p),p=Hg(v)}}return dh({width:d,height:h,x:c,y:u})}function q_(t){let{elements:s,rect:a,offsetParent:r,strategy:n}=t;const o=n==="fixed",i=Xr(r),l=s?hx(s.floating):!1;if(r===i||l&&o)return a;let c={scrollLeft:0,scrollTop:0},u=io(1);const d=io(0),h=qr(r);if((h||!h&&!o)&&((Gl(r)!=="body"||Bd(i))&&(c=xx(r)),qr(r))){const x=ni(r);u=Ji(r),d.x=x.x+r.clientLeft,d.y=x.y+r.clientTop}return{width:a.width*u.x,height:a.height*u.y,x:a.x*u.x-c.scrollLeft*u.x+d.x,y:a.y*u.y-c.scrollTop*u.y+d.y}}function Y_(t){return Array.from(t.getClientRects())}function Wg(t,s){const a=xx(t).scrollLeft;return s?s.left+a:ni(Xr(t)).left+a}function K_(t){const s=Xr(t),a=xx(t),r=t.ownerDocument.body,n=ka(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),o=ka(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let i=-a.scrollLeft+Wg(t);const l=-a.scrollTop;return yr(r).direction==="rtl"&&(i+=ka(s.clientWidth,r.clientWidth)-n),{width:n,height:o,x:i,y:l}}function X_(t,s){const a=Ia(t),r=Xr(t),n=a.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(n){o=n.width,i=n.height;const u=ub();(!u||u&&s==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:o,height:i,x:l,y:c}}function J_(t,s){const a=ni(t,!0,s==="fixed"),r=a.top+t.clientTop,n=a.left+t.clientLeft,o=qr(t)?Ji(t):io(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=n*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function sw(t,s,a){let r;if(s==="viewport")r=X_(t,a);else if(s==="document")r=K_(Xr(t));else if(jr(s))r=J_(s,a);else{const n=pE(t);r={...s,x:s.x-n.x,y:s.y-n.y}}return dh(r)}function gE(t,s){const a=co(t);return a===s||!jr(a)||yl(a)?!1:yr(a).position==="fixed"||gE(a,s)}function Q_(t,s){const a=s.get(t);if(a)return a;let r=bd(t,[],!1).filter(l=>jr(l)&&Gl(l)!=="body"),n=null;const o=yr(t).position==="fixed";let i=o?co(t):t;for(;jr(i)&&!yl(i);){const l=yr(i),c=db(i);!c&&l.position==="fixed"&&(n=null),(o?!c&&!n:!c&&l.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Bd(i)&&!c&&gE(t,i))?r=r.filter(d=>d!==i):n=l,i=co(i)}return s.set(t,r),r}function Z_(t){let{element:s,boundary:a,rootBoundary:r,strategy:n}=t;const i=[...a==="clippingAncestors"?hx(s)?[]:Q_(s,this._c):[].concat(a),r],l=i[0],c=i.reduce((u,d)=>{const h=sw(s,d,n);return u.top=ka(h.top,u.top),u.right=oo(h.right,u.right),u.bottom=oo(h.bottom,u.bottom),u.left=ka(h.left,u.left),u},sw(s,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function e8(t){const{width:s,height:a}=fE(t);return{width:s,height:a}}function t8(t,s,a){const r=qr(s),n=Xr(s),o=a==="fixed",i=ni(t,!0,o,s);let l={scrollLeft:0,scrollTop:0};const c=io(0);if(r||!r&&!o)if((Gl(s)!=="body"||Bd(n))&&(l=xx(s)),r){const f=ni(s,!0,o,s);c.x=f.x+s.clientLeft,c.y=f.y+s.clientTop}else n&&(c.x=Wg(n));let u=0,d=0;if(n&&!r&&!o){const f=n.getBoundingClientRect();d=f.top+l.scrollTop,u=f.left+l.scrollLeft-Wg(n,f)}const h=i.left+l.scrollLeft-c.x-u,x=i.top+l.scrollTop-c.y-d;return{x:h,y:x,width:i.width,height:i.height}}function Wf(t){return yr(t).position==="static"}function aw(t,s){if(!qr(t)||yr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Xr(t)===a&&(a=a.ownerDocument.body),a}function vE(t,s){const a=Ia(t);if(hx(t))return a;if(!qr(t)){let n=co(t);for(;n&&!yl(n);){if(jr(n)&&!Wf(n))return n;n=co(n)}return a}let r=aw(t,s);for(;r&&B_(r)&&Wf(r);)r=aw(r,s);return r&&yl(r)&&Wf(r)&&!db(r)?a:r||U_(t)||a}const s8=async function(t){const s=this.getOffsetParent||vE,a=this.getDimensions,r=await a(t.floating);return{reference:t8(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function a8(t){return yr(t).direction==="rtl"}const r8={convertOffsetParentRelativeRectToViewportRelativeRect:q_,getDocumentElement:Xr,getClippingRect:Z_,getOffsetParent:vE,getElementRects:s8,getClientRects:Y_,getDimensions:e8,getScale:Ji,isElement:jr,isRTL:a8};function n8(t,s){let a=null,r;const n=Xr(t);function o(){var l;clearTimeout(r),(l=a)==null||l.disconnect(),a=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:h,height:x}=t.getBoundingClientRect();if(l||s(),!h||!x)return;const f=Fu(d),v=Fu(n.clientWidth-(u+h)),p=Fu(n.clientHeight-(d+x)),y=Fu(u),b={rootMargin:-f+"px "+-v+"px "+-p+"px "+-y+"px",threshold:ka(0,oo(1,c))||1};let j=!0;function N(w){const E=w[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j=!1}try{a=new IntersectionObserver(N,{...b,root:n.ownerDocument})}catch{a=new IntersectionObserver(N,b)}a.observe(t)}return i(!0),o}function o8(t,s,a,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=mb(t),d=n||o?[...u?bd(u):[],...bd(s)]:[];d.forEach(g=>{n&&g.addEventListener("scroll",a,{passive:!0}),o&&g.addEventListener("resize",a)});const h=u&&l?n8(u,a):null;let x=-1,f=null;i&&(f=new ResizeObserver(g=>{let[b]=g;b&&b.target===u&&f&&(f.unobserve(s),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=f)==null||j.observe(s)})),a()}),u&&!c&&f.observe(u),f.observe(s));let v,p=c?ni(t):null;c&&y();function y(){const g=ni(t);p&&(g.x!==p.x||g.y!==p.y||g.width!==p.width||g.height!==p.height)&&a(),p=g,v=requestAnimationFrame(y)}return a(),()=>{var g;d.forEach(b=>{n&&b.removeEventListener("scroll",a),o&&b.removeEventListener("resize",a)}),h==null||h(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const i8=L_,l8=$_,c8=z_,d8=G_,u8=F_,rw=O_,m8=V_,h8=(t,s,a)=>{const r=new Map,n={platform:r8,...a},o={...n.platform,_c:r};return I_(t,s,{...n,platform:o})};var fm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function uh(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,r,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(r=a;r--!==0;)if(!uh(t[r],s[r]))return!1;return!0}if(n=Object.keys(t),a=n.length,a!==Object.keys(s).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(s,n[r]))return!1;for(r=a;r--!==0;){const o=n[r];if(!(o==="_owner"&&t.$$typeof)&&!uh(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function bE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(t,s){const a=bE(t);return Math.round(s*a)/a}function qf(t){const s=m.useRef(t);return fm(()=>{s.current=t}),s}function x8(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=m.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[x,f]=m.useState(r);uh(x,r)||f(r);const[v,p]=m.useState(null),[y,g]=m.useState(null),b=m.useCallback(S=>{S!==E.current&&(E.current=S,p(S))},[]),j=m.useCallback(S=>{S!==D.current&&(D.current=S,g(S))},[]),N=o||v,w=i||y,E=m.useRef(null),D=m.useRef(null),P=m.useRef(d),_=c!=null,M=qf(c),k=qf(n),$=qf(u),H=m.useCallback(()=>{if(!E.current||!D.current)return;const S={placement:s,strategy:a,middleware:x};k.current&&(S.platform=k.current),h8(E.current,D.current,S).then(L=>{const U={...L,isPositioned:$.current!==!1};Y.current&&!uh(P.current,U)&&(P.current=U,Ka.flushSync(()=>{h(U)}))})},[x,s,a,k,$]);fm(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[u]);const Y=m.useRef(!1);fm(()=>(Y.current=!0,()=>{Y.current=!1}),[]),fm(()=>{if(N&&(E.current=N),w&&(D.current=w),N&&w){if(M.current)return M.current(N,w,H);H()}},[N,w,H,M,_]);const K=m.useMemo(()=>({reference:E,floating:D,setReference:b,setFloating:j}),[b,j]),z=m.useMemo(()=>({reference:N,floating:w}),[N,w]),O=m.useMemo(()=>{const S={position:a,left:0,top:0};if(!z.floating)return S;const L=nw(z.floating,d.x),U=nw(z.floating,d.y);return l?{...S,transform:"translate("+L+"px, "+U+"px)",...bE(z.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:L,top:U}},[a,l,z.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:H,refs:K,elements:z,floatingStyles:O}),[d,H,K,z,O])}const f8=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:r,padding:n}=typeof t=="function"?t(a):t;return r&&s(r)?r.current!=null?rw({element:r.current,padding:n}).fn(a):{}:r?rw({element:r,padding:n}).fn(a):{}}}},p8=(t,s)=>({...i8(t),options:[t,s]}),g8=(t,s)=>({...l8(t),options:[t,s]}),v8=(t,s)=>({...m8(t),options:[t,s]}),b8=(t,s)=>({...c8(t),options:[t,s]}),j8=(t,s)=>({...d8(t),options:[t,s]}),y8=(t,s)=>({...u8(t),options:[t,s]}),N8=(t,s)=>({...f8(t),options:[t,s]});var w8="Arrow",jE=m.forwardRef((t,s)=>{const{children:a,width:r=10,height:n=5,...o}=t;return e.jsx(Ge.svg,{...o,ref:s,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});jE.displayName=w8;var C8=jE;function S8(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...v}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,E8(n,...s)]}function E8(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var hb="Popper",[yE,No]=S8(hb),[P8,NE]=yE(hb),wE=t=>{const{__scopePopper:s,children:a}=t,[r,n]=m.useState(null);return e.jsx(P8,{scope:s,anchor:r,onAnchorChange:n,children:a})};wE.displayName=hb;var CE="PopperAnchor",SE=m.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:r,...n}=t,o=NE(CE,a),i=m.useRef(null),l=rt(s,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:e.jsx(Ge.div,{...n,ref:l})});SE.displayName=CE;var xb="PopperContent",[A8,D8]=yE(xb),EE=m.forwardRef((t,s)=>{var ae,ve,xe,ne,Ae,je;const{__scopePopper:a,side:r="bottom",sideOffset:n=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:f="optimized",onPlaced:v,...p}=t,y=NE(xb,a),[g,b]=m.useState(null),j=rt(s,Ue=>b(Ue)),[N,w]=m.useState(null),E=ux(N),D=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,_=r+(o!=="center"?"-"+o:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],$=k.length>0,H={padding:M,boundary:k.filter(T8),altBoundary:$},{refs:Y,floatingStyles:K,placement:z,isPositioned:O,middlewareData:S}=x8({strategy:"fixed",placement:_,whileElementsMounted:(...Ue)=>o8(...Ue,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[p8({mainAxis:n+P,alignmentAxis:i}),c&&g8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?v8():void 0,...H}),c&&b8({...H}),j8({...H,apply:({elements:Ue,rects:de,availableWidth:Te,availableHeight:Pe})=>{const{width:A,height:R}=de.reference,q=Ue.floating.style;q.setProperty("--radix-popper-available-width",`${Te}px`),q.setProperty("--radix-popper-available-height",`${Pe}px`),q.setProperty("--radix-popper-anchor-width",`${A}px`),q.setProperty("--radix-popper-anchor-height",`${R}px`)}}),N&&N8({element:N,padding:l}),R8({arrowWidth:D,arrowHeight:P}),x&&y8({strategy:"referenceHidden",...H})]}),[L,U]=DE(z),J=as(v);Ps(()=>{O&&(J==null||J())},[O,J]);const re=(ae=S.arrow)==null?void 0:ae.x,le=(ve=S.arrow)==null?void 0:ve.y,Ne=((xe=S.arrow)==null?void 0:xe.centerOffset)!==0,[ke,he]=m.useState();return Ps(()=>{g&&he(window.getComputedStyle(g).zIndex)},[g]),e.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(ne=S.transformOrigin)==null?void 0:ne.x,(Ae=S.transformOrigin)==null?void 0:Ae.y].join(" "),...((je=S.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(A8,{scope:a,placedSide:L,onArrowChange:w,arrowX:re,arrowY:le,shouldHideArrow:Ne,children:e.jsx(Ge.div,{"data-side":L,"data-align":U,...p,ref:j,style:{...p.style,animation:O?void 0:"none"}})})})});EE.displayName=xb;var PE="PopperArrow",k8={top:"bottom",right:"left",bottom:"top",left:"right"},AE=m.forwardRef(function(s,a){const{__scopePopper:r,...n}=s,o=D8(PE,r),i=k8[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(C8,{...n,ref:a,style:{...n.style,display:"block"}})})});AE.displayName=PE;function T8(t){return t!==null}var R8=t=>({name:"transformOrigin",options:t,fn(s){var y,g,b;const{placement:a,rects:r,middlewareData:n}=s,i=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=DE(a),h={start:"0%",center:"50%",end:"100%"}[d],x=(((g=n.arrow)==null?void 0:g.x)??0)+l/2,f=(((b=n.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=i?h:`${x}px`,p=`${-c}px`):u==="top"?(v=i?h:`${x}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=i?h:`${f}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=i?h:`${f}px`),{data:{x:v,y:p}}}});function DE(t){const[s,a="center"]=t.split("-");return[s,a]}var fx=wE,Ud=SE,px=EE,gx=AE,M8="Portal",Bl=m.forwardRef((t,s)=>{var l;const{container:a,...r}=t,[n,o]=m.useState(!1);Ps(()=>o(!0),[]);const i=a||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?i4.createPortal(e.jsx(Ge.div,{...r,ref:s}),i):null});Bl.displayName=M8;var I8=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(O8);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(qg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(qg,{...r,ref:s,children:a})});I8.displayName="Slot";var qg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=F8(a);return m.cloneElement(a,{...z8(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});qg.displayName="SlotClone";var kE=({children:t})=>e.jsx(e.Fragment,{children:t});function O8(t){return m.isValidElement(t)&&t.type===kE}function z8(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function F8(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var _8="VisuallyHidden",Hd=m.forwardRef((t,s)=>e.jsx(Ge.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hd.displayName=_8;var L8=Hd,[vx,oae]=ua("Tooltip",[No]),bx=No(),TE="TooltipProvider",$8=700,Yg="tooltip.open",[V8,fb]=vx(TE),RE=t=>{const{__scopeTooltip:s,delayDuration:a=$8,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:o}=t,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),e.jsx(V8,{scope:s,isOpenDelayed:i,delayDuration:a,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:n,children:o})};RE.displayName=TE;var jx="Tooltip",[G8,yx]=vx(jx),ME=t=>{const{__scopeTooltip:s,children:a,open:r,defaultOpen:n=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=t,c=fb(jx,t.__scopeTooltip),u=bx(s),[d,h]=m.useState(null),x=oa(),f=m.useRef(0),v=i??c.disableHoverableContent,p=l??c.delayDuration,y=m.useRef(!1),[g=!1,b]=Qs({prop:r,defaultProp:n,onChange:D=>{D?(c.onOpen(),document.dispatchEvent(new CustomEvent(Yg))):c.onClose(),o==null||o(D)}}),j=m.useMemo(()=>g?y.current?"delayed-open":"instant-open":"closed",[g]),N=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,b(!0)},[b]),w=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),E=m.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,b(!0),f.current=0},p)},[p,b]);return m.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),e.jsx(fx,{...u,children:e.jsx(G8,{scope:s,contentId:x,open:g,stateAttribute:j,trigger:d,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?E():N()},[c.isOpenDelayed,E,N]),onTriggerLeave:m.useCallback(()=>{v?w():(window.clearTimeout(f.current),f.current=0)},[w,v]),onOpen:N,onClose:w,disableHoverableContent:v,children:a})})};ME.displayName=jx;var Kg="TooltipTrigger",IE=m.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=yx(Kg,a),o=fb(Kg,a),i=bx(a),l=m.useRef(null),c=rt(s,l,n.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(Ud,{asChild:!0,...i,children:e.jsx(Ge.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:c,onPointerMove:Ee(t.onPointerMove,x=>{x.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||n.onOpen()}),onBlur:Ee(t.onBlur,n.onClose),onClick:Ee(t.onClick,n.onClose)})})});IE.displayName=Kg;var B8="TooltipPortal",[iae,U8]=vx(B8,{forceMount:void 0}),Nl="TooltipContent",OE=m.forwardRef((t,s)=>{const a=U8(Nl,t.__scopeTooltip),{forceMount:r=a.forceMount,side:n="top",...o}=t,i=yx(Nl,t.__scopeTooltip);return e.jsx(Ms,{present:r||i.open,children:i.disableHoverableContent?e.jsx(zE,{side:n,...o,ref:s}):e.jsx(H8,{side:n,...o,ref:s})})}),H8=m.forwardRef((t,s)=>{const a=yx(Nl,t.__scopeTooltip),r=fb(Nl,t.__scopeTooltip),n=m.useRef(null),o=rt(s,n),[i,l]=m.useState(null),{trigger:c,onClose:u}=a,d=n.current,{onPointerInTransitChange:h}=r,x=m.useCallback(()=>{l(null),h(!1)},[h]),f=m.useCallback((v,p)=>{const y=v.currentTarget,g={x:v.clientX,y:v.clientY},b=K8(g,y.getBoundingClientRect()),j=X8(g,b),N=J8(p.getBoundingClientRect()),w=Z8([...j,...N]);l(w),h(!0)},[h]);return m.useEffect(()=>()=>x(),[x]),m.useEffect(()=>{if(c&&d){const v=y=>f(y,d),p=y=>f(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,f,x]),m.useEffect(()=>{if(i){const v=p=>{const y=p.target,g={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!Q8(g,i);b?x():j&&(x(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,x]),e.jsx(zE,{...t,ref:o})}),[W8,q8]=vx(jx,{isInside:!1}),zE=m.forwardRef((t,s)=>{const{__scopeTooltip:a,children:r,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=yx(Nl,a),u=bx(a),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Yg,d),()=>document.removeEventListener(Yg,d)),[d]),m.useEffect(()=>{if(c.trigger){const h=x=>{const f=x.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),e.jsx(mi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:e.jsxs(px,{"data-state":c.stateAttribute,...u,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(kE,{children:r}),e.jsx(W8,{scope:a,isInside:!0,children:e.jsx(L8,{id:c.contentId,role:"tooltip",children:n||r})})]})})});OE.displayName=Nl;var FE="TooltipArrow",Y8=m.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=bx(a);return q8(FE,a).isInside?null:e.jsx(gx,{...n,...r,ref:s})});Y8.displayName=FE;function K8(t,s){const a=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(a,r,n,o)){case o:return"left";case n:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function X8(t,s,a=5){const r=[];switch(s){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function J8(t){const{top:s,right:a,bottom:r,left:n}=t;return[{x:n,y:s},{x:a,y:s},{x:a,y:r},{x:n,y:r}]}function Q8(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o].x,c=s[o].y,u=s[i].x,d=s[i].y;c>r!=d>r&&a<(u-l)*(r-c)/(d-c)+l&&(n=!n)}return n}function Z8(t){const s=t.slice();return s.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),eL(s)}function eL(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const n=t[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}s.pop();const a=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;a.length>=2;){const o=a[a.length-1],i=a[a.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))a.pop();else break}a.push(n)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var tL=RE,sL=ME,aL=IE,_E=OE;const St=tL,Nt=sL,wt=aL,bt=m.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(_E,{ref:r,sideOffset:s,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));bt.displayName=_E.displayName;var pb="Avatar",[rL,lae]=ua(pb),[nL,LE]=rL(pb),$E=m.forwardRef((t,s)=>{const{__scopeAvatar:a,...r}=t,[n,o]=m.useState("idle");return e.jsx(nL,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:e.jsx(Ge.span,{...r,ref:s})})});$E.displayName=pb;var VE="AvatarImage",GE=m.forwardRef((t,s)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...o}=t,i=LE(VE,a),l=oL(r,o.referrerPolicy),c=as(u=>{n(u),i.onImageLoadingStatusChange(u)});return Ps(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(Ge.img,{...o,ref:s,src:r}):null});GE.displayName=VE;var BE="AvatarFallback",UE=m.forwardRef((t,s)=>{const{__scopeAvatar:a,delayMs:r,...n}=t,o=LE(BE,a),[i,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?e.jsx(Ge.span,{...n,ref:s}):null});UE.displayName=BE;function oL(t,s){const[a,r]=m.useState("idle");return Ps(()=>{if(!t){r("error");return}let n=!0;const o=new window.Image,i=l=>()=>{n&&r(l)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,s&&(o.referrerPolicy=s),()=>{n=!1}},[t,s]),a}var HE=$E,WE=GE,qE=UE;const hr=m.forwardRef(({className:t,...s},a)=>e.jsx(HE,{ref:a,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));hr.displayName=HE.displayName;const xr=m.forwardRef(({className:t,...s},a)=>e.jsx(WE,{ref:a,className:be("aspect-square h-full w-full",t),...s}));xr.displayName=WE.displayName;const fr=m.forwardRef(({className:t,...s},a)=>e.jsx(qE,{ref:a,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));fr.displayName=qE.displayName;const YE=m.createContext(void 0),gb=[{_id:"1",name:"Administrador da Plataforma",permissions:["platform.admin","users.manage","roles.manage","invites.manage","organizations.manage","processes.manage","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"2",name:"Administrador da Organizao",permissions:["org.admin","users.manage","roles.manage","invites.create","processes.manage","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"3",name:"Gerente de Processos",permissions:["processes.create","processes.edit","processes.view","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"4",name:"Analista",permissions:["processes.view","processes.edit","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"5",name:"Visualizador",permissions:["processes.view","reports.view"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],jd=[{_id:"1",email:"lara.fraguas@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",gerencia:"GSP - Gerncia de Solues e Projetos"},{_id:"2",email:"diran.rodrigues@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"GRH - Gerncia de Recursos Humanos"},{_id:"3",email:"georgia.guimaraes@hospital.gov.br",password:"hashed_password",orgs:[{role:"2",isOrgAdmin:!0,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"GUE - Gerncia de Urgncia e Emergncia"},{_id:"4",email:"yasmin.pissolati@hospital.gov.br",password:"hashed_password",orgs:[{role:"1",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!0,nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{_id:"5",email:"guilherme.carvalho@hospital.gov.br",password:"hashed_password",orgs:[{role:"3",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Guilherme de Carvalho Silva",cargo:"Gerente de Licitaes",gerencia:"GLC - Gerncia de Licitaes"},{_id:"6",email:"lucas.moreira@hospital.gov.br",password:"hashed_password",orgs:[{role:"3",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Lucas Moreira Brito",cargo:"Gerente de Recursos Humanos",gerencia:"GRH - Gerncia de Recursos Humanos"},{_id:"7",email:"andressa.sterfany@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",gerencia:"GUE - Gerncia de Urgncia e Emergncia"},{_id:"8",email:"leticia.bonfim@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes",gerencia:"GLC - Gerncia de Licitaes"},{_id:"9",email:"dallas.kelson@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira"},{_id:"10",email:"gabriel.radamesis@hospital.gov.br",password:"hashed_password",orgs:[{role:"4",isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}],isActive:!0,isPlatformAdmin:!1,nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",gerencia:"NAJ - Assessoria Jurdica"},{_id:"11",email:"usuario.sem.org@hospital.gov.br",password:"hashed_password",orgs:[],isActive:!0,isPlatformAdmin:!1,nome:"Usurio Sem Organizao",cargo:"Analista",gerencia:"GLC - Gerncia de Licitaes"},{_id:"12",email:"novo.usuario@hospital.gov.br",password:"hashed_password",orgs:[],isActive:!0,isPlatformAdmin:!1,nome:"Novo Usurio",cargo:"Consultor",gerencia:"GFC - Gerncia Financeira"}];function iL({children:t}){const[s,a]=m.useState(jd[3]),n={user:s,setUser:a,isAuthenticated:!!s,acceptInvite:async(o,i)=>{try{await new Promise(d=>setTimeout(d,1e3));const c=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()}].find(d=>d.token===o);if(!c||!gb.find(d=>d._id===c.role))return!1;if(s){const d={...s,nome:i.nome||s.nome,email:i.email||s.email,cargo:i.cargo||s.cargo,gerencia:i.gerencia||s.gerencia,orgs:[...s.orgs,{role:c.role,isOrgAdmin:!1,orgId:"org1",orgName:"Hospital Governo"}]};a(d)}return!0}catch(l){return console.error("Erro ao aceitar convite:",l),!1}}};return e.jsx(YE.Provider,{value:n,children:t})}function kt(){const t=m.useContext(YE);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}const lL=1,cL=1e6;let Yf=0;function dL(){return Yf=(Yf+1)%Number.MAX_SAFE_INTEGER,Yf.toString()}const Kf=new Map,ow=t=>{if(Kf.has(t))return;const s=setTimeout(()=>{Kf.delete(t),zc({type:"REMOVE_TOAST",toastId:t})},cL);Kf.set(t,s)},uL=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,lL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?ow(a):t.toasts.forEach(r=>{ow(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},pm=[];let gm={toasts:[]};function zc(t){gm=uL(gm,t),pm.forEach(s=>{s(gm)})}function Ct({...t}){const s=dL(),a=n=>zc({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>zc({type:"DISMISS_TOAST",toastId:s});return zc({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function Kt(){const[t,s]=m.useState(gm);return m.useEffect(()=>(pm.push(s),()=>{const a=pm.indexOf(s);a>-1&&pm.splice(a,1)}),[t]),{...t,toast:Ct,dismiss:a=>zc({type:"DISMISS_TOAST",toastId:a})}}const pi={label:"Incio",icon:e.jsx(tb,{className:"w-5 h-5"}),path:"/",description:"Painel inicial do sistema"},mL=[{label:"Planejamento da Contratao",icon:e.jsx(nh,{className:"w-5 h-5"}),path:"/planejamento-da-contratacao",description:"Organize todas as fases da contratao"},{label:"Gesto Contratual",icon:e.jsx(qt,{className:"w-5 h-5"}),path:"/gestao-contratual",description:"Gerencie contratos e documentos",disabled:!0},{label:"Execuo Contratual",icon:e.jsx(xd,{className:"w-5 h-5"}),path:"/execucao-contratual",description:"Monitore a execuo do contrato",disabled:!0},{label:"Processo Licitatrio",icon:e.jsx(_4,{className:"w-5 h-5"}),path:"/processo-licitatorio",description:"Acompanhe o processo licitatrio",disabled:!0},{label:"Relatrios",icon:e.jsx(Qv,{className:"w-5 h-5"}),path:"/relatorios",description:"Visualize dados estratgicos",disabled:!0},{label:"Configuraes do Fluxo",icon:e.jsx(Ft,{className:"w-5 h-5"}),path:"/configuracoes-fluxo",description:"Personalize o fluxo de trabalho",disabled:!0}];function hL({open:t,onClose:s}){const a=fs(),r=sr(),{user:n}=kt();Z.useEffect(()=>{function c(u){u.key==="Escape"&&s()}return t&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,s]);const o=c=>{if(c.disabled){Ct({title:"Mdulo em Desenvolvimento",description:`O mdulo "${c.label}" estar disponvel em breve.`,variant:"default"});return}c.restricted,a(c.path),s()},i=c=>r.pathname===c||c==="/"&&r.pathname==="/"||c==="/planejamento-da-contratacao"&&r.pathname==="/planejamento-da-contratacao"||c==="/administracao"&&r.pathname==="/administracao",l=c=>r.pathname===c;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-200 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),e.jsxs("aside",{className:`fixed top-0 left-0 h-screen w-80 bg-white shadow-lg z-50 flex flex-col transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full"}`,tabIndex:-1,children:[e.jsxs("div",{className:"flex items-center justify-center h-16 px-6 border-b border-gray-200 bg-gray-50 relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:gd,className:"w-8 h-8",alt:"Logo Fiscatus"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Fiscatus"})]}),e.jsx("button",{onClick:s,className:"absolute right-4 p-2 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Fechar sidebar",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx("div",{className:"px-4 mb-6",children:e.jsxs("button",{onClick:()=>o(pi),className:`w-full flex items-start gap-3 px-6 py-3 text-left transition-all duration-200 group ${l(pi.path)?"bg-blue-50 border-l-4 border-blue-600 text-blue-700":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent hover:border-gray-300"} cursor-pointer`,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${l(pi.path)?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:pi.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"block font-medium leading-tight",children:pi.label}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:pi.description})]})]})}),e.jsx("div",{className:"px-4 mb-4",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Mdulos do Sistema"})}),mL.map((c,u)=>e.jsxs("button",{onClick:()=>o(c),className:`w-full flex items-start gap-3 px-6 py-3 text-left transition-all duration-200 group ${i(c.path)?"bg-blue-50 border-l-4 border-blue-600 text-blue-700":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent hover:border-gray-300"} ${c.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,disabled:c.disabled,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i(c.path)?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:c.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`block font-medium leading-tight ${c.disabled?"text-gray-400":""}`,children:c.label}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:c.description})]}),c.disabled&&e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0 mt-0.5",children:"Em breve"})]},c.label))]}),(n==null?void 0:n.gerencia)==="Comisso de Implantao"&&e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Acesso Rpido"})}),e.jsxs("button",{onClick:()=>o({label:"Administrao",icon:e.jsx(Ca,{className:"w-4 h-4"}),path:"/administracao",description:"Painel de administrao"}),className:`w-full flex items-start gap-3 px-4 py-3 text-left transition-all duration-200 group rounded-lg ${i("/administracao")?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 border border-transparent hover:border-gray-200"} cursor-pointer`,tabIndex:0,children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i("/administracao")?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`,children:e.jsx(Ca,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"block font-medium text-sm leading-tight",children:"Administrao"}),e.jsx("span",{className:"block text-xs text-gray-500 truncate leading-tight",children:"Painel de administrao"})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.jsx("p",{children:"Fiscatus v1.0.0"}),e.jsx("p",{className:"mt-1",children:"Gesto inteligente e integrada para contrataes pblicas."})]})})]})]})}const KE=[{id:"1",type:"mention",title:"Voc foi mencionado",description:"Yasmin Pissolati Mattos Bretz mencionou voc em um comentrio.",timestamp:"h 30 minutos",isRead:!1,link:"/processo/1#comentario-123",icon:e.jsx(Fl,{className:"w-4 h-4"})},{id:"2",type:"signature",title:"Assinatura solicitada",description:"DFD 010/2025 est aguardando sua assinatura",timestamp:"h 2 horas",isRead:!1,link:"/processos/10",icon:e.jsx(ar,{className:"w-4 h-4"})},{id:"3",type:"process",title:"Processo atualizado",description:"ETP 011/2025 foi movido para 'Em andamento'",timestamp:"h 5 horas",isRead:!1,link:"/processos/11",icon:e.jsx($e,{className:"w-4 h-4"})},{id:"3",type:"warning",title:"Prazo prximo",description:"TR 012/2025 vence em 2 dias",timestamp:"ontem",isRead:!0,link:"/processos/12",icon:e.jsx(xt,{className:"w-4 h-4"})},{id:"4",type:"success",title:"Processo concludo",description:"DFD 013/2025 foi finalizado com sucesso",timestamp:"2 dias atrs",isRead:!0,link:"/processos/13",icon:e.jsx(Re,{className:"w-4 h-4"})},{id:"5",type:"info",title:"Nova atribuio",description:"Voc foi designado para analisar ETP 014/2025",timestamp:"3 dias atrs",isRead:!0,link:"/processos/14",icon:e.jsx(Fe,{className:"w-4 h-4"})}];function XE({isOpen:t,onClose:s}){const[a,r]=m.useState(KE),[n,o]=m.useState(!1),i=m.useRef(null),l=fs(),c=a.filter(h=>!h.isRead).length;m.useEffect(()=>{const h=x=>{i.current&&!i.current.contains(x.target)&&s()};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t,s]),m.useEffect(()=>{const h=x=>{x.key==="Escape"&&s()};return t&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t,s]);const u=h=>{r(x=>x.map(f=>f.id===h.id?{...f,isRead:!0}:f)),l(h.link),s()},d=h=>{switch(h){case"signature":return e.jsx(ar,{className:"w-4 h-4 text-blue-500"});case"process":return e.jsx($e,{className:"w-4 h-4 text-green-500"});case"warning":return e.jsx(xt,{className:"w-4 h-4 text-orange-500"});case"success":return e.jsx(Re,{className:"w-4 h-4 text-green-600"});case"info":return e.jsx(Fe,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ro,{className:"w-4 h-4 text-gray-500"})}};return t?e.jsx("div",{className:"absolute right-0 mt-2 w-[320px] rounded-lg shadow-xl bg-white border border-gray-200 z-50",children:e.jsxs("div",{ref:i,className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notificaes"}),c>0&&e.jsx(oe,{variant:"destructive",className:"text-xs px-2 py-0.5",children:c})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:s,className:"h-6 w-6 p-0 hover:bg-gray-100",children:e.jsx(Yt,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n?e.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full mt-1"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]})]},h))}):a.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(ro,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Voc no possui novas notificaes."}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Acesse a pgina de notificaes para ver o histrico completo."}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{l("/notificacoes"),s()},className:"text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200",children:["Acessar notificaes",e.jsx(Fs,{className:"w-3 h-3 ml-1"})]})]}):e.jsx("div",{className:"p-0",children:a.slice(0,5).map((h,x)=>e.jsx("div",{children:e.jsx("button",{onClick:()=>u(h),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${h.isRead?"":"bg-blue-50"} ${x!==a.length-1?"border-b border-gray-100":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${h.isRead?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d(h.type),e.jsx("p",{className:`text-sm ${h.isRead?"text-gray-700":"text-gray-900 font-semibold"}`,children:h.title})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:h.description}),e.jsx("p",{className:"text-xs text-gray-400",children:h.timestamp})]})]})})},h.id))})}),e.jsx("div",{className:"p-3 border-t border-gray-100",children:e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>{l("/notificacoes"),s()},className:"w-full text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[a.length>0?"Ver todas as notificaes":"Acessar pgina de notificaes",e.jsx(Fs,{className:"w-3 h-3 ml-1"})]})})]})}):null}function xL({onClick:t,onDoubleClick:s}){const a=KE.filter(r=>!r.isRead).length;return e.jsx("div",{className:"relative",children:e.jsxs(C,{variant:"ghost",size:"sm",onClick:t,onDoubleClick:s,className:"relative p-2 hover:bg-gray-100 rounded-full",title:a>0?`${a} notificao${a!==1?"s":""} no lida${a!==1?"s":""} (clique duplo para ir  pgina)`:"Ver notificaes (clique duplo para ir  pgina)",children:[e.jsx(ro,{className:"w-5 h-5 text-gray-600"}),a>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:a>9?"9+":a})]})})}function fL(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...v}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,pL(n,...s)]}function pL(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Xg=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(vL);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Jg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Jg,{...r,ref:s,children:a})});Xg.displayName="Slot";var Jg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=jL(a);return m.cloneElement(a,{...bL(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Jg.displayName="SlotClone";var gL=({children:t})=>e.jsx(e.Fragment,{children:t});function vL(t){return m.isValidElement(t)&&t.type===gL}function bL(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function jL(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Ul(t){const s=t+"CollectionProvider",[a,r]=fL(s),[n,o]=a(s,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:v,children:p}=f,y=Z.useRef(null),g=Z.useRef(new Map).current;return e.jsx(n,{scope:v,itemMap:g,collectionRef:y,children:p})};i.displayName=s;const l=t+"CollectionSlot",c=Z.forwardRef((f,v)=>{const{scope:p,children:y}=f,g=o(l,p),b=rt(v,g.collectionRef);return e.jsx(Xg,{ref:b,children:y})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Z.forwardRef((f,v)=>{const{scope:p,children:y,...g}=f,b=Z.useRef(null),j=rt(v,b),N=o(u,p);return Z.useEffect(()=>(N.itemMap.set(b,{ref:b,...g}),()=>void N.itemMap.delete(b))),e.jsx(Xg,{[d]:"",ref:j,children:y})});h.displayName=u;function x(f){const v=o(t+"CollectionConsumer",f);return Z.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((N,w)=>g.indexOf(N.ref.current)-g.indexOf(w.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},x,r]}var yL=m.createContext(void 0);function wo(t){const s=m.useContext(yL);return t||s||"ltr"}var Xf=0;function Nx(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iw()),document.body.insertAdjacentElement("beforeend",t[1]??iw()),Xf++,()=>{Xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Xf--}},[])}function iw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",lw={bubbles:!1,cancelable:!0},NL="FocusScope",Wd=m.forwardRef((t,s)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...i}=t,[l,c]=m.useState(null),u=as(n),d=as(o),h=m.useRef(null),x=rt(s,p=>c(p)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(j){if(f.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:kn(h.current,{select:!0})},y=function(j){if(f.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||kn(h.current,{select:!0}))},g=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&kn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,f.paused]),m.useEffect(()=>{if(l){dw.add(f);const p=document.activeElement;if(!l.contains(p)){const g=new CustomEvent(Jf,lw);l.addEventListener(Jf,u),l.dispatchEvent(g),g.defaultPrevented||(wL(AL(JE(l)),{select:!0}),document.activeElement===p&&kn(l))}return()=>{l.removeEventListener(Jf,u),setTimeout(()=>{const g=new CustomEvent(Qf,lw);l.addEventListener(Qf,d),l.dispatchEvent(g),g.defaultPrevented||kn(p??document.body,{select:!0}),l.removeEventListener(Qf,d),dw.remove(f)},0)}}},[l,u,d,f]);const v=m.useCallback(p=>{if(!a&&!r||f.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(y&&g){const b=p.currentTarget,[j,N]=CL(b);j&&N?!p.shiftKey&&g===N?(p.preventDefault(),a&&kn(j,{select:!0})):p.shiftKey&&g===j&&(p.preventDefault(),a&&kn(N,{select:!0})):g===b&&p.preventDefault()}},[a,r,f.paused]);return e.jsx(Ge.div,{tabIndex:-1,...i,ref:x,onKeyDown:v})});Wd.displayName=NL;function wL(t,{select:s=!1}={}){const a=document.activeElement;for(const r of t)if(kn(r,{select:s}),document.activeElement!==a)return}function CL(t){const s=JE(t),a=cw(s,t),r=cw(s.reverse(),t);return[a,r]}function JE(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function cw(t,s){for(const a of t)if(!SL(a,{upTo:s}))return a}function SL(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EL(t){return t instanceof HTMLInputElement&&"select"in t}function kn(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&EL(t)&&s&&t.select()}}var dw=PL();function PL(){let t=[];return{add(s){const a=t[0];s!==a&&(a==null||a.pause()),t=uw(t,s),t.unshift(s)},remove(s){var a;t=uw(t,s),(a=t[0])==null||a.resume()}}}function uw(t,s){const a=[...t],r=a.indexOf(s);return r!==-1&&a.splice(r,1),a}function AL(t){return t.filter(s=>s.tagName!=="A")}function DL(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...v}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,kL(n,...s)]}function kL(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Zf="rovingFocusGroup.onEntryFocus",TL={bubbles:!1,cancelable:!0},wx="RovingFocusGroup",[Qg,QE,RL]=Ul(wx),[ML,Co]=DL(wx,[RL]),[IL,OL]=ML(wx),ZE=m.forwardRef((t,s)=>e.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(zL,{...t,ref:s})})}));ZE.displayName=wx;var zL=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,x=m.useRef(null),f=rt(s,x),v=wo(o),[p=null,y]=Qs({prop:i,defaultProp:l,onChange:c}),[g,b]=m.useState(!1),j=as(u),N=QE(a),w=m.useRef(!1),[E,D]=m.useState(0);return m.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(Zf,j),()=>P.removeEventListener(Zf,j)},[j]),e.jsx(IL,{scope:a,orientation:r,dir:v,loop:n,currentTabStopId:p,onItemFocus:m.useCallback(P=>y(P),[y]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>D(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>D(P=>P-1),[]),children:e.jsx(Ge.div,{tabIndex:g||E===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{w.current=!0}),onFocus:Ee(t.onFocus,P=>{const _=!w.current;if(P.target===P.currentTarget&&_&&!g){const M=new CustomEvent(Zf,TL);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const k=N().filter(z=>z.focusable),$=k.find(z=>z.active),H=k.find(z=>z.id===p),K=[$,H,...k].filter(Boolean).map(z=>z.ref.current);sP(K,d)}}w.current=!1}),onBlur:Ee(t.onBlur,()=>b(!1))})})}),eP="RovingFocusGroupItem",tP=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:o,...i}=t,l=oa(),c=o||l,u=OL(eP,a),d=u.currentTabStopId===c,h=QE(a),{onFocusableItemAdd:x,onFocusableItemRemove:f}=u;return m.useEffect(()=>{if(r)return x(),()=>f()},[r,x,f]),e.jsx(Qg.ItemSlot,{scope:a,id:c,focusable:r,active:n,children:e.jsx(Ge.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:s,onMouseDown:Ee(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Ee(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ee(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=LL(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")g.reverse();else if(p==="prev"||p==="next"){p==="prev"&&g.reverse();const b=g.indexOf(v.currentTarget);g=u.loop?$L(g,b+1):g.slice(b+1)}setTimeout(()=>sP(g))}})})})});tP.displayName=eP;var FL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _L(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LL(t,s,a){const r=_L(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FL[r]}function sP(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function $L(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Cx=ZE,Sx=tP,aP=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(GL);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(Zg,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(Zg,{...r,ref:s,children:a})});aP.displayName="Slot";var Zg=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=UL(a);return m.cloneElement(a,{...BL(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});Zg.displayName="SlotClone";var VL=({children:t})=>e.jsx(e.Fragment,{children:t});function GL(t){return m.isValidElement(t)&&t.type===VL}function BL(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function UL(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var HL=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},gi=new WeakMap,_u=new WeakMap,Lu={},ep=0,rP=function(t){return t&&(t.host||rP(t.parentNode))},WL=function(t,s){return s.map(function(a){if(t.contains(a))return a;var r=rP(a);return r&&t.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},qL=function(t,s,a,r){var n=WL(s,Array.isArray(t)?t:[t]);Lu[a]||(Lu[a]=new WeakMap);var o=Lu[a],i=[],l=new Set,c=new Set(n),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};n.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(x){if(l.has(x))d(x);else try{var f=x.getAttribute(r),v=f!==null&&f!=="false",p=(gi.get(x)||0)+1,y=(o.get(x)||0)+1;gi.set(x,p),o.set(x,y),i.push(x),p===1&&v&&_u.set(x,!0),y===1&&x.setAttribute(a,"true"),v||x.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",x,g)}})};return d(s),l.clear(),ep++,function(){i.forEach(function(h){var x=gi.get(h)-1,f=o.get(h)-1;gi.set(h,x),o.set(h,f),x||(_u.has(h)||h.removeAttribute(r),_u.delete(h)),f||h.removeAttribute(a)}),ep--,ep||(gi=new WeakMap,gi=new WeakMap,_u=new WeakMap,Lu={})}},Ex=function(t,s,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=HL(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),qL(r,n,a,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_r.apply(this,arguments)};function nP(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function YL(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}var vm="right-scroll-bar-position",bm="width-before-scroll-bar",KL="with-scroll-bars-hidden",XL="--removed-body-scroll-bar-size";function tp(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function JL(t,s){var a=m.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(r){var n=a.value;n!==r&&(a.value=r,a.callback(r,n))}}}})[0];return a.callback=s,a.facade}var QL=typeof window<"u"?m.useLayoutEffect:m.useEffect,mw=new WeakMap;function ZL(t,s){var a=JL(null,function(r){return t.forEach(function(n){return tp(n,r)})});return QL(function(){var r=mw.get(a);if(r){var n=new Set(r),o=new Set(t),i=a.current;n.forEach(function(l){o.has(l)||tp(l,null)}),o.forEach(function(l){n.has(l)||tp(l,i)})}mw.set(a,t)},[t]),a}function e7(t){return t}function t7(t,s){s===void 0&&(s=e7);var a=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(o){var i=s(o,r);return a.push(i),function(){a=a.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;a.length;){var i=a;a=[],i.forEach(o)}a={push:function(l){return o(l)},filter:function(){return a}}},assignMedium:function(o){r=!0;var i=[];if(a.length){var l=a;a=[],l.forEach(o),i=a}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),a={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),a}}}};return n}function s7(t){t===void 0&&(t={});var s=t7(null);return s.options=_r({async:!0,ssr:!1},t),s}var oP=function(t){var s=t.sideCar,a=nP(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,_r({},a))};oP.isSideCarExport=!0;function a7(t,s){return t.useMedium(s),oP}var iP=s7(),sp=function(){},Px=m.forwardRef(function(t,s){var a=m.useRef(null),r=m.useState({onScrollCapture:sp,onWheelCapture:sp,onTouchMoveCapture:sp}),n=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,x=t.sideCar,f=t.noIsolation,v=t.inert,p=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,b=t.gapMode,j=nP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=x,w=ZL([a,s]),E=_r(_r({},j),n);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:iP,removeScrollBar:u,shards:h,noIsolation:f,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:a,gapMode:b}),i?m.cloneElement(m.Children.only(l),_r(_r({},E),{ref:w})):m.createElement(g,_r({},E,{className:c,ref:w}),l))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:bm,zeroRight:vm};var r7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=r7();return s&&t.setAttribute("nonce",s),t}function o7(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function i7(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var l7=function(){var t=0,s=null;return{add:function(a){t==0&&(s=n7())&&(o7(s,a),i7(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},c7=function(){var t=l7();return function(s,a){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},lP=function(){var t=c7(),s=function(a){var r=a.styles,n=a.dynamic;return t(r,n),null};return s},d7={left:0,top:0,right:0,gap:0},ap=function(t){return parseInt(t||"",10)||0},u7=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[ap(a),ap(r),ap(n)]},m7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d7;var s=u7(t),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-a+s[2]-s[0])}},h7=lP(),Qi="data-scroll-locked",x7=function(t,s,a,r){var n=t.left,o=t.top,i=t.right,l=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(KL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Qi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bm," .").concat(bm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qi,`] {
    `).concat(XL,": ").concat(l,`px;
  }
`)},hw=function(){var t=parseInt(document.body.getAttribute(Qi)||"0",10);return isFinite(t)?t:0},f7=function(){m.useEffect(function(){return document.body.setAttribute(Qi,(hw()+1).toString()),function(){var t=hw()-1;t<=0?document.body.removeAttribute(Qi):document.body.setAttribute(Qi,t.toString())}},[])},p7=function(t){var s=t.noRelative,a=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;f7();var o=m.useMemo(function(){return m7(n)},[n]);return m.createElement(h7,{styles:x7(o,!s,n,a?"":"!important")})},e0=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return e0=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{e0=!1}var vi=e0?{passive:!1}:!1,g7=function(t){return t.tagName==="TEXTAREA"},cP=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!g7(t)&&a[s]==="visible")},v7=function(t){return cP(t,"overflowY")},b7=function(t){return cP(t,"overflowX")},xw=function(t,s){var a=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=dP(t,r);if(n){var o=uP(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},j7=function(t){var s=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;return[s,a,r]},y7=function(t){var s=t.scrollLeft,a=t.scrollWidth,r=t.clientWidth;return[s,a,r]},dP=function(t,s){return t==="v"?v7(s):b7(s)},uP=function(t,s){return t==="v"?j7(s):y7(s)},N7=function(t,s){return t==="h"&&s==="rtl"?-1:1},w7=function(t,s,a,r,n){var o=N7(t,window.getComputedStyle(s).direction),i=o*r,l=a.target,c=s.contains(l),u=!1,d=i>0,h=0,x=0;do{var f=uP(t,l),v=f[0],p=f[1],y=f[2],g=p-y-o*v;(v||g)&&dP(t,l)&&(h+=g,x+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(d&&(Math.abs(h)<1||!n)||!d&&(Math.abs(x)<1||!n))&&(u=!0),u},Vu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fw=function(t){return[t.deltaX,t.deltaY]},pw=function(t){return t&&"current"in t?t.current:t},C7=function(t,s){return t[0]===s[0]&&t[1]===s[1]},S7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E7=0,bi=[];function P7(t){var s=m.useRef([]),a=m.useRef([0,0]),r=m.useRef(),n=m.useState(E7++)[0],o=m.useState(lP)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var p=YL([t.lockRef.current],(t.shards||[]).map(pw),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var g=Vu(p),b=a.current,j="deltaX"in p?p.deltaX:b[0]-g[0],N="deltaY"in p?p.deltaY:b[1]-g[1],w,E=p.target,D=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&D==="h"&&E.type==="range")return!1;var P=xw(D,E);if(!P)return!0;if(P?w=D:(w=D==="v"?"h":"v",P=xw(D,E)),!P)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=w),!w)return!0;var _=r.current||w;return w7(_,y,p,_==="h"?j:N,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!bi.length||bi[bi.length-1]!==o)){var g="deltaY"in y?fw(y):Vu(y),b=s.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&C7(w.delta,g)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(i.current.shards||[]).map(pw).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=j.length>0?l(y,j[0]):!i.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,g,b){var j={name:p,delta:y,target:g,should:b,shadowParent:A7(g)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(N){return N!==j})},1)},[]),d=m.useCallback(function(p){a.current=Vu(p),r.current=void 0},[]),h=m.useCallback(function(p){u(p.type,fw(p),p.target,l(p,t.lockRef.current))},[]),x=m.useCallback(function(p){u(p.type,Vu(p),p.target,l(p,t.lockRef.current))},[]);m.useEffect(function(){return bi.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",c,vi),document.addEventListener("touchmove",c,vi),document.addEventListener("touchstart",d,vi),function(){bi=bi.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,vi),document.removeEventListener("touchmove",c,vi),document.removeEventListener("touchstart",d,vi)}},[]);var f=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:S7(n)}):null,f?m.createElement(p7,{gapMode:t.gapMode}):null)}function A7(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const D7=a7(iP,P7);var qd=m.forwardRef(function(t,s){return m.createElement(Px,_r({},t,{ref:s,sideCar:D7}))});qd.classNames=Px.classNames;var t0=["Enter"," "],k7=["ArrowDown","PageUp","Home"],mP=["ArrowUp","PageDown","End"],T7=[...k7,...mP],R7={ltr:[...t0,"ArrowRight"],rtl:[...t0,"ArrowLeft"]},M7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yd="Menu",[yd,I7,O7]=Ul(Yd),[hi,vb]=ua(Yd,[O7,No,Co]),Ax=No(),hP=Co(),[z7,xi]=hi(Yd),[F7,Kd]=hi(Yd),xP=t=>{const{__scopeMenu:s,open:a=!1,children:r,dir:n,onOpenChange:o,modal:i=!0}=t,l=Ax(s),[c,u]=m.useState(null),d=m.useRef(!1),h=as(o),x=wo(n);return m.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(fx,{...l,children:e.jsx(z7,{scope:s,open:a,onOpenChange:h,content:c,onContentChange:u,children:e.jsx(F7,{scope:s,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:x,modal:i,children:r})})})};xP.displayName=Yd;var _7="MenuAnchor",bb=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Ax(a);return e.jsx(Ud,{...n,...r,ref:s})});bb.displayName=_7;var jb="MenuPortal",[L7,fP]=hi(jb,{forceMount:void 0}),pP=t=>{const{__scopeMenu:s,forceMount:a,children:r,container:n}=t,o=xi(jb,s);return e.jsx(L7,{scope:s,forceMount:a,children:e.jsx(Ms,{present:a||o.open,children:e.jsx(Bl,{asChild:!0,container:n,children:r})})})};pP.displayName=jb;var Ja="MenuContent",[$7,yb]=hi(Ja),gP=m.forwardRef((t,s)=>{const a=fP(Ja,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=xi(Ja,t.__scopeMenu),i=Kd(Ja,t.__scopeMenu);return e.jsx(yd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ms,{present:r||o.open,children:e.jsx(yd.Slot,{scope:t.__scopeMenu,children:i.modal?e.jsx(V7,{...n,ref:s}):e.jsx(G7,{...n,ref:s})})})})}),V7=m.forwardRef((t,s)=>{const a=xi(Ja,t.__scopeMenu),r=m.useRef(null),n=rt(s,r);return m.useEffect(()=>{const o=r.current;if(o)return Ex(o)},[]),e.jsx(Nb,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),G7=m.forwardRef((t,s)=>{const a=xi(Ja,t.__scopeMenu);return e.jsx(Nb,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),Nb=m.forwardRef((t,s)=>{const{__scopeMenu:a,loop:r=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:x,onDismiss:f,disableOutsideScroll:v,...p}=t,y=xi(Ja,a),g=Kd(Ja,a),b=Ax(a),j=hP(a),N=I7(a),[w,E]=m.useState(null),D=m.useRef(null),P=rt(s,D,y.onContentChange),_=m.useRef(0),M=m.useRef(""),k=m.useRef(0),$=m.useRef(null),H=m.useRef("right"),Y=m.useRef(0),K=v?qd:m.Fragment,z=v?{as:aP,allowPinchZoom:!0}:void 0,O=L=>{var ae,ve;const U=M.current+L,J=N().filter(xe=>!xe.disabled),re=document.activeElement,le=(ae=J.find(xe=>xe.ref.current===re))==null?void 0:ae.textValue,Ne=J.map(xe=>xe.textValue),ke=e$(Ne,U,le),he=(ve=J.find(xe=>xe.textValue===ke))==null?void 0:ve.ref.current;(function xe(ne){M.current=ne,window.clearTimeout(_.current),ne!==""&&(_.current=window.setTimeout(()=>xe(""),1e3))})(U),he&&setTimeout(()=>he.focus())};m.useEffect(()=>()=>window.clearTimeout(_.current),[]),Nx();const S=m.useCallback(L=>{var J,re;return H.current===((J=$.current)==null?void 0:J.side)&&s$(L,(re=$.current)==null?void 0:re.area)},[]);return e.jsx($7,{scope:a,searchRef:M,onItemEnter:m.useCallback(L=>{S(L)&&L.preventDefault()},[S]),onItemLeave:m.useCallback(L=>{var U;S(L)||((U=D.current)==null||U.focus(),E(null))},[S]),onTriggerLeave:m.useCallback(L=>{S(L)&&L.preventDefault()},[S]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(L=>{$.current=L},[]),children:e.jsx(K,{...z,children:e.jsx(Wd,{asChild:!0,trapped:n,onMountAutoFocus:Ee(o,L=>{var U;L.preventDefault(),(U=D.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(mi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:x,onDismiss:f,children:e.jsx(Cx,{asChild:!0,...j,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:E,onEntryFocus:Ee(c,L=>{g.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(px,{role:"menu","aria-orientation":"vertical","data-state":MP(y.open),"data-radix-menu-content":"",dir:g.dir,...b,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,L=>{const J=L.target.closest("[data-radix-menu-content]")===L.currentTarget,re=L.ctrlKey||L.altKey||L.metaKey,le=L.key.length===1;J&&(L.key==="Tab"&&L.preventDefault(),!re&&le&&O(L.key));const Ne=D.current;if(L.target!==Ne||!T7.includes(L.key))return;L.preventDefault();const he=N().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);mP.includes(L.key)&&he.reverse(),Q7(he)}),onBlur:Ee(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(_.current),M.current="")}),onPointerMove:Ee(t.onPointerMove,Nd(L=>{const U=L.target,J=Y.current!==L.clientX;if(L.currentTarget.contains(U)&&J){const re=L.clientX>Y.current?"right":"left";H.current=re,Y.current=L.clientX}}))})})})})})})});gP.displayName=Ja;var B7="MenuGroup",wb=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ge.div,{role:"group",...r,ref:s})});wb.displayName=B7;var U7="MenuLabel",vP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ge.div,{...r,ref:s})});vP.displayName=U7;var mh="MenuItem",gw="menu.itemSelect",Dx=m.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:r,...n}=t,o=m.useRef(null),i=Kd(mh,t.__scopeMenu),l=yb(mh,t.__scopeMenu),c=rt(s,o),u=m.useRef(!1),d=()=>{const h=o.current;if(!a&&h){const x=new CustomEvent(gw,{bubbles:!0,cancelable:!0});h.addEventListener(gw,f=>r==null?void 0:r(f),{once:!0}),rb(h,x),x.defaultPrevented?u.current=!1:i.onClose()}};return e.jsx(bP,{...n,ref:c,disabled:a,onClick:Ee(t.onClick,d),onPointerDown:h=>{var x;(x=t.onPointerDown)==null||x.call(t,h),u.current=!0},onPointerUp:Ee(t.onPointerUp,h=>{var x;u.current||(x=h.currentTarget)==null||x.click()}),onKeyDown:Ee(t.onKeyDown,h=>{const x=l.searchRef.current!=="";a||x&&h.key===" "||t0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Dx.displayName=mh;var bP=m.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:r=!1,textValue:n,...o}=t,i=yb(mh,a),l=hP(a),c=m.useRef(null),u=rt(s,c),[d,h]=m.useState(!1),[x,f]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[o.children]),e.jsx(yd.ItemSlot,{scope:a,disabled:r,textValue:n??x,children:e.jsx(Sx,{asChild:!0,...l,focusable:!r,children:e.jsx(Ge.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:Ee(t.onPointerMove,Nd(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Nd(v=>i.onItemLeave(v))),onFocus:Ee(t.onFocus,()=>h(!0)),onBlur:Ee(t.onBlur,()=>h(!1))})})})}),H7="MenuCheckboxItem",jP=m.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:r,...n}=t;return e.jsx(SP,{scope:t.__scopeMenu,checked:a,children:e.jsx(Dx,{role:"menuitemcheckbox","aria-checked":hh(a)?"mixed":a,...n,ref:s,"data-state":Sb(a),onSelect:Ee(n.onSelect,()=>r==null?void 0:r(hh(a)?!0:!a),{checkForDefaultPrevented:!1})})})});jP.displayName=H7;var yP="MenuRadioGroup",[W7,q7]=hi(yP,{value:void 0,onValueChange:()=>{}}),NP=m.forwardRef((t,s)=>{const{value:a,onValueChange:r,...n}=t,o=as(r);return e.jsx(W7,{scope:t.__scopeMenu,value:a,onValueChange:o,children:e.jsx(wb,{...n,ref:s})})});NP.displayName=yP;var wP="MenuRadioItem",CP=m.forwardRef((t,s)=>{const{value:a,...r}=t,n=q7(wP,t.__scopeMenu),o=a===n.value;return e.jsx(SP,{scope:t.__scopeMenu,checked:o,children:e.jsx(Dx,{role:"menuitemradio","aria-checked":o,...r,ref:s,"data-state":Sb(o),onSelect:Ee(r.onSelect,()=>{var i;return(i=n.onValueChange)==null?void 0:i.call(n,a)},{checkForDefaultPrevented:!1})})})});CP.displayName=wP;var Cb="MenuItemIndicator",[SP,Y7]=hi(Cb,{checked:!1}),EP=m.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:r,...n}=t,o=Y7(Cb,a);return e.jsx(Ms,{present:r||hh(o.checked)||o.checked===!0,children:e.jsx(Ge.span,{...n,ref:s,"data-state":Sb(o.checked)})})});EP.displayName=Cb;var K7="MenuSeparator",PP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});PP.displayName=K7;var X7="MenuArrow",AP=m.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Ax(a);return e.jsx(gx,{...n,...r,ref:s})});AP.displayName=X7;var J7="MenuSub",[cae,DP]=hi(J7),wc="MenuSubTrigger",kP=m.forwardRef((t,s)=>{const a=xi(wc,t.__scopeMenu),r=Kd(wc,t.__scopeMenu),n=DP(wc,t.__scopeMenu),o=yb(wc,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),e.jsx(bb,{asChild:!0,...u,children:e.jsx(bP,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":n.contentId,"data-state":MP(a.open),...t,ref:Pr(s,n.onTriggerChange),onClick:h=>{var x;(x=t.onClick)==null||x.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Nd(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!a.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{a.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(t.onPointerLeave,Nd(h=>{var f,v;d();const x=(f=a.content)==null?void 0:f.getBoundingClientRect();if(x){const p=(v=a.content)==null?void 0:v.dataset.side,y=p==="right",g=y?-5:5,b=x[y?"left":"right"],j=x[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:b,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:b,y:x.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,h=>{var f;const x=o.searchRef.current!=="";t.disabled||x&&h.key===" "||R7[r.dir].includes(h.key)&&(a.onOpenChange(!0),(f=a.content)==null||f.focus(),h.preventDefault())})})})});kP.displayName=wc;var TP="MenuSubContent",RP=m.forwardRef((t,s)=>{const a=fP(Ja,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=xi(Ja,t.__scopeMenu),i=Kd(Ja,t.__scopeMenu),l=DP(TP,t.__scopeMenu),c=m.useRef(null),u=rt(s,c);return e.jsx(yd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ms,{present:r||o.open,children:e.jsx(yd.Slot,{scope:t.__scopeMenu,children:e.jsx(Nb,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),x=M7[i.dir].includes(d.key);h&&x&&(o.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});RP.displayName=TP;function MP(t){return t?"open":"closed"}function hh(t){return t==="indeterminate"}function Sb(t){return hh(t)?"indeterminate":t?"checked":"unchecked"}function Q7(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function Z7(t,s){return t.map((a,r)=>t[(s+r)%t.length])}function e$(t,s,a){const n=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let i=Z7(t,Math.max(o,0));n.length===1&&(i=i.filter(u=>u!==a));const c=i.find(u=>u.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}function t$(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o].x,c=s[o].y,u=s[i].x,d=s[i].y;c>r!=d>r&&a<(u-l)*(r-c)/(d-c)+l&&(n=!n)}return n}function s$(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return t$(a,s)}function Nd(t){return s=>s.pointerType==="mouse"?t(s):void 0}var IP=xP,OP=bb,zP=pP,FP=gP,_P=wb,LP=vP,$P=Dx,VP=jP,GP=NP,BP=CP,UP=EP,HP=PP,WP=AP,qP=kP,YP=RP,kx="Menubar",[s0,a$,r$]=Ul(kx),[KP,dae]=ua(kx,[r$,Co]),ma=vb(),XP=Co(),[n$,Eb]=KP(kx),JP=m.forwardRef((t,s)=>{const{__scopeMenubar:a,value:r,onValueChange:n,defaultValue:o,loop:i=!0,dir:l,...c}=t,u=wo(l),d=XP(a),[h="",x]=Qs({prop:r,onChange:n,defaultProp:o}),[f,v]=m.useState(null);return e.jsx(n$,{scope:a,value:h,onMenuOpen:m.useCallback(p=>{x(p),v(p)},[x]),onMenuClose:m.useCallback(()=>x(""),[x]),onMenuToggle:m.useCallback(p=>{x(y=>y?"":p),v(p)},[x]),dir:u,loop:i,children:e.jsx(s0.Provider,{scope:a,children:e.jsx(s0.Slot,{scope:a,children:e.jsx(Cx,{asChild:!0,...d,orientation:"horizontal",loop:i,dir:u,currentTabStopId:f,onCurrentTabStopIdChange:v,children:e.jsx(Ge.div,{role:"menubar",...c,ref:s})})})})})});JP.displayName=kx;var Pb="MenubarMenu",[o$,QP]=KP(Pb),ZP=t=>{const{__scopeMenubar:s,value:a,...r}=t,n=oa(),o=a||n||"LEGACY_REACT_AUTO_VALUE",i=Eb(Pb,s),l=ma(s),c=m.useRef(null),u=m.useRef(!1),d=i.value===o;return m.useEffect(()=>{d||(u.current=!1)},[d]),e.jsx(o$,{scope:s,value:o,triggerId:oa(),triggerRef:c,contentId:oa(),wasKeyboardTriggerOpenRef:u,children:e.jsx(IP,{...l,open:d,onOpenChange:h=>{h||i.onMenuClose()},modal:!1,dir:i.dir,...r})})};ZP.displayName=Pb;var a0="MenubarTrigger",eA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,disabled:r=!1,...n}=t,o=XP(a),i=ma(a),l=Eb(a0,a),c=QP(a0,a),u=m.useRef(null),d=rt(s,u,c.triggerRef),[h,x]=m.useState(!1),f=l.value===c.value;return e.jsx(s0.ItemSlot,{scope:a,value:c.value,disabled:r,children:e.jsx(Sx,{asChild:!0,...o,focusable:!r,tabStopId:c.value,children:e.jsx(OP,{asChild:!0,...i,children:e.jsx(Ge.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?c.contentId:void 0,"data-highlighted":h?"":void 0,"data-state":f?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:d,onPointerDown:Ee(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(l.onMenuOpen(c.value),f||v.preventDefault())}),onPointerEnter:Ee(t.onPointerEnter,()=>{var p;!!l.value&&!f&&(l.onMenuOpen(c.value),(p=u.current)==null||p.focus())}),onKeyDown:Ee(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&l.onMenuToggle(c.value),v.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(v.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Ee(t.onFocus,()=>x(!0)),onBlur:Ee(t.onBlur,()=>x(!1))})})})})});eA.displayName=a0;var i$="MenubarPortal",tA=t=>{const{__scopeMenubar:s,...a}=t,r=ma(s);return e.jsx(zP,{...r,...a})};tA.displayName=i$;var r0="MenubarContent",sA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,align:r="start",...n}=t,o=ma(a),i=Eb(r0,a),l=QP(r0,a),c=a$(a),u=m.useRef(!1);return e.jsx(FP,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...o,...n,ref:s,align:r,onCloseAutoFocus:Ee(t.onCloseAutoFocus,d=>{var x;!!!i.value&&!u.current&&((x=l.triggerRef.current)==null||x.focus()),u.current=!1,d.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,d=>{const h=d.target;c().some(f=>{var v;return(v=f.ref.current)==null?void 0:v.contains(h)})&&d.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,()=>{u.current=!0}),onEntryFocus:d=>{l.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:Ee(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const h=d.target,x=h.hasAttribute("data-radix-menubar-subtrigger"),f=h.closest("[data-radix-menubar-content]")!==d.currentTarget,p=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!p&&x||f&&p)return;let b=c().filter(w=>!w.disabled).map(w=>w.value);p&&b.reverse();const j=b.indexOf(l.value);b=i.loop?N$(b,j+1):b.slice(j+1);const[N]=b;N&&i.onMenuOpen(N)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});sA.displayName=r0;var l$="MenubarGroup",c$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(_P,{...n,...r,ref:s})});c$.displayName=l$;var d$="MenubarLabel",aA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(LP,{...n,...r,ref:s})});aA.displayName=d$;var u$="MenubarItem",rA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx($P,{...n,...r,ref:s})});rA.displayName=u$;var m$="MenubarCheckboxItem",nA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(VP,{...n,...r,ref:s})});nA.displayName=m$;var h$="MenubarRadioGroup",x$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(GP,{...n,...r,ref:s})});x$.displayName=h$;var f$="MenubarRadioItem",oA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(BP,{...n,...r,ref:s})});oA.displayName=f$;var p$="MenubarItemIndicator",iA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(UP,{...n,...r,ref:s})});iA.displayName=p$;var g$="MenubarSeparator",lA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(HP,{...n,...r,ref:s})});lA.displayName=g$;var v$="MenubarArrow",b$=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(WP,{...n,...r,ref:s})});b$.displayName=v$;var j$="MenubarSubTrigger",cA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(qP,{"data-radix-menubar-subtrigger":"",...n,...r,ref:s})});cA.displayName=j$;var y$="MenubarSubContent",dA=m.forwardRef((t,s)=>{const{__scopeMenubar:a,...r}=t,n=ma(a);return e.jsx(YP,{...n,"data-radix-menubar-content":"",...r,ref:s,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});dA.displayName=y$;function N$(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var uA=JP,w$=ZP,mA=eA,C$=tA,hA=sA,xA=aA,fA=rA,pA=nA,gA=oA,vA=iA,bA=lA,jA=cA,yA=dA;const S$=w$,NA=m.forwardRef(({className:t,...s},a)=>e.jsx(uA,{ref:a,className:be("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...s}));NA.displayName=uA.displayName;const wA=m.forwardRef(({className:t,...s},a)=>e.jsx(mA,{ref:a,className:be("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...s}));wA.displayName=mA.displayName;const E$=m.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(jA,{ref:n,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",t),...r,children:[a,e.jsx(Fs,{className:"ml-auto h-4 w-4"})]}));E$.displayName=jA.displayName;const P$=m.forwardRef(({className:t,...s},a)=>e.jsx(yA,{ref:a,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));P$.displayName=yA.displayName;const CA=m.forwardRef(({className:t,align:s="start",alignOffset:a=-4,sideOffset:r=8,...n},o)=>e.jsx(C$,{children:e.jsx(hA,{ref:o,align:s,alignOffset:a,sideOffset:r,className:be("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));CA.displayName=hA.displayName;const SA=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(fA,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));SA.displayName=fA.displayName;const A$=m.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(pA,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vA,{children:e.jsx(_l,{className:"h-4 w-4"})})}),s]}));A$.displayName=pA.displayName;const D$=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(gA,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vA,{children:e.jsx(z4,{className:"h-2 w-2 fill-current"})})}),s]}));D$.displayName=gA.displayName;const k$=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(xA,{ref:r,className:be("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));k$.displayName=xA.displayName;const T$=m.forwardRef(({className:t,...s},a)=>e.jsx(bA,{ref:a,className:be("-mx-1 my-1 h-px bg-muted",t),...s}));T$.displayName=bA.displayName;const EA=[{id:"planejamento",label:"Planejamento da Contratao",color:"text-indigo-600",pages:[{id:"home",label:"Planejamento da Contratao",href:"/planejamento-da-contratacao",icon:tb,shortcut:"G,H"},{id:"meus-processos",label:"Meus Processos",href:"/processos",icon:$e,shortcut:"G,M"},{id:"proc-gerencia",label:"Processos da Gerncia",href:"/processos-gerencia",icon:qt,shortcut:"G,G"},{id:"minhas-assinaturas",label:"Minhas Assinaturas",href:"/assinaturas",icon:ar,shortcut:"G,A"},{id:"modelos-fluxo",label:"Modelos de Fluxo",href:"/modelos-de-fluxo",icon:zo,shortcut:"G,F"}]}];function R$(){const s=sr().pathname;return e.jsx("div",{className:"hidden md:block",children:e.jsx(NA,{className:"h-10 rounded-full border border-gray-200 bg-white/80 backdrop-blur px-1 py-0.5 shadow-xs hover:shadow-sm transition-shadow duration-200",children:EA.map(a=>e.jsxs(S$,{children:[e.jsxs(wA,{className:"rounded-full px-2.5 py-1 text-[13px] font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900 data-[state=open]:bg-gray-100 data-[state=open]:text-gray-900 transition-all duration-200 ease-in-out gap-1 group",children:[e.jsx("span",{className:a.color,children:a.label}),e.jsx(Ll,{className:"ml-1 h-4 w-4 text-gray-400 group-data-[state=open]:rotate-180 transition-transform duration-200 ease-in-out"})]}),e.jsx(CA,{align:"start",alignOffset:-2,sideOffset:6,className:"min-w-[14rem] p-1 py-1.5 text-sm",children:a.pages.map(r=>{const n=s===r.href||s.startsWith(`${r.href}/`),o=r.icon;return e.jsx(dd,{to:r.href,children:e.jsxs(SA,{className:be("cursor-pointer px-2 py-1.5 rounded-sm transition-colors duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100",n&&"bg-indigo-50 text-indigo-700 font-medium"),"aria-current":n?"page":void 0,children:[o?e.jsx(o,{className:"mr-2 h-4 w-4"}):null,r.label]})},r.id)})})]},a.id))})})}var PA=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(I$);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(n0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(n0,{...r,ref:s,children:a})});PA.displayName="Slot";var n0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=z$(a);return m.cloneElement(a,{...O$(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});n0.displayName="SlotClone";var M$=({children:t})=>e.jsx(e.Fragment,{children:t});function I$(t){return m.isValidElement(t)&&t.type===M$}function O$(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function z$(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Ab="Dialog",[AA,DA]=ua(Ab),[F$,Ar]=AA(Ab),kA=t=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:i=!0}=t,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(F$,{scope:s,triggerRef:l,contentRef:c,contentId:oa(),titleId:oa(),descriptionId:oa(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:i,children:a})};kA.displayName=Ab;var TA="DialogTrigger",RA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(TA,a),o=rt(s,n.triggerRef);return e.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Tb(n.open),...r,ref:o,onClick:Ee(t.onClick,n.onOpenToggle)})});RA.displayName=TA;var Db="DialogPortal",[_$,MA]=AA(Db,{forceMount:void 0}),IA=t=>{const{__scopeDialog:s,forceMount:a,children:r,container:n}=t,o=Ar(Db,s);return e.jsx(_$,{scope:s,forceMount:a,children:m.Children.map(r,i=>e.jsx(Ms,{present:a||o.open,children:e.jsx(Bl,{asChild:!0,container:n,children:i})}))})};IA.displayName=Db;var xh="DialogOverlay",OA=m.forwardRef((t,s)=>{const a=MA(xh,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=Ar(xh,t.__scopeDialog);return o.modal?e.jsx(Ms,{present:r||o.open,children:e.jsx(L$,{...n,ref:s})}):null});OA.displayName=xh;var L$=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(xh,a);return e.jsx(qd,{as:PA,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(Ge.div,{"data-state":Tb(n.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),oi="DialogContent",zA=m.forwardRef((t,s)=>{const a=MA(oi,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=Ar(oi,t.__scopeDialog);return e.jsx(Ms,{present:r||o.open,children:o.modal?e.jsx($$,{...n,ref:s}):e.jsx(V$,{...n,ref:s})})});zA.displayName=oi;var $$=m.forwardRef((t,s)=>{const a=Ar(oi,t.__scopeDialog),r=m.useRef(null),n=rt(s,a.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Ex(o)},[]),e.jsx(FA,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=a.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault())})}),V$=m.forwardRef((t,s)=>{const a=Ar(oi,t.__scopeDialog),r=m.useRef(!1),n=m.useRef(!1);return e.jsx(FA,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=a.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;((u=a.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),FA=m.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,...i}=t,l=Ar(oi,a),c=m.useRef(null),u=rt(s,c);return Nx(),e.jsxs(e.Fragment,{children:[e.jsx(Wd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(mi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Tb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(B$,{titleId:l.titleId}),e.jsx(H$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kb="DialogTitle",_A=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(kb,a);return e.jsx(Ge.h2,{id:n.titleId,...r,ref:s})});_A.displayName=kb;var LA="DialogDescription",$A=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(LA,a);return e.jsx(Ge.p,{id:n.descriptionId,...r,ref:s})});$A.displayName=LA;var VA="DialogClose",GA=m.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=Ar(VA,a);return e.jsx(Ge.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,()=>n.onOpenChange(!1))})});GA.displayName=VA;function Tb(t){return t?"open":"closed"}var BA="DialogTitleWarning",[G$,UA]=MF(BA,{contentName:oi,titleName:kb,docsSlug:"dialog"}),B$=({titleId:t})=>{const s=UA(BA),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},U$="DialogDescriptionWarning",H$=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UA(U$).contentName}}.`;return m.useEffect(()=>{var o;const n=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");s&&n&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Rb=kA,Mb=RA,Ib=IA,Xd=OA,Jd=zA,Qd=_A,Zd=$A,Tx=GA;const Ob=Rb,W$=Mb,q$=Ib,HA=m.forwardRef(({className:t,...s},a)=>e.jsx(Xd,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));HA.displayName=Xd.displayName;const Y$=Kr("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Rx=m.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(q$,{children:[e.jsx(HA,{}),e.jsxs(Jd,{ref:n,className:be(Y$({side:t}),s),...r,children:[a,e.jsxs(Tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rx.displayName=Jd.displayName;const Mx=({className:t,...s})=>e.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...s});Mx.displayName="SheetHeader";const Ix=m.forwardRef(({className:t,...s},a)=>e.jsx(Qd,{ref:a,className:be("text-lg font-semibold text-foreground",t),...s}));Ix.displayName=Qd.displayName;const zb=m.forwardRef(({className:t,...s},a)=>e.jsx(Zd,{ref:a,className:be("text-sm text-muted-foreground",t),...s}));zb.displayName=Zd.displayName;function K$(){return e.jsxs(Ob,{children:[e.jsx(W$,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",className:"md:hidden gap-2",children:[e.jsx(sF,{className:"h-4 w-4"})," Mdulos"]})}),e.jsxs(Rx,{side:"top",className:"h-[80vh] overflow-y-auto",children:[e.jsx(Mx,{children:e.jsx(Ix,{children:"Navegar por mdulos"})}),e.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:EA.map(t=>{var s;return e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:t.label}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(dd,{to:t.pages&&((s=t.pages[0])==null?void 0:s.href)||"/",className:"block rounded-md px-2 py-1.5 hover:bg-gray-50",children:["Abrir ",t.label]}),t.pages.map(a=>e.jsx(dd,{to:a.href,className:"block rounded-md px-2 py-1.5 text-gray-600 hover:bg-gray-50",children:a.label},a.id))]})]},t.id)})})]})]})}var Fb="DropdownMenu",[X$,uae]=ua(Fb,[vb]),ha=vb(),[J$,WA]=X$(Fb),qA=t=>{const{__scopeDropdownMenu:s,children:a,dir:r,open:n,defaultOpen:o,onOpenChange:i,modal:l=!0}=t,c=ha(s),u=m.useRef(null),[d=!1,h]=Qs({prop:n,defaultProp:o,onChange:i});return e.jsx(J$,{scope:s,triggerId:oa(),triggerRef:u,contentId:oa(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(x=>!x),[h]),modal:l,children:e.jsx(IP,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:a})})};qA.displayName=Fb;var YA="DropdownMenuTrigger",KA=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:r=!1,...n}=t,o=WA(YA,a),i=ha(a);return e.jsx(OP,{asChild:!0,...i,children:e.jsx(Ge.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:Pr(s,o.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});KA.displayName=YA;var Q$="DropdownMenuPortal",XA=t=>{const{__scopeDropdownMenu:s,...a}=t,r=ha(s);return e.jsx(zP,{...r,...a})};XA.displayName=Q$;var JA="DropdownMenuContent",QA=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=WA(JA,a),o=ha(a),i=m.useRef(!1);return e.jsx(FP,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...r,ref:s,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{var c;i.current||(c=n.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!n.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QA.displayName=JA;var Z$="DropdownMenuGroup",eV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(_P,{...n,...r,ref:s})});eV.displayName=Z$;var tV="DropdownMenuLabel",ZA=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(LP,{...n,...r,ref:s})});ZA.displayName=tV;var sV="DropdownMenuItem",e5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx($P,{...n,...r,ref:s})});e5.displayName=sV;var aV="DropdownMenuCheckboxItem",t5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(VP,{...n,...r,ref:s})});t5.displayName=aV;var rV="DropdownMenuRadioGroup",nV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(GP,{...n,...r,ref:s})});nV.displayName=rV;var oV="DropdownMenuRadioItem",s5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(BP,{...n,...r,ref:s})});s5.displayName=oV;var iV="DropdownMenuItemIndicator",a5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(UP,{...n,...r,ref:s})});a5.displayName=iV;var lV="DropdownMenuSeparator",r5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(HP,{...n,...r,ref:s})});r5.displayName=lV;var cV="DropdownMenuArrow",dV=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(WP,{...n,...r,ref:s})});dV.displayName=cV;var uV="DropdownMenuSubTrigger",n5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(qP,{...n,...r,ref:s})});n5.displayName=uV;var mV="DropdownMenuSubContent",o5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=ha(a);return e.jsx(YP,{...n,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o5.displayName=mV;var hV=qA,xV=KA,fV=XA,i5=QA,l5=ZA,c5=e5,d5=t5,u5=s5,m5=a5,h5=r5,x5=n5,f5=o5;const Ox=hV,zx=xV,pV=m.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(x5,{ref:n,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...r,children:[a,e.jsx(Fs,{className:"ml-auto h-4 w-4"})]}));pV.displayName=x5.displayName;const gV=m.forwardRef(({className:t,...s},a)=>e.jsx(f5,{ref:a,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));gV.displayName=f5.displayName;const eu=m.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(fV,{children:e.jsx(i5,{ref:r,sideOffset:s,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));eu.displayName=i5.displayName;const pr=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(c5,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));pr.displayName=c5.displayName;const vV=m.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(d5,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(m5,{children:e.jsx(_l,{className:"h-4 w-4"})})}),s]}));vV.displayName=d5.displayName;const bV=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(u5,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(m5,{children:e.jsx(z4,{className:"h-2 w-2 fill-current"})})}),s]}));bV.displayName=u5.displayName;const p5=m.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(l5,{ref:r,className:be("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));p5.displayName=l5.displayName;const fh=m.forwardRef(({className:t,...s},a)=>e.jsx(h5,{ref:a,className:be("-mx-1 my-1 h-px bg-muted",t),...s}));fh.displayName=h5.displayName;function jV({name:t,email:s,avatarUrl:a,onOpenSupport:r}){const n=fs(),{setUser:o}=kt(),{toast:i}=Kt(),l=t==null?void 0:t.split(" ").map(u=>u[0]).slice(0,2).join("").toUpperCase(),c=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),o(null),i({title:"Logout realizado",description:"Voc foi desconectado do sistema com sucesso.",variant:"default"}),n("/login")};return e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"outline",className:"h-9 w-9 rounded-full p-0 overflow-hidden","aria-label":"Abrir menu da conta",children:e.jsxs(hr,{className:"h-9 w-9 rounded-full",children:[e.jsx(xr,{src:a,alt:t,className:"object-cover"}),e.jsx(fr,{className:"h-9 w-9 rounded-full text-sm font-medium",children:l||"US"})]})})}),e.jsxs(eu,{align:"end",sideOffset:8,className:"w-[280px]",children:[e.jsx(p5,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold leading-tight",children:t}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:s})]})}),e.jsx(fh,{}),e.jsx(pr,{asChild:!0,children:e.jsxs("button",{onClick:()=>n("/sobre"),"aria-label":"Saiba mais sobre o sistema",className:"flex items-center gap-2 w-full",children:[e.jsx(fn,{className:"h-4 w-4"}),e.jsx("span",{children:"Saiba mais"})]})}),e.jsx(pr,{asChild:!0,children:e.jsxs("button",{onClick:()=>n("/configuracoes"),"aria-label":"Abrir configuraes",className:"flex items-center gap-2 w-full",children:[e.jsx(Ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Configuraes"})]})}),e.jsxs(pr,{onSelect:u=>{u.preventDefault(),r?r():n("/suporte")},"aria-label":"Abrir suporte",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Xi,{className:"h-4 w-4"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(fh,{}),e.jsxs(pr,{onSelect:u=>{u.preventDefault(),c()},className:"text-red-600 focus:text-red-600","aria-label":"Sair do sistema",children:[e.jsx($4,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair do sistema"})]})]})]})}function Jr(){const[t,s]=Z.useState(!1),[a,r]=m.useState(!1),n=fs(),{user:o,setUser:i}=kt();Kt();const l=sr(),c=l.pathname==="/"?"Buscar no sistema...":"Buscar processos, documentos, usurios...",u=()=>{const h=new CustomEvent("open-support");window.dispatchEvent(h)},d=l.pathname==="/planejamento-da-contratacao"||l.pathname==="/processos"||l.pathname==="/processos-gerencia"||l.pathname==="/assinaturas"||l.pathname==="/modelos-de-fluxo"||l.pathname.startsWith("/processos/")||l.pathname.startsWith("/processo/")||l.pathname.startsWith("/assinaturas/")||l.pathname.startsWith("/processos-gerencia/");return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"fixed top-0 left-0 w-full z-50 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-gray-100",children:e.jsxs("div",{className:"w-full h-14 sm:h-16 grid grid-cols-[auto,1fr] items-center px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4",children:[e.jsx("button",{className:"h-9 w-9 grid place-items-center rounded-lg hover:bg-gray-100 focus-visible:outline-2 focus-visible:outline-indigo-500",onClick:()=>s(!0),"aria-label":"Abrir menu",children:e.jsx(iF,{className:"h-5 w-5 text-gray-700"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:gd,className:"w-8 h-8 md:w-10 md:h-10",alt:"Logo Fiscatus"}),e.jsx("span",{className:"text-base md:text-lg font-bold text-gray-800 truncate",children:"Fiscatus"})]}),d&&l.pathname!=="/"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(R$,{})}),e.jsx("div",{className:"sm:hidden",children:e.jsx(K$,{})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 md:gap-3.5 ml-2 sm:ml-3",children:[e.jsx("div",{className:"flex-1 relative",children:d?e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),e.jsx(De,{type:"text",placeholder:c,className:"h-10 rounded-full w-full min-w-[140px] sm:min-w-[200px] md:min-w-[280px] lg:min-w-[360px] xl:min-w-[420px] max-w-[720px] border-gray-200 focus-visible:ring-0 focus-visible:outline-2 focus-visible:outline-indigo-500 pl-10"})]})}):e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),e.jsx(De,{type:"text",placeholder:c,className:"h-10 rounded-full w-full min-w-[140px] sm:min-w-[200px] md:min-w-[280px] lg:min-w-[360px] xl:min-w-[420px] max-w-[720px] border-gray-200 focus-visible:ring-0 focus-visible:outline-2 focus-visible:outline-indigo-500 pl-10"})]})}),d&&l.pathname!=="/"&&e.jsx(C,{variant:"ghost",size:"icon",className:"h-9 w-9 shrink-0 sm:hidden","aria-label":"Buscar",onClick:()=>n("/buscar"),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.3-4.3"})]})}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs(C,{variant:"ghost",size:"icon",className:"h-9 w-9 relative","aria-label":"Notificaes",onClick:()=>r(!a),children:[e.jsx(ro,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-4 min-w-4 rounded-full bg-red-500 text-[10px] text-white grid place-items-center px-1",children:"3"})]}),e.jsx(XE,{isOpen:a,onClose:()=>r(!1)})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(jV,{name:(o==null?void 0:o.nome)||"Usurio",email:(o==null?void 0:o.email)||"usuario@exemplo.com",onOpenSupport:u})})]})]})}),e.jsx(hL,{open:t,onClose:()=>s(!1)})]})}function rp(){var b;const t=fs(),{user:s}=kt();h_();const a=Z.useRef(null),r=Z.useRef(null),[n,o]=Z.useState(!1),[i,l]=Z.useState(()=>[{id:1,role:"bot",text:"Ol! Sou o assistente Fiscatus. Como posso ajudar voc hoje?",timestamp:new Date}]),[c,u]=Z.useState(""),[d,h]=Z.useState(!1),x=Z.useRef(null);Z.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[i]);const f=Z.useCallback(j=>{const N=j.toLowerCase();return N.includes("dfd")||N.includes("planejamento")?'Para iniciar um DFD, acesse o mdulo "Planejamento da Contratao" no painel principal. L voc encontrar todas as ferramentas para organizar sua demanda.':N.includes("fluxo")||N.includes("configurar")?'Os fluxos podem ser personalizados em "Configuraes do Fluxo". Voc pode definir etapas, responsveis e regras especficas para sua instituio.':N.includes("relatrio")||N.includes("dados")?'No mdulo "Relatrios" voc tem acesso a dashboards personalizveis e relatrios automticos. Que tipo de informao voc precisa?':N.includes("assinatura")||N.includes("documento")?'As assinaturas digitais esto integradas em todo o sistema. Acesse "Minhas Assinaturas" para gerenciar documentos pendentes.':N.includes("ajuda")||N.includes("suporte")?"Posso ajudar com dvidas sobre o sistema. Voc tambm pode acessar a documentao completa ou falar com nossa equipe de suporte.":"Entendi sua pergunta. Para uma resposta mais especfica, posso conectar voc com nossa equipe de suporte especializada. Deseja que eu faa isso?"},[]),v=Z.useCallback(()=>{if(!c.trim())return;const j={id:Date.now(),role:"user",text:c.trim(),timestamp:new Date};l(N=>[...N,j]),u(""),h(!0),setTimeout(()=>{const N={id:Date.now()+1,role:"bot",text:f(c),timestamp:new Date};l(w=>[...w,N]),h(!1)},1500)},[c,f]),p=Z.useCallback(j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),v())},[v]),y=Z.useMemo(()=>[{nome:"Planejamento da Contratao",descricao:"Organize todas as fases da contratao: da demanda inicial  publicao do edital.",icon:e.jsx(nh,{className:"w-6 h-6"}),path:"/planejamento-da-contratacao"},{nome:"Gesto Contratual",descricao:"Gerencie contratos e documentos de forma centralizada.",icon:e.jsx(qt,{className:"w-6 h-6"}),path:"/gestao-contratual"},{nome:"Execuo Contratual",descricao:"Monitore a execuo do contrato com controle de entregas, fiscalizaes e aditivos.",icon:e.jsx(xd,{className:"w-6 h-6"}),path:"/execucao-contratual"},{nome:"Processo Licitatrio",descricao:"Acompanhe o processo licitatrio desde a abertura at a homologao.",icon:e.jsx(_4,{className:"w-6 h-6"}),path:"/processo-licitatorio"},{nome:"Relatrios",descricao:"Visualize dados estratgicos em relatrios automticos e dashboards personalizveis.",icon:e.jsx(Qv,{className:"w-6 h-6"}),path:"/relatorios"},{nome:"Configuraes do Fluxo",descricao:"Personalize o fluxo de trabalho e os modelos padro conforme a instituio.",icon:e.jsx(Ft,{className:"w-6 h-6"}),path:"/configuracoes-fluxo"}],[]),g=Z.useCallback(j=>{t(j)},[t]);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"read-progress"}),e.jsx(x_,{}),e.jsx(Jr,{}),e.jsx("div",{className:"fixed right-3 md:right-5 bottom-4 md:bottom-6 z-40 flex flex-col gap-2 md:gap-3",children:e.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir chatbot de suporte",className:"w-10 h-10 md:w-11 md:h-11 rounded-full shadow-md border border-gray-200 bg-white hover:bg-gray-50 flex items-center justify-center",children:e.jsx(Xi,{"aria-label":"Suporte",className:"w-5 h-5 md:w-5 md:h-5 text-blue-600"})})}),e.jsxs("main",{className:"pt-16 md:pt-20 px-6 py-8 flex-1",children:[e.jsx("div",{"data-reveal":!0,children:e.jsx(lE,{title:`Bem-vindo, ${((b=s==null?void 0:s.nome)==null?void 0:b.split(" ")[0])||"Usurio"}`,description:"Sua central para gerenciar contrataes pblicas de forma inteligente e integrada.",primaryCta:{text:"Explorar Mdulos",onClick:Z.useCallback(()=>{var j;return(j=a.current)==null?void 0:j.scrollIntoView({behavior:"smooth"})},[])},secondaryCta:{text:"Assistir Guia Rpido",onClick:Z.useCallback(()=>{var j;return(j=r.current)==null?void 0:j.scrollIntoView({behavior:"smooth"})},[])},mockupImage:{alt:"Painel do Fiscatus",width:1248,height:765,src:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1400&q=60"},glowVariant:"above",glowSize:"xl",glowColor:"brand"})}),e.jsxs("section",{ref:a,className:"mb-12",children:[e.jsx("header",{"data-reveal":!0,className:"mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mdulos do Sistema"})}),e.jsx("div",{"data-reveal-stagger":!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((j,N)=>e.jsx("div",{className:"group relative h-48 rounded-2xl p-[1px] bg-gradient-to-br from-gray-200/60 to-transparent hover:from-blue-200/60 hover:to-purple-200/60 transition-all duration-200",children:e.jsx("div",{className:"h-full rounded-2xl bg-white border border-gray-200 shadow-sm group-hover:shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-5 relative flex flex-col h-full",children:[e.jsx("div",{className:"pointer-events-none absolute -right-6 -top-6 w-20 h-20 bg-blue-100/40 rounded-full blur-2xl group-hover:bg-blue-200/60"}),e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 text-blue-600 ring-1 ring-blue-100",children:j.icon}),e.jsx("div",{className:"min-w-0",children:e.jsx("h3",{className:"text-[17px] font-semibold text-gray-900 leading-snug truncate",children:j.nome})})]})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.descricao})}),e.jsx("div",{className:"mt-4 flex items-center justify-start",children:j.path==="/planejamento-da-contratacao"?e.jsxs("button",{onClick:()=>g(j.path),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-600 text-white text-sm hover:bg-blue-700 shadow-sm",children:["Abrir",e.jsx(Fs,{className:"w-4 h-4"})]}):e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsxs("button",{disabled:!0,"aria-disabled":!0,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-gray-100 text-gray-500 text-sm cursor-not-allowed shadow-sm",children:["Em breve",e.jsx(fn,{className:"w-4 h-4"})]})})}),e.jsx(bt,{children:e.jsx("p",{children:"Este mdulo estar disponvel em breve."})})]})})})]})})},N))})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{"data-reveal":!0,className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 shadow-sm h-full bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-blue-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -left-16 -bottom-16 w-52 h-52 bg-indigo-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 bg-purple-100/40 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative p-6 md:p-7 lg:p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("img",{src:gd,alt:"Logo Fiscatus",className:"w-12 h-12"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Sobre o Sistema"}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Plataforma unificada para contrataes pblicas"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("p",{className:"text-black leading-relaxed",children:"O Fiscatus foi criado para apoiar gestores pblicos na conduo das contrataes, reunindo em uma nica plataforma todas as etapas do processo, do planejamento  execuo contratual. Nasceu da prtica e do olhar atento de profissionais que conhecem de perto os desafios da administrao, oferecendo uma ferramenta que alia simplicidade, inovao e segurana para tornar cada etapa mais clara e acessvel."}),e.jsx("p",{className:"text-black leading-relaxed",children:"Com dashboards intuitivos, fluxos flexveis e recursos de automao, o sistema ajuda a reduzir a burocracia e a dar mais agilidade s rotinas, permitindo que as equipes foquem no que realmente importa: resultados. O Fiscatus inspira confiana, fortalece a transparncia e se apresenta como um parceiro de trabalho dirio, trazendo tranquilidade e eficincia para quem lida com as contrataes pblicas."})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Fluxos Personalizados","Assinaturas Digitais","Notificaes","Relatrios Inteligentes","Multi-rgo"].map(j=>e.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-white/90 text-gray-700 border border-gray-200 shadow-sm",children:j},j))}),e.jsx("div",{className:"mt-auto",children:e.jsxs("button",{onClick:()=>t("/historia"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 shadow-sm transition-colors",children:["Conhecer a histria completa",e.jsx(hd,{className:"w-4 h-4"})]})})]})]})}),e.jsx("div",{"data-reveal":!0,className:"col-span-12 lg:col-span-6",children:e.jsxs(Ve,{className:"rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"px-6 pt-6 pb-5 bg-gradient-to-br from-indigo-50 via-white to-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-indigo-600/10 text-indigo-600 flex items-center justify-center",children:e.jsx(Xi,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Suporte"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs(oe,{variant:"secondary",className:"bg-green-50 text-green-700 ring-1 ring-green-200 w-fit",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1.5"}),"Online agora"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:"Tempo mdio: 3 min"})]})]})]})]})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(hr,{className:"h-10 w-10 flex-shrink-0",children:[e.jsx(xr,{src:"https://randomuser.me/api/portraits/women/65.jpg",alt:"Agente"}),e.jsx(fr,{className:"bg-indigo-100 text-indigo-600",children:e.jsx(Ou,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"rounded-2xl border bg-white px-4 py-3 shadow-sm",children:e.jsx("p",{className:"text-[15px] text-gray-800 leading-relaxed",children:"Ol! Precisa de ajuda para iniciar um DFD ou configurar seu fluxo?"})})})]})}),e.jsx("div",{className:"px-6 pb-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Canais de atendimento"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(no,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Chat em tempo real"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(ab,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"suporte@fiscatus.gov.br"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(UN,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Central de ajuda"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"SLA e horrio"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(ks,{className:"h-4 w-4 flex-shrink-0 text-green-600"}),e.jsx("span",{children:"Suporte instantneo"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Atendimento: 8h18h (dias teis)"})]}),e.jsxs("li",{className:"flex items-center gap-3 text-[15px] text-gray-600",children:[e.jsx(UN,{className:"h-4 w-4 flex-shrink-0 text-indigo-600"}),e.jsx("span",{children:"Incidentes 24/7"})]})]})]})]})}),e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100 bg-gray-50/50",children:[e.jsxs(C,{className:"w-full h-11 gap-2 font-medium",onClick:()=>o(!0),children:[e.jsx(no,{className:"h-5 w-5"})," Abrir suporte"]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 text-center leading-relaxed",children:"Horrio comercial: 8h s 18h  suporte 24/7 para incidentes."})]})]})})]})}),e.jsxs("section",{ref:r,className:"mb-12",children:[e.jsxs("div",{"data-reveal":!0,className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tutoriais & Recursos"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",onClick:()=>t("/tutoriais"),children:"Ver todos os tutoriais"})]}),e.jsx("div",{"data-reveal-stagger":!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:Z.useMemo(()=>[{titulo:"Introduo ao Fiscatus",tempo:"4:32",thumb:"https://images.unsplash.com/photo-1552581234-26160f608093?auto=format&fit=crop&w=1200&q=60"},{titulo:"Modelando Fluxos",tempo:"7:18",thumb:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1200&q=60"},{titulo:"Relatrios Inteligentes",tempo:"5:05",thumb:"https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&w=1200&q=60"}],[]).map((j,N)=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[e.jsx("img",{src:j.thumb,alt:`Capa do vdeo: ${j.titulo}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),e.jsx("button",{className:"absolute inset-0 m-auto w-12 h-12 rounded-full bg-white/90 backdrop-blur flex items-center justify-center shadow hover:bg-white",children:e.jsx(U4,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:"absolute bottom-2 right-2 px-2 py-0.5 text-xs rounded bg-gray-900/80 text-white",children:j.tempo})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.titulo})})]},N))}),e.jsx("div",{"data-reveal":"zoom",className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:Z.useMemo(()=>[{q:"Como personalizar o fluxo?",a:"Acesse Configuraes do Fluxo para editar etapas, responsveis e regras."},{q:"Onde vejo minhas pendncias?",a:"Abra Notificaes ou o mdulo Minhas Pendncias no topo do painel."},{q:"Como gerar relatrios?",a:"No mdulo Relatrios, selecione um template e ajuste os filtros desejados."}],[]).map((j,N)=>e.jsx(yV,{pergunta:j.q,resposta:j.a},N))})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{"data-reveal":!0,children:e.jsx(NV,{title:"Feedback de Usurios"})}),e.jsx("div",{"data-reveal":!0,children:e.jsx(wV,{title:"Feedback de Administraes Pblicas"})}),e.jsxs("div",{"data-reveal":!0,className:"lg:col-span-1 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Treinamento Personalizado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Capacite sua equipe com um plano de adoo sob medida."}),e.jsxs("ul",{className:"text-sm text-gray-700 list-disc pl-5 space-y-1 mb-6",children:[e.jsx("li",{children:"Workshops prticos"}),e.jsx("li",{children:"Onboarding guiado"}),e.jsx("li",{children:"Materiais exclusivos"})]})]}),e.jsx("button",{onClick:()=>t("/treinamento"),className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Agendar Treinamento"})]})]})})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50",onClick:()=>o(!1)}),e.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(Ou,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Assistente Fiscatus"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Online agora"})]})]}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Yt,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[i.map(j=>e.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex gap-2 max-w-[80%] ${j.role==="user"?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j.role==="user"?"bg-blue-600":"bg-gray-200"}`,children:j.role==="user"?e.jsx(ht,{className:"w-4 h-4 text-white"}):e.jsx(Ou,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:`rounded-2xl px-4 py-2 ${j.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.text}),e.jsx("p",{className:`text-xs mt-1 ${j.role==="user"?"text-blue-100":"text-gray-500"}`,children:j.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})},j.id)),d&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex gap-2 max-w-[80%]",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Ou,{className:"w-4 h-4 text-gray-600"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:150ms]"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:300ms]"})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),onKeyPress:p,placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:v,disabled:!c.trim(),className:"w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:e.jsx(vs,{className:"w-4 h-4"})})]})})]})]}),e.jsxs("footer",{className:"bg-gray-50 border-t border-gray-200",children:[e.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 md:px-8 py-6 md:py-8 grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:gd,alt:"Logo Fiscatus",className:"w-8 h-8"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Fiscatus"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gesto moderna e integrada para contrataes pblicas."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Status do sistema"}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 text-xs",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Online"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Links teis"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{className:"text-gray-700 hover:text-blue-700",href:"#",children:"Poltica de Privacidade"})}),e.jsx("li",{children:e.jsx("a",{className:"text-gray-700 hover:text-blue-700",href:"#",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/suporte"),className:"text-left text-gray-700 hover:text-blue-700",children:"Suporte"})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-gray-500 mb-2",children:"Informaes tcnicas"}),e.jsxs("ul",{className:"text-sm text-gray-700",children:[e.jsx("li",{children:"Verso: v1.0.0"}),e.jsx("li",{children:"Ano: 2025"}),e.jsx("li",{children:"Ambiente: Produo"})]})]})]}),e.jsx("div",{className:"py-3 text-center text-xs text-gray-600",children:" 2025 Fiscatus  Feito com dedicao para a administrao pblica brasileira"})]})]})}function yV({pergunta:t,resposta:s}){const[a,r]=Z.useState(!1);return e.jsxs("div",{className:"px-4 py-3",children:[e.jsxs("button",{onClick:()=>r(n=>!n),className:"w-full flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t}),e.jsx(Fs,{className:"w-4 h-4 text-gray-400 transition-transform "+(a?"rotate-90":"")})]}),a&&e.jsx("p",{className:"text-sm text-gray-600 pb-3",children:s}),e.jsx("div",{className:"h-px bg-gray-100"})]})}const NV=Z.memo(({title:t})=>{const s=Z.useMemo(()=>[{nome:"Carla Nunes",cargo:"Gestora de Compras",frase:"O Fiscatus simplificou nosso processo de ponta a ponta.",foto:"https://randomuser.me/api/portraits/women/68.jpg",estrelas:5},{nome:"Rafael Lima",cargo:"Coordenador de TI",frase:"Integrao fluida e relatrios que fazem diferena.",foto:"https://randomuser.me/api/portraits/men/32.jpg",estrelas:5},{nome:"Mariana Alves",cargo:"Analista Snior",frase:"Onboarding rpido e suporte excelente.",foto:"https://randomuser.me/api/portraits/women/44.jpg",estrelas:4}],[]),[a,r]=Z.useState(0),n=Z.useCallback(()=>r((a+1)%s.length),[a,s.length]);Z.useCallback(()=>r((a-1+s.length)%s.length),[a,s.length]),Z.useEffect(()=>{const i=setInterval(n,6e3);return()=>clearInterval(i)},[n]);const o=s[a];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 flex flex-col",children:[t&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:o.foto,alt:o.nome,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",decoding:"async"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:o.cargo})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:5}).map((i,l)=>e.jsx("div",{className:"w-4 h-4 "+(l<o.estrelas?"text-yellow-500":"text-gray-300"),children:""},l))}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["",o.frase,""]}),e.jsx("div",{className:"mt-auto flex items-center justify-center",children:e.jsx("div",{className:"flex gap-2",children:s.map((i,l)=>e.jsx("button",{onClick:()=>r(l),className:"w-2.5 h-2.5 rounded-full transition-colors "+(l===a?"bg-blue-600":"bg-gray-300 hover:bg-gray-400"),"aria-label":`Ir para depoimento ${l+1}`},l))})})]})}),wV=Z.memo(({title:t})=>{const s="/fiscatus-app/",a=Z.useMemo(()=>`${s}logos/brasao-generico.svg`,[s]),r=Z.useMemo(()=>[{nome:"Secretaria de Sade",cargo:"Governo Estadual",logo:a,frase:"A adoo da plataforma trouxe transparncia e agilidade s contrataes.",estrelas:5},{nome:"Prefeitura Municipal",cargo:"Administrao Pblica",logo:a,frase:"Padronizamos fluxos e reduzimos retrabalho significativamente.",estrelas:5},{nome:"Hospital Pblico",cargo:"Instituio de Sade",logo:a,frase:"Relatrios e notificaes facilitaram nosso controle interno.",estrelas:4}],[a]),[n,o]=Z.useState(0),i=Z.useCallback(()=>o((n+1)%r.length),[n,r.length]);Z.useCallback(()=>o((n-1+r.length)%r.length),[n,r.length]),Z.useEffect(()=>{const c=setInterval(i,7e3);return()=>clearInterval(c)},[i]);const l=r[n];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 flex flex-col",children:[t&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-md overflow-hidden ring-1 ring-gray-200 bg-white flex items-center justify-center",children:e.jsx("img",{src:r[n].logo,alt:l.nome,className:"w-full h-full object-contain p-1",loading:"lazy",decoding:"async",onError:c=>{const u=c.target;u.style.display="none";const d=u.parentElement;d&&(d.innerHTML='<div class="w-6 h-6 text-gray-400"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>')}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:l.cargo})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:5}).map((c,u)=>e.jsx("div",{className:"w-4 h-4 "+(u<l.estrelas?"text-yellow-500":"text-gray-300"),children:""},u))}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["",l.frase,""]}),e.jsx("div",{className:"mt-auto flex items-center justify-center",children:e.jsx("div",{className:"flex gap-2",children:r.map((c,u)=>e.jsx("button",{onClick:()=>o(u),className:"w-2.5 h-2.5 rounded-full transition-colors "+(u===n?"bg-blue-600":"bg-gray-300 hover:bg-gray-400"),"aria-label":`Ir para depoimento pblico ${u+1}`},u))})})]})});function CV(t,s,a,r,n,o){const i=t+r*Math.cos(n*Math.PI/180),l=s+r*Math.sin(n*Math.PI/180),c=t+r*Math.cos(o*Math.PI/180),u=s+r*Math.sin(o*Math.PI/180),d=o-n<=180?0:1,h=`A ${r} ${r} 0 ${d} 1 ${c} ${u}`,x=`L ${t+a*Math.cos(o*Math.PI/180)} ${s+a*Math.sin(o*Math.PI/180)}`,f=`A ${a} ${a} 0 ${d} 0 ${t+a*Math.cos(n*Math.PI/180)} ${s+a*Math.sin(n*Math.PI/180)}`;return`M ${i} ${l} ${h} ${x} ${f} Z`}function SV(t){switch(t.toLowerCase()){case"alta":return"bg-red-100 text-red-800";case"mdia":return"bg-yellow-100 text-yellow-800";case"baixa":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function EV(t){switch(t.toLowerCase()){case"em andamento":return"bg-blue-100 text-blue-800";case"concludo":return"bg-green-100 text-green-800";case"pendente":return"bg-yellow-100 text-yellow-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function PV(){const t=[{label:"Total de Processos",value:"1.247",trend:"+12% este ms",icon:e.jsx($e,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-600"},{label:"Em Andamento",value:"342",trend:"+8% este ms",icon:e.jsx(NF,{className:"w-4 h-4"}),color:"bg-green-100 text-green-600"},{label:"Concludos",value:"856",trend:"+15% este ms",icon:e.jsx(ks,{className:"w-4 h-4"}),color:"bg-emerald-100 text-emerald-600"},{label:"Pendentes",value:"49",trend:"-5% este ms",icon:e.jsx(Fe,{className:"w-4 h-4"}),color:"bg-orange-100 text-orange-600"},{label:"Usurios Ativos",value:"89",trend:"+3% este ms",icon:e.jsx(qt,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-600"},{label:"Alertas",value:"12",trend:"-2% este ms",icon:e.jsx(xt,{className:"w-4 h-4"}),color:"bg-red-100 text-red-600"}],s=[{label:"Em Andamento",value:342,percentage:27,color:"#3B82F6",icon:e.jsx(qs,{className:"w-4 h-4"})},{label:"Concludo",value:856,percentage:69,color:"#10B981",icon:e.jsx(ks,{className:"w-4 h-4"})},{label:"Pendente",value:49,percentage:4,color:"#F59E0B",icon:e.jsx(Fe,{className:"w-4 h-4"})}],a=[{label:"Anlise",value:45,color:"bg-blue-500"},{label:"Aprovao",value:32,color:"bg-green-500"},{label:"Execuo",value:28,color:"bg-yellow-500"},{label:"Finalizao",value:15,color:"bg-purple-500"}],r=[{id:1,descricao:"Aprovao de DFD pendente",processo:"DFD-2024-001",prazo:"2 dias",prioridade:"alta",link:"/processo/1"},{id:2,descricao:"Reviso de documentao",processo:"DFD-2024-015",prazo:"5 dias",prioridade:"mdia",link:"/processo/2"}],n=[{id:1,titulo:"Novo processo criado",texto:"DFD-2024-020 foi criado e aguarda sua anlise",data:"h 2 horas",lida:!1},{id:2,titulo:"Processo aprovado",texto:"DFD-2024-018 foi aprovado com sucesso",data:"h 4 horas",lida:!0},{id:3,titulo:"Prazo vencendo",texto:"DFD-2024-012 vence em 3 dias",data:"h 1 dia",lida:!1}],o=[{id:1,numero:"DFD-2024-019",tipo:"DFD",status:"em andamento",ultimoAcesso:"h 2 horas",link:"/processo/1"},{id:2,numero:"DFD-2024-018",tipo:"DFD",status:"concludo",ultimoAcesso:"h 4 horas",link:"/processo/2"},{id:3,numero:"DFD-2024-017",tipo:"DFD",status:"pendente",ultimoAcesso:"h 1 dia",link:"/processo/3"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:"pt-16 md:pt-20 px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:t.map((i,l)=>e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.value}),e.jsx("p",{className:"text-xs text-green-600",children:i.trend})]}),e.jsx("div",{className:`p-3 rounded-lg ${i.color}`,children:i.icon})]})})},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsxs(Be,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Processos"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("svg",{width:"200",height:"200",className:"mx-auto",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#E5E7EB",strokeWidth:"16"}),s.map((i,l)=>{const c=l===0?0:s.slice(0,l).reduce((d,h)=>d+h.percentage*3.6,0),u=c+i.percentage*3.6;return e.jsx("path",{d:CV(100,100,64,80,c,u),fill:i.color},i.label)})]})}),e.jsx("div",{className:"mt-4 space-y-2",children:s.map(i=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:i.icon}),e.jsx("span",{className:"text-sm text-gray-600",children:i.label})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.value})]},i.label))})]})}),e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsxs(Be,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Processos por Etapa"}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-600 w-20",children:i.label}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${i.color}`,style:{width:`${i.value/Math.max(...a.map(l=>l.value))*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 w-8",children:i.value})]},i.label))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsxs(Be,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Pendncias"}),e.jsx(xt,{className:"w-4 h-4 text-orange-500"})]}),r.length>0?e.jsx("div",{className:"space-y-3",children:r.map(i=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:i.descricao}),e.jsx("p",{className:"text-xs text-gray-500",children:i.processo})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${SV(i.prioridade)}`,children:i.prazo})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Prazo: ",i.prazo]}),e.jsxs("a",{href:i.link,className:"text-blue-600 hover:text-blue-700 text-xs font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Acessar"}),e.jsx(Fs,{className:"w-3 h-3"})]})]})]},i.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma pendncia encontrada"})]})}),e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsxs(Be,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Notificaes"}),e.jsx(ro,{className:"w-4 h-4 text-blue-500"})]}),e.jsx("div",{className:"space-y-2",children:n.map(i=>e.jsx("div",{className:`p-3 rounded-lg border transition-colors ${i.lida?"border-gray-100 bg-gray-50":"border-blue-100 bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${i.lida?"bg-gray-300":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:i.titulo}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.texto}),e.jsx("p",{className:"text-xs text-gray-400",children:i.data})]})]})},i.id))})]})}),e.jsx(Ve,{className:"bg-white border-0 shadow-sm",children:e.jsxs(Be,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Acessos Recentes"}),e.jsx(xn,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("a",{href:i.link,className:"text-sm font-medium text-blue-600 hover:text-blue-700 flex items-center space-x-2",children:[e.jsx("span",{children:i.numero}),e.jsx(Fs,{className:"w-3 h-3"})]}),e.jsx("span",{className:"text-xs text-gray-400",children:i.tipo})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${EV(i.status)}`,children:i.status}),e.jsx("span",{className:"text-xs text-gray-400",children:i.ultimoAcesso})]})]},i.id))})]})})]}),e.jsx("footer",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-400",children:[e.jsx("span",{children:"ltimo login: 30/07/2025 08:15"}),e.jsx("span",{children:""}),e.jsx("span",{children:"Verso 1.0.0"}),e.jsx("span",{children:""}),e.jsx("span",{children:"Suporte: suporte@fiscatus.com.br"})]})})]})]})}function wd(t,[s,a]){return Math.min(a,Math.max(s,t))}var g5=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(DV);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(o0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(o0,{...r,ref:s,children:a})});g5.displayName="Slot";var o0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=TV(a);return m.cloneElement(a,{...kV(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});o0.displayName="SlotClone";var AV=({children:t})=>e.jsx(e.Fragment,{children:t});function DV(t){return m.isValidElement(t)&&t.type===AV}function kV(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function TV(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var RV=[" ","Enter","ArrowUp","ArrowDown"],MV=[" ","Enter"],tu="Select",[Fx,_x,IV]=Ul(tu),[Hl,mae]=ua(tu,[IV,No]),Lx=No(),[OV,So]=Hl(tu),[zV,FV]=Hl(tu),v5=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:n,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:x,required:f,form:v}=t,p=Lx(s),[y,g]=m.useState(null),[b,j]=m.useState(null),[N,w]=m.useState(!1),E=wo(u),[D=!1,P]=Qs({prop:r,defaultProp:n,onChange:o}),[_,M]=Qs({prop:i,defaultProp:l,onChange:c}),k=m.useRef(null),$=y?v||!!y.closest("form"):!0,[H,Y]=m.useState(new Set),K=Array.from(H).map(z=>z.props.value).join(";");return e.jsx(fx,{...p,children:e.jsxs(OV,{required:f,scope:s,trigger:y,onTriggerChange:g,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:oa(),value:_,onValueChange:M,open:D,onOpenChange:P,dir:E,triggerPointerDownPosRef:k,disabled:x,children:[e.jsx(Fx.Provider,{scope:s,children:e.jsx(zV,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{Y(O=>new Set(O).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{Y(O=>{const S=new Set(O);return S.delete(z),S})},[]),children:a})}),$?e.jsxs(B5,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:_,onChange:z=>M(z.target.value),disabled:x,form:v,children:[_===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},K):null]})})};v5.displayName=tu;var b5="SelectTrigger",j5=m.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...n}=t,o=Lx(a),i=So(b5,a),l=i.disabled||r,c=rt(s,i.onTriggerChange),u=_x(a),d=m.useRef("touch"),[h,x,f]=U5(p=>{const y=u().filter(j=>!j.disabled),g=y.find(j=>j.value===i.value),b=H5(y,p,g);b!==void 0&&i.onValueChange(b.value)}),v=p=>{l||(i.onOpenChange(!0),f()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Ud,{asChild:!0,...o,children:e.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":G5(i.value)?"":void 0,...n,ref:c,onClick:Ee(n.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ee(n.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ee(n.onKeyDown,p=>{const y=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&x(p.key),!(y&&p.key===" ")&&RV.includes(p.key)&&(v(),p.preventDefault())})})})});j5.displayName=b5;var y5="SelectValue",N5=m.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,children:o,placeholder:i="",...l}=t,c=So(y5,a),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=rt(s,c.onValueNodeChange);return Ps(()=>{u(d)},[u,d]),e.jsx(Ge.span,{...l,ref:h,style:{pointerEvents:"none"},children:G5(c.value)?e.jsx(e.Fragment,{children:i}):o})});N5.displayName=y5;var _V="SelectIcon",w5=m.forwardRef((t,s)=>{const{__scopeSelect:a,children:r,...n}=t;return e.jsx(Ge.span,{"aria-hidden":!0,...n,ref:s,children:r||""})});w5.displayName=_V;var LV="SelectPortal",C5=t=>e.jsx(Bl,{asChild:!0,...t});C5.displayName=LV;var ii="SelectContent",S5=m.forwardRef((t,s)=>{const a=So(ii,t.__scopeSelect),[r,n]=m.useState();if(Ps(()=>{n(new DocumentFragment)},[]),!a.open){const o=r;return o?Ka.createPortal(e.jsx(E5,{scope:t.__scopeSelect,children:e.jsx(Fx.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(P5,{...t,ref:s})});S5.displayName=ii;var or=10,[E5,Eo]=Hl(ii),$V="SelectContentImpl",P5=m.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:x,collisionPadding:f,sticky:v,hideWhenDetached:p,avoidCollisions:y,...g}=t,b=So(ii,a),[j,N]=m.useState(null),[w,E]=m.useState(null),D=rt(s,ae=>N(ae)),[P,_]=m.useState(null),[M,k]=m.useState(null),$=_x(a),[H,Y]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(j)return Ex(j)},[j]),Nx();const z=m.useCallback(ae=>{const[ve,...xe]=$().map(je=>je.ref.current),[ne]=xe.slice(-1),Ae=document.activeElement;for(const je of ae)if(je===Ae||(je==null||je.scrollIntoView({block:"nearest"}),je===ve&&w&&(w.scrollTop=0),je===ne&&w&&(w.scrollTop=w.scrollHeight),je==null||je.focus(),document.activeElement!==Ae))return},[$,w]),O=m.useCallback(()=>z([P,j]),[z,P,j]);m.useEffect(()=>{H&&O()},[H,O]);const{onOpenChange:S,triggerPointerDownPosRef:L}=b;m.useEffect(()=>{if(j){let ae={x:0,y:0};const ve=ne=>{var Ae,je;ae={x:Math.abs(Math.round(ne.pageX)-(((Ae=L.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((je=L.current)==null?void 0:je.y)??0))}},xe=ne=>{ae.x<=10&&ae.y<=10?ne.preventDefault():j.contains(ne.target)||S(!1),document.removeEventListener("pointermove",ve),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",xe,{capture:!0})}}},[j,S,L]),m.useEffect(()=>{const ae=()=>S(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[S]);const[U,J]=U5(ae=>{const ve=$().filter(Ae=>!Ae.disabled),xe=ve.find(Ae=>Ae.ref.current===document.activeElement),ne=H5(ve,ae,xe);ne&&setTimeout(()=>ne.ref.current.focus())}),re=m.useCallback((ae,ve,xe)=>{const ne=!K.current&&!xe;(b.value!==void 0&&b.value===ve||ne)&&(_(ae),ne&&(K.current=!0))},[b.value]),le=m.useCallback(()=>j==null?void 0:j.focus(),[j]),Ne=m.useCallback((ae,ve,xe)=>{const ne=!K.current&&!xe;(b.value!==void 0&&b.value===ve||ne)&&k(ae)},[b.value]),ke=r==="popper"?i0:A5,he=ke===i0?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:x,collisionPadding:f,sticky:v,hideWhenDetached:p,avoidCollisions:y}:{};return e.jsx(E5,{scope:a,content:j,viewport:w,onViewportChange:E,itemRefCallback:re,selectedItem:P,onItemLeave:le,itemTextRefCallback:Ne,focusSelectedItem:O,selectedItemText:M,position:r,isPositioned:H,searchRef:U,children:e.jsx(qd,{as:g5,allowPinchZoom:!0,children:e.jsx(Wd,{asChild:!0,trapped:b.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ee(n,ae=>{var ve;(ve=b.trigger)==null||ve.focus({preventScroll:!0}),ae.preventDefault()}),children:e.jsx(mi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ae=>ae.preventDefault(),...g,...he,onPlaced:()=>Y(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ee(g.onKeyDown,ae=>{const ve=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ve&&ae.key.length===1&&J(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ne=$().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ae=ae.target,je=ne.indexOf(Ae);ne=ne.slice(je+1)}setTimeout(()=>z(ne)),ae.preventDefault()}})})})})})})});P5.displayName=$V;var VV="SelectItemAlignedPosition",A5=m.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...n}=t,o=So(ii,a),i=Eo(ii,a),[l,c]=m.useState(null),[u,d]=m.useState(null),h=rt(s,D=>d(D)),x=_x(a),f=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:g,focusSelectedItem:b}=i,j=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&y&&g){const D=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),_=o.valueNode.getBoundingClientRect(),M=g.getBoundingClientRect();if(o.dir!=="rtl"){const Ae=M.left-P.left,je=_.left-Ae,Ue=D.left-je,de=D.width+Ue,Te=Math.max(de,P.width),Pe=window.innerWidth-or,A=wd(je,[or,Math.max(or,Pe-Te)]);l.style.minWidth=de+"px",l.style.left=A+"px"}else{const Ae=P.right-M.right,je=window.innerWidth-_.right-Ae,Ue=window.innerWidth-D.right-je,de=D.width+Ue,Te=Math.max(de,P.width),Pe=window.innerWidth-or,A=wd(je,[or,Math.max(or,Pe-Te)]);l.style.minWidth=de+"px",l.style.right=A+"px"}const k=x(),$=window.innerHeight-or*2,H=p.scrollHeight,Y=window.getComputedStyle(u),K=parseInt(Y.borderTopWidth,10),z=parseInt(Y.paddingTop,10),O=parseInt(Y.borderBottomWidth,10),S=parseInt(Y.paddingBottom,10),L=K+z+H+S+O,U=Math.min(y.offsetHeight*5,L),J=window.getComputedStyle(p),re=parseInt(J.paddingTop,10),le=parseInt(J.paddingBottom,10),Ne=D.top+D.height/2-or,ke=$-Ne,he=y.offsetHeight/2,ae=y.offsetTop+he,ve=K+z+ae,xe=L-ve;if(ve<=Ne){const Ae=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const je=u.clientHeight-p.offsetTop-p.offsetHeight,Ue=Math.max(ke,he+(Ae?le:0)+je+O),de=ve+Ue;l.style.height=de+"px"}else{const Ae=k.length>0&&y===k[0].ref.current;l.style.top="0px";const Ue=Math.max(Ne,K+p.offsetTop+(Ae?re:0)+he)+xe;l.style.height=Ue+"px",p.scrollTop=ve-Ne+p.offsetTop}l.style.margin=`${or}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[x,o.trigger,o.valueNode,l,u,p,y,g,o.dir,r]);Ps(()=>j(),[j]);const[N,w]=m.useState();Ps(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(D=>{D&&v.current===!0&&(j(),b==null||b(),v.current=!1)},[j,b]);return e.jsx(BV,{scope:a,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:e.jsx(Ge.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});A5.displayName=VV;var GV="SelectPopperPosition",i0=m.forwardRef((t,s)=>{const{__scopeSelect:a,align:r="start",collisionPadding:n=or,...o}=t,i=Lx(a);return e.jsx(px,{...i,...o,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});i0.displayName=GV;var[BV,_b]=Hl(ii,{}),l0="SelectViewport",D5=m.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...n}=t,o=Eo(l0,a),i=_b(l0,a),l=rt(s,o.onViewportChange),c=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Fx.Slot,{scope:a,children:e.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ee(n.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=i;if(x!=null&&x.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-or*2,p=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),g=Math.max(p,y);if(g<v){const b=g+f,j=Math.min(v,b),N=b-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});D5.displayName=l0;var k5="SelectGroup",[UV,HV]=Hl(k5),WV=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=oa();return e.jsx(UV,{scope:a,id:n,children:e.jsx(Ge.div,{role:"group","aria-labelledby":n,...r,ref:s})})});WV.displayName=k5;var T5="SelectLabel",R5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=HV(T5,a);return e.jsx(Ge.div,{id:n.id,...r,ref:s})});R5.displayName=T5;var ph="SelectItem",[qV,M5]=Hl(ph),I5=m.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:n=!1,textValue:o,...i}=t,l=So(ph,a),c=Eo(ph,a),u=l.value===r,[d,h]=m.useState(o??""),[x,f]=m.useState(!1),v=rt(s,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,r,n)}),p=oa(),y=m.useRef("touch"),g=()=>{n||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(qV,{scope:a,value:r,disabled:n,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{h(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:e.jsx(Fx.ItemSlot,{scope:a,value:r,disabled:n,textValue:d,children:e.jsx(Ge.div,{role:"option","aria-labelledby":p,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:v,onFocus:Ee(i.onFocus,()=>f(!0)),onBlur:Ee(i.onBlur,()=>f(!1)),onClick:Ee(i.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:Ee(i.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:Ee(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Ee(i.onPointerMove,b=>{var j;y.current=b.pointerType,n?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(i.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ee(i.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(MV.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});I5.displayName=ph;var Cc="SelectItemText",O5=m.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,...o}=t,i=So(Cc,a),l=Eo(Cc,a),c=M5(Cc,a),u=FV(Cc,a),[d,h]=m.useState(null),x=rt(s,g=>h(g),c.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=m.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return Ps(()=>(p(v),()=>y(v)),[p,y,v]),e.jsxs(e.Fragment,{children:[e.jsx(Ge.span,{id:c.textId,...o,ref:x}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ka.createPortal(o.children,i.valueNode):null]})});O5.displayName=Cc;var z5="SelectItemIndicator",F5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return M5(z5,a).isSelected?e.jsx(Ge.span,{"aria-hidden":!0,...r,ref:s}):null});F5.displayName=z5;var c0="SelectScrollUpButton",_5=m.forwardRef((t,s)=>{const a=Eo(c0,t.__scopeSelect),r=_b(c0,t.__scopeSelect),[n,o]=m.useState(!1),i=rt(s,r.onScrollButtonChange);return Ps(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=a.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?e.jsx($5,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=a;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_5.displayName=c0;var d0="SelectScrollDownButton",L5=m.forwardRef((t,s)=>{const a=Eo(d0,t.__scopeSelect),r=_b(d0,t.__scopeSelect),[n,o]=m.useState(!1),i=rt(s,r.onScrollButtonChange);return Ps(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=a.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?e.jsx($5,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=a;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});L5.displayName=d0;var $5=m.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...n}=t,o=Eo("SelectScrollButton",a),i=m.useRef(null),l=_x(a),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ps(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),e.jsx(Ge.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:Ee(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ee(n.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ee(n.onPointerLeave,()=>{c()})})}),YV="SelectSeparator",V5=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return e.jsx(Ge.div,{"aria-hidden":!0,...r,ref:s})});V5.displayName=YV;var u0="SelectArrow",KV=m.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Lx(a),o=So(u0,a),i=Eo(u0,a);return o.open&&i.position==="popper"?e.jsx(gx,{...n,...r,ref:s}):null});KV.displayName=u0;function G5(t){return t===""||t===void 0}var B5=m.forwardRef((t,s)=>{const{value:a,...r}=t,n=m.useRef(null),o=rt(s,n),i=dx(a);return m.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==a&&d){const h=new Event("change",{bubbles:!0});d.call(l,a),l.dispatchEvent(h)}},[i,a]),e.jsx(Hd,{asChild:!0,children:e.jsx("select",{...r,ref:o,defaultValue:a})})});B5.displayName="BubbleSelect";function U5(t){const s=as(t),a=m.useRef(""),r=m.useRef(0),n=m.useCallback(i=>{const l=a.current+i;s(l),function c(u){a.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),o=m.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,o]}function H5(t,s,a){const n=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let i=XV(t,Math.max(o,0));n.length===1&&(i=i.filter(u=>u!==a));const c=i.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}function XV(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var JV=v5,W5=j5,QV=N5,ZV=w5,eG=C5,q5=S5,tG=D5,Y5=R5,K5=I5,sG=O5,aG=F5,X5=_5,J5=L5,Q5=V5;const dt=JV,ut=QV,it=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(W5,{ref:r,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(ZV,{asChild:!0,children:e.jsx(Ll,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=W5.displayName;const Z5=m.forwardRef(({className:t,...s},a)=>e.jsx(X5,{ref:a,className:be("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(qz,{className:"h-4 w-4"})}));Z5.displayName=X5.displayName;const eD=m.forwardRef(({className:t,...s},a)=>e.jsx(J5,{ref:a,className:be("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ll,{className:"h-4 w-4"})}));eD.displayName=J5.displayName;const lt=m.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(eG,{children:e.jsxs(q5,{ref:n,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(Z5,{}),e.jsx(tG,{className:be("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(eD,{})]})}));lt.displayName=q5.displayName;const rG=m.forwardRef(({className:t,...s},a)=>e.jsx(Y5,{ref:a,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));rG.displayName=Y5.displayName;const Ce=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(K5,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(aG,{children:e.jsx(_l,{className:"h-4 w-4"})})}),e.jsx(sG,{children:s})]}));Ce.displayName=K5.displayName;const nG=m.forwardRef(({className:t,...s},a)=>e.jsx(Q5,{ref:a,className:be("-mx-1 my-1 h-px bg-muted",t),...s}));nG.displayName=Q5.displayName;function oG({searchTerm:t,statusFilter:s,prazoFilter:a,tipoFilter:r,onSearchChange:n,onStatusChange:o,onPrazoChange:i,onTipoChange:l}){return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 w-full",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{type:"text",placeholder:"Buscar por nmero ou nome do documento",value:t,onChange:c=>n(c.target.value),className:"pl-10 border-gray-200 focus:border-blue-300 focus:ring-blue-200 w-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 flex-shrink-0",children:[e.jsx("div",{children:e.jsxs(dt,{value:s,onValueChange:o,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"pendentes",children:"Pendentes"}),e.jsx(Ce,{value:"assinados",children:"Assinados"})]})]})}),e.jsx("div",{children:e.jsxs(dt,{value:a,onValueChange:i,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Prazo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"vencendo",children:"Vencendo em 3 dias"}),e.jsx(Ce,{value:"vencidos",children:"Vencidos"})]})]})}),e.jsx("div",{children:e.jsxs(dt,{value:r,onValueChange:l,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Tipo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"dfd",children:"DFD"}),e.jsx(Ce,{value:"etp",children:"ETP"}),e.jsx(Ce,{value:"termo",children:"Termo de Referncia"})]})]})})]})]})})}function iG({status:t,className:s=""}){const r={pendente:{label:"Pendente",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:e.jsx(Fe,{className:"w-3 h-3"})},assinado:{label:"Assinado",className:"bg-green-100 text-green-700 border-green-200",icon:e.jsx(Re,{className:"w-3 h-3"})},atrasado:{label:"Atrasado",className:"bg-red-100 text-red-700 border-red-200",icon:e.jsx(xt,{className:"w-3 h-3"})}}[t];return e.jsxs(oe,{variant:"outline",className:`flex items-center gap-1 px-3 py-2 text-xs font-medium ${r.className} ${s}`,children:[r.icon,r.label]})}function lG({documento:t,onVisualizar:s}){t.status;const a=t.status==="atrasado";return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${a?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:t.numeroProcesso,children:t.numeroProcesso})}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:e.jsx("div",{className:"break-words line-clamp-2",title:t.nome,children:t.nome})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap",children:t.tipo})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("div",{className:"truncate",title:t.prazo,children:t.prazo})}),e.jsx("td",{className:"px-6 py-3 text-center",children:e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(iG,{status:t.status})})}),e.jsx("td",{className:"flex justify-center items-center gap-2 min-w-[200px] px-4 py-2",children:t.status==="assinado"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm whitespace-nowrap",children:[e.jsx(Re,{className:"w-4 h-4"}),"Assinado"]}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>s(t.id),className:"h-8 w-8","aria-label":"Visualizar documento",children:e.jsx(Qe,{className:"w-5 h-5 text-muted-foreground"})})]}):e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>s(t.id),className:"flex items-center gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 whitespace-nowrap",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Visualizar e Assinar"]})})]})}const Ke=Rb,gh=Mb,cG=Ib,tD=m.forwardRef(({className:t,...s},a)=>e.jsx(Xd,{ref:a,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));tD.displayName=Xd.displayName;const Ye=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(cG,{children:[e.jsx(tD,{}),e.jsxs(Jd,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=Jd.displayName;const Ze=({className:t,...s})=>e.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Ze.displayName="DialogHeader";const zt=({className:t,...s})=>e.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});zt.displayName="DialogFooter";const Xe=m.forwardRef(({className:t,...s},a)=>e.jsx(Qd,{ref:a,className:be("text-lg font-semibold leading-none tracking-tight",t),...s}));Xe.displayName=Qd.displayName;const tt=m.forwardRef(({className:t,...s},a)=>e.jsx(Zd,{ref:a,className:be("text-sm text-muted-foreground",t),...s}));tt.displayName=Zd.displayName;function dG({onClose:t}){return e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 bg-white sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-lg",children:""})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Visualizar Documento"})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 hover:bg-gray-100",children:e.jsx(Yt,{className:"h-4 w-4"})})]})}function uG({documento:t}){const a={pendente:{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",className:"bg-yellow-100 text-yellow-700 border-yellow-200"},assinado:{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",className:"bg-green-100 text-green-700 border-green-200"},atrasado:{icon:e.jsx(Ns,{className:"w-4 h-4 text-red-600"}),label:"Atrasado",className:"bg-red-100 text-red-700 border-red-200"}}[t.status];return e.jsx(Ve,{className:"bg-gray-50 border-gray-200",children:e.jsx(Be,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.nome}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t.numeroProcesso})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Prazo para assinar: ",t.prazo]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 justify-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tipo:"}),e.jsx(oe,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200",children:t.tipo})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsxs(oe,{variant:"outline",className:a.className,children:[a.icon,a.label]})]})]})]})})})}function mG({documento:t}){return e.jsxs("div",{className:"flex-1 flex flex-col bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-gray-50 flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center text-gray-500 p-8",children:[e.jsx($e,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Preview do Documento PDF"}),e.jsxs("p",{className:"text-sm text-gray-400 max-w-md",children:['Aqui seria exibido o contedo do documento "',t.nome,'"']}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:t.numeroProcesso})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white flex gap-3",children:[e.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Visualizar Completo"]}),e.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Baixar PDF"]})]})]})}function hG(t,s){return m.useReducer((a,r)=>s[a][r]??a,t)}var Lb="ScrollArea",[sD,hae]=ua(Lb),[xG,rr]=sD(Lb),aD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,type:r="hover",dir:n,scrollHideDelay:o=600,...i}=t,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,x]=m.useState(null),[f,v]=m.useState(null),[p,y]=m.useState(null),[g,b]=m.useState(0),[j,N]=m.useState(0),[w,E]=m.useState(!1),[D,P]=m.useState(!1),_=rt(s,k=>c(k)),M=wo(n);return e.jsx(xG,{scope:a,type:r,dir:M,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:x,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:D,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:N,children:e.jsx(Ge.div,{dir:M,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});aD.displayName=Lb;var rD="ScrollAreaViewport",nD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,children:r,asChild:n,nonce:o,...i}=t,l=rr(rD,a),c=m.useRef(null),u=rt(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),e.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...i,asChild:n,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:CG({asChild:n,children:r},d=>e.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});nD.displayName=rD;var Qr="ScrollAreaScrollbar",$b=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=n,l=t.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),n.type==="hover"?e.jsx(fG,{...r,ref:s,forceMount:a}):n.type==="scroll"?e.jsx(pG,{...r,ref:s,forceMount:a}):n.type==="auto"?e.jsx(oD,{...r,ref:s,forceMount:a}):n.type==="always"?e.jsx(Vb,{...r,ref:s}):null});$b.displayName=Qr;var fG=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(Ms,{present:a||o,children:e.jsx(oD,{"data-state":o?"visible":"hidden",...r,ref:s})})}),pG=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=rr(Qr,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Vx(()=>c("SCROLL_END"),100),[l,c]=hG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,c]),m.useEffect(()=>{const u=n.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const x=()=>{const f=u[d];h!==f&&(c("SCROLL"),i()),h=f};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[n.viewport,o,c,i]),e.jsx(Ms,{present:a||l!=="hidden",children:e.jsx(Vb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:Ee(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oD=m.forwardRef((t,s)=>{const a=rr(Qr,t.__scopeScrollArea),{forceMount:r,...n}=t,[o,i]=m.useState(!1),l=t.orientation==="horizontal",c=Vx(()=>{if(a.viewport){const u=a.viewport.offsetWidth<a.viewport.scrollWidth,d=a.viewport.offsetHeight<a.viewport.scrollHeight;i(l?u:d)}},10);return wl(a.viewport,c),wl(a.content,c),e.jsx(Ms,{present:r||o,children:e.jsx(Vb,{"data-state":o?"visible":"hidden",...n,ref:s})})}),Vb=m.forwardRef((t,s)=>{const{orientation:a="vertical",...r}=t,n=rr(Qr,t.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uD(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:x=>i.current=x};function h(x,f){return NG(x,i.current,l,f)}return a==="horizontal"?e.jsx(gG,{...d,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const x=n.viewport.scrollLeft,f=vw(x,l,n.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollLeft=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollLeft=h(x,n.dir))}}):a==="vertical"?e.jsx(vG,{...d,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const x=n.viewport.scrollTop,f=vw(x,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:x=>{n.viewport&&(n.viewport.scrollTop=x)},onDragScroll:x=>{n.viewport&&(n.viewport.scrollTop=h(x))}}):null}),gG=m.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,o=rr(Qr,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=rt(s,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(lD,{"data-orientation":"horizontal",...n,ref:u,sizes:a,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$x(a)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const x=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(x),hD(x,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bh(i.paddingLeft),paddingEnd:bh(i.paddingRight)}})}})}),vG=m.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,o=rr(Qr,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=rt(s,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(lD,{"data-orientation":"vertical",...n,ref:u,sizes:a,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$x(a)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const x=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(x),hD(x,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bh(i.paddingTop),paddingEnd:bh(i.paddingBottom)}})}})}),[bG,iD]=sD(Qr),lD=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:n,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...x}=t,f=rr(Qr,a),[v,p]=m.useState(null),y=rt(s,_=>p(_)),g=m.useRef(null),b=m.useRef(""),j=f.viewport,N=r.content-r.viewport,w=as(d),E=as(c),D=Vx(h,10);function P(_){if(g.current){const M=_.clientX-g.current.left,k=_.clientY-g.current.top;u({x:M,y:k})}}return m.useEffect(()=>{const _=M=>{const k=M.target;(v==null?void 0:v.contains(k))&&w(M,N)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[j,v,N,w]),m.useEffect(E,[r,E]),wl(v,D),wl(f.content,D),e.jsx(bG,{scope:a,scrollbar:v,hasThumb:n,onThumbChange:as(o),onThumbPointerUp:as(i),onThumbPositionChange:E,onThumbPointerDown:as(l),children:e.jsx(Ge.div,{...x,ref:y,style:{position:"absolute",...x.style},onPointerDown:Ee(t.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(_))}),onPointerMove:Ee(t.onPointerMove,P),onPointerUp:Ee(t.onPointerUp,_=>{const M=_.target;M.hasPointerCapture(_.pointerId)&&M.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),g.current=null})})})}),vh="ScrollAreaThumb",cD=m.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=iD(vh,t.__scopeScrollArea);return e.jsx(Ms,{present:a||n.hasThumb,children:e.jsx(jG,{ref:s,...r})})}),jG=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,style:r,...n}=t,o=rr(vh,a),i=iD(vh,a),{onThumbPositionChange:l}=i,c=rt(s,h=>i.onThumbChange(h)),u=m.useRef(),d=Vx(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=o.viewport;if(h){const x=()=>{if(d(),!u.current){const f=wG(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[o.viewport,d,l]),e.jsx(Ge.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ee(t.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,p=h.clientY-f.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ee(t.onPointerUp,i.onThumbPointerUp)})});cD.displayName=vh;var Gb="ScrollAreaCorner",dD=m.forwardRef((t,s)=>{const a=rr(Gb,t.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?e.jsx(yG,{...t,ref:s}):null});dD.displayName=Gb;var yG=m.forwardRef((t,s)=>{const{__scopeScrollArea:a,...r}=t,n=rr(Gb,a),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return wl(n.scrollbarX,()=>{var h;const d=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(d),c(d)}),wl(n.scrollbarY,()=>{var h;const d=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(d),i(d)}),u?e.jsx(Ge.div,{...r,ref:s,style:{width:o,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bh(t){return t?parseInt(t,10):0}function uD(t,s){const a=t/s;return isNaN(a)?0:a}function $x(t){const s=uD(t.viewport,t.content),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-a)*s;return Math.max(r,18)}function NG(t,s,a,r="ltr"){const n=$x(a),o=n/2,i=s||o,l=n-i,c=a.scrollbar.paddingStart+i,u=a.scrollbar.size-a.scrollbar.paddingEnd-l,d=a.content-a.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return mD([c,u],h)(t)}function vw(t,s,a="ltr"){const r=$x(s),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,o=s.scrollbar.size-n,i=s.content-s.viewport,l=o-r,c=a==="ltr"?[0,i]:[i*-1,0],u=wd(t,c);return mD([0,i],[0,l])(u)}function mD(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function hD(t,s){return t>0&&t<s}var wG=(t,s=()=>{})=>{let a={left:t.scrollLeft,top:t.scrollTop},r=0;return function n(){const o={left:t.scrollLeft,top:t.scrollTop},i=a.left!==o.left,l=a.top!==o.top;(i||l)&&s(),a=o,r=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(r)};function Vx(t,s){const a=as(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,s)},[a,s])}function wl(t,s){const a=as(s);Ps(()=>{let r=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return n.observe(t),()=>{window.cancelAnimationFrame(r),n.unobserve(t)}}},[t,a])}function CG(t,s){const{asChild:a,children:r}=t;if(!a)return typeof s=="function"?s(r):s;const n=m.Children.only(r);return m.cloneElement(n,{children:typeof s=="function"?s(n.props.children):s})}var xD=aD,SG=nD,EG=dD;const Bb=m.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(xD,{ref:r,className:be("relative overflow-hidden",t),...a,children:[e.jsx(SG,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(fD,{}),e.jsx(EG,{})]}));Bb.displayName=xD.displayName;const fD=m.forwardRef(({className:t,orientation:s="vertical",...a},r)=>e.jsx($b,{ref:r,orientation:s,className:be("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:e.jsx(cD,{className:"relative flex-1 rounded-full bg-border"})}));fD.displayName=$b.displayName;function PG({assinatura:t}){const a={assinado:{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),badge:{className:"bg-green-100 text-green-700 border-green-200",text:"Assinado"},textColor:"text-green-600"},pendente:{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),badge:{className:"bg-yellow-100 text-yellow-700 border-yellow-200",text:"Pendente"},textColor:"text-yellow-600"},recusado:{icon:e.jsx(q4,{className:"w-4 h-4 text-red-600"}),badge:{className:"bg-red-100 text-red-700 border-red-200",text:"Recusado"},textColor:"text-red-600"}}[t.status];return e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.nome}),e.jsx("p",{className:"text-xs text-gray-600",children:t.cargo})]})]}),a.icon]}),e.jsx("div",{className:"flex items-center justify-between",children:t.status==="assinado"&&t.data?e.jsxs("p",{className:"text-xs text-gray-500",children:["Assinado em ",t.data]}):e.jsx(oe,{variant:"outline",className:`text-xs ${a.badge.className}`,children:a.badge.text})})]})}function AG({assinaturas:t}){const s=t.filter(r=>r.status==="assinado").length,a=t.length;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Assinaturas"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Re,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{children:[s,"/",a," assinaram"]})]})]}),e.jsx(Bb,{className:"flex-1",children:e.jsx("div",{className:"space-y-3",children:t.map((r,n)=>e.jsx(PG,{assinatura:r},n))})})]})}function DG({status:t,onAssinar:s}){return t==="pendente"||t==="atrasado"?e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(sb,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Pronto para assinar"})]}),e.jsxs(C,{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})}):e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Documento j assinado"})]})})}function kG({isOpen:t,onClose:s,documento:a}){const r=m.useRef(null);if(m.useEffect(()=>{t&&a&&a.status==="pendente"&&r.current&&setTimeout(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth",block:"center"})},500)},[t,a==null?void 0:a.status]),!a)return null;const n=[{nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",data:"15/01/2025",status:"assinado"},{nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",data:"16/01/2025",status:"assinado"},{nome:"Gabriel Miranda",cargo:"Analista de Contratos",data:a.status==="assinado"?"17/01/2025":"",status:a.status==="assinado"?"assinado":"pendente"}],o=()=>{console.log("Assinando documento:",a.id),s()};return e.jsx(Ke,{open:t,onOpenChange:s,children:e.jsx(Ye,{className:"max-w-none w-screen h-screen p-0 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(dG,{onClose:s}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 p-6 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-w-0",children:[e.jsx(uG,{documento:a}),e.jsx(mG,{documento:a})]}),e.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:[e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(AG,{assinaturas:n})}),e.jsx("div",{ref:r,children:e.jsx(DG,{status:a.status,onAssinar:o})})]})]})]})})})}function TG({type:t}){const a={pendentes:{icon:e.jsx($e,{className:"w-16 h-16 text-gray-300"}),title:"Nenhum documento pendente",description:"Voc no possui documentos aguardando sua assinatura no momento.",action:"Todos os seus documentos foram assinados ou esto em anlise."},assinados:{icon:e.jsx(Re,{className:"w-16 h-16 text-green-300"}),title:"Nenhum documento assinado",description:"Voc ainda no assinou nenhum documento.",action:"Os documentos aparecero aqui aps serem assinados."},geral:{icon:e.jsx($e,{className:"w-16 h-16 text-gray-300"}),title:"Nenhum documento encontrado",description:"No foram encontrados documentos com os filtros aplicados.",action:"Tente ajustar os filtros de busca para encontrar mais resultados."}}[t];return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[a.icon,e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:a.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 text-center max-w-md",children:a.description}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:a.action})]})}const ji=[{id:"1",numeroProcesso:"Processo administrativo 012/2025",nome:"Termo de Referncia - Aquisio de Equipamentos Mdicos",tipo:"DFD",prazo:"30/01/2025",status:"pendente"},{id:"2",numeroProcesso:"Processo administrativo 045/2025",nome:"Estudo Tcnico Preliminar - Servios de Limpeza",tipo:"ETP",prazo:"25/01/2025",status:"atrasado"},{id:"3",numeroProcesso:"Processo administrativo 008/2025",nome:"Termo de Referncia - Contratao de Consultoria",tipo:"DFD",prazo:"15/02/2025",status:"assinado"},{id:"4",numeroProcesso:"Processo administrativo 052/2025",nome:"Estudo Tcnico - Aquisio de Medicamentos",tipo:"ETP",prazo:"05/02/2025",status:"pendente"},{id:"5",numeroProcesso:"Processo administrativo 015/2025",nome:"Termo de Referncia - Servios de TI",tipo:"DFD",prazo:"20/02/2025",status:"pendente"},{id:"6",numeroProcesso:"Processo administrativo 038/2025",nome:"Estudo Tcnico - Manuteno Predial",tipo:"ETP",prazo:"10/01/2025",status:"assinado"}];function bw(){const t=fs(),{id:s}=ax(),[a,r]=m.useState(""),[n,o]=m.useState("todos"),[i,l]=m.useState("todos"),[c,u]=m.useState("todos"),[d,h]=m.useState(!1),[x,f]=m.useState(null);m.useEffect(()=>{if(s){const b=ji.find(j=>j.id===s);b&&(f(b),h(!0))}},[s]);const v=m.useMemo(()=>ji.filter(b=>{const j=a===""||b.numeroProcesso.toLowerCase().includes(a.toLowerCase())||b.nome.toLowerCase().includes(a.toLowerCase()),N=n==="todos"||n==="pendentes"&&(b.status==="pendente"||b.status==="atrasado")||n==="assinados"&&b.status==="assinado",w=i==="todos"||i==="vencendo"&&b.status==="pendente"||i==="vencidos"&&b.status==="atrasado",E=c==="todos"||b.tipo.toLowerCase()===c.toLowerCase();return j&&N&&w&&E}),[a,n,i,c]),p=m.useMemo(()=>{const b=ji.filter(w=>w.status==="pendente").length,j=ji.filter(w=>w.status==="atrasado").length,N=ji.filter(w=>w.status==="assinado").length;return{pendentes:b,atrasados:j,assinados:N}},[]),y=b=>{const j=ji.find(N=>N.id===b);f(j||null),h(!0)},g=()=>{h(!1),f(null),s&&t("/assinaturas")};return e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx(Jr,{}),e.jsx("div",{className:"flex-1 px-4 pt-16 md:pt-20 pb-4 overflow-hidden",children:e.jsxs("div",{className:"h-full w-full flex flex-col",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Minhas Assinaturas"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Visualize e assine os documentos atribudos a voc"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full mt-3 mb-2 flex-shrink-0",children:[e.jsx(Ve,{children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Fe,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.pendentes})]})]})})}),e.jsx(Ve,{children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(xt,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Atrasados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.atrasados})]})]})})}),e.jsx(Ve,{children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Re,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Assinados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.assinados})]})]})})})]}),e.jsx("div",{className:"flex-shrink-0 mb-2",children:e.jsx(oG,{searchTerm:a,statusFilter:n,prazoFilter:i,tipoFilter:c,onSearchChange:r,onStatusChange:o,onPrazoChange:l,onTipoChange:u})}),e.jsx(Ve,{className:"flex-1 flex flex-col min-h-0",children:e.jsxs(Be,{className:"p-0 flex flex-col h-full",children:[e.jsx("div",{className:"p-2 border-b border-gray-200 flex-shrink-0",children:e.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-blue-600"}),"Documentos Pendentes e Assinados"]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:v.length>0?e.jsx("div",{className:"h-full overflow-auto scroll-behavior-smooth",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[15%]",children:"N Processo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[35%]",children:"Documento"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%] min-w-[80px]",children:"Tipo"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[12%] min-w-[120px]",children:"Prazo para Assinar"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[12%] min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[16%] min-w-[200px]",children:"Aes"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:v.map(b=>e.jsx(lG,{documento:b,onVisualizar:y},b.id))})]})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(TG,{type:n==="pendentes"?"pendentes":n==="assinados"?"assinados":"geral"})})})]})})]})}),e.jsx(kG,{isOpen:d,onClose:g,documento:x})]})}const uo=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:be("w-full caption-bottom text-sm",t),...s})}));uo.displayName="Table";const mo=m.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:be("[&_tr]:border-b",t),...s}));mo.displayName="TableHeader";const ho=m.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:be("[&_tr:last-child]:border-0",t),...s}));ho.displayName="TableBody";const RG=m.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));RG.displayName="TableFooter";const Ys=m.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ys.displayName="TableRow";const at=m.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));at.displayName="TableHead";const st=m.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));st.displayName="TableCell";const MG=m.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:be("mt-4 text-sm text-muted-foreground",t),...s}));MG.displayName="TableCaption";const yi=[{id:"1",numeroProcesso:"Processo administrativo 012/2025",tipo:"DFD",faseAtual:"Elaborao DFD",prazoFinal:"30/01/2025",status:"em_andamento",pendenciaUsuario:"Assinar",objeto:"Aquisio de Equipamentos Mdicos para UTI",responsavel:"Dr. Maria Silva",dataCriacao:"15/01/2025",ultimaAtualizacao:"25/01/2025"},{id:"2",numeroProcesso:"Processo administrativo 045/2025",tipo:"ETP",faseAtual:"Assinatura ETP",prazoFinal:"25/01/2025",status:"atrasado",pendenciaUsuario:"Corrigir",objeto:"Estudo Tcnico Preliminar - Servios de Limpeza Hospitalar",responsavel:"Eng. Joo Santos",dataCriacao:"10/01/2025",ultimaAtualizacao:"24/01/2025"},{id:"3",numeroProcesso:"Processo administrativo 001/2025",tipo:"TR",faseAtual:"TR",prazoFinal:"20/02/2025",status:"concluido",pendenciaUsuario:"Nenhuma",objeto:"Contratao de Consultoria Especializada",responsavel:"Andressa Sterfany Santos da Silva",dataCriacao:"05/01/2025",ultimaAtualizacao:"20/01/2025"},{id:"4",numeroProcesso:"Processo administrativo 052/2025",tipo:"ETP",faseAtual:"Matriz de Risco",prazoFinal:"05/02/2025",status:"em_andamento",pendenciaUsuario:"Analisar",objeto:"Estudo Tcnico - Aquisio de Medicamentos Especializados",responsavel:"Lucas Moreira Brito",dataCriacao:"12/01/2025",ultimaAtualizacao:"22/01/2025"},{id:"5",numeroProcesso:"Processo administrativo 015/2025",tipo:"DFD",faseAtual:"Edital",prazoFinal:"20/02/2025",status:"concluido",pendenciaUsuario:"Nenhuma",objeto:"Servios de TI e Infraestrutura",responsavel:"Leticia Bonfim Guilherme",dataCriacao:"08/01/2025",ultimaAtualizacao:"18/01/2025"},{id:"6",numeroProcesso:"Processo administrativo 038/2025",tipo:"ETP",faseAtual:"Publicao",prazoFinal:"10/01/2025",status:"atrasado",pendenciaUsuario:"Assinar",objeto:"Manuteno Predial e Servios Gerais",responsavel:"Lucas Moreira Brito",dataCriacao:"03/01/2025",ultimaAtualizacao:"12/01/2025"},{id:"7",numeroProcesso:"Processo administrativo 023/2025",tipo:"Matriz de Risco",faseAtual:"Matriz de Risco",prazoFinal:"28/01/2025",status:"pendente",pendenciaUsuario:"Corrigir",objeto:"Anlise de Riscos - Projeto de Expanso Hospitalar",responsavel:"Dr. Roberto Alves",dataCriacao:"14/01/2025",ultimaAtualizacao:"23/01/2025"},{id:"8",numeroProcesso:"Processo administrativo 019/2025",tipo:"TR",faseAtual:"TR",prazoFinal:"08/02/2025",status:"em_andamento",pendenciaUsuario:"Assinar",objeto:"Termo de Referncia - Servios de Segurana",responsavel:"Cap. Luiz Silva",dataCriacao:"16/01/2025",ultimaAtualizacao:"24/01/2025"}];function IG({status:t}){const a={em_andamento:{label:"Em andamento",className:"bg-blue-100 text-blue-800 border-blue-200"},pendente:{label:"Pendente",className:"bg-orange-100 text-orange-800 border-orange-200"},atrasado:{label:"Atrasado",className:"bg-red-100 text-red-800 border-red-200"},concluido:{label:"Concludo",className:"bg-green-100 text-green-800 border-green-200"}}[t];return e.jsx(oe,{className:`${a.className} border text-xs font-medium`,children:a.label})}function OG({prazo:t}){const s=new Date,r=new Date(t.split("/").reverse().join("-")).getTime()-s.getTime(),n=Math.ceil(r/(1e3*60*60*24));let o="bg-green-100 text-green-800 border-green-200",i=e.jsx(Re,{className:"w-3 h-3"});return n<0?(o="bg-red-100 text-red-800 border-red-200",i=e.jsx(xt,{className:"w-3 h-3"})):n<=3&&(o="bg-yellow-100 text-yellow-800 border-yellow-200",i=e.jsx(Fe,{className:"w-3 h-3"})),e.jsxs(oe,{className:`${o} border flex items-center gap-1 text-xs font-medium`,children:[i,t]})}function zG({pendencia:t,onAction:s,processId:a}){if(t==="Nenhuma")return e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Sem pendncia"]});const n={Assinar:{className:"bg-blue-600 hover:bg-blue-700 text-white",icon:e.jsx(ar,{className:"w-3 h-3"})},Corrigir:{className:"bg-red-600 hover:bg-red-700 text-white",icon:e.jsx(xt,{className:"w-3 h-3"})},Analisar:{className:"bg-purple-600 hover:bg-purple-700 text-white",icon:e.jsx(Qe,{className:"w-3 h-3"})}}[t];return e.jsxs(C,{size:"sm",onClick:()=>s(a,t),className:`${n.className} text-xs h-8 px-3 font-medium`,children:[n.icon&&e.jsx("span",{className:"mr-1",children:n.icon}),t]})}function FG({process:t,onVerDetalhes:s}){return e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>s(t),className:"text-xs h-8 px-3 font-medium",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})}function _G({estatisticas:t,navigate:s}){return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Meus Processos"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Acompanhe seus processos em todas as fases do planejamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.total}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]}),e.jsx(xd,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.comPendencia}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Com Pendncia"})]}),e.jsx(Ns,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.atrasados}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Atrasados"})]}),e.jsx(xt,{className:"w-8 h-8 text-red-500"})]})})}),e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.vencendo}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Vencendo"})]}),e.jsx(Fe,{className:"w-8 h-8 text-yellow-500"})]})})})]})]})}function LG({searchTerm:t,tipoFilter:s,statusFilter:a,pendenciaFilter:r,onSearchChange:n,onTipoChange:o,onStatusChange:i,onPendenciaChange:l}){return e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0 mb-6",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{type:"text",placeholder:"Buscar por n do processo ou objeto",value:t,onChange:c=>n(c.target.value),className:"pl-10 border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg"})]}),e.jsxs(dt,{value:s,onValueChange:o,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(ut,{placeholder:"Filtrar por tipo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos os tipos"}),e.jsx(Ce,{value:"DFD",children:"DFD"}),e.jsx(Ce,{value:"ETP",children:"ETP"}),e.jsx(Ce,{value:"Matriz de Risco",children:"Matriz de Risco"}),e.jsx(Ce,{value:"TR",children:"TR"}),e.jsx(Ce,{value:"Edital",children:"Edital"})]})]}),e.jsxs(dt,{value:a,onValueChange:i,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(ut,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"em_andamento",children:"Em andamento"}),e.jsx(Ce,{value:"pendente",children:"Pendente"}),e.jsx(Ce,{value:"atrasado",children:"Atrasado"}),e.jsx(Ce,{value:"concluido",children:"Concludo"})]})]}),e.jsxs(dt,{value:r,onValueChange:l,children:[e.jsx(it,{className:"border-gray-200 focus:border-blue-300 focus:ring-blue-200 rounded-lg",children:e.jsx(ut,{placeholder:"Pendncia"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"com_pendencia",children:"Com pendncia"}),e.jsx(Ce,{value:"sem_pendencia",children:"Sem pendncia"})]})]})]})})})}function $G(){const t=fs();kt();const[s,a]=m.useState(""),[r,n]=m.useState("todos"),[o,i]=m.useState("todos"),[l,c]=m.useState("todos"),u=m.useMemo(()=>yi.filter(f=>{const v=s===""||f.numeroProcesso.toLowerCase().includes(s.toLowerCase())||f.objeto.toLowerCase().includes(s.toLowerCase()),p=r==="todos"||f.tipo===r,y=o==="todos"||f.status===o,g=l==="todos"||l==="com_pendencia"&&f.pendenciaUsuario!=="Nenhuma"||l==="sem_pendencia"&&f.pendenciaUsuario==="Nenhuma";return v&&p&&y&&g}),[s,r,o,l]),d=m.useMemo(()=>{const f=yi.length,v=yi.filter(g=>g.pendenciaUsuario!=="Nenhuma").length,p=yi.filter(g=>g.status==="atrasado").length,y=yi.filter(g=>{const b=new Date,N=new Date(g.prazoFinal.split("/").reverse().join("-")).getTime()-b.getTime(),w=Math.ceil(N/(1e3*60*60*24));return w<=3&&w>=0}).length;return{total:f,comPendencia:v,atrasados:p,vencendo:y}},[]),h=f=>{t(`/processos/${f.id}`)},x=(f,v)=>{console.log(`Executando ao ${v} no processo ${f}`),v==="Assinar"?yi.find(y=>y.id===f)&&t(`/assinaturas/${f}`):console.log(`Ao ${v} executada para o processo ${f}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 px-6 pb-6",children:[e.jsx(_G,{estatisticas:d,navigate:t}),e.jsx(LG,{searchTerm:s,tipoFilter:r,statusFilter:o,pendenciaFilter:l,onSearchChange:a,onTipoChange:n,onStatusChange:i,onPendenciaChange:c}),e.jsx(Ve,{className:"bg-white shadow-md rounded-xl border-0",children:e.jsxs(Be,{className:"p-0",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Processos (",u.length,")"]})}),e.jsx(Bb,{className:"w-full",children:e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{className:"border-b border-gray-100",children:[e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 w-2/5",children:"N do Processo"}),e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 text-center",children:"Fase Atual"}),e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 text-center",children:"Prazo Final"}),e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 text-center",children:"Status"}),e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 text-center",children:"Pendncia"}),e.jsx(at,{className:"text-xs font-semibold text-gray-600 px-6 py-4 text-center",children:"Ao"})]})}),e.jsx(ho,{children:u.map(f=>e.jsxs(Ys,{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsxs(st,{className:"px-6 py-4 w-2/5 min-w-0",children:[e.jsx("div",{className:"font-semibold text-blue-900 text-sm",children:f.numeroProcesso}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:f.objeto})]}),e.jsx(st,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:f.faseAtual})}),e.jsx(st,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(OG,{prazo:f.prazoFinal})})}),e.jsx(st,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(IG,{status:f.status})})}),e.jsx(st,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(zG,{pendencia:f.pendenciaUsuario,onAction:x,processId:f.id})})}),e.jsx(st,{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(FG,{process:f,onVerDetalhes:h})})})]},f.id))})]})})]})})]})]})}const Ub=m.createContext({});function Hb(t){const s=m.useRef(null);return s.current===null&&(s.current=t()),s.current}const Wb=typeof window<"u",pD=Wb?m.useLayoutEffect:m.useEffect,Gx=m.createContext(null);function qb(t,s){t.indexOf(s)===-1&&t.push(s)}function Yb(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const vn=(t,s,a)=>a>s?s:a<t?t:a;let jh=()=>{};const bn={},gD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vD(t){return typeof t=="object"&&t!==null}const bD=t=>/^0[^.\s]+$/u.test(t);function Kb(t){let s;return()=>(s===void 0&&(s=t()),s)}const Qa=t=>t,VG=(t,s)=>a=>s(t(a)),su=(...t)=>t.reduce(VG),Cd=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r};class Xb{constructor(){this.subscriptions=[]}add(s){return qb(this.subscriptions,s),()=>Yb(this.subscriptions,s)}notify(s,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,a,r);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ur=t=>t*1e3,Hr=t=>t/1e3;function jD(t,s){return s?t*(1e3/s):0}const yD=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,GG=1e-7,BG=12;function UG(t,s,a,r,n){let o,i,l=0;do i=s+(a-s)/2,o=yD(i,r,n)-t,o>0?a=i:s=i;while(Math.abs(o)>GG&&++l<BG);return i}function au(t,s,a,r){if(t===s&&a===r)return Qa;const n=o=>UG(o,0,1,t,a);return o=>o===0||o===1?o:yD(n(o),s,r)}const ND=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,wD=t=>s=>1-t(1-s),CD=au(.33,1.53,.69,.99),Jb=wD(CD),SD=ND(Jb),ED=t=>(t*=2)<1?.5*Jb(t):.5*(2-Math.pow(2,-10*(t-1))),Qb=t=>1-Math.sin(Math.acos(t)),PD=wD(Qb),AD=ND(Qb),HG=au(.42,0,1,1),WG=au(0,0,.58,1),DD=au(.42,0,.58,1),qG=t=>Array.isArray(t)&&typeof t[0]!="number",kD=t=>Array.isArray(t)&&typeof t[0]=="number",jw={linear:Qa,easeIn:HG,easeInOut:DD,easeOut:WG,circIn:Qb,circInOut:AD,circOut:PD,backIn:Jb,backInOut:SD,backOut:CD,anticipate:ED},YG=t=>typeof t=="string",yw=t=>{if(kD(t)){jh(t.length===4);const[s,a,r,n]=t;return au(s,a,r,n)}else if(YG(t))return jh(jw[t]!==void 0),jw[t];return t},Gu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Nw={value:null,addProjectionMetrics:null};function KG(t,s){let a=new Set,r=new Set,n=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){i.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,x=!1,f=!1)=>{const p=f&&n?a:r;return x&&i.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),i.delete(h)},process:h=>{if(l=h,n){o=!0;return}n=!0,[a,r]=[r,a],a.forEach(u),s&&Nw.value&&Nw.value.frameloop[s].push(c),c=0,a.clear(),n=!1,o&&(o=!1,d.process(h))}};return d}const XG=40;function TD(t,s){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>a=!0,i=Gu.reduce((j,N)=>(j[N]=KG(o,s?N:void 0),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:x,render:f,postRender:v}=i,p=()=>{const j=bn.useManualTiming?n.timestamp:performance.now();a=!1,bn.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(j-n.timestamp,XG),1)),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),d.process(n),h.process(n),x.process(n),f.process(n),v.process(n),n.isProcessing=!1,a&&s&&(r=!1,t(p))},y=()=>{a=!0,r=!0,n.isProcessing||t(p)};return{schedule:Gu.reduce((j,N)=>{const w=i[N];return j[N]=(E,D=!1,P=!1)=>(a||y(),w.schedule(E,D,P)),j},{}),cancel:j=>{for(let N=0;N<Gu.length;N++)i[Gu[N]].cancel(j)},state:n,steps:i}}const{schedule:rs,cancel:xo,state:Os,steps:np}=TD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qa,!0);let jm;function JG(){jm=void 0}const va={now:()=>(jm===void 0&&va.set(Os.isProcessing||bn.useManualTiming?Os.timestamp:performance.now()),jm),set:t=>{jm=t,queueMicrotask(JG)}},RD=t=>s=>typeof s=="string"&&s.startsWith(t),Zb=RD("--"),QG=RD("var(--"),ej=t=>QG(t)?ZG.test(t.split("/*")[0].trim()):!1,ZG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sd={...Wl,transform:t=>vn(0,1,t)},Bu={...Wl,default:1},Fc=t=>Math.round(t*1e5)/1e5,tj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e9(t){return t==null}const t9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sj=(t,s)=>a=>!!(typeof a=="string"&&t9.test(a)&&a.startsWith(t)||s&&!e9(a)&&Object.prototype.hasOwnProperty.call(a,s)),MD=(t,s,a)=>r=>{if(typeof r!="string")return r;const[n,o,i,l]=r.match(tj);return{[t]:parseFloat(n),[s]:parseFloat(o),[a]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},s9=t=>vn(0,255,t),op={...Wl,transform:t=>Math.round(s9(t))},$o={test:sj("rgb","red"),parse:MD("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+op.transform(t)+", "+op.transform(s)+", "+op.transform(a)+", "+Fc(Sd.transform(r))+")"};function a9(t){let s="",a="",r="",n="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),s+=s,a+=a,r+=r,n+=n),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const m0={test:sj("#"),parse:a9,transform:$o.transform},ru=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Tn=ru("deg"),Wr=ru("%"),nt=ru("px"),r9=ru("vh"),n9=ru("vw"),ww={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},Fi={test:sj("hsl","hue"),parse:MD("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(Fc(s))+", "+Wr.transform(Fc(a))+", "+Fc(Sd.transform(r))+")"},js={test:t=>$o.test(t)||m0.test(t)||Fi.test(t),parse:t=>$o.test(t)?$o.parse(t):Fi.test(t)?Fi.parse(t):m0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$o.transform(t):Fi.transform(t),getAnimatableNone:t=>{const s=js.parse(t);return s.alpha=0,js.transform(s)}},o9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i9(t){var s,a;return isNaN(t)&&typeof t=="string"&&(((s=t.match(tj))==null?void 0:s.length)||0)+(((a=t.match(o9))==null?void 0:a.length)||0)>0}const ID="number",OD="color",l9="var",c9="var(",Cw="${}",d9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ed(t){const s=t.toString(),a=[],r={color:[],number:[],var:[]},n=[];let o=0;const l=s.replace(d9,c=>(js.test(c)?(r.color.push(o),n.push(OD),a.push(js.parse(c))):c.startsWith(c9)?(r.var.push(o),n.push(l9),a.push(c)):(r.number.push(o),n.push(ID),a.push(parseFloat(c))),++o,Cw)).split(Cw);return{values:a,split:l,indexes:r,types:n}}function zD(t){return Ed(t).values}function FD(t){const{split:s,types:a}=Ed(t),r=s.length;return n=>{let o="";for(let i=0;i<r;i++)if(o+=s[i],n[i]!==void 0){const l=a[i];l===ID?o+=Fc(n[i]):l===OD?o+=js.transform(n[i]):o+=n[i]}return o}}const u9=t=>typeof t=="number"?0:js.test(t)?js.getAnimatableNone(t):t;function m9(t){const s=zD(t);return FD(t)(s.map(u9))}const fo={test:i9,parse:zD,createTransformer:FD,getAnimatableNone:m9};function ip(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function h9({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let n=0,o=0,i=0;if(!s)n=o=i=a;else{const l=a<.5?a*(1+s):a+s-a*s,c=2*a-l;n=ip(c,l,t+1/3),o=ip(c,l,t),i=ip(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function yh(t,s){return a=>a>0?s:t}const is=(t,s,a)=>t+(s-t)*a,lp=(t,s,a)=>{const r=t*t,n=a*(s*s-r)+r;return n<0?0:Math.sqrt(n)},x9=[m0,$o,Fi],f9=t=>x9.find(s=>s.test(t));function Sw(t){const s=f9(t);if(!s)return!1;let a=s.parse(t);return s===Fi&&(a=h9(a)),a}const Ew=(t,s)=>{const a=Sw(t),r=Sw(s);if(!a||!r)return yh(t,s);const n={...a};return o=>(n.red=lp(a.red,r.red,o),n.green=lp(a.green,r.green,o),n.blue=lp(a.blue,r.blue,o),n.alpha=is(a.alpha,r.alpha,o),$o.transform(n))},h0=new Set(["none","hidden"]);function p9(t,s){return h0.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function g9(t,s){return a=>is(t,s,a)}function aj(t){return typeof t=="number"?g9:typeof t=="string"?ej(t)?yh:js.test(t)?Ew:j9:Array.isArray(t)?_D:typeof t=="object"?js.test(t)?Ew:v9:yh}function _D(t,s){const a=[...t],r=a.length,n=t.map((o,i)=>aj(o)(o,s[i]));return o=>{for(let i=0;i<r;i++)a[i]=n[i](o);return a}}function v9(t,s){const a={...t,...s},r={};for(const n in a)t[n]!==void 0&&s[n]!==void 0&&(r[n]=aj(t[n])(t[n],s[n]));return n=>{for(const o in r)a[o]=r[o](n);return a}}function b9(t,s){const a=[],r={color:0,var:0,number:0};for(let n=0;n<s.values.length;n++){const o=s.types[n],i=t.indexes[o][r[o]],l=t.values[i]??0;a[n]=l,r[o]++}return a}const j9=(t,s)=>{const a=fo.createTransformer(s),r=Ed(t),n=Ed(s);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?h0.has(t)&&!n.values.length||h0.has(s)&&!r.values.length?p9(t,s):su(_D(b9(r,n),n.values),a):yh(t,s)};function LD(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?is(t,s,a):aj(t)(t,s)}const y9=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>rs.update(s,a),stop:()=>xo(s),now:()=>Os.isProcessing?Os.timestamp:va.now()}},$D=(t,s,a=10)=>{let r="";const n=Math.max(Math.round(s/a),2);for(let o=0;o<n;o++)r+=Math.round(t(o/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nh=2e4;function rj(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<Nh;)s+=a,r=t.next(s);return s>=Nh?1/0:s}function N9(t,s=100,a){const r=a({...t,keyframes:[0,s]}),n=Math.min(rj(r),Nh);return{type:"keyframes",ease:o=>r.next(n*o).value/s,duration:Hr(n)}}const w9=5;function VD(t,s,a){const r=Math.max(s-w9,0);return jD(a-t(r),s-r)}const hs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function C9({duration:t=hs.duration,bounce:s=hs.bounce,velocity:a=hs.velocity,mass:r=hs.mass}){let n,o,i=1-s;i=vn(hs.minDamping,hs.maxDamping,i),t=vn(hs.minDuration,hs.maxDuration,Hr(t)),i<1?(n=u=>{const d=u*i,h=d*t,x=d-a,f=x0(u,i),v=Math.exp(-h);return cp-x/f*v},o=u=>{const h=u*i*t,x=h*a+a,f=Math.pow(i,2)*Math.pow(u,2)*t,v=Math.exp(-h),p=x0(Math.pow(u,2),i);return(-n(u)+cp>0?-1:1)*((x-f)*v)/p}):(n=u=>{const d=Math.exp(-u*t),h=(u-a)*t+1;return-cp+d*h},o=u=>{const d=Math.exp(-u*t),h=(a-u)*(t*t);return d*h});const l=5/t,c=E9(n,o,l);if(t=Ur(t),isNaN(c))return{stiffness:hs.stiffness,damping:hs.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const S9=12;function E9(t,s,a){let r=a;for(let n=1;n<S9;n++)r=r-t(r)/s(r);return r}function x0(t,s){return t*Math.sqrt(1-s*s)}const P9=["duration","bounce"],A9=["stiffness","damping","mass"];function Pw(t,s){return s.some(a=>t[a]!==void 0)}function D9(t){let s={velocity:hs.velocity,stiffness:hs.stiffness,damping:hs.damping,mass:hs.mass,isResolvedFromDuration:!1,...t};if(!Pw(t,A9)&&Pw(t,P9))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,o=2*vn(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:hs.mass,stiffness:n,damping:o}}else{const a=C9(t);s={...s,...a,mass:hs.mass},s.isResolvedFromDuration=!0}return s}function wh(t=hs.visualDuration,s=hs.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:n}=a;const o=a.keyframes[0],i=a.keyframes[a.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:x,isResolvedFromDuration:f}=D9({...a,velocity:-Hr(a.velocity||0)}),v=x||0,p=u/(2*Math.sqrt(c*d)),y=i-o,g=Hr(Math.sqrt(c/d)),b=Math.abs(y)<5;r||(r=b?hs.restSpeed.granular:hs.restSpeed.default),n||(n=b?hs.restDelta.granular:hs.restDelta.default);let j;if(p<1){const w=x0(g,p);j=E=>{const D=Math.exp(-p*g*E);return i-D*((v+p*g*y)/w*Math.sin(w*E)+y*Math.cos(w*E))}}else if(p===1)j=w=>i-Math.exp(-g*w)*(y+(v+g*y)*w);else{const w=g*Math.sqrt(p*p-1);j=E=>{const D=Math.exp(-p*g*E),P=Math.min(w*E,300);return i-D*((v+p*g*y)*Math.sinh(P)+w*y*Math.cosh(P))/w}}const N={calculatedDuration:f&&h||null,next:w=>{const E=j(w);if(f)l.done=w>=h;else{let D=w===0?v:0;p<1&&(D=w===0?Ur(v):VD(j,w,E));const P=Math.abs(D)<=r,_=Math.abs(i-E)<=n;l.done=P&&_}return l.value=l.done?i:E,l},toString:()=>{const w=Math.min(rj(N),Nh),E=$D(D=>N.next(w*D).value,w,30);return w+"ms "+E},toTransition:()=>{}};return N}wh.applyToOptions=t=>{const s=N9(t,100,wh);return t.ease=s.ease,t.duration=Ur(s.duration),t.type="keyframes",t};function f0({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],x={done:!1,value:h},f=P=>l!==void 0&&P<l||c!==void 0&&P>c,v=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=a*s;const y=h+p,g=i===void 0?y:i(y);g!==y&&(p=g-h);const b=P=>-p*Math.exp(-P/r),j=P=>g+b(P),N=P=>{const _=b(P),M=j(P);x.done=Math.abs(_)<=u,x.value=x.done?g:M};let w,E;const D=P=>{f(x.value)&&(w=P,E=wh({keyframes:[x.value,v(x.value)],velocity:VD(j,P,x.value),damping:n,stiffness:o,restDelta:u,restSpeed:d}))};return D(0),{calculatedDuration:null,next:P=>{let _=!1;return!E&&w===void 0&&(_=!0,N(P),D(P)),w!==void 0&&P>=w?E.next(P-w):(!_&&N(P),x)}}}function k9(t,s,a){const r=[],n=a||bn.mix||LD,o=t.length-1;for(let i=0;i<o;i++){let l=n(t[i],t[i+1]);if(s){const c=Array.isArray(s)?s[i]||Qa:s;l=su(c,l)}r.push(l)}return r}function T9(t,s,{clamp:a=!0,ease:r,mixer:n}={}){const o=t.length;if(jh(o===s.length),o===1)return()=>s[0];if(o===2&&s[0]===s[1])return()=>s[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),s=[...s].reverse());const l=k9(s,r,n),c=l.length,u=d=>{if(i&&d<t[0])return s[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const x=Cd(t[h],t[h+1],d);return l[h](x)};return a?d=>u(vn(t[0],t[o-1],d)):u}function R9(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const n=Cd(0,s,r);t.push(is(a,1,n))}}function M9(t){const s=[0];return R9(s,t.length-1),s}function I9(t,s){return t.map(a=>a*s)}function O9(t,s){return t.map(()=>s||DD).splice(0,t.length-1)}function _c({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const n=qG(r)?r.map(yw):yw(r),o={done:!1,value:s[0]},i=I9(a&&a.length===s.length?a:M9(s),t),l=T9(i,s,{ease:Array.isArray(n)?n:O9(s,n)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const z9=t=>t!==null;function nj(t,{repeat:s,repeatType:a="loop"},r,n=1){const o=t.filter(z9),l=n<0||s&&a!=="loop"&&s%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const F9={decay:f0,inertia:f0,tween:_c,keyframes:_c,spring:wh};function GD(t){typeof t.type=="string"&&(t.type=F9[t.type])}class oj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const _9=t=>t/100;class ij extends oj{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:a}=this.options;a&&a.updatedAt!==va.now()&&this.tick(va.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;GD(s);const{type:a=_c,repeat:r=0,repeatDelay:n=0,repeatType:o,velocity:i=0}=s;let{keyframes:l}=s;const c=a||_c;c!==_c&&typeof l[0]!="number"&&(this.mixKeyframes=su(_9,LD(l[0],l[1])),l=[0,100]);const u=c({...s,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=rj(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=u}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:r,totalDuration:n,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:x,repeatDelay:f,type:v,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-n/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let j=this.currentTime,N=r;if(h){const P=Math.min(this.currentTime,n)/l;let _=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&_--,_=Math.min(_,h+1),!!(_%2)&&(x==="reverse"?(M=1-M,f&&(M-=f/l)):x==="mirror"&&(N=i)),j=vn(0,1,M)*l}const w=b?{done:!1,value:d[0]}:N.next(j);o&&(w.value=o(w.value));let{done:E}=w;!b&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return D&&v!==f0&&(w.value=nj(d,this.options,y,this.speed)),p&&p(w.value),D&&this.finish(),w}then(s,a){return this.finished.then(s,a)}get duration(){return Hr(this.calculatedDuration)}get time(){return Hr(this.currentTime)}set time(s){var a;s=Ur(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(va.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=Hr(this.currentTime))}play(){var n,o;if(this.isStopped)return;const{driver:s=y9,startTime:a}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),(o=(n=this.options).onPlay)==null||o.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(va.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(s=this.options).onComplete)==null||a.call(s)}cancel(){var s,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(s=this.options).onCancel)==null||a.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),s.observe(this)}}function L9(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Vo=t=>t*180/Math.PI,p0=t=>{const s=Vo(Math.atan2(t[1],t[0]));return g0(s)},$9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:p0,rotateZ:p0,skewX:t=>Vo(Math.atan(t[1])),skewY:t=>Vo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},g0=t=>(t=t%360,t<0&&(t+=360),t),Aw=p0,Dw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),kw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dw,scaleY:kw,scale:t=>(Dw(t)+kw(t))/2,rotateX:t=>g0(Vo(Math.atan2(t[6],t[5]))),rotateY:t=>g0(Vo(Math.atan2(-t[2],t[0]))),rotateZ:Aw,rotate:Aw,skewX:t=>Vo(Math.atan(t[4])),skewY:t=>Vo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function v0(t){return t.includes("scale")?1:0}function b0(t,s){if(!t||t==="none")return v0(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=V9,n=a;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$9,n=l}if(!n)return v0(s);const o=r[s],i=n[1].split(",").map(B9);return typeof o=="function"?o(i):i[o]}const G9=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return b0(a,s)};function B9(t){return parseFloat(t.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(ql),Tw=t=>t===Wl||t===nt,U9=new Set(["x","y","z"]),H9=ql.filter(t=>!U9.has(t));function W9(t){const s=[];return H9.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s}const Yo={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>b0(s,"x"),y:(t,{transform:s})=>b0(s,"y")};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const Ko=new Set;let j0=!1,y0=!1,N0=!1;function BD(){if(y0){const t=Array.from(Ko).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),a=new Map;s.forEach(r=>{const n=W9(r);n.length&&(a.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([o,i])=>{var l;(l=r.getValue(o))==null||l.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}y0=!1,j0=!1,Ko.forEach(t=>t.complete(N0)),Ko.clear()}function UD(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(y0=!0)})}function q9(){N0=!0,UD(),BD(),N0=!1}class lj{constructor(s,a,r,n,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=r,this.motionValue=n,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),j0||(j0=!0,rs.read(UD),rs.resolveKeyframes(BD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:r,motionValue:n}=this;if(s[0]===null){const o=n==null?void 0:n.get(),i=s[s.length-1];if(o!==void 0)s[0]=o;else if(r&&a){const l=r.readValue(a,i);l!=null&&(s[0]=l)}s[0]===void 0&&(s[0]=i),n&&o===void 0&&n.set(s[0])}L9(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y9=t=>t.startsWith("--");function K9(t,s,a){Y9(s)?t.style.setProperty(s,a):t.style[s]=a}const X9=Kb(()=>window.ScrollTimeline!==void 0),J9={};function Q9(t,s){const a=Kb(t);return()=>J9[s]??a()}const HD=Q9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sc=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,Rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sc([0,.65,.55,1]),circOut:Sc([.55,0,1,.45]),backIn:Sc([.31,.01,.66,-.59]),backOut:Sc([.33,1.53,.69,.99])};function WD(t,s){if(t)return typeof t=="function"?HD()?$D(t,s):"ease-out":kD(t)?Sc(t):Array.isArray(t)?t.map(a=>WD(a,s)||Rw.easeOut):Rw[t]}function Z9(t,s,a,{delay:r=0,duration:n=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[s]:a};c&&(d.offset=c);const h=WD(l,n);Array.isArray(h)&&(d.easing=h);const x={delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(x.pseudoElement=u),t.animate(d,x)}function qD(t){return typeof t=="function"&&"applyToOptions"in t}function eB({type:t,...s}){return qD(t)&&HD()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class tB extends oj{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:r,keyframes:n,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=s;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=s,jh(typeof s.type!="string");const u=eB(s);this.animation=Z9(a,r,n,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=nj(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):K9(a,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,a;(a=(s=this.animation).finish)==null||a.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,a;this.isPseudoElement||(a=(s=this.animation).commitStyles)==null||a.call(s)}get duration(){var a,r;const s=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return Hr(Number(s))}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ur(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&X9()?(this.animation.timeline=s,Qa):a(this)}}const YD={anticipate:ED,backInOut:SD,circInOut:AD};function sB(t){return t in YD}function aB(t){typeof t.ease=="string"&&sB(t.ease)&&(t.ease=YD[t.ease])}const Mw=10;class rB extends tB{constructor(s){aB(s),GD(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:r,onComplete:n,element:o,...i}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const l=new ij({...i,autoplay:!1}),c=Ur(this.finishedTime??this.time);a.setWithVelocity(l.sample(c-Mw).value,l.sample(c).value,Mw),l.stop()}}const Iw=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function nB(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function oB(t,s,a,r){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const o=t[t.length-1],i=Iw(n,s),l=Iw(o,s);return!i||!l?!1:nB(t)||(a==="spring"||qD(a))&&r}function w0(t){t.duration=0,t.type}const iB=new Set(["opacity","clipPath","filter","transform"]),lB=Kb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cB(t){var d;const{motionValue:s,name:a,repeatDelay:r,repeatType:n,damping:o,type:i}=t;if(!(((d=s==null?void 0:s.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return lB()&&a&&iB.has(a)&&(a!=="transform"||!u)&&!c&&!r&&n!=="mirror"&&o!==0&&i!=="inertia"}const dB=40;class uB extends oj{constructor({autoplay:s=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=va.now();const x={autoplay:s,delay:a,type:r,repeat:n,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...h},f=(d==null?void 0:d.KeyframeResolver)||lj;this.keyframeResolver=new f(l,(p,y,g)=>this.onKeyframesResolved(p,y,x,!g),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(s,a,r,n){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=va.now(),oB(s,o,i,l)||((bn.instantAnimations||!c)&&(d==null||d(nj(s,r,a))),s[0]=s[s.length-1],w0(r),r.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>dB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:s},f=!u&&cB(x)?new rB({...x,element:x.motionValue.owner.current}):new ij(x);f.finished.then(()=>this.notifyFinished()).catch(Qa),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),q9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const mB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hB(t){const s=mB.exec(t);if(!s)return[,];const[,a,r,n]=s;return[`--${a??r}`,n]}function KD(t,s,a=1){const[r,n]=hB(t);if(!r)return;const o=window.getComputedStyle(s).getPropertyValue(r);if(o){const i=o.trim();return gD(i)?parseFloat(i):i}return ej(n)?KD(n,s,a+1):n}function cj(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const XD=new Set(["width","height","top","left","right","bottom",...ql]),xB={test:t=>t==="auto",parse:t=>t},JD=t=>s=>s.test(t),QD=[Wl,nt,Wr,Tn,n9,r9,xB],Ow=t=>QD.find(JD(t));function fB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bD(t):!0}const pB=new Set(["brightness","contrast","saturate","opacity"]);function gB(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(tj)||[];if(!r)return t;const n=a.replace(r,"");let o=pB.has(s)?1:0;return r!==a&&(o*=100),s+"("+o+n+")"}const vB=/\b([a-z-]*)\(.*?\)/gu,C0={...fo,getAnimatableNone:t=>{const s=t.match(vB);return s?s.map(gB).join(" "):t}},zw={...Wl,transform:Math.round},bB={rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:Tn,skewX:Tn,skewY:Tn,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:Sd,originX:ww,originY:ww,originZ:nt},dj={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt,...bB,zIndex:zw,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:zw},jB={...dj,color:js,backgroundColor:js,outlineColor:js,fill:js,stroke:js,borderColor:js,borderTopColor:js,borderRightColor:js,borderBottomColor:js,borderLeftColor:js,filter:C0,WebkitFilter:C0},ZD=t=>jB[t];function ek(t,s){let a=ZD(t);return a!==C0&&(a=fo),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const yB=new Set(["auto","none","0"]);function NB(t,s,a){let r=0,n;for(;r<t.length&&!n;){const o=t[r];typeof o=="string"&&!yB.has(o)&&Ed(o).values.length&&(n=t[r]),r++}if(n&&a)for(const o of s)t[o]=ek(a,n)}class wB extends lj{constructor(s,a,r,n,o){super(s,a,r,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let u=s[c];if(typeof u=="string"&&(u=u.trim(),ej(u))){const d=KD(u,a.current);d!==void 0&&(s[c]=d),c===s.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XD.has(r)||s.length!==2)return;const[n,o]=s,i=Ow(n),l=Ow(o);if(i!==l)if(Tw(i)&&Tw(l))for(let c=0;c<s.length;c++){const u=s[c];typeof u=="string"&&(s[c]=parseFloat(u))}else Yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,r=[];for(let n=0;n<s.length;n++)(s[n]===null||fB(s[n]))&&r.push(n);r.length&&NB(s,r,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&s.getValue(r,n).jump(n,!1)}measureEndState(){var l;const{element:s,name:a,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const n=s.getValue(a);n&&n.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Yo[a](s.measureViewportBox(),window.getComputedStyle(s.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function CB(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const tk=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function sk(t){return vD(t)&&"offsetHeight"in t}const Fw=30,SB=t=>!isNaN(parseFloat(t));class EB{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const n=va.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=va.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=SB(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Xb);const r=this.events[s].add(a);return s==="change"?()=>{r(),rs.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>Fw)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Fw);return jD(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,a;(s=this.dependents)==null||s.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,s){return new EB(t,s)}const{schedule:uj,cancel:xae}=TD(queueMicrotask,!1),ir={x:!1,y:!1};function ak(){return ir.x||ir.y}function PB(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function rk(t,s){const a=CB(t),r=new AbortController,n={passive:!0,...s,signal:r.signal};return[a,n,()=>r.abort()]}function _w(t){return!(t.pointerType==="touch"||ak())}function AB(t,s,a={}){const[r,n,o]=rk(t,a),i=l=>{if(!_w(l))return;const{target:c}=l,u=s(c,l);if(typeof u!="function"||!c)return;const d=h=>{_w(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return r.forEach(l=>{l.addEventListener("pointerenter",i,n)}),o}const nk=(t,s)=>s?t===s?!0:nk(t,s.parentElement):!1,mj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kB(t){return DB.has(t.tagName)||t.tabIndex!==-1}const ym=new WeakSet;function Lw(t){return s=>{s.key==="Enter"&&t(s)}}function dp(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const TB=(t,s)=>{const a=t.currentTarget;if(!a)return;const r=Lw(()=>{if(ym.has(a))return;dp(a,"down");const n=Lw(()=>{dp(a,"up")}),o=()=>dp(a,"cancel");a.addEventListener("keyup",n,s),a.addEventListener("blur",o,s)});a.addEventListener("keydown",r,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),s)};function $w(t){return mj(t)&&!ak()}function RB(t,s,a={}){const[r,n,o]=rk(t,a),i=l=>{const c=l.currentTarget;if(!$w(l))return;ym.add(c);const u=s(c,l),d=(f,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",x),ym.has(c)&&ym.delete(c),$w(f)&&typeof u=="function"&&u(f,{success:v})},h=f=>{d(f,c===window||c===document||a.useGlobalTarget||nk(c,f.target))},x=f=>{d(f,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",x,n)};return r.forEach(l=>{(a.useGlobalTarget?window:l).addEventListener("pointerdown",i,n),sk(l)&&(l.addEventListener("focus",u=>TB(u,n)),!kB(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function ok(t){return vD(t)&&"ownerSVGElement"in t}function MB(t){return ok(t)&&t.tagName==="svg"}const Ks=t=>!!(t&&t.getVelocity),IB=[...QD,js,fo],OB=t=>IB.find(JD(t)),hj=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class zB extends m.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=sk(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FB({children:t,isPresent:s,anchorX:a,root:r}){const n=m.useId(),o=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(hj);return m.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:x}=i.current;if(s||!o.current||!c||!u)return;const f=a==="left"?`left: ${h}`:`right: ${x}`;o.current.dataset.motionPopId=n;const v=document.createElement("style");l&&(v.nonce=l);const p=r??document.head;return p.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{p.contains(v)&&p.removeChild(v)}},[s]),e.jsx(zB,{isPresent:s,childRef:o,sizeRef:i,children:m.cloneElement(t,{ref:o})})}const _B=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:o,mode:i,anchorX:l,root:c})=>{const u=Hb(LB),d=m.useId();let h=!0,x=m.useMemo(()=>(h=!1,{id:d,initial:s,isPresent:a,custom:n,onExitComplete:f=>{u.set(f,!0);for(const v of u.values())if(!v)return;r&&r()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[a,u,r]);return o&&h&&(x={...x}),m.useMemo(()=>{u.forEach((f,v)=>u.set(v,!1))},[a]),m.useEffect(()=>{!a&&!u.size&&r&&r()},[a]),i==="popLayout"&&(t=e.jsx(FB,{isPresent:a,anchorX:l,root:c,children:t})),e.jsx(Gx.Provider,{value:x,children:t})};function LB(){return new Map}function ik(t=!0){const s=m.useContext(Gx);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=s,o=m.useId();m.useEffect(()=>{if(t)return n(o)},[t]);const i=m.useCallback(()=>t&&r&&r(o),[o,r,t]);return!a&&r?[!1,i]:[!0]}const Uu=t=>t.key||"";function Vw(t){const s=[];return m.Children.forEach(t,a=>{m.isValidElement(a)&&s.push(a)}),s}const lk=({children:t,custom:s,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=ik(i),h=m.useMemo(()=>Vw(t),[t]),x=i&&!u?[]:h.map(Uu),f=m.useRef(!0),v=m.useRef(h),p=Hb(()=>new Map),[y,g]=m.useState(h),[b,j]=m.useState(h);pD(()=>{f.current=!1,v.current=h;for(let E=0;E<b.length;E++){const D=Uu(b[E]);x.includes(D)?p.delete(D):p.get(D)!==!0&&p.set(D,!1)}},[b,x.length,x.join("-")]);const N=[];if(h!==y){let E=[...h];for(let D=0;D<b.length;D++){const P=b[D],_=Uu(P);x.includes(_)||(E.splice(D,0,P),N.push(P))}return o==="wait"&&N.length&&(E=N),j(Vw(E)),g(h),null}const{forceRender:w}=m.useContext(Ub);return e.jsx(e.Fragment,{children:b.map(E=>{const D=Uu(E),P=i&&!u?!1:h===b||x.includes(D),_=()=>{if(p.has(D))p.set(D,!0);else return;let M=!0;p.forEach(k=>{k||(M=!1)}),M&&(w==null||w(),j(v.current),i&&(d==null||d()),r&&r())};return e.jsx(_B,{isPresent:P,initial:!f.current||a?void 0:!1,custom:s,presenceAffectsLayout:n,mode:o,root:c,onExitComplete:P?void 0:_,anchorX:l,children:E},D)})})},ck=m.createContext({strict:!1}),Gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in Gw)Sl[t]={isEnabled:s=>Gw[t].some(a=>!!s[a])};function $B(t){for(const s in t)Sl[s]={...Sl[s],...t[s]}}const VB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VB.has(t)}let dk=t=>!Ch(t);function GB(t){typeof t=="function"&&(dk=s=>s.startsWith("on")?!Ch(s):t(s))}try{GB(require("@emotion/is-prop-valid").default)}catch{}function BB(t,s,a){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(dk(n)||a===!0&&Ch(n)||!s&&!Ch(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}const Bx=m.createContext({});function Ux(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pd(t){return typeof t=="string"||Array.isArray(t)}const xj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fj=["initial",...xj];function Hx(t){return Ux(t.animate)||fj.some(s=>Pd(t[s]))}function uk(t){return!!(Hx(t)||t.variants)}function UB(t,s){if(Hx(t)){const{initial:a,animate:r}=t;return{initial:a===!1||Pd(a)?a:void 0,animate:Pd(r)?r:void 0}}return t.inherit!==!1?s:{}}function HB(t){const{initial:s,animate:a}=UB(t,m.useContext(Bx));return m.useMemo(()=>({initial:s,animate:a}),[Bw(s),Bw(a)])}function Bw(t){return Array.isArray(t)?t.join(" "):t}const Ad={};function WB(t){for(const s in t)Ad[s]=t[s],Zb(s)&&(Ad[s].isCSSVariable=!0)}function mk(t,{layout:s,layoutId:a}){return Yl.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!Ad[t]||t==="opacity")}const qB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YB=ql.length;function KB(t,s,a){let r="",n=!0;for(let o=0;o<YB;o++){const i=ql[o],l=t[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||a){const u=tk(l,dj[i]);if(!c){n=!1;const d=qB[i]||i;r+=`${d}(${u}) `}a&&(s[i]=u)}}return r=r.trim(),a?r=a(s,n?"":r):n&&(r="none"),r}function pj(t,s,a){const{style:r,vars:n,transformOrigin:o}=t;let i=!1,l=!1;for(const c in s){const u=s[c];if(Yl.has(c)){i=!0;continue}else if(Zb(c)){n[c]=u;continue}else{const d=tk(u,dj[c]);c.startsWith("origin")?(l=!0,o[c]=d):r[c]=d}}if(s.transform||(i||a?r.transform=KB(s,t.transform,a):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${c} ${u} ${d}`}}const gj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hk(t,s,a){for(const r in s)!Ks(s[r])&&!mk(r,a)&&(t[r]=s[r])}function XB({transformTemplate:t},s){return m.useMemo(()=>{const a=gj();return pj(a,s,t),Object.assign({},a.vars,a.style)},[s])}function JB(t,s){const a=t.style||{},r={};return hk(r,a,t),Object.assign(r,XB(t,s)),r}function QB(t,s){const a={},r=JB(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}const ZB={offset:"stroke-dashoffset",array:"stroke-dasharray"},eU={offset:"strokeDashoffset",array:"strokeDasharray"};function tU(t,s,a=1,r=0,n=!0){t.pathLength=1;const o=n?ZB:eU;t[o.offset]=nt.transform(-r);const i=nt.transform(s),l=nt.transform(a);t[o.array]=`${i} ${l}`}function xk(t,{attrX:s,attrY:a,attrScale:r,pathLength:n,pathSpacing:o=1,pathOffset:i=0,...l},c,u,d){if(pj(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:x}=t;h.transform&&(x.transform=h.transform,delete h.transform),(x.transform||h.transformOrigin)&&(x.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),x.transform&&(x.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),s!==void 0&&(h.x=s),a!==void 0&&(h.y=a),r!==void 0&&(h.scale=r),n!==void 0&&tU(h,n,o,i,!1)}const fk=()=>({...gj(),attrs:{}}),pk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sU(t,s,a,r){const n=m.useMemo(()=>{const o=fk();return xk(o,s,pk(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[s]);if(t.style){const o={};hk(o,t.style,t),n.style={...o,...n.style}}return n}const aU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vj(t){return typeof t!="string"||t.includes("-")?!1:!!(aU.indexOf(t)>-1||/[A-Z]/u.test(t))}function rU(t,s,a,{latestValues:r},n,o=!1){const l=(vj(t)?sU:QB)(s,r,n,t),c=BB(s,typeof t=="string",o),u=t!==m.Fragment?{...c,...l,ref:a}:{},{children:d}=s,h=m.useMemo(()=>Ks(d)?d.get():d,[d]);return m.createElement(t,{...u,children:h})}function Uw(t){const s=[{},{}];return t==null||t.values.forEach((a,r)=>{s[0][r]=a.get(),s[1][r]=a.getVelocity()}),s}function bj(t,s,a,r){if(typeof s=="function"){const[n,o]=Uw(r);s=s(a!==void 0?a:t.custom,n,o)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,o]=Uw(r);s=s(a!==void 0?a:t.custom,n,o)}return s}function Nm(t){return Ks(t)?t.get():t}function nU({scrapeMotionValuesFromProps:t,createRenderState:s},a,r,n){return{latestValues:oU(a,r,n,t),renderState:s()}}function oU(t,s,a,r){const n={},o=r(t,{});for(const x in o)n[x]=Nm(o[x]);let{initial:i,animate:l}=t;const c=Hx(t),u=uk(t);s&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=s.initial),l===void 0&&(l=s.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const h=d?l:i;if(h&&typeof h!="boolean"&&!Ux(h)){const x=Array.isArray(h)?h:[h];for(let f=0;f<x.length;f++){const v=bj(t,x[f]);if(v){const{transitionEnd:p,transition:y,...g}=v;for(const b in g){let j=g[b];if(Array.isArray(j)){const N=d?j.length-1:0;j=j[N]}j!==null&&(n[b]=j)}for(const b in p)n[b]=p[b]}}}return n}const gk=t=>(s,a)=>{const r=m.useContext(Bx),n=m.useContext(Gx),o=()=>nU(t,s,r,n);return a?o():Hb(o)};function jj(t,s,a){var o;const{style:r}=t,n={};for(const i in r)(Ks(r[i])||s.style&&Ks(s.style[i])||mk(i,t)||((o=a==null?void 0:a.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(n[i]=r[i]);return n}const iU=gk({scrapeMotionValuesFromProps:jj,createRenderState:gj});function vk(t,s,a){const r=jj(t,s,a);for(const n in t)if(Ks(t[n])||Ks(s[n])){const o=ql.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=t[n]}return r}const lU=gk({scrapeMotionValuesFromProps:vk,createRenderState:fk}),cU=Symbol.for("motionComponentSymbol");function _i(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dU(t,s,a){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):_i(a)&&(a.current=r))},[s])}const yj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uU="framerAppearId",bk="data-"+yj(uU),jk=m.createContext({});function mU(t,s,a,r,n){var p,y;const{visualElement:o}=m.useContext(Bx),i=m.useContext(ck),l=m.useContext(Gx),c=m.useContext(hj).reducedMotion,u=m.useRef(null);r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:s,parent:o,props:a,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(jk);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&hU(u.current,a,n,h);const x=m.useRef(!1);m.useInsertionEffect(()=>{d&&x.current&&d.update(a,l)});const f=a[bk],v=m.useRef(!!f&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,f))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,f)));return pD(()=>{d&&(x.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,f)}),v.current=!1))}),d}function hU(t,s,a,r){const{layoutId:n,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:yk(t.parent)),t.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!i||l&&_i(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function yk(t){if(t)return t.options.allowProjection!==!1?t.projection:yk(t.parent)}function up(t,{forwardMotionProps:s=!1}={},a,r){a&&$B(a);const n=vj(t)?lU:iU;function o(l,c){let u;const d={...m.useContext(hj),...l,layoutId:xU(l)},{isStatic:h}=d,x=HB(l),f=n(l,h);if(!h&&Wb){fU();const v=pU(d);u=v.MeasureLayout,x.visualElement=mU(t,f,d,r,v.ProjectionNode)}return e.jsxs(Bx.Provider,{value:x,children:[u&&x.visualElement?e.jsx(u,{visualElement:x.visualElement,...d}):null,rU(t,l,dU(f,x.visualElement,c),f,h,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const i=m.forwardRef(o);return i[cU]=t,i}function xU({layoutId:t}){const s=m.useContext(Ub).id;return s&&t!==void 0?s+"-"+t:t}function fU(t,s){m.useContext(ck).strict}function pU(t){const{drag:s,layout:a}=Sl;if(!s&&!a)return{};const r={...s,...a};return{MeasureLayout:s!=null&&s.isEnabled(t)||a!=null&&a.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function gU(t,s){if(typeof Proxy>"u")return up;const a=new Map,r=(o,i)=>up(o,i,t,s),n=(o,i)=>r(o,i);return new Proxy(n,{get:(o,i)=>i==="create"?r:(a.has(i)||a.set(i,up(i,void 0,t,s)),a.get(i))})}function Nk({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function vU({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function bU(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function mp(t){return t===void 0||t===1}function S0({scale:t,scaleX:s,scaleY:a}){return!mp(t)||!mp(s)||!mp(a)}function Mo(t){return S0(t)||wk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wk(t){return Hw(t.x)||Hw(t.y)}function Hw(t){return t&&t!=="0%"}function Sh(t,s,a){const r=t-a,n=s*r;return a+n}function Ww(t,s,a,r,n){return n!==void 0&&(t=Sh(t,n,r)),Sh(t,a,r)+s}function E0(t,s=0,a=1,r,n){t.min=Ww(t.min,s,a,r,n),t.max=Ww(t.max,s,a,r,n)}function Ck(t,{x:s,y:a}){E0(t.x,s.translate,s.scale,s.originPoint),E0(t.y,a.translate,a.scale,a.originPoint)}const qw=.999999999999,Yw=1.0000000000001;function jU(t,s,a,r=!1){const n=a.length;if(!n)return;s.x=s.y=1;let o,i;for(let l=0;l<n;l++){o=a[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$i(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,Ck(t,i)),r&&Mo(o.latestValues)&&$i(t,o.latestValues))}s.x<Yw&&s.x>qw&&(s.x=1),s.y<Yw&&s.y>qw&&(s.y=1)}function Li(t,s){t.min=t.min+s,t.max=t.max+s}function Kw(t,s,a,r,n=.5){const o=is(t.min,t.max,n);E0(t,s,a,o,r)}function $i(t,s){Kw(t.x,s.x,s.scaleX,s.scale,s.originX),Kw(t.y,s.y,s.scaleY,s.scale,s.originY)}function Sk(t,s){return Nk(bU(t.getBoundingClientRect(),s))}function yU(t,s,a){const r=Sk(t,a),{scroll:n}=s;return n&&(Li(r.x,n.offset.x),Li(r.y,n.offset.y)),r}const Xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:Xw(),y:Xw()}),Jw=()=>({min:0,max:0}),ps=()=>({x:Jw(),y:Jw()}),P0={current:null},Ek={current:!1};function NU(){if(Ek.current=!0,!!Wb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>P0.current=t.matches;t.addEventListener("change",s),s()}else P0.current=!1}const wU=new WeakMap;function CU(t,s,a){for(const r in s){const n=s[r],o=a[r];if(Ks(n))t.addValue(r,n);else if(Ks(o))t.addValue(r,Cl(n,{owner:t}));else if(o!==n)if(t.hasValue(r)){const i=t.getValue(r);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=t.getStaticValue(r);t.addValue(r,Cl(i!==void 0?i:n,{owner:t}))}}for(const r in a)s[r]===void 0&&t.removeValue(r);return s}const Qw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SU{scrapeMotionValuesFromProps(s,a,r){return{}}constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=va.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,rs.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=u,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Hx(a),this.isVariantNode=uk(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in h){const f=h[x];c[x]!==void 0&&Ks(f)&&f.set(c[x])}}mount(s){this.current=s,wU.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Ek.current||NU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=Yl.has(s);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",i=>{this.latestValues[s]=i,this.props.onUpdate&&rs.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{n(),o&&o(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Sl){const a=Sl[s];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[s]&&n&&r(this.props)&&(this.features[s]=new n(this)),this.features[s]){const o=this.features[s];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ps()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<Qw.length;r++){const n=Qw[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,i=s[o];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=CU(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const r=this.values.get(s);a!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=Cl(a===null?void 0:a,{owner:this}),this.addValue(s,r)),r}readValue(s,a){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(gD(r)||bD(r))?r=parseFloat(r):!OB(r)&&fo.test(a)&&(r=ek(s,a)),this.setBaseTarget(s,Ks(r)?r.get():r)),Ks(r)?r.get():r}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var o;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=bj(this.props,a,(o=this.presenceContext)==null?void 0:o.custom);i&&(r=i[s])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,s);return n!==void 0&&!Ks(n)?n:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Xb),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){uj.render(this.render)}}class Pk extends SU{constructor(){super(...arguments),this.KeyframeResolver=wB}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Ks(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Ak(t,{style:s,vars:a},r,n){const o=t.style;let i;for(i in s)o[i]=s[i];n==null||n.applyProjectionStyles(o,r);for(i in a)o.setProperty(i,a[i])}function EU(t){return window.getComputedStyle(t)}class PU extends Pk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ak}readValueFromInstance(s,a){var r;if(Yl.has(a))return(r=this.projection)!=null&&r.isProjecting?v0(a):G9(s,a);{const n=EU(s),o=(Zb(a)?n.getPropertyValue(a):n[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:a}){return Sk(s,a)}build(s,a,r){pj(s,a,r.transformTemplate)}scrapeMotionValuesFromProps(s,a,r){return jj(s,a,r)}}const Dk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AU(t,s,a,r){Ak(t,s,void 0,r);for(const n in s.attrs)t.setAttribute(Dk.has(n)?n:yj(n),s.attrs[n])}class DU extends Pk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ps}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(Yl.has(a)){const r=ZD(a);return r&&r.default||0}return a=Dk.has(a)?a:yj(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,r){return vk(s,a,r)}build(s,a,r){xk(s,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,a,r,n){AU(s,a,r,n)}mount(s){this.isSVGTag=pk(s.tagName),super.mount(s)}}const kU=(t,s)=>vj(t)?new DU(s):new PU(s,{allowProjection:t!==m.Fragment});function Dd(t,s,a){const r=t.getProps();return bj(r,s,a!==void 0?a:r.custom,t)}const A0=t=>Array.isArray(t);function TU(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,Cl(a))}function RU(t){return A0(t)?t[t.length-1]||0:t}function MU(t,s){const a=Dd(t,s);let{transitionEnd:r={},transition:n={},...o}=a||{};o={...o,...r};for(const i in o){const l=RU(o[i]);TU(t,i,l)}}function IU(t){return!!(Ks(t)&&t.add)}function D0(t,s){const a=t.getValue("willChange");if(IU(a))return a.add(s);if(!a&&bn.WillChange){const r=new bn.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function kk(t){return t.props[bk]}const OU=t=>t!==null;function zU(t,{repeat:s,repeatType:a="loop"},r){const n=t.filter(OU),o=s&&a!=="loop"&&s%2===1?0:n.length-1;return!o||r===void 0?n[o]:r}const FU={type:"spring",stiffness:500,damping:25,restSpeed:10},_U=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LU={type:"keyframes",duration:.8},$U={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VU=(t,{keyframes:s})=>s.length>2?LU:Yl.has(t)?t.startsWith("scale")?_U(s[1]):FU:$U;function GU({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Nj=(t,s,a,r={},n,o)=>i=>{const l=cj(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ur(c);const d={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...l,delay:-u,onUpdate:x=>{s.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:t,motionValue:s,element:o?void 0:n};GU(l)||Object.assign(d,VU(t,d)),d.duration&&(d.duration=Ur(d.duration)),d.repeatDelay&&(d.repeatDelay=Ur(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(w0(d),d.delay===0&&(h=!0)),(bn.instantAnimations||bn.skipAnimations)&&(h=!0,w0(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!o&&s.get()!==void 0){const x=zU(d.keyframes,l);if(x!==void 0){rs.update(()=>{d.onUpdate(x),d.onComplete()});return}}return l.isSync?new ij(d):new uB(d)};function BU({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function Tk(t,s,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=s;r&&(o=r);const c=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),x=l[d];if(x===void 0||u&&BU(u,d))continue;const f={delay:a,...cj(o||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(x)&&x===v&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const g=kk(t);if(g){const b=window.MotionHandoffAnimation(g,d,rs);b!==null&&(f.startTime=b,p=!0)}}D0(t,d),h.start(Nj(d,h,x,t.shouldReduceMotion&&XD.has(d)?{type:!1}:f,t,p));const y=h.animation;y&&c.push(y)}return i&&Promise.all(c).then(()=>{rs.update(()=>{i&&MU(t,i)})}),c}function k0(t,s,a={}){var c;const r=Dd(t,s,a.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const o=r?()=>Promise.all(Tk(t,r,a)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:x}=n;return UU(t,s,u,d,h,x,a)}:()=>Promise.resolve(),{when:l}=n;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(a.delay)])}function UU(t,s,a=0,r=0,n=0,o=1,i){const l=[],c=t.variantChildren.size,u=(c-1)*n,d=typeof r=="function",h=d?x=>r(x,c):o===1?(x=0)=>x*n:(x=0)=>u-x*n;return Array.from(t.variantChildren).sort(HU).forEach((x,f)=>{x.notify("AnimationStart",s),l.push(k0(x,s,{...i,delay:a+(d?0:r)+h(f)}).then(()=>x.notify("AnimationComplete",s)))}),Promise.all(l)}function HU(t,s){return t.sortNodePosition(s)}function WU(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const n=s.map(o=>k0(t,o,a));r=Promise.all(n)}else if(typeof s=="string")r=k0(t,s,a);else{const n=typeof s=="function"?Dd(t,s,a.custom):s;r=Promise.all(Tk(t,n,a))}return r.then(()=>{t.notify("AnimationComplete",s)})}function Rk(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}const qU=fj.length;function Mk(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?Mk(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<qU;a++){const r=fj[a],n=t.props[r];(Pd(n)||n===!1)&&(s[r]=n)}return s}const YU=[...xj].reverse(),KU=xj.length;function XU(t){return s=>Promise.all(s.map(({animation:a,options:r})=>WU(t,a,r)))}function JU(t){let s=XU(t),a=Zw(),r=!0;const n=c=>(u,d)=>{var x;const h=Dd(t,d,c==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(h){const{transition:f,transitionEnd:v,...p}=h;u={...u,...p,...v}}return u};function o(c){s=c(t)}function i(c){const{props:u}=t,d=Mk(t.parent)||{},h=[],x=new Set;let f={},v=1/0;for(let y=0;y<KU;y++){const g=YU[y],b=a[g],j=u[g]!==void 0?u[g]:d[g],N=Pd(j),w=g===c?b.isActive:null;w===!1&&(v=y);let E=j===d[g]&&j!==u[g]&&N;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...f},!b.isActive&&w===null||!j&&!b.prevProp||Ux(j)||typeof j=="boolean")continue;const D=QU(b.prevProp,j);let P=D||g===c&&b.isActive&&!E&&N||y>v&&N,_=!1;const M=Array.isArray(j)?j:[j];let k=M.reduce(n(g),{});w===!1&&(k={});const{prevResolvedValues:$={}}=b,H={...$,...k},Y=O=>{P=!0,x.has(O)&&(_=!0,x.delete(O)),b.needsAnimating[O]=!0;const S=t.getValue(O);S&&(S.liveStyle=!1)};for(const O in H){const S=k[O],L=$[O];if(f.hasOwnProperty(O))continue;let U=!1;A0(S)&&A0(L)?U=!Rk(S,L):U=S!==L,U?S!=null?Y(O):x.add(O):S!==void 0&&x.has(O)?Y(O):b.protectedKeys[O]=!0}b.prevProp=j,b.prevResolvedValues=k,b.isActive&&(f={...f,...k}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(E&&D)||_)&&h.push(...M.map(O=>({animation:O,options:{type:g}})))}if(x.size){const y={};if(typeof u.initial!="boolean"){const g=Dd(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(y.transition=g.transition)}x.forEach(g=>{const b=t.getBaseTarget(g),j=t.getValue(g);j&&(j.liveStyle=!0),y[g]=b??null}),h.push({animation:y})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?s(h):Promise.resolve()}function l(c,u){var h;if(a[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(x=>{var f;return(f=x.animationState)==null?void 0:f.setActive(c,u)}),a[c].isActive=u;const d=i(c);for(const x in a)a[x].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>a,reset:()=>{a=Zw(),r=!0}}}function QU(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Rk(s,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zw(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class Po{constructor(s){this.isMounted=!1,this.node=s}update(){}}class ZU extends Po{constructor(s){super(s),s.animationState||(s.animationState=JU(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Ux(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let eH=0;class tH extends Po{constructor(){super(...arguments),this.id=eH++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const n=this.node.animationState.setActive("exit",!s);a&&!s&&n.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const sH={animation:{Feature:ZU},exit:{Feature:tH}};function kd(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}function nu(t){return{point:{x:t.pageX,y:t.pageY}}}const aH=t=>s=>mj(s)&&t(s,nu(s));function Lc(t,s,a,r){return kd(t,s,aH(a),r)}const Ik=1e-4,rH=1-Ik,nH=1+Ik,Ok=.01,oH=0-Ok,iH=0+Ok;function ra(t){return t.max-t.min}function lH(t,s,a){return Math.abs(t-s)<=a}function e1(t,s,a,r=.5){t.origin=r,t.originPoint=is(s.min,s.max,t.origin),t.scale=ra(a)/ra(s),t.translate=is(a.min,a.max,t.origin)-t.originPoint,(t.scale>=rH&&t.scale<=nH||isNaN(t.scale))&&(t.scale=1),(t.translate>=oH&&t.translate<=iH||isNaN(t.translate))&&(t.translate=0)}function $c(t,s,a,r){e1(t.x,s.x,a.x,r?r.originX:void 0),e1(t.y,s.y,a.y,r?r.originY:void 0)}function t1(t,s,a){t.min=a.min+s.min,t.max=t.min+ra(s)}function cH(t,s,a){t1(t.x,s.x,a.x),t1(t.y,s.y,a.y)}function s1(t,s,a){t.min=s.min-a.min,t.max=t.min+ra(s)}function Vc(t,s,a){s1(t.x,s.x,a.x),s1(t.y,s.y,a.y)}function Ba(t){return[t("x"),t("y")]}const zk=({current:t})=>t?t.ownerDocument.defaultView:null,a1=(t,s)=>Math.abs(t-s);function dH(t,s){const a=a1(t.x,s.x),r=a1(t.y,s.y);return Math.sqrt(a**2+r**2)}class Fk{constructor(s,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=dH(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!v)return;const{point:p}=x,{timestamp:y}=Os;this.history.push({...p,timestamp:y});const{onStart:g,onMove:b}=this.handlers;f||(g&&g(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,x)},this.handlePointerMove=(x,f)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=hp(f,this.transformPagePoint),rs.update(this.updatePoint,!0)},this.handlePointerUp=(x,f)=>{this.end();const{onEnd:v,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xp(x.type==="pointercancel"?this.lastMoveEventInfo:hp(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,g),p&&p(x,g)},!mj(s))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=n||window;const l=nu(s),c=hp(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Os;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=a;h&&h(s,xp(c,this.history)),this.removeListeners=su(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function hp(t,s){return s?{point:s(t.point)}:t}function r1(t,s){return{x:t.x-s.x,y:t.y-s.y}}function xp({point:t},s){return{point:t,delta:r1(t,_k(s)),offset:r1(t,uH(s)),velocity:mH(s,.1)}}function uH(t){return t[0]}function _k(t){return t[t.length-1]}function mH(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const n=_k(t);for(;a>=0&&(r=t[a],!(n.timestamp-r.timestamp>Ur(s)));)a--;if(!r)return{x:0,y:0};const o=Hr(n.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-r.x)/o,y:(n.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function hH(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?is(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?is(a,t,r.max):Math.min(t,a)),t}function n1(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function xH(t,{top:s,left:a,bottom:r,right:n}){return{x:n1(t.x,a,n),y:n1(t.y,s,r)}}function o1(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function fH(t,s){return{x:o1(t.x,s.x),y:o1(t.y,s.y)}}function pH(t,s){let a=.5;const r=ra(t),n=ra(s);return n>r?a=Cd(s.min,s.max-r,t.min):r>n&&(a=Cd(t.min,t.max-n,s.min)),vn(0,1,a)}function gH(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const T0=.35;function vH(t=T0){return t===!1?t=0:t===!0&&(t=T0),{x:i1(t,"left","right"),y:i1(t,"top","bottom")}}function i1(t,s,a){return{min:l1(t,s),max:l1(t,a)}}function l1(t,s){return typeof t=="number"?t:t[s]||0}const bH=new WeakMap;class jH{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ps(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(nu(h).point)},i=(h,x)=>{const{drag:f,dragPropagation:v,onDragStart:p}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PB(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ba(g=>{let b=this.getAxisMotionValue(g).get()||0;if(Wr.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[g];N&&(b=ra(N)*(parseFloat(b)/100))}}this.originPoint[g]=b}),p&&rs.postRender(()=>p(h,x)),D0(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x;const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:p,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=x;if(v&&this.currentDirection===null){this.currentDirection=yH(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",x.point,g),this.updateAxis("y",x.point,g),this.visualElement.render(),y&&y(h,x)},c=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x,this.stop(h,x),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ba(h=>{var x;return this.getAnimationState(h)==="paused"&&((x=this.getAxisMotionValue(h).animation)==null?void 0:x.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Fk(s,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:zk(this.visualElement)})}stop(s,a){const r=s||this.latestPointerEvent,n=a||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!n||!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&rs.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:n}=this.getProps();if(!r||!Hu(s,n,this.currentDirection))return;const o=this.getAxisMotionValue(s);let i=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(i=hH(i,this.constraints[s],this.elastic[s])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:s,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,n=this.constraints;s&&_i(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=xH(r.layoutBox,s):this.constraints=!1,this.elastic=vH(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ba(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=gH(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!_i(s))return!1;const r=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=yU(r,n.root,this.visualElement.getTransformPagePoint());let i=fH(n.layout.layoutBox,o);if(a){const l=a(vU(i));this.hasMutatedConstraints=!!l,l&&(i=Nk(l))}return i}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ba(d=>{if(!Hu(d,a,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const x=n?200:1e6,f=n?40:1e7,v={type:"inertia",velocity:r?s[d]:0,bounceStiffness:x,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return D0(this.visualElement,s),r.start(Nj(s,r,0,a,this.visualElement,!1))}stopAnimation(){Ba(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Ba(s=>{var a;return(a=this.getAxisMotionValue(s).animation)==null?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)==null?void 0:a.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Ba(a=>{const{drag:r}=this.getProps();if(!Hu(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(a);if(n&&n.layout){const{min:i,max:l}=n.layout.layoutBox[a];o.set(s[a]-is(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!_i(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ba(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();n[i]=pH({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ba(i=>{if(!Hu(i,s,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(is(c,u,n[i]))})}addListeners(){if(!this.visualElement.current)return;bH.set(this.visualElement,this);const s=this.visualElement.current,a=Lc(s,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();_i(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),rs.read(r);const i=kd(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ba(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),a(),o(),l&&l()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=T0,dragMomentum:l=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Hu(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function yH(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class NH extends Po{constructor(s){super(s),this.removeGroupControls=Qa,this.removeListeners=Qa,this.controls=new jH(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qa}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=t=>(s,a)=>{t&&rs.postRender(()=>t(s,a))};class wH extends Po{constructor(){super(...arguments),this.removePointerDownListener=Qa}onPointerDown(s){this.session=new Fk(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zk(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:c1(s),onStart:c1(a),onMove:r,onEnd:(o,i)=>{delete this.session,n&&rs.postRender(()=>n(o,i))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d1(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const gc={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(nt.test(t))t=parseFloat(t);else return t;const a=d1(t,s.target.x),r=d1(t,s.target.y);return`${a}% ${r}%`}},CH={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,n=fo.parse(t);if(n.length>5)return r;const o=fo.createTransformer(t),i=typeof n[0]!="number"?1:0,l=a.x.scale*s.x,c=a.y.scale*s.y;n[0+i]/=l,n[1+i]/=c;const u=is(l,c,.5);return typeof n[2+i]=="number"&&(n[2+i]/=u),typeof n[3+i]=="number"&&(n[3+i]/=u),o(n)}};let u1=!1;class SH extends m.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=s;WB(EH),o&&(a.group&&a.group.add(o),r&&r.register&&n&&r.register(o),u1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wm.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:n,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,u1=!0,n||s.layoutDependency!==a||a===void 0||s.isPresent!==o?i.willUpdate():this.safeToRemove(),s.isPresent!==o&&(o?i.promote():i.relegate()||rs.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),uj.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Lk(t){const[s,a]=ik(),r=m.useContext(Ub);return e.jsx(SH,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(jk),isPresent:s,safeToRemove:a})}const EH={borderRadius:{...gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gc,borderTopRightRadius:gc,borderBottomLeftRadius:gc,borderBottomRightRadius:gc,boxShadow:CH};function PH(t,s,a){const r=Ks(t)?t:Cl(t);return r.start(Nj("",r,s,a)),r.animation}const AH=(t,s)=>t.depth-s.depth;class DH{constructor(){this.children=[],this.isDirty=!1}add(s){qb(this.children,s),this.isDirty=!0}remove(s){Yb(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(AH),this.isDirty=!1,this.children.forEach(s)}}function kH(t,s){const a=va.now(),r=({timestamp:n})=>{const o=n-a;o>=s&&(xo(r),t(o-s))};return rs.setup(r,!0),()=>xo(r)}const $k=["TopLeft","TopRight","BottomLeft","BottomRight"],TH=$k.length,m1=t=>typeof t=="string"?parseFloat(t):t,h1=t=>typeof t=="number"||nt.test(t);function RH(t,s,a,r,n,o){n?(t.opacity=is(0,a.opacity??1,MH(r)),t.opacityExit=is(s.opacity??1,0,IH(r))):o&&(t.opacity=is(s.opacity??1,a.opacity??1,r));for(let i=0;i<TH;i++){const l=`border${$k[i]}Radius`;let c=x1(s,l),u=x1(a,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||h1(c)===h1(u)?(t[l]=Math.max(is(m1(c),m1(u),r),0),(Wr.test(u)||Wr.test(c))&&(t[l]+="%")):t[l]=u}(s.rotate||a.rotate)&&(t.rotate=is(s.rotate||0,a.rotate||0,r))}function x1(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const MH=Vk(0,.5,PD),IH=Vk(.5,.95,Qa);function Vk(t,s,a){return r=>r<t?0:r>s?1:a(Cd(t,s,r))}function f1(t,s){t.min=s.min,t.max=s.max}function Ga(t,s){f1(t.x,s.x),f1(t.y,s.y)}function p1(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function g1(t,s,a,r,n){return t-=s,t=Sh(t,1/a,r),n!==void 0&&(t=Sh(t,1/n,r)),t}function OH(t,s=0,a=1,r=.5,n,o=t,i=t){if(Wr.test(s)&&(s=parseFloat(s),s=is(i.min,i.max,s/100)-i.min),typeof s!="number")return;let l=is(o.min,o.max,r);t===o&&(l-=s),t.min=g1(t.min,s,a,l,n),t.max=g1(t.max,s,a,l,n)}function v1(t,s,[a,r,n],o,i){OH(t,s[a],s[r],s[n],s.scale,o,i)}const zH=["x","scaleX","originX"],FH=["y","scaleY","originY"];function b1(t,s,a,r){v1(t.x,s,zH,a?a.x:void 0,r?r.x:void 0),v1(t.y,s,FH,a?a.y:void 0,r?r.y:void 0)}function j1(t){return t.translate===0&&t.scale===1}function Gk(t){return j1(t.x)&&j1(t.y)}function y1(t,s){return t.min===s.min&&t.max===s.max}function _H(t,s){return y1(t.x,s.x)&&y1(t.y,s.y)}function N1(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function Bk(t,s){return N1(t.x,s.x)&&N1(t.y,s.y)}function w1(t){return ra(t.x)/ra(t.y)}function C1(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class LH{constructor(){this.members=[]}add(s){qb(this.members,s),s.scheduleRender()}remove(s){if(Yb(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(n=>s===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $H(t,s,a){let r="";const n=t.x.translate/s.x,o=t.y.translate/s.y,i=(a==null?void 0:a.z)||0;if((n||o||i)&&(r=`translate3d(${n}px, ${o}px, ${i}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:x,skewX:f,skewY:v}=a;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),x&&(r+=`rotateY(${x}deg) `),f&&(r+=`skewX(${f}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*s.x,c=t.y.scale*s.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const fp=["","X","Y","Z"],VH=1e3;let GH=0;function pp(t,s,a,r){const{latestValues:n}=s;n[t]&&(a[t]=n[t],s.setStaticValue(t,0),r&&(r[t]=0))}function Uk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=kk(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",rs,!(n||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Uk(r)}function Hk({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(i={},l=s==null?void 0:s()){this.id=GH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HH),this.nodes.forEach(KH),this.nodes.forEach(XH),this.nodes.forEach(WH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new DH)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Xb),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=ok(i)&&!MB(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const x=()=>this.root.updateBlockedByResize=!1;rs.read(()=>{h=window.innerWidth}),t(i,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,d&&d(),d=kH(x,250),wm.hasAnimatedSinceResize&&(wm.hasAnimatedSinceResize=!1,this.nodes.forEach(P1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:x,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||tW,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),g=!this.targetLayout||!Bk(this.targetLayout,f),b=!h&&x;if(this.options.layoutRoot||this.resumeFrom||b||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...cj(v,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else h||P1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YH),this.nodes.forEach(BH),this.nodes.forEach(UH)):this.nodes.forEach(E1),this.clearAllSnapshots();const l=va.now();Os.delta=vn(0,1e3/60,l-Os.timestamp),Os.timestamp=l,Os.isProcessing=!0,np.update.process(Os),np.preRender.process(Os),np.render.process(Os),Os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qH),this.sharedNodes.forEach(QH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ra(this.snapshot.measuredBox.x)&&!ra(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Gk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Mo(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),sW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return ps();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(aW))){const{scroll:d}=this.root;d&&(Li(l.x,d.offset.x),Li(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=ps();if(Ga(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:x}=d;d!==this.root&&h&&x.layoutScroll&&(h.wasRoot&&Ga(l,i),Li(l.x,h.offset.x),Li(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const c=ps();Ga(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$i(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mo(d.latestValues)&&$i(c,d.latestValues)}return Mo(this.latestValues)&&$i(c,this.latestValues),c}removeTransform(i){const l=ps();Ga(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mo(u.latestValues))continue;S0(u.latestValues)&&u.updateSnapshot();const d=ps(),h=u.measurePageBox();Ga(d,h),b1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mo(this.latestValues)&&b1(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Os.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ps(),this.relativeTargetOrigin=ps(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ps(),this.targetWithTransforms=ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ga(this.target,this.layout.layoutBox),Ck(this.target,this.targetDelta)):Ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ps(),this.relativeTargetOrigin=ps(),Vc(this.relativeTargetOrigin,this.target,f.target),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||S0(this.parent.latestValues)||wk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Os.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ga(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,x=this.treeScale.y;jU(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=ps());const{target:f}=i;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p1(this.prevProjectionDelta.x,this.projectionDelta.x),p1(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==x||!C1(this.projectionDelta.x,this.prevProjectionDelta.x)||!C1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=ps(),f=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=f!==v,y=this.getStack(),g=!y||y.members.length<=1,b=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(eW));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const w=N/1e3;A1(h.x,i.x,w),A1(h.y,i.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZH(this.relativeTarget,this.relativeTargetOrigin,x,w),j&&_H(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ps()),Ga(j,this.relativeTarget)),p&&(this.animationValues=d,RH(d,u,this.latestValues,w,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rs.update(()=>{wm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=PH(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Wk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ps();const h=ra(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const x=ra(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+x}Ga(l,c),$i(l,d),$c(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new LH),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pp("z",i,u,this.animationValues);for(let d=0;d<fp.length;d++)pp(`rotate${fp[d]}`,i,u,this.animationValues),pp(`skew${fp[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Nm(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Nm(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=$H(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),i.transform=h;const{x,y:f}=this.projectionDelta;i.transformOrigin=`${x.origin*100}% ${f.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ad){if(d[v]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:g}=Ad[v],b=h==="none"?d[v]:p(d[v],u);if(y){const j=y.length;for(let N=0;N<j;N++)i[y[N]]=b}else g?this.options.visualElement.renderState.vars[v]=b:i[v]=b}this.options.layoutId&&(i.pointerEvents=u===this?Nm(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(S1),this.root.sharedNodes.clear()}}}function BH(t){t.updateLayout()}function UH(t){var a;const s=((a=t.resumeFrom)==null?void 0:a.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:o}=t.options,i=s.source!==t.layout.source;o==="size"?Ba(h=>{const x=i?s.measuredBox[h]:s.layoutBox[h],f=ra(x);x.min=r[h].min,x.max=x.min+f}):Wk(o,s.layoutBox,r)&&Ba(h=>{const x=i?s.measuredBox[h]:s.layoutBox[h],f=ra(r[h]);x.max=x.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=Vi();$c(l,r,s.layoutBox);const c=Vi();i?$c(c,t.applyTransform(n,!0),s.measuredBox):$c(c,r,s.layoutBox);const u=!Gk(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:f}=h;if(x&&f){const v=ps();Vc(v,s.layoutBox,x.layoutBox);const p=ps();Vc(p,r,f.layoutBox),Bk(v,p)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function HH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qH(t){t.clearSnapshot()}function S1(t){t.clearMeasurements()}function E1(t){t.isLayoutDirty=!1}function YH(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function P1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KH(t){t.resolveTargetDelta()}function XH(t){t.calcProjection()}function JH(t){t.resetSkewAndRotation()}function QH(t){t.removeLeadSnapshot()}function A1(t,s,a){t.translate=is(s.translate,0,a),t.scale=is(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function D1(t,s,a,r){t.min=is(s.min,a.min,r),t.max=is(s.max,a.max,r)}function ZH(t,s,a,r){D1(t.x,s.x,a.x,r),D1(t.y,s.y,a.y,r)}function eW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tW={duration:.45,ease:[.4,0,.1,1]},k1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),T1=k1("applewebkit/")&&!k1("chrome/")?Math.round:Qa;function R1(t){t.min=T1(t.min),t.max=T1(t.max)}function sW(t){R1(t.x),R1(t.y)}function Wk(t,s,a){return t==="position"||t==="preserve-aspect"&&!lH(w1(s),w1(a),.2)}function aW(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const rW=Hk({attachResizeListener:(t,s)=>kd(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},qk=Hk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gp.current){const t=new rW({});t.mount(window),t.setOptions({layoutScroll:!0}),gp.current=t}return gp.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nW={pan:{Feature:wH},drag:{Feature:NH,ProjectionNode:qk,MeasureLayout:Lk}};function M1(t,s,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,o=r[n];o&&rs.postRender(()=>o(s,nu(s)))}class oW extends Po{mount(){const{current:s}=this.node;s&&(this.unmount=AB(s,(a,r)=>(M1(this.node,r,"Start"),n=>M1(this.node,n,"End"))))}unmount(){}}class iW extends Po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(kd(this.node.current,"focus",()=>this.onFocus()),kd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I1(t,s,a){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),o=r[n];o&&rs.postRender(()=>o(s,nu(s)))}class lW extends Po{mount(){const{current:s}=this.node;s&&(this.unmount=RB(s,(a,r)=>(I1(this.node,r,"Start"),(n,{success:o})=>I1(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R0=new WeakMap,vp=new WeakMap,cW=t=>{const s=R0.get(t.target);s&&s(t)},dW=t=>{t.forEach(cW)};function uW({root:t,...s}){const a=t||document;vp.has(a)||vp.set(a,{});const r=vp.get(a),n=JSON.stringify(s);return r[n]||(r[n]=new IntersectionObserver(dW,{root:t,...s})),r[n]}function mW(t,s,a){const r=uW(s);return R0.set(t,a),r.observe(t),()=>{R0.delete(t),r.unobserve(t)}}const hW={some:0,all:1};class xW extends Po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:o}=s,i={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:hW[n]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),x=u?d:h;x&&x(c)};return mW(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(fW(s,a))&&this.startObserver()}unmount(){}}function fW({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const pW={inView:{Feature:xW},tap:{Feature:lW},focus:{Feature:iW},hover:{Feature:oW}},gW={layout:{ProjectionNode:qk,MeasureLayout:Lk}},vW={...sH,...pW,...nW,...gW},ms=gU(vW,kU);function Ot(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function za(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function sa(t,s){const a=Ot(t);return isNaN(s)?za(t,NaN):(s&&a.setDate(a.getDate()+s),a)}function Nr(t,s){const a=Ot(t);if(isNaN(s))return za(t,NaN);if(!s)return a;const r=a.getDate(),n=za(t,a.getTime());n.setMonth(a.getMonth()+s+1,0);const o=n.getDate();return r>=o?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}const wj=6048e5,bW=864e5;let jW={};function ou(){return jW}function Yr(t,s){var l,c,u,d;const a=ou(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,n=Ot(t),o=n.getDay(),i=(o<r?7:0)+o-r;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function li(t){return Yr(t,{weekStartsOn:1})}function Yk(t){const s=Ot(t),a=s.getFullYear(),r=za(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=li(r),o=za(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const i=li(o);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function El(t){const s=Ot(t);return s.setHours(0,0,0,0),s}function Eh(t){const s=Ot(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function Vr(t,s){const a=El(t),r=El(s),n=+a-Eh(a),o=+r-Eh(r);return Math.round((n-o)/bW)}function yW(t){const s=Yk(t),a=za(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),li(a)}function M0(t,s){const a=s*7;return sa(t,a)}function NW(t,s){return Nr(t,s*12)}function wW(t){let s;return t.forEach(function(a){const r=Ot(a);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function CW(t){let s;return t.forEach(a=>{const r=Ot(a);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function ba(t,s){const a=El(t),r=El(s);return+a==+r}function Cj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wx(t){if(!Cj(t)&&typeof t!="number")return!1;const s=Ot(t);return!isNaN(Number(s))}function Td(t,s){const a=Ot(t),r=Ot(s),n=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return n*12+o}function SW(t,s,a){const r=Yr(t,a),n=Yr(s,a),o=+r-Eh(r),i=+n-Eh(n);return Math.round((o-i)/wj)}function Sj(t){const s=Ot(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function wa(t){const s=Ot(t);return s.setDate(1),s.setHours(0,0,0,0),s}function Kk(t){const s=Ot(t),a=za(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Ej(t,s){var l,c,u,d;const a=ou(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,n=Ot(t),o=n.getDay(),i=(o<r?-7:0)+6-(o-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Xk(t){return Ej(t,{weekStartsOn:1})}const EW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PW=(t,s,a)=>{let r;const n=EW[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Zi(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const AW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TW={date:Zi({formats:AW,defaultWidth:"full"}),time:Zi({formats:DW,defaultWidth:"full"}),dateTime:Zi({formats:kW,defaultWidth:"full"})},RW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MW=(t,s,a,r)=>RW[t];function Lr(t){return(s,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=a!=null&&a.width?String(a.width):i;n=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(s):s;return n[o]}}const IW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_W={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$W=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},VW={ordinalNumber:$W,era:Lr({values:IW,defaultWidth:"wide"}),quarter:Lr({values:OW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lr({values:zW,defaultWidth:"wide"}),day:Lr({values:FW,defaultWidth:"wide"}),dayPeriod:Lr({values:_W,defaultWidth:"wide",formattingValues:LW,defaultFormattingWidth:"wide"})};function $r(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=s.match(n);if(!o)return null;const i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?BW(l,h=>h.test(i)):GW(l,h=>h.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=a.valueCallback?a.valueCallback(u):u;const d=s.slice(i.length);return{value:u,rest:d}}}function GW(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function BW(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function Jk(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],o=s.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;const l=s.slice(n.length);return{value:i,rest:l}}}const UW=/^(\d+)(th|st|nd|rd)?/i,HW=/\d+/i,WW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qW={any:[/^b/i,/^(a|c)/i]},YW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KW={any:[/1/i,/2/i,/3/i,/4/i]},XW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sq={ordinalNumber:Jk({matchPattern:UW,parsePattern:HW,valueCallback:t=>parseInt(t,10)}),era:$r({matchPatterns:WW,defaultMatchWidth:"wide",parsePatterns:qW,defaultParseWidth:"any"}),quarter:$r({matchPatterns:YW,defaultMatchWidth:"wide",parsePatterns:KW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$r({matchPatterns:XW,defaultMatchWidth:"wide",parsePatterns:JW,defaultParseWidth:"any"}),day:$r({matchPatterns:QW,defaultMatchWidth:"wide",parsePatterns:ZW,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:eq,defaultMatchWidth:"any",parsePatterns:tq,defaultParseWidth:"any"})},Qk={code:"en-US",formatDistance:PW,formatLong:TW,formatRelative:MW,localize:VW,match:sq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aq(t){const s=Ot(t);return Vr(s,Kk(s))+1}function Zk(t){const s=Ot(t),a=+li(s)-+yW(s);return Math.round(a/wj)+1}function e3(t,s){var d,h,x,f;const a=Ot(t),r=a.getFullYear(),n=ou(),o=(s==null?void 0:s.firstWeekContainsDate)??((h=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(x=n.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,i=za(t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Yr(i,s),c=za(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Yr(c,s);return a.getTime()>=l.getTime()?r+1:a.getTime()>=u.getTime()?r:r-1}function rq(t,s){var l,c,u,d;const a=ou(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,n=e3(t,s),o=za(t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),Yr(o,s)}function t3(t,s){const a=Ot(t),r=+Yr(a,s)-+rq(a,s);return Math.round(r/wj)+1}function Ht(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const An={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Ht(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Ht(a+1,2)},d(t,s){return Ht(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Ht(t.getHours()%12||12,s.length)},H(t,s){return Ht(t.getHours(),s.length)},m(t,s){return Ht(t.getMinutes(),s.length)},s(t,s){return Ht(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Ht(n,s.length)}},Ni={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O1={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return An.y(t,s)},Y:function(t,s,a,r){const n=e3(t,r),o=n>0?n:1-n;if(s==="YY"){const i=o%100;return Ht(i,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):Ht(o,s.length)},R:function(t,s){const a=Yk(t);return Ht(a,s.length)},u:function(t,s){const a=t.getFullYear();return Ht(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Ht(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Ht(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return An.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Ht(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=t3(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Ht(n,s.length)},I:function(t,s,a){const r=Zk(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Ht(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):An.d(t,s)},D:function(t,s,a){const r=aq(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Ht(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return Ht(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return Ht(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Ht(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=Ni.noon:r===0?n=Ni.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=Ni.evening:r>=12?n=Ni.afternoon:r>=4?n=Ni.morning:n=Ni.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return An.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):An.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Ht(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Ht(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):An.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):An.s(t,s)},S:function(t,s){return An.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return F1(r);case"XXXX":case"XX":return Io(r);case"XXXXX":case"XXX":default:return Io(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return F1(r);case"xxxx":case"xx":return Io(r);case"xxxxx":case"xxx":default:return Io(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+z1(r,":");case"OOOO":default:return"GMT"+Io(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+z1(r,":");case"zzzz":default:return"GMT"+Io(r,":")}},t:function(t,s,a){const r=Math.trunc(t.getTime()/1e3);return Ht(r,s.length)},T:function(t,s,a){const r=t.getTime();return Ht(r,s.length)}};function z1(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+s+Ht(o,2)}function F1(t,s){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):Io(t,s)}function Io(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Ht(Math.trunc(r/60),2),o=Ht(r%60,2);return a+n+s+o}const _1=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},s3=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},nq=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return _1(t,s);let o;switch(r){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",_1(r,s)).replace("{{time}}",s3(n,s))},oq={p:s3,P:nq},iq=/^D+$/,lq=/^Y+$/,cq=["D","DD","YY","YYYY"];function dq(t){return iq.test(t)}function uq(t){return lq.test(t)}function mq(t,s,a){const r=hq(t,s,a);if(console.warn(r),cq.includes(t))throw new RangeError(r)}function hq(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pq=/^'([^]*?)'?$/,gq=/''/g,vq=/[a-zA-Z]/;function Nn(t,s,a){var d,h,x,f,v,p,y,g;const r=ou(),n=(a==null?void 0:a.locale)??r.locale??Qk,o=(a==null?void 0:a.firstWeekContainsDate)??((h=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(x=r.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,i=(a==null?void 0:a.weekStartsOn)??((p=(v=a==null?void 0:a.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(y=r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??0,l=Ot(t);if(!Wx(l))throw new RangeError("Invalid time value");let c=s.match(fq).map(b=>{const j=b[0];if(j==="p"||j==="P"){const N=oq[j];return N(b,n.formatLong)}return b}).join("").match(xq).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:bq(b)};if(O1[j])return{isToken:!0,value:b};if(j.match(vq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&uq(j)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&dq(j))&&mq(j,s,String(t));const N=O1[j[0]];return N(l,j,n.localize,u)}).join("")}function bq(t){const s=t.match(pq);return s?s[1].replace(gq,"'"):t}function jq(t){const s=Ot(t),a=s.getFullYear(),r=s.getMonth(),n=za(t,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function yq(t){return Math.trunc(+Ot(t)/1e3)}function Nq(t){const s=Ot(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),s}function wq(t,s){return SW(Nq(t),wa(t),s)+1}function I0(t,s){const a=Ot(t),r=Ot(s);return a.getTime()>r.getTime()}function a3(t,s){const a=Ot(t),r=Ot(s);return+a<+r}function Pj(t,s){const a=Ot(t),r=Ot(s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function Cq(t,s){const a=Ot(t),r=Ot(s);return a.getFullYear()===r.getFullYear()}function bp(t,s){return sa(t,-s)}function jp(t,s){const a=Ot(t),r=a.getFullYear(),n=a.getDate(),o=za(t,0);o.setFullYear(r,s,15),o.setHours(0,0,0,0);const i=jq(o);return a.setMonth(s,Math.min(n,i)),a}function L1(t,s){const a=Ot(t);return isNaN(+a)?za(t,NaN):(a.setFullYear(s),a)}const Sq={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Eq=(t,s,a)=>{let r;const n=Sq[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",String(s)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"em "+r:"h "+r:r},Pq={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Aq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Dq={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kq={date:Zi({formats:Pq,defaultWidth:"full"}),time:Zi({formats:Aq,defaultWidth:"full"}),dateTime:Zi({formats:Dq,defaultWidth:"full"})},Tq={lastWeek:t=>{const s=t.getDay();return"'"+(s===0||s===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Rq=(t,s,a,r)=>{const n=Tq[t];return typeof n=="function"?n(s):n},Mq={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Iq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Oq={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},zq={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Fq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},_q={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Lq=(t,s)=>{const a=Number(t);return(s==null?void 0:s.unit)==="week"?a+"":a+""},$q={ordinalNumber:Lq,era:Lr({values:Mq,defaultWidth:"wide"}),quarter:Lr({values:Iq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lr({values:Oq,defaultWidth:"wide"}),day:Lr({values:zq,defaultWidth:"wide"}),dayPeriod:Lr({values:Fq,defaultWidth:"wide",formattingValues:_q,defaultFormattingWidth:"wide"})},Vq=/^(\d+)[o]?/i,Gq=/\d+/i,Bq={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Uq={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Hq={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Wq={any:[/1/i,/2/i,/3/i,/4/i]},qq={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Yq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Kq={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Xq={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Jq={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Qq={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Zq={ordinalNumber:Jk({matchPattern:Vq,parsePattern:Gq,valueCallback:t=>parseInt(t,10)}),era:$r({matchPatterns:Bq,defaultMatchWidth:"wide",parsePatterns:Uq,defaultParseWidth:"any"}),quarter:$r({matchPatterns:Hq,defaultMatchWidth:"wide",parsePatterns:Wq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$r({matchPatterns:qq,defaultMatchWidth:"wide",parsePatterns:Yq,defaultParseWidth:"any"}),day:$r({matchPatterns:Kq,defaultMatchWidth:"wide",parsePatterns:Xq,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:Jq,defaultMatchWidth:"any",parsePatterns:Qq,defaultParseWidth:"any"})},r3={code:"pt-BR",formatDistance:Eq,formatLong:kq,formatRelative:Rq,localize:$q,match:Zq,options:{weekStartsOn:0,firstWeekContainsDate:1}};var ot=function(){return ot=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},ot.apply(this,arguments)};function eY(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function n3(t,s,a){for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}function iu(t){return t.mode==="multiple"}function lu(t){return t.mode==="range"}function qx(t){return t.mode==="single"}var tY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function sY(t,s){return Nn(t,"LLLL y",s)}function aY(t,s){return Nn(t,"d",s)}function rY(t,s){return Nn(t,"LLLL",s)}function nY(t){return"".concat(t)}function oY(t,s){return Nn(t,"cccccc",s)}function iY(t,s){return Nn(t,"yyyy",s)}var lY=Object.freeze({__proto__:null,formatCaption:sY,formatDay:aY,formatMonthCaption:rY,formatWeekNumber:nY,formatWeekdayName:oY,formatYearCaption:iY}),cY=function(t,s,a){return Nn(t,"do MMMM (EEEE)",a)},dY=function(){return"Month: "},uY=function(){return"Go to next month"},mY=function(){return"Go to previous month"},hY=function(t,s){return Nn(t,"cccc",s)},xY=function(t){return"Week n. ".concat(t)},fY=function(){return"Year: "},pY=Object.freeze({__proto__:null,labelDay:cY,labelMonthDropdown:dY,labelNext:uY,labelPrevious:mY,labelWeekNumber:xY,labelWeekday:hY,labelYearDropdown:fY});function gY(){var t="buttons",s=tY,a=Qk,r={},n={},o=1,i={},l=new Date;return{captionLayout:t,classNames:s,formatters:lY,labels:pY,locale:a,modifiersClassNames:r,modifiers:n,numberOfMonths:o,styles:i,today:l,mode:"default"}}function vY(t){var s=t.fromYear,a=t.toYear,r=t.fromMonth,n=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=wa(r):s&&(o=new Date(s,0,1)),n?i=Sj(n):a&&(i=new Date(a,11,31)),{fromDate:o?El(o):void 0,toDate:i?El(i):void 0}}var o3=m.createContext(void 0);function bY(t){var s,a=t.initialProps,r=gY(),n=vY(a),o=n.fromDate,i=n.toDate,l=(s=a.captionLayout)!==null&&s!==void 0?s:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(qx(a)||iu(a)||lu(a))&&(c=a.onSelect);var u=ot(ot(ot({},r),a),{captionLayout:l,classNames:ot(ot({},r.classNames),a.classNames),components:ot({},a.components),formatters:ot(ot({},r.formatters),a.formatters),fromDate:o,labels:ot(ot({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:ot(ot({},r.modifiers),a.modifiers),modifiersClassNames:ot(ot({},r.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:ot(ot({},r.styles),a.styles),toDate:i});return e.jsx(o3.Provider,{value:u,children:t.children})}function Jt(){var t=m.useContext(o3);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function i3(t){var s=Jt(),a=s.locale,r=s.classNames,n=s.styles,o=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:a})})}function jY(t){return e.jsx("svg",ot({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function l3(t){var s,a,r=t.onChange,n=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=Jt(),d=(a=(s=u.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&a!==void 0?a:jY;return e.jsxs("div",{className:l,style:c,children:[e.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:n,onChange:r,children:o}),e.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yY(t){var s,a=Jt(),r=a.fromDate,n=a.toDate,o=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,c=a.classNames,u=a.components,d=a.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var h=[];if(Cq(r,n))for(var x=wa(r),f=r.getMonth();f<=n.getMonth();f++)h.push(jp(x,f));else for(var x=wa(new Date),f=0;f<=11;f++)h.push(jp(x,f));var v=function(y){var g=Number(y.target.value),b=jp(wa(t.displayMonth),g);t.onChange(b)},p=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:l3;return e.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:h.map(function(y){return e.jsx("option",{value:y.getMonth(),children:l(y,{locale:i})},y.getMonth())})})}function NY(t){var s,a=t.displayMonth,r=Jt(),n=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,x=[];if(!n)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var f=n.getFullYear(),v=o.getFullYear(),p=f;p<=v;p++)x.push(L1(Kk(new Date),p));var y=function(b){var j=L1(wa(a),Number(b.target.value));t.onChange(j)},g=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:l3;return e.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:a.getFullYear(),caption:d(a,{locale:i}),children:x.map(function(b){return e.jsx("option",{value:b.getFullYear(),children:d(b,{locale:i})},b.getFullYear())})})}function wY(t,s){var a=m.useState(t),r=a[0],n=a[1],o=s===void 0?r:s;return[o,n]}function CY(t){var s=t.month,a=t.defaultMonth,r=t.today,n=s||a||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&Td(o,n)<0){var u=-1*(c-1);n=Nr(o,u)}return i&&Td(n,i)<0&&(n=i),wa(n)}function SY(){var t=Jt(),s=CY(t),a=wY(s,t.month),r=a[0],n=a[1],o=function(i){var l;if(!t.disableNavigation){var c=wa(i);n(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function EY(t,s){for(var a=s.reverseMonths,r=s.numberOfMonths,n=wa(t),o=wa(Nr(n,r)),i=Td(o,n),l=[],c=0;c<i;c++){var u=Nr(n,c);l.push(u)}return a&&(l=l.reverse()),l}function PY(t,s){if(!s.disableNavigation){var a=s.toDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=wa(t);if(!a)return Nr(l,i);var c=Td(a,t);if(!(c<o))return Nr(l,i)}}function AY(t,s){if(!s.disableNavigation){var a=s.fromDate,r=s.pagedNavigation,n=s.numberOfMonths,o=n===void 0?1:n,i=r?o:1,l=wa(t);if(!a)return Nr(l,-i);var c=Td(l,a);if(!(c<=0))return Nr(l,-i)}}var c3=m.createContext(void 0);function DY(t){var s=Jt(),a=SY(),r=a[0],n=a[1],o=EY(r,s),i=PY(r,s),l=AY(r,s),c=function(h){return o.some(function(x){return Pj(h,x)})},u=function(h,x){c(h)||(x&&a3(h,x)?n(Nr(h,1+s.numberOfMonths*-1)):n(h))},d={currentMonth:r,displayMonths:o,goToMonth:n,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return e.jsx(c3.Provider,{value:d,children:t.children})}function cu(){var t=m.useContext(c3);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function $1(t){var s,a=Jt(),r=a.classNames,n=a.styles,o=a.components,i=cu().goToMonth,l=function(d){i(Nr(d,t.displayIndex?-t.displayIndex:0))},c=(s=o==null?void 0:o.CaptionLabel)!==null&&s!==void 0?s:i3,u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:u}),e.jsx(yY,{onChange:l,displayMonth:t.displayMonth}),e.jsx(NY,{onChange:l,displayMonth:t.displayMonth})]})}function kY(t){return e.jsx("svg",ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TY(t){return e.jsx("svg",ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ph=m.forwardRef(function(t,s){var a=Jt(),r=a.classNames,n=a.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=ot(ot({},n.button_reset),n.button);return t.style&&Object.assign(l,t.style),e.jsx("button",ot({},t,{ref:s,type:"button",className:i,style:l}))});function RY(t){var s,a,r=Jt(),n=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var x=u(t.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),y=(s=h==null?void 0:h.IconRight)!==null&&s!==void 0?s:TY,g=(a=h==null?void 0:h.IconLeft)!==null&&a!==void 0?a:kY;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Ph,{name:"previous-month","aria-label":x,className:f,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(g,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Ph,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(g,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function V1(t){var s=Jt().numberOfMonths,a=cu(),r=a.previousMonth,n=a.nextMonth,o=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(v){return Pj(t.displayMonth,v)}),c=l===0,u=l===i.length-1,d=s>1&&(c||!u),h=s>1&&(u||!c),x=function(){r&&o(r)},f=function(){n&&o(n)};return e.jsx(RY,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:n,previousMonth:r,onPreviousClick:x,onNextClick:f})}function MY(t){var s,a=Jt(),r=a.classNames,n=a.disableNavigation,o=a.styles,i=a.captionLayout,l=a.components,c=(s=l==null?void 0:l.CaptionLabel)!==null&&s!==void 0?s:i3,u;return n?u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=e.jsx($1,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=e.jsxs(e.Fragment,{children:[e.jsx($1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(V1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(V1,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:o.caption,children:u})}function IY(t){var s=Jt(),a=s.footer,r=s.styles,n=s.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function OY(t,s,a){for(var r=a?li(new Date):Yr(new Date,{locale:t,weekStartsOn:s}),n=[],o=0;o<7;o++){var i=sa(r,o);n.push(i)}return n}function zY(){var t=Jt(),s=t.classNames,a=t.styles,r=t.showWeekNumber,n=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=OY(n,o,i);return e.jsxs("tr",{style:a.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:a.head_cell,className:s.head_cell}),u.map(function(d,h){return e.jsx("th",{scope:"col",className:s.head_cell,style:a.head_cell,"aria-label":c(d,{locale:n}),children:l(d,{locale:n})},h)})]})}function FY(){var t,s=Jt(),a=s.classNames,r=s.styles,n=s.components,o=(t=n==null?void 0:n.HeadRow)!==null&&t!==void 0?t:zY;return e.jsx("thead",{style:r.head,className:a.head,children:e.jsx(o,{})})}function _Y(t){var s=Jt(),a=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:a})})}var Aj=m.createContext(void 0);function LY(t){if(!iu(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Aj.Provider,{value:s,children:t.children})}return e.jsx($Y,{initialProps:t.initialProps,children:t.children})}function $Y(t){var s=t.initialProps,a=t.children,r=s.selected,n=s.min,o=s.max,i=function(u,d,h){var x,f;(x=s.onDayClick)===null||x===void 0||x.call(s,u,d,h);var v=!!(d.selected&&n&&(r==null?void 0:r.length)===n);if(!v){var p=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var y=r?n3([],r):[];if(d.selected){var g=y.findIndex(function(b){return ba(u,b)});y.splice(g,1)}else y.push(u);(f=s.onSelect)===null||f===void 0||f.call(s,y,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,h=r.some(function(x){return ba(x,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return e.jsx(Aj.Provider,{value:c,children:a})}function Dj(){var t=m.useContext(Aj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function VY(t,s){var a=s||{},r=a.from,n=a.to;return r&&n?ba(n,t)&&ba(r,t)?void 0:ba(n,t)?{from:n,to:void 0}:ba(r,t)?void 0:I0(r,t)?{from:t,to:n}:{from:r,to:t}:n?I0(t,n)?{from:n,to:t}:{from:t,to:n}:r?a3(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var kj=m.createContext(void 0);function GY(t){if(!lu(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(kj.Provider,{value:s,children:t.children})}return e.jsx(BY,{initialProps:t.initialProps,children:t.children})}function BY(t){var s=t.initialProps,a=t.children,r=s.selected,n=r||{},o=n.from,i=n.to,l=s.min,c=s.max,u=function(f,v,p){var y,g;(y=s.onDayClick)===null||y===void 0||y.call(s,f,v,p);var b=VY(f,r);(g=s.onSelect)===null||g===void 0||g.call(s,b,f,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],ba(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:bp(o,l-1),before:sa(o,l-1)}),o&&i&&d.disabled.push({after:o,before:sa(o,l-1)}),!o&&i&&d.disabled.push({after:bp(i,l-1),before:sa(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:sa(o,-c+1)}),d.disabled.push({after:sa(o,c-1)})),o&&i){var h=Vr(i,o)+1,x=c-h;d.disabled.push({before:bp(o,x)}),d.disabled.push({after:sa(i,x)})}!o&&i&&(d.disabled.push({before:sa(i,-c+1)}),d.disabled.push({after:sa(i,c-1)}))}return e.jsx(kj.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:a})}function Tj(){var t=m.useContext(kj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Cm(t){return Array.isArray(t)?n3([],t):t!==void 0?[t]:[]}function UY(t){var s={};return Object.entries(t).forEach(function(a){var r=a[0],n=a[1];s[r]=Cm(n)}),s}var wr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(wr||(wr={}));var HY=wr.Selected,sn=wr.Disabled,WY=wr.Hidden,qY=wr.Today,yp=wr.RangeEnd,Np=wr.RangeMiddle,wp=wr.RangeStart,YY=wr.Outside;function KY(t,s,a){var r,n=(r={},r[HY]=Cm(t.selected),r[sn]=Cm(t.disabled),r[WY]=Cm(t.hidden),r[qY]=[t.today],r[yp]=[],r[Np]=[],r[wp]=[],r[YY]=[],r);return t.fromDate&&n[sn].push({before:t.fromDate}),t.toDate&&n[sn].push({after:t.toDate}),iu(t)?n[sn]=n[sn].concat(s.modifiers[sn]):lu(t)&&(n[sn]=n[sn].concat(a.modifiers[sn]),n[wp]=a.modifiers[wp],n[Np]=a.modifiers[Np],n[yp]=a.modifiers[yp]),n}var d3=m.createContext(void 0);function XY(t){var s=Jt(),a=Dj(),r=Tj(),n=KY(s,a,r),o=UY(s.modifiers),i=ot(ot({},n),o);return e.jsx(d3.Provider,{value:i,children:t.children})}function u3(){var t=m.useContext(d3);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function JY(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function QY(t){return!!(t&&typeof t=="object"&&"from"in t)}function ZY(t){return!!(t&&typeof t=="object"&&"after"in t)}function eK(t){return!!(t&&typeof t=="object"&&"before"in t)}function tK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function sK(t,s){var a,r=s.from,n=s.to;if(r&&n){var o=Vr(n,r)<0;o&&(a=[n,r],r=a[0],n=a[1]);var i=Vr(t,r)>=0&&Vr(n,t)>=0;return i}return n?ba(n,t):r?ba(r,t):!1}function aK(t){return Cj(t)}function rK(t){return Array.isArray(t)&&t.every(Cj)}function nK(t,s){return s.some(function(a){if(typeof a=="boolean")return a;if(aK(a))return ba(t,a);if(rK(a))return a.includes(t);if(QY(a))return sK(t,a);if(tK(a))return a.dayOfWeek.includes(t.getDay());if(JY(a)){var r=Vr(a.before,t),n=Vr(a.after,t),o=r>0,i=n<0,l=I0(a.before,a.after);return l?i&&o:o||i}return ZY(a)?Vr(t,a.after)>0:eK(a)?Vr(a.before,t)>0:typeof a=="function"?a(t):!1})}function Rj(t,s,a){var r=Object.keys(s).reduce(function(o,i){var l=s[i];return nK(t,l)&&o.push(i),o},[]),n={};return r.forEach(function(o){return n[o]=!0}),a&&!Pj(t,a)&&(n.outside=!0),n}function oK(t,s){for(var a=wa(t[0]),r=Sj(t[t.length-1]),n,o,i=a;i<=r;){var l=Rj(i,s),c=!l.disabled&&!l.hidden;if(!c){i=sa(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),n||(n=i),i=sa(i,1)}return o||n}var iK=365;function m3(t,s){var a=s.moveBy,r=s.direction,n=s.context,o=s.modifiers,i=s.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=n.weekStartsOn,u=n.fromDate,d=n.toDate,h=n.locale,x={day:sa,week:M0,month:Nr,year:NW,startOfWeek:function(y){return n.ISOWeek?li(y):Yr(y,{locale:h,weekStartsOn:c})},endOfWeek:function(y){return n.ISOWeek?Xk(y):Ej(y,{locale:h,weekStartsOn:c})}},f=x[a](t,r==="after"?1:-1);r==="before"&&u?f=wW([u,f]):r==="after"&&d&&(f=CW([d,f]));var v=!0;if(o){var p=Rj(f,o);v=!p.disabled&&!p.hidden}return v?f:l.count>iK?l.lastFocused:m3(f,{moveBy:a,direction:r,context:n,modifiers:o,retry:ot(ot({},l),{count:l.count+1})})}var h3=m.createContext(void 0);function lK(t){var s=cu(),a=u3(),r=m.useState(),n=r[0],o=r[1],i=m.useState(),l=i[0],c=i[1],u=oK(s.displayMonths,a),d=n??(l&&s.isDateDisplayed(l))?l:u,h=function(){c(n),o(void 0)},x=function(y){o(y)},f=Jt(),v=function(y,g){if(n){var b=m3(n,{moveBy:y,direction:g,context:f,modifiers:a});ba(n,b)||(s.goToDate(b,n),x(b))}},p={focusedDay:n,focusTarget:d,blur:h,focus:x,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return e.jsx(h3.Provider,{value:p,children:t.children})}function Mj(){var t=m.useContext(h3);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function cK(t,s){var a=u3(),r=Rj(t,a,s);return r}var Ij=m.createContext(void 0);function dK(t){if(!qx(t.initialProps)){var s={selected:void 0};return e.jsx(Ij.Provider,{value:s,children:t.children})}return e.jsx(uK,{initialProps:t.initialProps,children:t.children})}function uK(t){var s=t.initialProps,a=t.children,r=function(o,i,l){var c,u,d;if((c=s.onDayClick)===null||c===void 0||c.call(s,o,i,l),i.selected&&!s.required){(u=s.onSelect)===null||u===void 0||u.call(s,void 0,o,i,l);return}(d=s.onSelect)===null||d===void 0||d.call(s,o,o,i,l)},n={selected:s.selected,onDayClick:r};return e.jsx(Ij.Provider,{value:n,children:a})}function x3(){var t=m.useContext(Ij);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function mK(t,s){var a=Jt(),r=x3(),n=Dj(),o=Tj(),i=Mj(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,x=i.focus,f=i.focusMonthBefore,v=i.focusMonthAfter,p=i.focusYearBefore,y=i.focusYearAfter,g=i.focusStartOfWeek,b=i.focusEndOfWeek,j=function(O){var S,L,U,J;qx(a)?(S=r.onDayClick)===null||S===void 0||S.call(r,t,s,O):iu(a)?(L=n.onDayClick)===null||L===void 0||L.call(n,t,s,O):lu(a)?(U=o.onDayClick)===null||U===void 0||U.call(o,t,s,O):(J=a.onDayClick)===null||J===void 0||J.call(a,t,s,O)},N=function(O){var S;x(t),(S=a.onDayFocus)===null||S===void 0||S.call(a,t,s,O)},w=function(O){var S;h(),(S=a.onDayBlur)===null||S===void 0||S.call(a,t,s,O)},E=function(O){var S;(S=a.onDayMouseEnter)===null||S===void 0||S.call(a,t,s,O)},D=function(O){var S;(S=a.onDayMouseLeave)===null||S===void 0||S.call(a,t,s,O)},P=function(O){var S;(S=a.onDayPointerEnter)===null||S===void 0||S.call(a,t,s,O)},_=function(O){var S;(S=a.onDayPointerLeave)===null||S===void 0||S.call(a,t,s,O)},M=function(O){var S;(S=a.onDayTouchCancel)===null||S===void 0||S.call(a,t,s,O)},k=function(O){var S;(S=a.onDayTouchEnd)===null||S===void 0||S.call(a,t,s,O)},$=function(O){var S;(S=a.onDayTouchMove)===null||S===void 0||S.call(a,t,s,O)},H=function(O){var S;(S=a.onDayTouchStart)===null||S===void 0||S.call(a,t,s,O)},Y=function(O){var S;(S=a.onDayKeyUp)===null||S===void 0||S.call(a,t,s,O)},K=function(O){var S;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),a.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),a.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),u();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?p():f();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?y():v();break;case"Home":O.preventDefault(),O.stopPropagation(),g();break;case"End":O.preventDefault(),O.stopPropagation(),b();break}(S=a.onDayKeyDown)===null||S===void 0||S.call(a,t,s,O)},z={onClick:j,onFocus:N,onBlur:w,onKeyDown:K,onKeyUp:Y,onMouseEnter:E,onMouseLeave:D,onPointerEnter:P,onPointerLeave:_,onTouchCancel:M,onTouchEnd:k,onTouchMove:$,onTouchStart:H};return z}function hK(){var t=Jt(),s=x3(),a=Dj(),r=Tj(),n=qx(t)?s.selected:iu(t)?a.selected:lu(t)?r.selected:void 0;return n}function xK(t){return Object.values(wr).includes(t)}function fK(t,s){var a=[t.classNames.day];return Object.keys(s).forEach(function(r){var n=t.modifiersClassNames[r];if(n)a.push(n);else if(xK(r)){var o=t.classNames["day_".concat(r)];o&&a.push(o)}}),a}function pK(t,s){var a=ot({},t.styles.day);return Object.keys(s).forEach(function(r){var n;a=ot(ot({},a),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),a}function gK(t,s,a){var r,n,o,i=Jt(),l=Mj(),c=cK(t,s),u=mK(t,c),d=hK(),h=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var E;c.outside||l.focusedDay&&h&&ba(l.focusedDay,t)&&((E=a.current)===null||E===void 0||E.focus())},[l.focusedDay,t,a,h,c.outside]);var x=fK(i,c).join(" "),f=pK(i,c),v=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:_Y,y=e.jsx(p,{date:t,displayMonth:s,activeModifiers:c}),g={style:f,className:x,children:y,role:"gridcell"},b=l.focusTarget&&ba(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&ba(l.focusedDay,t),N=ot(ot(ot({},g),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||b?0:-1,r)),u),w={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:g};return w}function vK(t){var s=m.useRef(null),a=gK(t.date,t.displayMonth,s);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Ph,ot({name:"day",ref:s},a.buttonProps)):e.jsx("div",ot({},a.divProps))}function bK(t){var s=t.number,a=t.dates,r=Jt(),n=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(s),{locale:l});if(!n)return e.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var h=c(Number(s),{locale:l}),x=function(f){n(s,a,f)};return e.jsx(Ph,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:x,children:d})}function jK(t){var s,a,r=Jt(),n=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(s=l==null?void 0:l.Day)!==null&&s!==void 0?s:vK,u=(a=l==null?void 0:l.WeekNumber)!==null&&a!==void 0?a:bK,d;return i&&(d=e.jsx("td",{className:o.cell,style:n.cell,children:e.jsx(u,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:o.row,style:n.row,children:[d,t.dates.map(function(h){return e.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:h})},yq(h))})]})}function G1(t,s,a){for(var r=a!=null&&a.ISOWeek?Xk(s):Ej(s,a),n=a!=null&&a.ISOWeek?li(t):Yr(t,a),o=Vr(r,n),i=[],l=0;l<=o;l++)i.push(sa(n,l));var c=i.reduce(function(u,d){var h=a!=null&&a.ISOWeek?Zk(d):t3(d,a),x=u.find(function(f){return f.weekNumber===h});return x?(x.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function yK(t,s){var a=G1(wa(t),Sj(t),s);if(s!=null&&s.useFixedWeeks){var r=wq(t,s);if(r<6){var n=a[a.length-1],o=n.dates[n.dates.length-1],i=M0(o,6-r),l=G1(M0(o,1),i,s);a.push.apply(a,l)}}return a}function NK(t){var s,a,r,n=Jt(),o=n.locale,i=n.classNames,l=n.styles,c=n.hideHead,u=n.fixedWeeks,d=n.components,h=n.weekStartsOn,x=n.firstWeekContainsDate,f=n.ISOWeek,v=yK(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:o,weekStartsOn:h,firstWeekContainsDate:x}),p=(s=d==null?void 0:d.Head)!==null&&s!==void 0?s:FY,y=(a=d==null?void 0:d.Row)!==null&&a!==void 0?a:jK,g=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:IY;return e.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(p,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:v.map(function(b){return e.jsx(y,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),e.jsx(g,{displayMonth:t.displayMonth})]})}function wK(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var CK=wK()?m.useLayoutEffect:m.useEffect,Cp=!1,SK=0;function B1(){return"react-day-picker-".concat(++SK)}function EK(t){var s,a=t??(Cp?B1():null),r=m.useState(a),n=r[0],o=r[1];return CK(function(){n===null&&o(B1())},[]),m.useEffect(function(){Cp===!1&&(Cp=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function PK(t){var s,a,r=Jt(),n=r.dir,o=r.classNames,i=r.styles,l=r.components,c=cu().displayMonths,u=EK(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[o.month],x=i.month,f=t.displayIndex===0,v=t.displayIndex===c.length-1,p=!f&&!v;n==="rtl"&&(s=[f,v],v=s[0],f=s[1]),f&&(h.push(o.caption_start),x=ot(ot({},x),i.caption_start)),v&&(h.push(o.caption_end),x=ot(ot({},x),i.caption_end)),p&&(h.push(o.caption_between),x=ot(ot({},x),i.caption_between));var y=(a=l==null?void 0:l.Caption)!==null&&a!==void 0?a:MY;return e.jsxs("div",{className:h.join(" "),style:x,children:[e.jsx(y,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(NK,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function AK(t){var s=Jt(),a=s.classNames,r=s.styles;return e.jsx("div",{className:a.months,style:r.months,children:t.children})}function DK(t){var s,a,r=t.initialProps,n=Jt(),o=Mj(),i=cu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){n.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[n.initialFocus,c,o.focus,o.focusTarget,o]);var d=[n.classNames.root,n.className];n.numberOfMonths>1&&d.push(n.classNames.multiple_months),n.showWeekNumber&&d.push(n.classNames.with_weeknumber);var h=ot(ot({},n.styles.root),n.style),x=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var y;return ot(ot({},v),(y={},y[p]=r[p],y))},{}),f=(a=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&a!==void 0?a:AK;return e.jsx("div",ot({className:d.join(" "),style:h,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:e.jsx(f,{children:i.displayMonths.map(function(v,p){return e.jsx(PK,{displayIndex:p,displayMonth:v},p)})})}))}function kK(t){var s=t.children,a=eY(t,["children"]);return e.jsx(bY,{initialProps:a,children:e.jsx(DY,{children:e.jsx(dK,{initialProps:a,children:e.jsx(LY,{initialProps:a,children:e.jsx(GY,{initialProps:a,children:e.jsx(XY,{children:e.jsx(lK,{children:s})})})})})})})}function TK(t){return e.jsx(kK,ot({},t,{children:e.jsx(DK,{initialProps:t})}))}var f3=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(MK);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx(O0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx(O0,{...r,ref:s,children:a})});f3.displayName="Slot";var O0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=OK(a);return m.cloneElement(a,{...IK(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});O0.displayName="SlotClone";var RK=({children:t})=>e.jsx(e.Fragment,{children:t});function MK(t){return m.isValidElement(t)&&t.type===RK}function IK(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function OK(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Oj="Popover",[p3,pae]=ua(Oj,[No]),du=No(),[zK,Ao]=p3(Oj),g3=t=>{const{__scopePopover:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:i=!1}=t,l=du(s),c=m.useRef(null),[u,d]=m.useState(!1),[h=!1,x]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(fx,{...l,children:e.jsx(zK,{scope:s,contentId:oa(),triggerRef:c,open:h,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(f=>!f),[x]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:a})})};g3.displayName=Oj;var v3="PopoverAnchor",FK=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(v3,a),o=du(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=n;return m.useEffect(()=>(i(),()=>l()),[i,l]),e.jsx(Ud,{...o,...r,ref:s})});FK.displayName=v3;var b3="PopoverTrigger",j3=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(b3,a),o=du(a),i=rt(s,n.triggerRef),l=e.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":S3(n.open),...r,ref:i,onClick:Ee(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:e.jsx(Ud,{asChild:!0,...o,children:l})});j3.displayName=b3;var zj="PopoverPortal",[_K,LK]=p3(zj,{forceMount:void 0}),y3=t=>{const{__scopePopover:s,forceMount:a,children:r,container:n}=t,o=Ao(zj,s);return e.jsx(_K,{scope:s,forceMount:a,children:e.jsx(Ms,{present:a||o.open,children:e.jsx(Bl,{asChild:!0,container:n,children:r})})})};y3.displayName=zj;var Pl="PopoverContent",N3=m.forwardRef((t,s)=>{const a=LK(Pl,t.__scopePopover),{forceMount:r=a.forceMount,...n}=t,o=Ao(Pl,t.__scopePopover);return e.jsx(Ms,{present:r||o.open,children:o.modal?e.jsx($K,{...n,ref:s}):e.jsx(VK,{...n,ref:s})})});N3.displayName=Pl;var $K=m.forwardRef((t,s)=>{const a=Ao(Pl,t.__scopePopover),r=m.useRef(null),n=rt(s,r),o=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Ex(i)},[]),e.jsx(qd,{as:f3,allowPinchZoom:!0,children:e.jsx(w3,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=a.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),VK=m.forwardRef((t,s)=>{const a=Ao(Pl,t.__scopePopover),r=m.useRef(!1),n=m.useRef(!1);return e.jsx(w3,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=a.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;((u=a.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),w3=m.forwardRef((t,s)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,x=Ao(Pl,a),f=du(a);return Nx(),e.jsx(Wd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(mi,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>x.onOpenChange(!1),children:e.jsx(px,{"data-state":S3(x.open),role:"dialog",id:x.contentId,...f,...h,ref:s,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),C3="PopoverClose",GK=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ao(C3,a);return e.jsx(Ge.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,()=>n.onOpenChange(!1))})});GK.displayName=C3;var BK="PopoverArrow",UK=m.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=du(a);return e.jsx(gx,{...n,...r,ref:s})});UK.displayName=BK;function S3(t){return t?"open":"closed"}var HK=g3,WK=j3,qK=y3,E3=N3;const Al=HK,Dl=WK,ci=m.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},n)=>e.jsx(qK,{children:e.jsx(E3,{ref:n,align:s,sideOffset:a,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ci.displayName=E3.displayName;var Fj="Switch",[YK,gae]=ua(Fj),[KK,XK]=YK(Fj),P3=m.forwardRef((t,s)=>{const{__scopeSwitch:a,name:r,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[x,f]=m.useState(null),v=rt(s,j=>f(j)),p=m.useRef(!1),y=x?d||!!x.closest("form"):!0,[g=!1,b]=Qs({prop:n,defaultProp:o,onChange:u});return e.jsxs(KK,{scope:a,checked:g,disabled:l,children:[e.jsx(Ge.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":k3(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Ee(t.onClick,j=>{b(N=>!N),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&e.jsx(JK,{control:x,bubbles:!p.current,name:r,value:c,checked:g,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});P3.displayName=Fj;var A3="SwitchThumb",D3=m.forwardRef((t,s)=>{const{__scopeSwitch:a,...r}=t,n=XK(A3,a);return e.jsx(Ge.span,{"data-state":k3(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});D3.displayName=A3;var JK=t=>{const{control:s,checked:a,bubbles:r=!0,...n}=t,o=m.useRef(null),i=dx(a),l=ux(s);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==a&&h){const x=new Event("click",{bubbles:r});h.call(c,a),c.dispatchEvent(x)}},[i,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k3(t){return t?"checked":"unchecked"}var T3=P3,QK=D3;const Mr=m.forwardRef(({className:t,...s},a)=>e.jsx(T3,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(QK,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Mr.displayName=T3.displayName;const ZK={locale:r3,weekStartsOn:1},R3={display:"dd/MM/yyyy",displayWithTime:"dd/MM/yyyy HH:mm",iso:"yyyy-MM-dd",isoWithTime:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx",monthYear:"MMMM yyyy",dayMonth:"dd/MM",weekday:"EEEE",weekdayShort:"EEE"},U1=(t,s=R3.display)=>{if(!t)return"";const a=typeof t=="string"?new Date(t):t;return Wx(a)?Nn(a,s,ZK):""},H1=t=>!t||!Wx(t)?"":Nn(t,R3.iso),Wu=t=>{if(!t)return null;try{const[s,a,r]=t.split("-").map(Number),n=new Date(s,a-1,r,12,0,0,0);return Wx(n)?n:null}catch{return null}},z0=(t,s)=>{const a=new Date(t);return a.setMonth(a.getMonth()+s),a},W1=(t,s)=>z0(t,-s),eX=(t,s,a)=>!(s&&t<s||a&&t>a),tX=[{name:"Confraternizao Universal",type:"fixed"},{name:"Tiradentes",type:"fixed"},{name:"Dia do Trabalho",type:"fixed"},{name:"Independncia do Brasil",type:"fixed"},{name:"Nossa Senhora Aparecida",type:"fixed"},{name:"Finados",type:"fixed"},{name:"Proclamao da Repblica",type:"fixed"},{name:"Natal",type:"fixed"}],sX=["01-01","04-21","05-01","09-07","10-12","11-02","11-15","12-25"];function aX(t){const s=t%19,a=Math.floor(t/100),r=t%100,n=Math.floor(a/4),o=a%4,i=Math.floor((a+8)/25),l=Math.floor((a-i+1)/3),c=(19*s+a-n-l+15)%30,u=Math.floor(r/4),d=r%4,h=(32+2*o+2*u-c-d)%7,x=Math.floor((s+11*c+22*h)/451),f=Math.floor((c+h-7*x+114)/31),v=(c+h-7*x+114)%31+1;return new Date(t,f-1,v)}function rX(t){const s=aX(t),a=s.getTime(),r=24*60*60*1e3;return[{dateISO:new Date(a-47*r).toISOString().split("T")[0],name:"Carnaval",type:"movable"},{dateISO:new Date(a-2*r).toISOString().split("T")[0],name:"Sexta-feira Santa",type:"movable"},{dateISO:s.toISOString().split("T")[0],name:"Pscoa",type:"movable"},{dateISO:new Date(a+60*r).toISOString().split("T")[0],name:"Corpus Christi",type:"movable"}]}function M3(t){const s=tX.map((r,n)=>({...r,dateISO:`${t}-${sX[n]}`})),a=rX(t);return[...s,...a]}function nX(t){const s=t.toISOString().split("T")[0],a=t.getFullYear(),n=M3(a).find(o=>o.dateISO===s);return n?n.name:null}function oX(t){return nX(t)!==null}const Sp=new Map;function iX(t){return Sp.has(t)||Sp.set(t,M3(t)),Sp.get(t)}const tr={timezone:"America/Sao_Paulo",includeOptional:!1,regional:{}};function lX(t){return{...tr,regional:t}}function I3(t,s=tr){var r;const a=((r=s.regional)==null?void 0:r[t])||[];return s.includeOptional?a:a.filter(n=>!n.optional)}function cX(t,s=tr){const a=t.toISOString().split("T")[0],r=t.getFullYear();return I3(r,s).some(o=>o.dateISO===a)}const Ep=new Map,Pp=new Map;function Ah(t){const s=t.getDay();return s===0||s===6}function Dh(t,s=tr){const r=`holiday_${t.toISOString().split("T")[0]}_${s.includeOptional?"opt":"noopt"}`;if(Pp.has(r))return Pp.get(r);const n=oX(t)||cX(t,s);return Pp.set(r,n),n}function to(t,s=tr){const r=`business_${t.toISOString().split("T")[0]}_${s.includeOptional?"opt":"noopt"}`;if(Ep.has(r))return Ep.get(r);const n=!Ah(t)&&!Dh(t,s);return Ep.set(r,n),n}function O3(t,s=tr){const a=new Date(t);do a.setDate(a.getDate()+1);while(!to(a,s));return a}function dX(t,s=tr){const a=new Date(t);do a.setDate(a.getDate()-1);while(!to(a,s));return a}function Ap(t,s,a=tr){if(s===0)return new Date(t);const r=new Date(t);let n=0;if(s>0)for(;n<s;)r.setDate(r.getDate()+1),to(r,a)&&n++;else for(;n<Math.abs(s);)r.setDate(r.getDate()-1),to(r,a)&&n++;return r}function q1(t,s=tr,a="next"){return to(t,s)?new Date(t):a==="next"?O3(t,s):dX(t,s)}function uX(t,s=tr){if(Ah(t))return{type:"weekend",description:t.getDay()===0?"Domingo":"Sbado"};if(Dh(t,s)){const a=iX(t.getFullYear()).find(o=>o.dateISO===t.toISOString().split("T")[0]);if(a)return{type:"holiday",description:`Feriado Nacional: ${a.name}`};const n=I3(t.getFullYear(),s).find(o=>o.dateISO===t.toISOString().split("T")[0]);if(n)return{type:"holiday",description:`Feriado ${{state:"Estadual",city:"Municipal",org:"Organizacional"}[n.scope]}: ${n.label}`,isOptional:n.optional}}return{type:"business",description:"Dia til"}}const z3=m.createContext(void 0);function mX({children:t,initialConfig:s={}}){const[a,r]=m.useState({...tr,...s}),n=m.useCallback(u=>{r(d=>({...d,...u}))},[]),o=m.useCallback(u=>{const d=lX(u);r(h=>({...h,regional:d.regional}))},[]),i=m.useCallback(()=>{r(u=>({...u,includeOptional:!u.includeOptional}))},[]),l=m.useCallback(()=>{r(tr)},[]),c={config:a,updateConfig:n,loadRegionalHolidays:o,toggleOptionalHolidays:i,resetConfig:l};return e.jsx(z3.Provider,{value:c,children:t})}function hX(){const t=m.useContext(z3);if(t===void 0)throw new Error("useBusinessCalendar deve ser usado dentro de um BusinessCalendarProvider");return t}function xX(){const{config:t}=hX();return t}const F3=[{label:"Prximo dia til",value:"next-business-day",getDate:()=>O3(new Date),description:"Prximo dia til (excluindo fins de semana e feriados)"},{label:"+5 dias teis",value:"plus-5-business-days",getDate:()=>Ap(new Date,5),description:"5 dias teis a partir de hoje"},{label:"+10 dias teis",value:"plus-10-business-days",getDate:()=>Ap(new Date,10),description:"10 dias teis a partir de hoje"},{label:"+20 dias teis",value:"plus-20-business-days",getDate:()=>Ap(new Date,20),description:"20 dias teis a partir de hoje"},{label:"+7 dias",value:"plus-7-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+7),t},description:"7 dias a partir de hoje"},{label:"+15 dias",value:"plus-15-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+15),t},description:"15 dias a partir de hoje"},{label:"+30 dias",value:"plus-30-days",getDate:()=>{const t=new Date;return t.setDate(t.getDate()+30),t},description:"30 dias a partir de hoje"}],fX=t=>F3.find(s=>s.value===t),pX=t=>{const s=fX(t);return s?s.getDate():null};function Y1(t="America/Sao_Paulo"){if(t==="America/Sao_Paulo"||t===Intl.DateTimeFormat().resolvedOptions().timeZone){const i=new Date,l=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0");return`${l}-${c}-${u}`}const a=new Intl.DateTimeFormat("pt-BR",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(new Date),r=a.find(i=>i.type==="day").value,n=a.find(i=>i.type==="month").value;return`${a.find(i=>i.type==="year").value}-${n}-${r}`}const gX="America/Sao_Paulo",Sm=({value:t,onChange:s,minDate:a,maxDate:r,disabledDates:n=[],disableWeekends:o=!1,disableHolidays:i=!1,businessDaysOnly:l=!0,holidays:c=[],defaultMonth:u,defaultYear:d,withTime:h=!1,defaultHour:x=9,defaultMinute:f=0,placeholder:v="Selecione uma data",label:p,description:y,required:g=!1,disabled:b=!1,error:j=!1,errorMessage:N,className:w,inputClassName:E,popoverClassName:D,showPresets:P=!0,showHolidays:_=!0,showTooltips:M=!0,showYearNavigation:k=!0,showMonthNavigation:$=!0,showOptionalToggle:H=!0,hideWeekends:Y=!1,annualView:K=!1,onOpenChange:z,defaultToToday:O=!0,readOnly:S=!1,timezone:L=gX})=>{const U=xX(),[J,re]=m.useState(!1),[le,Ne]=m.useState(t?typeof t=="string"?Wu(t):t:null),[ke,he]=m.useState(u||le||new Date),[ae,ve]=m.useState({hour:x,minute:f}),[xe,ne]=m.useState(U.includeOptional);Z.useEffect(()=>{let I=t?typeof t=="string"?Wu(t):t:null;if(O&&!I&&s){const ee=Y1(L);I=Wu(ee),s(ee)}Ne(I),I&&he(I)},[t,O,s,L]);const Ae=m.useMemo(()=>({mode:"single",selected:le,onSelect:I=>{if(I){let ee=new Date(I.getFullYear(),I.getMonth(),I.getDate(),12,0,0,0);l&&!to(ee,{...U,includeOptional:xe})&&(ee=q1(ee,{...U,includeOptional:xe})),h&&ee.setHours(ae.hour,ae.minute,0,0),Ne(ee),s&&s(H1(ee))}else if(O&&s){const ee=Y1(L),ue=Wu(ee);Ne(ue),s(ee)}},month:ke,onMonthChange:he,locale:r3,weekStartsOn:1,showOutsideDays:!0,fixedWeeks:!0,className:"p-0",classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0 w-full h-full",month:"space-y-4 w-full h-full",caption:"flex justify-center pt-3 relative items-center w-full text-center",caption_label:"text-sm font-medium text-center",nav:"space-x-1 flex items-center",nav_button:be("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full h-full border-collapse space-y-1",head_row:"flex w-full",head_cell:be("text-muted-foreground rounded-md w-full font-normal text-[0.8rem] flex-1 text-center",Y&&"hidden"),row:"flex w-full mt-2",cell:be("h-full w-full text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 flex-1",Y&&"hidden"),day:be("h-full w-full p-0 font-normal aria-selected:opacity-100","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary/90 focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},modifiers:{disabled:I=>!!(n.some(ee=>ee.toDateString()===I.toDateString())||!eX(I,a,r)||o&&Ah(I)||i&&Dh(I,{...U,includeOptional:xe})||l&&!to(I,{...U,includeOptional:xe})),holiday:I=>Dh(I,{...U,includeOptional:xe}),weekend:I=>Ah(I),optional:I=>uX(I,{...U,includeOptional:xe}).isOptional},modifiersStyles:{holiday:{color:"hsl(var(--destructive))",fontWeight:"bold"},weekend:{color:"hsl(var(--muted-foreground) / 0.6)"},optional:{color:"hsl(var(--orange-500))",fontStyle:"italic"}}}),[le,ke,ae,h,a,r,n,o,i,l,U,xe,Y]),je=m.useCallback(I=>{const ee=pX(I);if(ee){let ue=new Date(ee);l&&!to(ue,{...U,includeOptional:xe})&&(ue=q1(ue,{...U,includeOptional:xe})),h&&ue.setHours(ae.hour,ae.minute,0,0),Ne(ue),he(ue)}},[h,ae,l,U,xe]),Ue=m.useCallback(()=>{if(le){const I=H1(le);s==null||s(I)}else s==null||s(null);re(!1)},[le,s]),de=m.useCallback(()=>{Ne(null),s==null||s(null)},[s]),Te=m.useCallback(()=>{const I=new Date;he(I),le||Ne(I)},[le]),Pe=m.useCallback(I=>{const ee=new Date(ke);ee.setFullYear(I),he(ee)},[ke]),A=m.useCallback(I=>{const ee=new Date(ke);ee.setMonth(I),he(ee)},[ke]),R=m.useMemo(()=>le?h?U1(le,"dd/MM/yyyy HH:mm"):U1(le):"",[le,h]),q=m.useMemo(()=>{const I=new Date().getFullYear(),ee=[];for(let ue=I-10;ue<=I+10;ue++)ee.push(ue);return ee},[]),W=m.useMemo(()=>["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],[]);return e.jsxs("div",{className:be("space-y-2",w),children:[p&&e.jsxs("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[p,g&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs(Al,{open:S?!1:J,onOpenChange:I=>{S||(re(I),z==null||z(I))},children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(C,{variant:"outline",className:be("w-full justify-start text-left font-normal",!le&&"text-muted-foreground",j&&"border-destructive",S&&"bg-gray-50 cursor-not-allowed",E),disabled:b||S,children:[e.jsx(Pt,{className:"mr-2 h-4 w-4"}),R||v]})}),e.jsx(ci,{className:be("p-0 w-[min(95vw,520px)] md:w-[520px] max-w-[95vw] h-[min(80vh,580px)] max-h-[80vh] overflow-hidden",D),align:"start",avoidCollisions:!0,collisionPadding:16,sideOffset:8,children:e.jsxs("div",{className:"grid grid-rows-[auto_auto_auto_1fr_auto] h-full",children:[H&&e.jsx("div",{className:"px-3 pt-3 pb-2 border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mr,{id:"include-optional",checked:xe,onCheckedChange:ne}),e.jsx(B,{htmlFor:"include-optional",className:"text-sm",children:"Considerar pontos facultativos"})]})}),$&&e.jsxs("div",{className:"px-3 pt-3 pb-4 flex flex-wrap items-center gap-2 justify-center",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(W1(ke,1)),disabled:a&&W1(ke,1)<a,children:e.jsx(O4,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[k&&e.jsxs(dt,{value:ke.getFullYear().toString(),onValueChange:I=>Pe(parseInt(I)),children:[e.jsx(it,{className:"w-20",children:e.jsx(ut,{})}),e.jsx(lt,{children:q.map(I=>e.jsx(Ce,{value:I.toString(),children:I},I))})]}),e.jsxs(dt,{value:ke.getMonth().toString(),onValueChange:I=>A(parseInt(I)),children:[e.jsx(it,{className:"w-28",children:e.jsx(ut,{})}),e.jsx(lt,{children:W.map((I,ee)=>e.jsx(Ce,{value:ee.toString(),children:I},ee))})]})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(z0(ke,1)),disabled:r&&z0(ke,1)>r,children:e.jsx(Fs,{className:"h-4 w-4"})})]}),P&&e.jsx("div",{className:"px-3 pb-3 border-b overflow-x-auto",children:e.jsx("div",{className:"flex gap-3 min-w-max",children:F3.slice(0,6).map(I=>e.jsx(oe,{variant:"outline",className:"cursor-pointer hover:bg-accent text-xs whitespace-nowrap",onClick:()=>je(I.value),children:I.label},I.value))})}),e.jsx("div",{className:"px-3 pb-2 h-full overflow-hidden",children:e.jsx("div",{className:"calendar-fill h-full",children:e.jsx(St,{children:e.jsx(TK,{...Ae})})})}),e.jsxs("div",{className:"px-3 py-2 border-t flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:Te,children:"Hoje"}),le&&e.jsx(C,{variant:"outline",size:"sm",onClick:de,children:"Limpar"})]}),e.jsx(C,{size:"sm",onClick:Ue,disabled:!le,children:"Confirmar"})]})]})})]}),y&&e.jsx("p",{className:"text-sm text-muted-foreground",children:y}),j&&N&&e.jsx("p",{className:"text-sm text-destructive",children:N})]})};function kh({className:t="",variant:s="ghost",size:a="default"}){const r=fs(),n=sr(),o=()=>{const c=n.pathname;return c.match(/^\/processos\/[^\/]+$/)?{destination:"/processos",text:"Voltar para Meus Processos"}:c.match(/^\/processos-gerencia\/[^\/]+$/)?{destination:"/processos-gerencia",text:"Voltar para Processos da Gerncia"}:c.match(/^\/processos\/[^\/]+\/documento\/[^\/]+$/)?{destination:`/processos/${c.split("/")[2]}`,text:"Voltar para o Processo"}:c==="/processos"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratao"}:c==="/assinaturas"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratao"}:c.match(/^\/assinaturas\/[^\/]+$/)?{destination:"/assinaturas",text:"Voltar para Minhas Assinaturas"}:c==="/novo-processo"?{destination:"/processos",text:"Voltar para Meus Processos"}:c==="/dfd/novo"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratao"}:c.match(/^\/processos-gerencia\/pasta\/[^\/]+$/)?{destination:"/processos-gerencia",text:"Voltar para Processos da Gerncia"}:c==="/processos-gerencia"?{destination:"/planejamento-da-contratacao",text:"Voltar para o Planejamento da Contratao"}:{destination:null,text:"Voltar"}},i=()=>{const c=o();c.destination?r(c.destination):r(-1)},l=o();return e.jsxs(C,{variant:s,size:a,onClick:i,className:`flex items-center gap-2 ${t}`,children:[e.jsx(ix,{className:"h-4 w-4"}),l.text]})}function vX(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return m.useMemo(()=>r=>{s.forEach(n=>n(r))},s)}const Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kl(t){const s=Object.prototype.toString.call(t);return s==="[object Window]"||s==="[object global]"}function _j(t){return"nodeType"in t}function xa(t){var s,a;return t?Kl(t)?t:_j(t)&&(s=(a=t.ownerDocument)==null?void 0:a.defaultView)!=null?s:window:window}function Lj(t){const{Document:s}=xa(t);return t instanceof s}function uu(t){return Kl(t)?!1:t instanceof xa(t).HTMLElement}function _3(t){return t instanceof xa(t).SVGElement}function Xl(t){return t?Kl(t)?t.document:_j(t)?Lj(t)?t:uu(t)||_3(t)?t.ownerDocument:document:document:document}const Cr=Yx?m.useLayoutEffect:m.useEffect;function Kx(t){const s=m.useRef(t);return Cr(()=>{s.current=t}),m.useCallback(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s.current==null?void 0:s.current(...r)},[])}function bX(){const t=m.useRef(null),s=m.useCallback((r,n)=>{t.current=setInterval(r,n)},[]),a=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[s,a]}function Rd(t,s){s===void 0&&(s=[t]);const a=m.useRef(t);return Cr(()=>{a.current!==t&&(a.current=t)},s),a}function mu(t,s){const a=m.useRef();return m.useMemo(()=>{const r=t(a.current);return a.current=r,r},[...s])}function Th(t){const s=Kx(t),a=m.useRef(null),r=m.useCallback(n=>{n!==a.current&&(s==null||s(n,a.current)),a.current=n},[]);return[a,r]}function Rh(t){const s=m.useRef();return m.useEffect(()=>{s.current=t},[t]),s.current}let Dp={};function hu(t,s){return m.useMemo(()=>{if(s)return s;const a=Dp[t]==null?0:Dp[t]+1;return Dp[t]=a,t+"-"+a},[t,s])}function L3(t){return function(s){for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=o[c];d!=null&&(o[c]=d+t*u)}return o},{...s})}}const el=L3(1),Md=L3(-1);function jX(t){return"clientX"in t&&"clientY"in t}function Xx(t){if(!t)return!1;const{KeyboardEvent:s}=xa(t.target);return s&&t instanceof s}function yX(t){if(!t)return!1;const{TouchEvent:s}=xa(t.target);return s&&t instanceof s}function Mh(t){if(yX(t)){if(t.touches&&t.touches.length){const{clientX:s,clientY:a}=t.touches[0];return{x:s,y:a}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:s,clientY:a}=t.changedTouches[0];return{x:s,y:a}}}return jX(t)?{x:t.clientX,y:t.clientY}:null}const Sr=Object.freeze({Translate:{toString(t){if(!t)return;const{x:s,y:a}=t;return"translate3d("+(s?Math.round(s):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:s,scaleY:a}=t;return"scaleX("+s+") scaleY("+a+")"}},Transform:{toString(t){if(t)return[Sr.Translate.toString(t),Sr.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:s,duration:a,easing:r}=t;return s+" "+a+"ms "+r}}}),K1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function NX(t){return t.matches(K1)?t:t.querySelector(K1)}const wX={display:"none"};function CX(t){let{id:s,value:a}=t;return Z.createElement("div",{id:s,style:wX},a)}function SX(t){let{id:s,announcement:a,ariaLiveType:r="assertive"}=t;const n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Z.createElement("div",{id:s,style:n,role:"status","aria-live":r,"aria-atomic":!0},a)}function EX(){const[t,s]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&s(r)},[]),announcement:t}}const $3=m.createContext(null);function PX(t){const s=m.useContext($3);m.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(t)},[t,s])}function AX(){const[t]=m.useState(()=>new Set),s=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:n,event:o}=r;t.forEach(i=>{var l;return(l=i[n])==null?void 0:l.call(i,o)})},[t]),s]}const DX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kX={onDragStart(t){let{active:s}=t;return"Picked up draggable item "+s.id+"."},onDragOver(t){let{active:s,over:a}=t;return a?"Draggable item "+s.id+" was moved over droppable area "+a.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(t){let{active:s,over:a}=t;return a?"Draggable item "+s.id+" was dropped over droppable area "+a.id:"Draggable item "+s.id+" was dropped."},onDragCancel(t){let{active:s}=t;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function TX(t){let{announcements:s=kX,container:a,hiddenTextDescribedById:r,screenReaderInstructions:n=DX}=t;const{announce:o,announcement:i}=EX(),l=hu("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),PX(m.useMemo(()=>({onDragStart(h){let{active:x}=h;o(s.onDragStart({active:x}))},onDragMove(h){let{active:x,over:f}=h;s.onDragMove&&o(s.onDragMove({active:x,over:f}))},onDragOver(h){let{active:x,over:f}=h;o(s.onDragOver({active:x,over:f}))},onDragEnd(h){let{active:x,over:f}=h;o(s.onDragEnd({active:x,over:f}))},onDragCancel(h){let{active:x,over:f}=h;o(s.onDragCancel({active:x,over:f}))}}),[o,s])),!c)return null;const d=Z.createElement(Z.Fragment,null,Z.createElement(CX,{id:r,value:n.draggable}),Z.createElement(SX,{id:l,announcement:i}));return a?Ka.createPortal(d,a):d}var Cs;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Cs||(Cs={}));function Ih(){}function po(t,s){return m.useMemo(()=>({sensor:t,options:s??{}}),[t,s])}function Jx(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return m.useMemo(()=>[...s].filter(r=>r!=null),[...s])}const Er=Object.freeze({x:0,y:0});function V3(t,s){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function RX(t,s){const a=Mh(t);if(!a)return"0 0";const r={x:(a.x-s.left)/s.width*100,y:(a.y-s.top)/s.height*100};return r.x+"% "+r.y+"%"}function G3(t,s){let{data:{value:a}}=t,{data:{value:r}}=s;return a-r}function MX(t,s){let{data:{value:a}}=t,{data:{value:r}}=s;return r-a}function X1(t){let{left:s,top:a,height:r,width:n}=t;return[{x:s,y:a},{x:s+n,y:a},{x:s,y:a+r},{x:s+n,y:a+r}]}function B3(t,s){if(!t||t.length===0)return null;const[a]=t;return a[s]}function J1(t,s,a){return s===void 0&&(s=t.left),a===void 0&&(a=t.top),{x:s+t.width*.5,y:a+t.height*.5}}const Qx=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=J1(s,s.left,s.top),o=[];for(const i of r){const{id:l}=i,c=a.get(l);if(c){const u=V3(J1(c),n);o.push({id:l,data:{droppableContainer:i,value:u}})}}return o.sort(G3)},IX=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=X1(s),o=[];for(const i of r){const{id:l}=i,c=a.get(l);if(c){const u=X1(c),d=n.reduce((x,f,v)=>x+V3(u[v],f),0),h=Number((d/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:h}})}}return o.sort(G3)};function OX(t,s){const a=Math.max(s.top,t.top),r=Math.max(s.left,t.left),n=Math.min(s.left+s.width,t.left+t.width),o=Math.min(s.top+s.height,t.top+t.height),i=n-r,l=o-a;if(r<n&&a<o){const c=s.width*s.height,u=t.width*t.height,d=i*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const zX=t=>{let{collisionRect:s,droppableRects:a,droppableContainers:r}=t;const n=[];for(const o of r){const{id:i}=o,l=a.get(i);if(l){const c=OX(l,s);c>0&&n.push({id:i,data:{droppableContainer:o,value:c}})}}return n.sort(MX)};function FX(t,s,a){return{...t,scaleX:s&&a?s.width/a.width:1,scaleY:s&&a?s.height/a.height:1}}function U3(t,s){return t&&s?{x:t.left-s.left,y:t.top-s.top}:Er}function _X(t){return function(a){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,l)=>({...i,top:i.top+t*l.y,bottom:i.bottom+t*l.y,left:i.left+t*l.x,right:i.right+t*l.x}),{...a})}}const LX=_X(1);function H3(t){if(t.startsWith("matrix3d(")){const s=t.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(t.startsWith("matrix(")){const s=t.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function $X(t,s,a){const r=H3(s);if(!r)return t;const{scaleX:n,scaleY:o,x:i,y:l}=r,c=t.left-i-(1-n)*parseFloat(a),u=t.top-l-(1-o)*parseFloat(a.slice(a.indexOf(" ")+1)),d=n?t.width/n:t.width,h=o?t.height/o:t.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const VX={ignoreTransform:!1};function Jl(t,s){s===void 0&&(s=VX);let a=t.getBoundingClientRect();if(s.ignoreTransform){const{transform:u,transformOrigin:d}=xa(t).getComputedStyle(t);u&&(a=$X(a,u,d))}const{top:r,left:n,width:o,height:i,bottom:l,right:c}=a;return{top:r,left:n,width:o,height:i,bottom:l,right:c}}function Q1(t){return Jl(t,{ignoreTransform:!0})}function GX(t){const s=t.innerWidth,a=t.innerHeight;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}function BX(t,s){return s===void 0&&(s=xa(t).getComputedStyle(t)),s.position==="fixed"}function UX(t,s){s===void 0&&(s=xa(t).getComputedStyle(t));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{const o=s[n];return typeof o=="string"?a.test(o):!1})}function Zx(t,s){const a=[];function r(n){if(s!=null&&a.length>=s||!n)return a;if(Lj(n)&&n.scrollingElement!=null&&!a.includes(n.scrollingElement))return a.push(n.scrollingElement),a;if(!uu(n)||_3(n)||a.includes(n))return a;const o=xa(t).getComputedStyle(n);return n!==t&&UX(n,o)&&a.push(n),BX(n,o)?a:r(n.parentNode)}return t?r(t):a}function W3(t){const[s]=Zx(t,1);return s??null}function kp(t){return!Yx||!t?null:Kl(t)?t:_j(t)?Lj(t)||t===Xl(t).scrollingElement?window:uu(t)?t:null:null}function q3(t){return Kl(t)?t.scrollX:t.scrollLeft}function Y3(t){return Kl(t)?t.scrollY:t.scrollTop}function F0(t){return{x:q3(t),y:Y3(t)}}var Ds;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ds||(Ds={}));function K3(t){return!Yx||!t?!1:t===document.scrollingElement}function X3(t){const s={x:0,y:0},a=K3(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-a.width,y:t.scrollHeight-a.height},n=t.scrollTop<=s.y,o=t.scrollLeft<=s.x,i=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:n,isLeft:o,isBottom:i,isRight:l,maxScroll:r,minScroll:s}}const HX={x:.2,y:.2};function WX(t,s,a,r,n){let{top:o,left:i,right:l,bottom:c}=a;r===void 0&&(r=10),n===void 0&&(n=HX);const{isTop:u,isBottom:d,isLeft:h,isRight:x}=X3(t),f={x:0,y:0},v={x:0,y:0},p={height:s.height*n.y,width:s.width*n.x};return!u&&o<=s.top+p.height?(f.y=Ds.Backward,v.y=r*Math.abs((s.top+p.height-o)/p.height)):!d&&c>=s.bottom-p.height&&(f.y=Ds.Forward,v.y=r*Math.abs((s.bottom-p.height-c)/p.height)),!x&&l>=s.right-p.width?(f.x=Ds.Forward,v.x=r*Math.abs((s.right-p.width-l)/p.width)):!h&&i<=s.left+p.width&&(f.x=Ds.Backward,v.x=r*Math.abs((s.left+p.width-i)/p.width)),{direction:f,speed:v}}function qX(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:s,left:a,right:r,bottom:n}=t.getBoundingClientRect();return{top:s,left:a,right:r,bottom:n,width:t.clientWidth,height:t.clientHeight}}function J3(t){return t.reduce((s,a)=>el(s,F0(a)),Er)}function YX(t){return t.reduce((s,a)=>s+q3(a),0)}function KX(t){return t.reduce((s,a)=>s+Y3(a),0)}function Q3(t,s){if(s===void 0&&(s=Jl),!t)return;const{top:a,left:r,bottom:n,right:o}=s(t);W3(t)&&(n<=0||o<=0||a>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const XX=[["x",["left","right"],YX],["y",["top","bottom"],KX]];class $j{constructor(s,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zx(a),n=J3(r);this.rect={...s},this.width=s.width,this.height=s.height;for(const[o,i,l]of XX)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=n[o]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gc{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...a)})},this.target=s}add(s,a,r){var n;(n=this.target)==null||n.addEventListener(s,a,r),this.listeners.push([s,a,r])}}function JX(t){const{EventTarget:s}=xa(t);return t instanceof s?t:Xl(t)}function Tp(t,s){const a=Math.abs(t.x),r=Math.abs(t.y);return typeof s=="number"?Math.sqrt(a**2+r**2)>s:"x"in s&&"y"in s?a>s.x&&r>s.y:"x"in s?a>s.x:"y"in s?r>s.y:!1}var Ha;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ha||(Ha={}));function Z1(t){t.preventDefault()}function QX(t){t.stopPropagation()}var At;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(At||(At={}));const Z3={start:[At.Space,At.Enter],cancel:[At.Esc],end:[At.Space,At.Enter,At.Tab]},ZX=(t,s)=>{let{currentCoordinates:a}=s;switch(t.code){case At.Right:return{...a,x:a.x+25};case At.Left:return{...a,x:a.x-25};case At.Down:return{...a,y:a.y+25};case At.Up:return{...a,y:a.y-25}}};class Ql{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:a}}=s;this.props=s,this.listeners=new Gc(Xl(a)),this.windowListeners=new Gc(xa(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ha.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:a}=this.props,r=s.node.current;r&&Q3(r),a(Er)}handleKeyDown(s){if(Xx(s)){const{active:a,context:r,options:n}=this.props,{keyboardCodes:o=Z3,coordinateGetter:i=ZX,scrollBehavior:l="smooth"}=n,{code:c}=s;if(o.end.includes(c)){this.handleEnd(s);return}if(o.cancel.includes(c)){this.handleCancel(s);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Er;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(s,{active:a,context:r.current,currentCoordinates:d});if(h){const x=Md(h,d),f={x:0,y:0},{scrollableAncestors:v}=r.current;for(const p of v){const y=s.code,{isTop:g,isRight:b,isLeft:j,isBottom:N,maxScroll:w,minScroll:E}=X3(p),D=qX(p),P={x:Math.min(y===At.Right?D.right-D.width/2:D.right,Math.max(y===At.Right?D.left:D.left+D.width/2,h.x)),y:Math.min(y===At.Down?D.bottom-D.height/2:D.bottom,Math.max(y===At.Down?D.top:D.top+D.height/2,h.y))},_=y===At.Right&&!b||y===At.Left&&!j,M=y===At.Down&&!N||y===At.Up&&!g;if(_&&P.x!==h.x){const k=p.scrollLeft+x.x,$=y===At.Right&&k<=w.x||y===At.Left&&k>=E.x;if($&&!x.y){p.scrollTo({left:k,behavior:l});return}$?f.x=p.scrollLeft-k:f.x=y===At.Right?p.scrollLeft-w.x:p.scrollLeft-E.x,f.x&&p.scrollBy({left:-f.x,behavior:l});break}else if(M&&P.y!==h.y){const k=p.scrollTop+x.y,$=y===At.Down&&k<=w.y||y===At.Up&&k>=E.y;if($&&!x.x){p.scrollTo({top:k,behavior:l});return}$?f.y=p.scrollTop-k:f.y=y===At.Down?p.scrollTop-w.y:p.scrollTop-E.y,f.y&&p.scrollBy({top:-f.y,behavior:l});break}}this.handleMove(s,el(Md(h,this.referenceCoordinates),f))}}}handleMove(s,a){const{onMove:r}=this.props;s.preventDefault(),r(a)}handleEnd(s){const{onEnd:a}=this.props;s.preventDefault(),this.detach(),a()}handleCancel(s){const{onCancel:a}=this.props;s.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ql.activators=[{eventName:"onKeyDown",handler:(t,s,a)=>{let{keyboardCodes:r=Z3,onActivation:n}=s,{active:o}=a;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),n==null||n({event:t.nativeEvent}),!0)}return!1}}];function e2(t){return!!(t&&"distance"in t)}function t2(t){return!!(t&&"delay"in t)}class Vj{constructor(s,a,r){var n;r===void 0&&(r=JX(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=a;const{event:o}=s,{target:i}=o;this.props=s,this.events=a,this.document=Xl(i),this.documentListeners=new Gc(this.document),this.listeners=new Gc(r),this.windowListeners=new Gc(xa(i)),this.initialCoordinates=(n=Mh(o))!=null?n:Er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:a,bypassActivationConstraint:r}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(Ha.Resize,this.handleCancel),this.windowListeners.add(Ha.DragStart,Z1),this.windowListeners.add(Ha.VisibilityChange,this.handleCancel),this.windowListeners.add(Ha.ContextMenu,Z1),this.documentListeners.add(Ha.Keydown,this.handleKeydown),a){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(t2(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(e2(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,a){const{active:r,onPending:n}=this.props;n(r,s,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:s}=this,{onStart:a}=this.props;s&&(this.activated=!0,this.documentListeners.add(Ha.Click,QX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ha.SelectionChange,this.removeTextSelection),a(s))}handleMove(s){var a;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!n)return;const c=(a=Mh(s))!=null?a:Er,u=Md(n,c);if(!r&&l){if(e2(l)){if(l.tolerance!=null&&Tp(u,l.tolerance))return this.handleCancel();if(Tp(u,l.distance))return this.handleStart()}if(t2(l)&&Tp(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}s.cancelable&&s.preventDefault(),i(c)}handleEnd(){const{onAbort:s,onEnd:a}=this.props;this.detach(),this.activated||s(this.props.active),a()}handleCancel(){const{onAbort:s,onCancel:a}=this.props;this.detach(),this.activated||s(this.props.active),a()}handleKeydown(s){s.code===At.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const eJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Zl extends Vj{constructor(s){const{event:a}=s,r=Xl(a.target);super(s,eJ,r)}}Zl.activators=[{eventName:"onPointerDown",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;return!a.isPrimary||a.button!==0?!1:(r==null||r({event:a}),!0)}}];const tJ={move:{name:"mousemove"},end:{name:"mouseup"}};var _0;(function(t){t[t.RightClick=2]="RightClick"})(_0||(_0={}));class sJ extends Vj{constructor(s){super(s,tJ,Xl(s.event.target))}}sJ.activators=[{eventName:"onMouseDown",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;return a.button===_0.RightClick?!1:(r==null||r({event:a}),!0)}}];const Rp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class aJ extends Vj{constructor(s){super(s,Rp)}static setup(){return window.addEventListener(Rp.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(Rp.move.name,s)};function s(){}}}aJ.activators=[{eventName:"onTouchStart",handler:(t,s)=>{let{nativeEvent:a}=t,{onActivation:r}=s;const{touches:n}=a;return n.length>1?!1:(r==null||r({event:a}),!0)}}];var Bc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Bc||(Bc={}));var Oh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Oh||(Oh={}));function rJ(t){let{acceleration:s,activator:a=Bc.Pointer,canScroll:r,draggingRect:n,enabled:o,interval:i=5,order:l=Oh.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:x}=t;const f=oJ({delta:h,disabled:!o}),[v,p]=bX(),y=m.useRef({x:0,y:0}),g=m.useRef({x:0,y:0}),b=m.useMemo(()=>{switch(a){case Bc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Bc.DraggableRect:return n}},[a,n,c]),j=m.useRef(null),N=m.useCallback(()=>{const E=j.current;if(!E)return;const D=y.current.x*g.current.x,P=y.current.y*g.current.y;E.scrollBy(D,P)},[]),w=m.useMemo(()=>l===Oh.TreeOrder?[...u].reverse():u,[l,u]);m.useEffect(()=>{if(!o||!u.length||!b){p();return}for(const E of w){if((r==null?void 0:r(E))===!1)continue;const D=u.indexOf(E),P=d[D];if(!P)continue;const{direction:_,speed:M}=WX(E,P,b,s,x);for(const k of["x","y"])f[k][_[k]]||(M[k]=0,_[k]=0);if(M.x>0||M.y>0){p(),j.current=E,v(N,i),y.current=M,g.current=_;return}}y.current={x:0,y:0},g.current={x:0,y:0},p()},[s,N,r,p,o,i,JSON.stringify(b),JSON.stringify(f),v,u,w,d,JSON.stringify(x)])}const nJ={x:{[Ds.Backward]:!1,[Ds.Forward]:!1},y:{[Ds.Backward]:!1,[Ds.Forward]:!1}};function oJ(t){let{delta:s,disabled:a}=t;const r=Rh(s);return mu(n=>{if(a||!r||!n)return nJ;const o={x:Math.sign(s.x-r.x),y:Math.sign(s.y-r.y)};return{x:{[Ds.Backward]:n.x[Ds.Backward]||o.x===-1,[Ds.Forward]:n.x[Ds.Forward]||o.x===1},y:{[Ds.Backward]:n.y[Ds.Backward]||o.y===-1,[Ds.Forward]:n.y[Ds.Forward]||o.y===1}}},[a,s,r])}function iJ(t,s){const a=s!=null?t.get(s):void 0,r=a?a.node.current:null;return mu(n=>{var o;return s==null?null:(o=r??n)!=null?o:null},[r,s])}function lJ(t,s){return m.useMemo(()=>t.reduce((a,r)=>{const{sensor:n}=r,o=n.activators.map(i=>({eventName:i.eventName,handler:s(i.handler,r)}));return[...a,...o]},[]),[t,s])}var Id;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Id||(Id={}));var L0;(function(t){t.Optimized="optimized"})(L0||(L0={}));const s2=new Map;function cJ(t,s){let{dragging:a,dependencies:r,config:n}=s;const[o,i]=m.useState(null),{frequency:l,measure:c,strategy:u}=n,d=m.useRef(t),h=y(),x=Rd(h),f=m.useCallback(function(g){g===void 0&&(g=[]),!x.current&&i(b=>b===null?g:b.concat(g.filter(j=>!b.includes(j))))},[x]),v=m.useRef(null),p=mu(g=>{if(h&&!a)return s2;if(!g||g===s2||d.current!==t||o!=null){const b=new Map;for(let j of t){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){b.set(j.id,j.rect.current);continue}const N=j.node.current,w=N?new $j(c(N),N):null;j.rect.current=w,w&&b.set(j.id,w)}return b}return g},[t,o,a,h,c]);return m.useEffect(()=>{d.current=t},[t]),m.useEffect(()=>{h||f()},[a,h]),m.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),m.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{f(),v.current=null},l))},[l,h,f,...r]),{droppableRects:p,measureDroppableContainers:f,measuringScheduled:o!=null};function y(){switch(u){case Id.Always:return!1;case Id.BeforeDragging:return a;default:return!a}}}function Gj(t,s){return mu(a=>t?a||(typeof s=="function"?s(t):t):null,[s,t])}function dJ(t,s){return Gj(t,s)}function uJ(t){let{callback:s,disabled:a}=t;const r=Kx(s),n=m.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,a]);return m.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function ef(t){let{callback:s,disabled:a}=t;const r=Kx(s),n=m.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[a]);return m.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function mJ(t){return new $j(Jl(t),t)}function a2(t,s,a){s===void 0&&(s=mJ);const[r,n]=m.useState(null);function o(){n(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??a)!=null?u:null}const d=s(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=uJ({callback(c){if(t)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),l=ef({callback:o});return Cr(()=>{o(),t?(l==null||l.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[t]),r}function hJ(t){const s=Gj(t);return U3(t,s)}const r2=[];function xJ(t){const s=m.useRef(t),a=mu(r=>t?r&&r!==r2&&t&&s.current&&t.parentNode===s.current.parentNode?r:Zx(t):r2,[t]);return m.useEffect(()=>{s.current=t},[t]),a}function fJ(t){const[s,a]=m.useState(null),r=m.useRef(t),n=m.useCallback(o=>{const i=kp(o.target);i&&a(l=>l?(l.set(i,F0(i)),new Map(l)):null)},[]);return m.useEffect(()=>{const o=r.current;if(t!==o){i(o);const l=t.map(c=>{const u=kp(c);return u?(u.addEventListener("scroll",n,{passive:!0}),[u,F0(u)]):null}).filter(c=>c!=null);a(l.length?new Map(l):null),r.current=t}return()=>{i(t),i(o)};function i(l){l.forEach(c=>{const u=kp(c);u==null||u.removeEventListener("scroll",n)})}},[n,t]),m.useMemo(()=>t.length?s?Array.from(s.values()).reduce((o,i)=>el(o,i),Er):J3(t):Er,[t,s])}function n2(t,s){s===void 0&&(s=[]);const a=m.useRef(null);return m.useEffect(()=>{a.current=null},s),m.useEffect(()=>{const r=t!==Er;r&&!a.current&&(a.current=t),!r&&a.current&&(a.current=null)},[t]),a.current?Md(t,a.current):Er}function pJ(t){m.useEffect(()=>{if(!Yx)return;const s=t.map(a=>{let{sensor:r}=a;return r.setup==null?void 0:r.setup()});return()=>{for(const a of s)a==null||a()}},t.map(s=>{let{sensor:a}=s;return a}))}function gJ(t,s){return m.useMemo(()=>t.reduce((a,r)=>{let{eventName:n,handler:o}=r;return a[n]=i=>{o(i,s)},a},{}),[t,s])}function eT(t){return m.useMemo(()=>t?GX(t):null,[t])}const o2=[];function vJ(t,s){s===void 0&&(s=Jl);const[a]=t,r=eT(a?xa(a):null),[n,o]=m.useState(o2);function i(){o(()=>t.length?t.map(c=>K3(c)?r:new $j(s(c),c)):o2)}const l=ef({callback:i});return Cr(()=>{l==null||l.disconnect(),i(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),n}function tT(t){if(!t)return null;if(t.children.length>1)return t;const s=t.children[0];return uu(s)?s:t}function bJ(t){let{measure:s}=t;const[a,r]=m.useState(null),n=m.useCallback(u=>{for(const{target:d}of u)if(uu(d)){r(h=>{const x=s(d);return h?{...h,width:x.width,height:x.height}:x});break}},[s]),o=ef({callback:n}),i=m.useCallback(u=>{const d=tT(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?s(d):null)},[s,o]),[l,c]=Th(i);return m.useMemo(()=>({nodeRef:l,rect:a,setRef:c}),[a,l,c])}const jJ=[{sensor:Zl,options:{}},{sensor:Ql,options:{}}],yJ={current:{}},Em={draggable:{measure:Q1},droppable:{measure:Q1,strategy:Id.WhileDragging,frequency:L0.Optimized},dragOverlay:{measure:Jl}};class Uc extends Map{get(s){var a;return s!=null&&(a=super.get(s))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:a}=s;return!a})}getNodeFor(s){var a,r;return(a=(r=this.get(s))==null?void 0:r.node.current)!=null?a:void 0}}const NJ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Uc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ih},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Em,measureDroppableContainers:Ih,windowRect:null,measuringScheduled:!1},sT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ih,draggableNodes:new Map,over:null,measureDroppableContainers:Ih},xu=m.createContext(sT),aT=m.createContext(NJ);function wJ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Uc}}}function CJ(t,s){switch(s.type){case Cs.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case Cs.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:s.coordinates.x-t.draggable.initialCoordinates.x,y:s.coordinates.y-t.draggable.initialCoordinates.y}}};case Cs.DragEnd:case Cs.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cs.RegisterDroppable:{const{element:a}=s,{id:r}=a,n=new Uc(t.droppable.containers);return n.set(r,a),{...t,droppable:{...t.droppable,containers:n}}}case Cs.SetDroppableDisabled:{const{id:a,key:r,disabled:n}=s,o=t.droppable.containers.get(a);if(!o||r!==o.key)return t;const i=new Uc(t.droppable.containers);return i.set(a,{...o,disabled:n}),{...t,droppable:{...t.droppable,containers:i}}}case Cs.UnregisterDroppable:{const{id:a,key:r}=s,n=t.droppable.containers.get(a);if(!n||r!==n.key)return t;const o=new Uc(t.droppable.containers);return o.delete(a),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function SJ(t){let{disabled:s}=t;const{active:a,activatorEvent:r,draggableNodes:n}=m.useContext(xu),o=Rh(r),i=Rh(a==null?void 0:a.id);return m.useEffect(()=>{if(!s&&!r&&o&&i!=null){if(!Xx(o)||document.activeElement===o.target)return;const l=n.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=NX(d);if(h){h.focus();break}}})}},[r,s,n,i,o]),null}function rT(t,s){let{transform:a,...r}=s;return t!=null&&t.length?t.reduce((n,o)=>o({transform:n,...r}),a):a}function EJ(t){return m.useMemo(()=>({draggable:{...Em.draggable,...t==null?void 0:t.draggable},droppable:{...Em.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Em.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function PJ(t){let{activeNode:s,measure:a,initialRect:r,config:n=!0}=t;const o=m.useRef(!1),{x:i,y:l}=typeof n=="boolean"?{x:n,y:n}:n;Cr(()=>{if(!i&&!l||!s){o.current=!1;return}if(o.current||!r)return;const u=s==null?void 0:s.node.current;if(!u||u.isConnected===!1)return;const d=a(u),h=U3(d,r);if(i||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const x=W3(u);x&&x.scrollBy({top:h.y,left:h.x})}},[s,i,l,r,a])}const tf=m.createContext({...Er,scaleX:1,scaleY:1});var In;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(In||(In={}));const sf=m.memo(function(s){var a,r,n,o;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=jJ,collisionDetection:h=zX,measuring:x,modifiers:f,...v}=s;const p=m.useReducer(CJ,void 0,wJ),[y,g]=p,[b,j]=AX(),[N,w]=m.useState(In.Uninitialized),E=N===In.Initialized,{draggable:{active:D,nodes:P,translate:_},droppable:{containers:M}}=y,k=D!=null?P.get(D):null,$=m.useRef({initial:null,translated:null}),H=m.useMemo(()=>{var ie;return D!=null?{id:D,data:(ie=k==null?void 0:k.data)!=null?ie:yJ,rect:$}:null},[D,k]),Y=m.useRef(null),[K,z]=m.useState(null),[O,S]=m.useState(null),L=Rd(v,Object.values(v)),U=hu("DndDescribedBy",i),J=m.useMemo(()=>M.getEnabled(),[M]),re=EJ(x),{droppableRects:le,measureDroppableContainers:Ne,measuringScheduled:ke}=cJ(J,{dragging:E,dependencies:[_.x,_.y],config:re.droppable}),he=iJ(P,D),ae=m.useMemo(()=>O?Mh(O):null,[O]),ve=V(),xe=dJ(he,re.draggable.measure);PJ({activeNode:D!=null?P.get(D):null,config:ve.layoutShiftCompensation,initialRect:xe,measure:re.draggable.measure});const ne=a2(he,re.draggable.measure,xe),Ae=a2(he?he.parentElement:null),je=m.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ue=M.getNodeFor((a=je.current.over)==null?void 0:a.id),de=bJ({measure:re.dragOverlay.measure}),Te=(r=de.nodeRef.current)!=null?r:he,Pe=E?(n=de.rect)!=null?n:ne:null,A=!!(de.nodeRef.current&&de.rect),R=hJ(A?null:ne),q=eT(Te?xa(Te):null),W=xJ(E?Ue??he:null),I=vJ(W),ee=rT(f,{transform:{x:_.x-R.x,y:_.y-R.y,scaleX:1,scaleY:1},activatorEvent:O,active:H,activeNodeRect:ne,containerNodeRect:Ae,draggingNodeRect:Pe,over:je.current.over,overlayNodeRect:de.rect,scrollableAncestors:W,scrollableAncestorRects:I,windowRect:q}),ue=ae?el(ae,_):null,G=fJ(W),ge=n2(G),ye=n2(G,[ne]),Me=el(ee,ge),et=Pe?LX(Pe,ee):null,se=H&&et?h({active:H,collisionRect:et,droppableRects:le,droppableContainers:J,pointerCoordinates:ue}):null,ze=B3(se,"id"),[_e,Q]=m.useState(null),we=A?ee:el(ee,ye),F=FX(we,(o=_e==null?void 0:_e.rect)!=null?o:null,ne),T=m.useRef(null),te=m.useCallback((ie,ce)=>{let{sensor:Le,options:He}=ce;if(Y.current==null)return;const ct=P.get(Y.current);if(!ct)return;const Dt=ie.nativeEvent,ns=new Le({active:Y.current,activeNode:ct,event:Dt,options:He,context:je,onAbort(yt){if(!P.get(yt))return;const{onDragAbort:kr}=L.current,en={id:yt};kr==null||kr(en),b({type:"onDragAbort",event:en})},onPending(yt,Ea,kr,en){if(!P.get(yt))return;const{onDragPending:rc}=L.current,Cn={id:yt,constraint:Ea,initialCoordinates:kr,offset:en};rc==null||rc(Cn),b({type:"onDragPending",event:Cn})},onStart(yt){const Ea=Y.current;if(Ea==null)return;const kr=P.get(Ea);if(!kr)return;const{onDragStart:en}=L.current,ac={activatorEvent:Dt,active:{id:Ea,data:kr.data,rect:$}};Ka.unstable_batchedUpdates(()=>{en==null||en(ac),w(In.Initializing),g({type:Cs.DragStart,initialCoordinates:yt,active:Ea}),b({type:"onDragStart",event:ac}),z(T.current),S(Dt)})},onMove(yt){g({type:Cs.DragMove,coordinates:yt})},onEnd:Dr(Cs.DragEnd),onCancel:Dr(Cs.DragCancel)});T.current=ns;function Dr(yt){return async function(){const{active:kr,collisions:en,over:ac,scrollAdjustedTranslate:rc}=je.current;let Cn=null;if(kr&&rc){const{cancelDrop:nc}=L.current;Cn={activatorEvent:Dt,active:kr,collisions:en,delta:rc,over:ac},yt===Cs.DragEnd&&typeof nc=="function"&&await Promise.resolve(nc(Cn))&&(yt=Cs.DragCancel)}Y.current=null,Ka.unstable_batchedUpdates(()=>{g({type:yt}),w(In.Uninitialized),Q(null),z(null),S(null),T.current=null;const nc=yt===Cs.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const xf=L.current[nc];xf==null||xf(Cn),b({type:nc,event:Cn})}})}}},[P]),fe=m.useCallback((ie,ce)=>(Le,He)=>{const ct=Le.nativeEvent,Dt=P.get(He);if(Y.current!==null||!Dt||ct.dndKit||ct.defaultPrevented)return;const ns={active:Dt};ie(Le,ce.options,ns)===!0&&(ct.dndKit={capturedBy:ce.sensor},Y.current=He,te(Le,ce))},[P,te]),Ie=lJ(d,fe);pJ(d),Cr(()=>{ne&&N===In.Initializing&&w(In.Initialized)},[ne,N]),m.useEffect(()=>{const{onDragMove:ie}=L.current,{active:ce,activatorEvent:Le,collisions:He,over:ct}=je.current;if(!ce||!Le)return;const Dt={active:ce,activatorEvent:Le,collisions:He,delta:{x:Me.x,y:Me.y},over:ct};Ka.unstable_batchedUpdates(()=>{ie==null||ie(Dt),b({type:"onDragMove",event:Dt})})},[Me.x,Me.y]),m.useEffect(()=>{const{active:ie,activatorEvent:ce,collisions:Le,droppableContainers:He,scrollAdjustedTranslate:ct}=je.current;if(!ie||Y.current==null||!ce||!ct)return;const{onDragOver:Dt}=L.current,ns=He.get(ze),Dr=ns&&ns.rect.current?{id:ns.id,rect:ns.rect.current,data:ns.data,disabled:ns.disabled}:null,yt={active:ie,activatorEvent:ce,collisions:Le,delta:{x:ct.x,y:ct.y},over:Dr};Ka.unstable_batchedUpdates(()=>{Q(Dr),Dt==null||Dt(yt),b({type:"onDragOver",event:yt})})},[ze]),Cr(()=>{je.current={activatorEvent:O,active:H,activeNode:he,collisionRect:et,collisions:se,droppableRects:le,draggableNodes:P,draggingNode:Te,draggingNodeRect:Pe,droppableContainers:M,over:_e,scrollableAncestors:W,scrollAdjustedTranslate:Me},$.current={initial:Pe,translated:et}},[H,he,se,et,P,Te,Pe,le,M,_e,W,Me]),rJ({...ve,delta:_,draggingRect:et,pointerCoordinates:ue,scrollableAncestors:W,scrollableAncestorRects:I});const X=m.useMemo(()=>({active:H,activeNode:he,activeNodeRect:ne,activatorEvent:O,collisions:se,containerNodeRect:Ae,dragOverlay:de,draggableNodes:P,droppableContainers:M,droppableRects:le,over:_e,measureDroppableContainers:Ne,scrollableAncestors:W,scrollableAncestorRects:I,measuringConfiguration:re,measuringScheduled:ke,windowRect:q}),[H,he,ne,O,se,Ae,de,P,M,le,_e,Ne,W,I,re,ke,q]),me=m.useMemo(()=>({activatorEvent:O,activators:Ie,active:H,activeNodeRect:ne,ariaDescribedById:{draggable:U},dispatch:g,draggableNodes:P,over:_e,measureDroppableContainers:Ne}),[O,Ie,H,ne,g,U,P,_e,Ne]);return Z.createElement($3.Provider,{value:j},Z.createElement(xu.Provider,{value:me},Z.createElement(aT.Provider,{value:X},Z.createElement(tf.Provider,{value:F},u)),Z.createElement(SJ,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Z.createElement(TX,{...l,hiddenTextDescribedById:U}));function V(){const ie=(K==null?void 0:K.autoScrollEnabled)===!1,ce=typeof c=="object"?c.enabled===!1:c===!1,Le=E&&!ie&&!ce;return typeof c=="object"?{...c,enabled:Le}:{enabled:Le}}}),AJ=m.createContext(null),i2="button",DJ="Draggable";function kJ(t){let{id:s,data:a,disabled:r=!1,attributes:n}=t;const o=hu(DJ),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:x}=m.useContext(xu),{role:f=i2,roleDescription:v="draggable",tabIndex:p=0}=n??{},y=(c==null?void 0:c.id)===s,g=m.useContext(y?tf:AJ),[b,j]=Th(),[N,w]=Th(),E=gJ(i,s),D=Rd(a);Cr(()=>(h.set(s,{id:s,key:o,node:b,activatorNode:N,data:D}),()=>{const _=h.get(s);_&&_.key===o&&h.delete(s)}),[h,s]);const P=m.useMemo(()=>({role:f,tabIndex:p,"aria-disabled":r,"aria-pressed":y&&f===i2?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,f,p,y,v,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:P,isDragging:y,listeners:r?void 0:E,node:b,over:x,setNodeRef:j,setActivatorNodeRef:w,transform:g}}function nT(){return m.useContext(aT)}const TJ="Droppable",RJ={timeout:25};function MJ(t){let{data:s,disabled:a=!1,id:r,resizeObserverConfig:n}=t;const o=hu(TJ),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=m.useContext(xu),d=m.useRef({disabled:a}),h=m.useRef(!1),x=m.useRef(null),f=m.useRef(null),{disabled:v,updateMeasurementsFor:p,timeout:y}={...RJ,...n},g=Rd(p??r),b=m.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),f.current=null},y)},[y]),j=ef({callback:b,disabled:v||!i}),N=m.useCallback((P,_)=>{j&&(_&&(j.unobserve(_),h.current=!1),P&&j.observe(P))},[j]),[w,E]=Th(N),D=Rd(s);return m.useEffect(()=>{!j||!w.current||(j.disconnect(),h.current=!1,j.observe(w.current))},[w,j]),m.useEffect(()=>(l({type:Cs.RegisterDroppable,element:{id:r,key:o,disabled:a,node:w,rect:x,data:D}}),()=>l({type:Cs.UnregisterDroppable,key:o,id:r})),[r]),m.useEffect(()=>{a!==d.current.disabled&&(l({type:Cs.SetDroppableDisabled,id:r,key:o,disabled:a}),d.current.disabled=a)},[r,o,a,l]),{active:i,rect:x,isOver:(c==null?void 0:c.id)===r,node:w,over:c,setNodeRef:E}}function IJ(t){let{animation:s,children:a}=t;const[r,n]=m.useState(null),[o,i]=m.useState(null),l=Rh(a);return!a&&!r&&l&&n(l),Cr(()=>{if(!o)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){n(null);return}Promise.resolve(s(u,o)).then(()=>{n(null)})},[s,r,o]),Z.createElement(Z.Fragment,null,a,r?m.cloneElement(r,{ref:i}):null)}const OJ={x:0,y:0,scaleX:1,scaleY:1};function zJ(t){let{children:s}=t;return Z.createElement(xu.Provider,{value:sT},Z.createElement(tf.Provider,{value:OJ},s))}const FJ={position:"fixed",touchAction:"none"},_J=t=>Xx(t)?"transform 250ms ease":void 0,LJ=m.forwardRef((t,s)=>{let{as:a,activatorEvent:r,adjustScale:n,children:o,className:i,rect:l,style:c,transform:u,transition:d=_J}=t;if(!l)return null;const h=n?u:{...u,scaleX:1,scaleY:1},x={...FJ,width:l.width,height:l.height,top:l.top,left:l.left,transform:Sr.Transform.toString(h),transformOrigin:n&&r?RX(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return Z.createElement(a,{className:i,style:x,ref:s},o)}),$J=t=>s=>{let{active:a,dragOverlay:r}=s;const n={},{styles:o,className:i}=t;if(o!=null&&o.active)for(const[l,c]of Object.entries(o.active))c!==void 0&&(n[l]=a.node.style.getPropertyValue(l),a.node.style.setProperty(l,c));if(o!=null&&o.dragOverlay)for(const[l,c]of Object.entries(o.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return i!=null&&i.active&&a.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(n))a.node.style.setProperty(c,u);i!=null&&i.active&&a.node.classList.remove(i.active)}},VJ=t=>{let{transform:{initial:s,final:a}}=t;return[{transform:Sr.Transform.toString(s)},{transform:Sr.Transform.toString(a)}]},GJ={duration:250,easing:"ease",keyframes:VJ,sideEffects:$J({styles:{active:{opacity:"0"}}})};function BJ(t){let{config:s,draggableNodes:a,droppableContainers:r,measuringConfiguration:n}=t;return Kx((o,i)=>{if(s===null)return;const l=a.get(o);if(!l)return;const c=l.node.current;if(!c)return;const u=tT(i);if(!u)return;const{transform:d}=xa(i).getComputedStyle(i),h=H3(d);if(!h)return;const x=typeof s=="function"?s:UJ(s);return Q3(c,n.draggable.measure),x({active:{id:o,data:l.data,node:c,rect:n.draggable.measure(c)},draggableNodes:a,dragOverlay:{node:i,rect:n.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:n,transform:h})})}function UJ(t){const{duration:s,easing:a,sideEffects:r,keyframes:n}={...GJ,...t};return o=>{let{active:i,dragOverlay:l,transform:c,...u}=o;if(!s)return;const d={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},h={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/l.rect.height:1},x={x:c.x-d.x,y:c.y-d.y,...h},f=n({...u,active:i,dragOverlay:l,transform:{initial:c,final:x}}),[v]=f,p=f[f.length-1];if(JSON.stringify(v)===JSON.stringify(p))return;const y=r==null?void 0:r({active:i,dragOverlay:l,...u}),g=l.node.animate(f,{duration:s,easing:a,fill:"forwards"});return new Promise(b=>{g.onfinish=()=>{y==null||y(),b()}})}}let l2=0;function HJ(t){return m.useMemo(()=>{if(t!=null)return l2++,l2},[t])}const Bj=Z.memo(t=>{let{adjustScale:s=!1,children:a,dropAnimation:r,style:n,transition:o,modifiers:i,wrapperElement:l="div",className:c,zIndex:u=999}=t;const{activatorEvent:d,active:h,activeNodeRect:x,containerNodeRect:f,draggableNodes:v,droppableContainers:p,dragOverlay:y,over:g,measuringConfiguration:b,scrollableAncestors:j,scrollableAncestorRects:N,windowRect:w}=nT(),E=m.useContext(tf),D=HJ(h==null?void 0:h.id),P=rT(i,{activatorEvent:d,active:h,activeNodeRect:x,containerNodeRect:f,draggingNodeRect:y.rect,over:g,overlayNodeRect:y.rect,scrollableAncestors:j,scrollableAncestorRects:N,transform:E,windowRect:w}),_=Gj(x),M=BJ({config:r,draggableNodes:v,droppableContainers:p,measuringConfiguration:b}),k=_?y.setRef:void 0;return Z.createElement(zJ,null,Z.createElement(IJ,{animation:M},h&&D?Z.createElement(LJ,{key:D,id:h.id,ref:k,as:l,activatorEvent:d,adjustScale:s,className:c,transition:o,rect:_,style:{zIndex:u,...n},transform:P},a):null))});function ec(t,s,a){const r=t.slice();return r.splice(a<0?r.length+a:a,0,r.splice(s,1)[0]),r}function WJ(t,s){return t.reduce((a,r,n)=>{const o=s.get(r);return o&&(a[n]=o),a},Array(t.length))}function qu(t){return t!==null&&t>=0}function qJ(t,s){if(t===s)return!0;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==s[a])return!1;return!0}function YJ(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Yu={scaleX:1,scaleY:1},KJ=t=>{var s;let{rects:a,activeNodeRect:r,activeIndex:n,overIndex:o,index:i}=t;const l=(s=a[n])!=null?s:r;if(!l)return null;const c=XJ(a,i,n);if(i===n){const u=a[o];return u?{x:n<o?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...Yu}:null}return i>n&&i<=o?{x:-l.width-c,y:0,...Yu}:i<n&&i>=o?{x:l.width+c,y:0,...Yu}:{x:0,y:0,...Yu}};function XJ(t,s,a){const r=t[s],n=t[s-1],o=t[s+1];return!r||!n&&!o?0:a<s?n?r.left-(n.left+n.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(n.left+n.width)}const oT=t=>{let{rects:s,activeIndex:a,overIndex:r,index:n}=t;const o=ec(s,r,a),i=s[n],l=o[n];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Ku={scaleX:1,scaleY:1},Uj=t=>{var s;let{activeIndex:a,activeNodeRect:r,index:n,rects:o,overIndex:i}=t;const l=(s=o[a])!=null?s:r;if(!l)return null;if(n===a){const u=o[i];return u?{x:0,y:a<i?u.top+u.height-(l.top+l.height):u.top-l.top,...Ku}:null}const c=JJ(o,n,a);return n>a&&n<=i?{x:0,y:-l.height-c,...Ku}:n<a&&n>=i?{x:0,y:l.height+c,...Ku}:{x:0,y:0,...Ku}};function JJ(t,s,a){const r=t[s],n=t[s-1],o=t[s+1];return r?a<s?n?r.top-(n.top+n.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):n?r.top-(n.top+n.height):0:0}const iT="Sortable",lT=Z.createContext({activeIndex:-1,containerId:iT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:oT,disabled:{draggable:!1,droppable:!1}});function af(t){let{children:s,id:a,items:r,strategy:n=oT,disabled:o=!1}=t;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=nT(),h=hu(iT,a),x=l.rect!==null,f=m.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),v=i!=null,p=i?f.indexOf(i.id):-1,y=u?f.indexOf(u.id):-1,g=m.useRef(f),b=!qJ(f,g.current),j=y!==-1&&p===-1||b,N=YJ(o);Cr(()=>{b&&v&&d(f)},[b,f,v,d]),m.useEffect(()=>{g.current=f},[f]);const w=m.useMemo(()=>({activeIndex:p,containerId:h,disabled:N,disableTransforms:j,items:f,overIndex:y,useDragOverlay:x,sortedRects:WJ(f,c),strategy:n}),[p,h,N.draggable,N.droppable,j,f,y,c,x,n]);return Z.createElement(lT.Provider,{value:w},s)}const QJ=t=>{let{id:s,items:a,activeIndex:r,overIndex:n}=t;return ec(a,r,n).indexOf(s)},ZJ=t=>{let{containerId:s,isSorting:a,wasDragging:r,index:n,items:o,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==o&&n===i?!1:a?!0:i!==n&&s===c},eQ={duration:200,easing:"ease"},cT="transform",tQ=Sr.Transition.toString({property:cT,duration:0,easing:"linear"}),sQ={roleDescription:"sortable"};function aQ(t){let{disabled:s,index:a,node:r,rect:n}=t;const[o,i]=m.useState(null),l=m.useRef(a);return Cr(()=>{if(!s&&a!==l.current&&r.current){const c=n.current;if(c){const u=Jl(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}a!==l.current&&(l.current=a)},[s,a,r,n]),m.useEffect(()=>{o&&i(null)},[o]),o}function rf(t){let{animateLayoutChanges:s=ZJ,attributes:a,disabled:r,data:n,getNewIndex:o=QJ,id:i,strategy:l,resizeObserverConfig:c,transition:u=eQ}=t;const{items:d,containerId:h,activeIndex:x,disabled:f,disableTransforms:v,sortedRects:p,overIndex:y,useDragOverlay:g,strategy:b}=m.useContext(lT),j=rQ(r,f),N=d.indexOf(i),w=m.useMemo(()=>({sortable:{containerId:h,index:N,items:d},...n}),[h,n,N,d]),E=m.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:D,node:P,isOver:_,setNodeRef:M}=MJ({id:i,data:w,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:k,activatorEvent:$,activeNodeRect:H,attributes:Y,setNodeRef:K,listeners:z,isDragging:O,over:S,setActivatorNodeRef:L,transform:U}=kJ({id:i,data:w,attributes:{...sQ,...a},disabled:j.draggable}),J=vX(M,K),re=!!k,le=re&&!v&&qu(x)&&qu(y),Ne=!g&&O,ke=Ne&&le?U:null,ae=le?ke??(l??b)({rects:p,activeNodeRect:H,activeIndex:x,overIndex:y,index:N}):null,ve=qu(x)&&qu(y)?o({id:i,items:d,activeIndex:x,overIndex:y}):N,xe=k==null?void 0:k.id,ne=m.useRef({activeId:xe,items:d,newIndex:ve,containerId:h}),Ae=d!==ne.current.items,je=s({active:k,containerId:h,isDragging:O,isSorting:re,id:i,index:N,items:d,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:u,wasDragging:ne.current.activeId!=null}),Ue=aQ({disabled:!je,index:N,node:P,rect:D});return m.useEffect(()=>{re&&ne.current.newIndex!==ve&&(ne.current.newIndex=ve),h!==ne.current.containerId&&(ne.current.containerId=h),d!==ne.current.items&&(ne.current.items=d)},[re,ve,h,d]),m.useEffect(()=>{if(xe===ne.current.activeId)return;if(xe!=null&&ne.current.activeId==null){ne.current.activeId=xe;return}const Te=setTimeout(()=>{ne.current.activeId=xe},50);return()=>clearTimeout(Te)},[xe]),{active:k,activeIndex:x,attributes:Y,data:w,rect:D,index:N,newIndex:ve,items:d,isOver:_,isSorting:re,isDragging:O,listeners:z,node:P,overIndex:y,over:S,setNodeRef:J,setActivatorNodeRef:L,setDroppableNodeRef:M,setDraggableNodeRef:K,transform:Ue??ae,transition:de()};function de(){if(Ue||Ae&&ne.current.newIndex===N)return tQ;if(!(Ne&&!Xx($)||!u)&&(re||je))return Sr.Transition.toString({...u,property:cT})}}function rQ(t,s){var a,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(a=t==null?void 0:t.draggable)!=null?a:s.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:s.droppable}}function zh(t){if(!t)return!1;const s=t.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const nQ=[At.Down,At.Right,At.Up,At.Left],nf=(t,s)=>{let{context:{active:a,collisionRect:r,droppableRects:n,droppableContainers:o,over:i,scrollableAncestors:l}}=s;if(nQ.includes(t.code)){if(t.preventDefault(),!a||!r)return;const c=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const x=n.get(h.id);if(x)switch(t.code){case At.Down:r.top<x.top&&c.push(h);break;case At.Up:r.top>x.top&&c.push(h);break;case At.Left:r.left>x.left&&c.push(h);break;case At.Right:r.left<x.left&&c.push(h);break}});const u=IX({active:a,collisionRect:r,droppableRects:n,droppableContainers:c,pointerCoordinates:null});let d=B3(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const h=o.get(a.id),x=o.get(d),f=x?n.get(x.id):null,v=x==null?void 0:x.node.current;if(v&&f&&h&&x){const y=Zx(v).some((E,D)=>l[D]!==E),g=dT(h,x),b=oQ(h,x),j=y||!g?{x:0,y:0}:{x:b?r.width-f.width:0,y:b?r.height-f.height:0},N={x:f.left,y:f.top};return j.x&&j.y?N:Md(N,j)}}}};function dT(t,s){return!zh(t)||!zh(s)?!1:t.data.current.sortable.containerId===s.data.current.sortable.containerId}function oQ(t,s){return!zh(t)||!zh(s)||!dT(t,s)?!1:t.data.current.sortable.index<s.data.current.sortable.index}const iQ=t=>{let{transform:s}=t;return{...s,y:0}},c2=["Comisso de Implantao","SE - Secretaria Executiva","OUV - Ouvidoria","GSP - Gerncia de Solues e Projetos"],d2=["Comisso de Implantao","SE - Secretaria Executiva","OUV - Ouvidoria"],Mp="GSP - Gerncia de Solues e Projetos";function $a(){const{user:t}=kt(),s=()=>t?c2.includes(t.gerencia):!1,a=()=>t?c2.includes(t.gerencia):!1,r=x=>s()&&x==="pendente",n=()=>s(),o=()=>s(),i=(x,f,v)=>t?!!(t.gerencia===Mp||d2.includes(t.gerencia)||t.gerencia===x||f===1&&v&&t.gerencia===v):!1,l=()=>t?t.gerencia===Mp:!1,c=()=>t?d2.includes(t.gerencia):!1,u=()=>t?["Comisso de Implantao","CI","SE - Secretaria Executiva","Secretaria Executiva","OUV - Ouvidoria","Ouvidoria"].some(f=>t.gerencia.includes(f)):!1,d=()=>t?t.gerencia===Mp||t.gerencia==="SE - Secretaria Executiva":!1,h=()=>t?t.gerencia==="NAJ - Assessoria Jurdica":!1;return{podeEditarFluxo:s,podeEditarProcesso:a,podeExcluirEtapa:r,podeReordenarEtapas:n,podeAdicionarEtapa:o,podeEditarCard:i,isGerenciaPai:s(),isGSP:l,isGerenciaPaiSistema:c,temPermissaoModelosFluxo:u,isGSPouSE:d,isNAJ:h}}function Ip(t){const[s,a]=m.useState(!1);return m.useEffect(()=>{const r=window.matchMedia(t);r.matches!==s&&a(r.matches);const n=()=>a(r.matches);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[s,t]),s}const ft=m.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));ft.displayName="Textarea";const u2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",gerencia:"Comisso de Implantao",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",gerencia:"GRH - Gerncia de Recursos Humanos",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",gerencia:"GUE - Gerncia de Urgncia e Emergncia",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"}];function lQ({query:t,onSelect:s,onClose:a,isVisible:r,position:n}){const[o,i]=m.useState([]),[l,c]=m.useState(0),u=m.useRef(null);kt(),m.useEffect(()=>{if(!t){i(u2.slice(0,8));return}const x=u2.filter(f=>f.nome.toLowerCase().includes(t.toLowerCase())||f.cargo.toLowerCase().includes(t.toLowerCase())||f.gerencia.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())).slice(0,8);i(x),c(0)},[t,r]);const d=m.useCallback(x=>{if(r)switch(x.key){case"ArrowDown":x.preventDefault(),c(f=>f<o.length-1?f+1:0);break;case"ArrowUp":x.preventDefault(),c(f=>f>0?f-1:o.length-1);break;case"Enter":case"Tab":x.preventDefault(),o[l]&&s(o[l]);break;case"Escape":x.preventDefault(),a();break}},[r,o,l,s,a]);m.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[d]),m.useEffect(()=>{if(u.current&&l>=0){const x=u.current.children[l];x&&x.scrollIntoView({block:"nearest"})}},[l]);const h=x=>x.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2);return!r||o.length===0?null:e.jsxs("div",{className:"fixed z-[9999] bg-white border border-gray-200 rounded-lg shadow-lg max-w-sm w-80 max-h-64 overflow-hidden",style:{top:n.top,left:n.left},children:[e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Fl,{className:"w-4 h-4"}),e.jsx("span",{children:"Mencionar usurio"}),e.jsxs(oe,{variant:"secondary",className:"ml-auto text-xs",children:[o.length," usurio",o.length!==1?"s":""]})]})}),e.jsx("div",{ref:u,className:"max-h-48 overflow-y-auto",children:o.map((x,f)=>e.jsx("div",{className:`px-3 py-2 cursor-pointer transition-colors ${f===l?"bg-blue-50 border-l-2 border-blue-500":"hover:bg-gray-50"}`,onClick:()=>s(x),role:"option","aria-selected":f===l,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hr,{className:"w-8 h-8",children:[e.jsx(xr,{src:""}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-xs font-medium",children:h(x.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:x.nome}),e.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[x.cargo,"  ",x.gerencia]}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:x.email})]}),f===l&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},x.id))}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:" navegar  Enter/Tab selecionar  Esc fechar"}),e.jsxs("span",{className:"text-gray-400",children:[l+1," de ",o.length]})]})})]})}function of({value:t,onChange:s,placeholder:a="Digite seu texto... Use @ para mencionar usurios",className:r="",disabled:n=!1,maxLength:o,minHeight:i="120px",processoId:l,etapaId:c,cardId:u}){const[d,h]=m.useState([]),[x,f]=m.useState(!1),[v,p]=m.useState(""),[y,g]=m.useState({top:0,left:0}),[b,j]=m.useState(0),N=m.useRef(null);kt();const w=k=>k.split(" ").map($=>$.charAt(0)).join("").toUpperCase().slice(0,2),E=m.useCallback((k,$)=>{const H=k.slice(0,$),Y=H.lastIndexOf("@");if(Y!==-1){const K=H.slice(Y+1);if(K.includes(" "))return f(!1),null;const z=K.trim(),O=Y;if(N.current){const L=N.current.getBoundingClientRect(),U=window.pageYOffset||document.documentElement.scrollTop,J=window.pageXOffset||document.documentElement.scrollLeft,re={top:L.bottom+U+5,left:L.left+J};g(re)}return p(z),f(!0),{query:z,startPos:O}}return f(!1),null},[]),D=k=>{const $=k.target.value,H=k.target.selectionStart;j(H),E($,H),s($,d)},P=k=>{const H=t.slice(0,b).lastIndexOf("@");if(H!==-1){const Y=t.slice(0,H),K=t.slice(b),O=`@${k.nome.split(" ")[0]}`,S=Y+O+" "+K,L={userId:k.id,display:k.nome,start:H,end:H+O.length},U=[...d,L];h(U),f(!1),s(S,U),setTimeout(()=>{if(N.current){const J=H+O.length+1;N.current.focus(),N.current.setSelectionRange(J,J),j(J)}},0)}},_=()=>{f(!1)},M=k=>{};return e.jsxs("div",{className:"relative",children:[e.jsx(ft,{ref:N,value:t,onChange:D,onKeyDown:M,placeholder:a,className:`resize-none ${r}`,style:{minHeight:i},maxLength:o,disabled:n}),o&&e.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[t.length,"/",o]}),x&&!n&&e.jsx(lQ,{query:v,onSelect:P,onClose:_,isVisible:x,position:y}),d.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fl,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Usurios mencionados (",d.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((k,$)=>e.jsxs(oe,{variant:"outline",className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm bg-white border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsxs(hr,{className:"w-4 h-4",children:[e.jsx(xr,{src:""}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-xs font-medium",children:w(k.display)})]}),e.jsx("span",{className:"font-medium",children:k.display})]},$))})]})]})}function cQ({etapa:t,isOpen:s,onClose:a,onConcluirEtapa:r,onEditarEtapa:n,onExcluirEtapa:o,onSubstituirDocumento:i,onVisualizarDocumento:l,onBaixarDocumento:c,onAdicionarMembro:u,onRemoverMembro:d,onSalvarObservacao:h,gerenciaCriadora:x}){var we;const{user:f}=kt(),[v,p]=m.useState(""),[y,g]=m.useState(!1),[b,j]=m.useState(!1),[N,w]=m.useState(null),[E,D]=m.useState(!1),[P,_]=m.useState(!1),[M,k]=m.useState(!1),[$,H]=m.useState(!1),[Y,K]=m.useState(!1),[z,O]=m.useState(!1),S=m.useRef(null),[L,U]=m.useState(""),[J,re]=m.useState(""),[le,Ne]=m.useState(""),[ke,he]=m.useState(""),[ae,ve]=m.useState([]),[xe,ne]=m.useState({nome:"",cargo:"",papel:"",gerencia:""}),{podeEditarCard:Ae}=$a();if(m.useEffect(()=>{const F=T=>{S.current&&!S.current.contains(T.target)&&O(!1)};return z&&document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[z]),!t)return null;const je=()=>Ae(t.gerencia,t.id,x),Ue=()=>{switch(t.status){case"concluido":return{badge:e.jsxs(oe,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Concludo"]}),icon:e.jsx(Re,{className:"w-5 h-5 text-green-500"}),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};case"andamento":return{badge:e.jsxs(oe,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(ti,{className:"w-3 h-3 mr-1"}),"Em Andamento"]}),icon:e.jsx(ti,{className:"w-5 h-5 text-yellow-500"}),color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"atrasado":return{badge:e.jsxs(oe,{className:"bg-red-100 text-red-700 border-red-200",children:[e.jsx(xt,{className:"w-3 h-3 mr-1"}),"Atrasado"]}),icon:e.jsx(xt,{className:"w-5 h-5 text-red-500"}),color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};case"pendente":return{badge:e.jsxs(oe,{className:"bg-gray-100 text-gray-700 border-gray-200",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Pendente"]}),icon:e.jsx(Fe,{className:"w-5 h-5 text-gray-500"}),color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"};default:return{badge:e.jsxs(oe,{className:"bg-gray-100 text-gray-700 border-gray-200",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Pendente"]}),icon:e.jsx(Fe,{className:"w-5 h-5 text-gray-500"}),color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"}}},de=()=>t.status==="concluido"?{status:"Cumprido",color:"text-green-600",icon:e.jsx(ks,{className:"w-4 h-4 text-green-600"}),bgColor:"bg-green-50",borderColor:"border-green-200"}:t.status==="atrasado"?{status:"Vencido",color:"text-red-600",icon:e.jsx(Hz,{className:"w-4 h-4 text-red-600"}),bgColor:"bg-red-50",borderColor:"border-red-200"}:{status:"No Prazo",color:"text-blue-600",icon:e.jsx(Kz,{className:"w-4 h-4 text-blue-600"}),bgColor:"bg-blue-50",borderColor:"border-blue-200"},Te=Ue(),Pe=de(),A=()=>{v.trim()&&(h==null||h(t,v),p(""))},R=F=>{var te;const T=(te=F.target.files)==null?void 0:te[0];T&&(w(T),j(!1),console.log("Arquivo selecionado:",T.name))},q=()=>{D(!0)},W=()=>{o==null||o(t),D(!1)},I=()=>{D(!1)},ee=()=>{_(!0)},ue=()=>{r==null||r(t),_(!1)},G=()=>{_(!1)},ge=()=>{k(!0)},ye=()=>{console.log("Enviando para anlise:",t.id),k(!1)},Me=()=>{k(!1)},et=()=>{if(t){const F={...t,responsavel:L,cargo:J,gerencia:le,envolvidos:ae};n==null||n(F),H(!1)}},se=()=>{if(t&&f){const F={...t,prazoAnterior:t.prazoPrevisao,prazoPrevisao:ke,alteradoPor:`${f.nome} (${f.cargo})`,dataAlteracao:new Date().toLocaleDateString("pt-BR")};n==null||n(F),K(!1)}},ze=()=>{xe.nome&&xe.cargo&&xe.papel&&xe.gerencia&&(ve([...ae,xe]),ne({nome:"",cargo:"",papel:"",gerencia:""}))},_e=F=>{ve(ae.filter((T,te)=>te!==F))},Q=()=>{p(""),g(!1),a()};return e.jsx(lk,{children:s&&e.jsxs(ms.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm overflow-y-auto w-full h-full p-6",onClick:Q,children:[e.jsxs(ms.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg max-w-7xl w-full max-h-[95vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${Te.bgColor} ${Te.borderColor} border-2`,children:Te.icon}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Etapa ",t.id,": ",t.nomeCompleto]}),e.jsx("p",{className:"text-lg text-gray-600 mt-1",children:t.nome}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:Te.badge})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:Q,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full w-10 h-10",children:e.jsx(Yt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full mb-8",children:[e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 text-blue-500"}),"Responsvel"]})}),e.jsx(Be,{className:"p-4 h-full overflow-visible",children:t.responsavel?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-medium text-gray-900",children:t.responsavel}),e.jsx("p",{className:"text-sm text-gray-600",children:t.cargo})]})]}),e.jsxs(oe,{className:"bg-blue-100 text-blue-700 border-blue-200",children:[e.jsx($s,{className:"w-3 h-3 mr-1"}),t.gerencia]}),je()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>g(!y),className:"w-full text-xs",children:[e.jsx(ar,{className:"w-3 h-3 mr-1"}),"Editar Responsvel"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Responsvel ainda no definido."})]})})]}),e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-500"}),"Cronograma"]})}),e.jsx(Be,{className:"p-4 h-full overflow-visible",children:e.jsxs("div",{className:"space-y-4",children:[t.dataInicio&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(BN,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Incio"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.dataInicio})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(yF,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Prazo Previsto"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:t.prazoPrevisao}),t.diasUteis&&e.jsxs("p",{className:"text-xs text-blue-600",children:[t.diasUteis," dias teis"]}),t.prazoAnterior&&t.alteradoPor&&e.jsxs("div",{className:"mt-2 p-2 bg-orange-50 rounded border border-orange-200",children:[e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Alterado:"})," ",t.alteradoPor]}),e.jsxs("p",{className:"text-xs text-orange-600",children:[e.jsx("strong",{children:"Data:"})," ",t.dataAlteracao]}),e.jsxs("p",{className:"text-xs text-orange-600",children:[e.jsx("strong",{children:"Prazo anterior:"})," ",t.prazoAnterior]})]})]}),t.dataConclusao&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Uz,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Concluso"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:t.dataConclusao})]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${Pe.bgColor} ${Pe.borderColor}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Pe.icon,e.jsx("p",{className:"text-xs text-gray-500",children:"Status do Prazo"})]}),e.jsx("p",{className:`text-sm font-medium ${Pe.color}`,children:Pe.status})]})]})})]}),e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full h-full min-h-[250px] overflow-visible",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5 text-purple-500"}),"Equipe"]})}),e.jsx(Be,{className:"p-4 h-full overflow-visible",children:t.envolvidos&&t.envolvidos.length>0?e.jsxs("div",{className:"space-y-3",children:[t.envolvidos.map((F,T)=>e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.nome}),e.jsx("p",{className:"text-xs text-gray-600",children:F.cargo}),e.jsx(oe,{className:"bg-purple-100 text-purple-700 border-purple-200 mt-1",children:F.papel})]}),je()&&e.jsx(C,{size:"sm",variant:"outline",onClick:()=>d==null?void 0:d(t,T.toString()),className:"text-xs bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:e.jsx(HN,{className:"w-3 h-3"})})]})},T)),je()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>u==null?void 0:u(t,{}),className:"w-full text-xs bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum membro adicional"}),je()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>u==null?void 0:u(t,{}),className:"mt-3 text-xs bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]})})]})]}),e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ca,{className:"w-5 h-5 text-orange-500"}),"Gerenciamento da Etapa"]})}),e.jsxs(Be,{className:"p-6",children:[je()?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(jl,{className:"w-3 h-3 mr-1"}),"Sua Gerncia"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Voc tem permisso para gerenciar esta etapa."})]}),e.jsxs("div",{className:"border rounded-xl p-6 bg-green-50 space-y-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-green-700 text-base",children:"Aes Disponveis da Sua Gerncia"}),e.jsx("div",{className:"space-y-4",children:b?e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",onChange:R,className:"w-full border rounded px-3 py-2 text-sm",accept:".pdf,.doc,.docx,.xls,.xlsx"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:()=>j(!1),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 flex-1",children:"Cancelar"}),N&&e.jsxs(C,{size:"sm",className:"bg-green-600 hover:bg-green-700 flex-1",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Enviar"]})]})]}):e.jsxs(C,{size:"sm",onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded w-full",children:[e.jsx(Jz,{className:"w-4 h-4 mr-2"}),"Adicionar arquivo"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:ge,className:"bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium px-4 py-3 rounded w-full",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Anlise"]}),t.status==="andamento"?e.jsxs(C,{size:"sm",onClick:ee,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded w-full",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]}):e.jsx("div",{className:"bg-gray-100 rounded px-4 py-3 flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Etapa Finalizada"})}),e.jsxs(C,{size:"sm",variant:"outline",onClick:q,className:"bg-red-100 hover:bg-red-200 text-red-700 font-medium px-4 py-3 rounded w-full",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Excluir Documento"]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Ca,{className:"w-8 h-8 text-red-400 mb-3"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-w-md",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-800 mb-2",children:"Acesso Restrito"}),e.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:"Voc no possui permisso para editar esta etapa. A edio est restrita  gerncia responsvel ou aos administradores do sistema."})]})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Excluso"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Tem certeza que deseja excluir o documento desta etapa? Esta ao no pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:I,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsx(C,{size:"sm",onClick:W,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})}),P&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Concluso da Etapa"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Resumo da Etapa"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[e.jsx("strong",{children:"Etapa:"})," ",t.nomeCompleto]}),e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Responsvel:"})," ",t.responsavel]}),e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Prazo:"})," ",t.prazoPrevisao]}),t.documento&&e.jsxs("p",{className:"text-xs text-green-600",children:[e.jsx("strong",{children:"Documento:"})," ",t.documento]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ao concluir esta etapa, ela ser finalizada e no poder mais ser editada. A prxima etapa do processo ser desbloqueada automaticamente."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:G,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:ue,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enviar para Anlise"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Destinos da Anlise"}),e.jsxs("ul",{className:"text-xs text-purple-600 mt-2 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Assinatura:"})," Aprovao formal"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Reviso:"})," Verificao tcnica"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Avaliao:"})," Outras gerncias (Jurdico, Diretoria)"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Esta etapa ser encaminhada para anlise e validao. O processo continuar aps a aprovao de todos os responsveis."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{size:"sm",onClick:Me,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:ye,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Anlise"]})]})]})})]})]}),t.documentos&&t.documentos.length>0||t.documento||t.status==="concluido"?e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-indigo-500"}),"Todos Documentos"]})}),e.jsxs(Be,{className:"p-4 space-y-3",children:[t.documentos&&t.documentos.length>0&&t.documentos.map((F,T)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-8 h-8 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.nome}),F.enviadoPor&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado por: ",F.enviadoPor]}),F.dataEnvio&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",F.dataEnvio]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l==null?void 0:l({...t,documento:F.nome,documentoUrl:F.url}),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c==null?void 0:c({...t,documento:F.nome,documentoUrl:F.url}),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(jt,{className:"w-4 h-4"})})]})]})},F.url||F.nome||T)),(!t.documentos||t.documentos.length===0)&&t.documento&&e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-8 h-8 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.documento}),t.enviadoPor&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado por: ",t.enviadoPor]}),t.dataEnvio&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",t.dataEnvio]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l==null?void 0:l(t),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c==null?void 0:c(t),className:"text-gray-500 hover:text-indigo-600",children:e.jsx(jt,{className:"w-4 h-4"})})]})]})}),(!t.documentos||t.documentos.length===0)&&!t.documento&&t.status==="concluido"&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(si,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Documento da Etapa Concluda"}),e.jsx("p",{className:"text-xs text-green-600",children:"Documento anexado  etapa finalizada"})]})]})})})]})]}):null,e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full mb-8",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(lx,{className:"w-5 h-5 text-amber-500"}),"Comentrios e Observaes"]})}),e.jsx(Be,{className:"p-4",children:e.jsxs("section",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Comentrios e Observaes"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[t.observacoes&&e.jsxs("div",{className:"border-l-4 border-blue-400 bg-blue-50 px-3 py-2 rounded-md",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Gerncia Responsvel"})," - ",new Date().toLocaleDateString("pt-BR")]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:t.observacoes})]}),e.jsxs("div",{className:"border-l-4 border-green-400 bg-green-50 px-3 py-2 rounded-md",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Yasmin Pissolati Mattos Bretz"})," - ",new Date(Date.now()-2*60*60*1e3).toLocaleDateString("pt-BR")]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Documento enviado para anlise tcnica. Aguardando aprovao."})]}),je()?e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Adicionar Comentrio"})]}),e.jsx(of,{value:v,onChange:F=>p(F),placeholder:"Escreva um comentrio... Use @ para mencionar usurios",className:"w-full border rounded-md p-2 text-sm",minHeight:"80px",maxLength:500,processoId:t==null?void 0:t.processoId,etapaId:t==null?void 0:t.id,cardId:"etapa-detalhes"}),e.jsxs(C,{size:"sm",onClick:A,disabled:!v.trim(),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:[e.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Salvar Comentrio"]})]}):e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Rt,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Comentrios (Somente Visualizao)"})]}),e.jsx(ft,{placeholder:"Voc no possui permisso para adicionar comentrios...",value:"",disabled:!0,className:"w-full border rounded-md p-2 text-sm min-h-[80px] resize-none bg-gray-100 text-gray-500"}),e.jsxs(C,{size:"sm",disabled:!0,className:"mt-2 bg-gray-300 text-gray-500 px-3 py-1 rounded text-sm cursor-not-allowed",children:[e.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Adicionar Comentrio (Bloqueado)"]})]})]})]})})]}),e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200 w-full",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-5 h-5 text-blue-500"}),"Resumo da Execuo"]})}),e.jsxs(Be,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Te.bgColor}`,children:Te.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Status"}),e.jsx("p",{className:"text-xs text-gray-600",children:Te.badge.props.children[1]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Pe.bgColor}`,children:Pe.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Prazo"}),e.jsx("p",{className:`text-xs ${Pe.color}`,children:Pe.status})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Equipe"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((we=t.envolvidos)==null?void 0:we.length)||0," membro(s)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(si,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Documento"}),e.jsx("p",{className:"text-xs text-gray-600",children:t.documento?"Enviado":"Pendente"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(BN,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Linha do Tempo"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t.dataInicio&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Incio: ",t.dataInicio]})]}),e.jsx(Fs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Prazo: ",t.prazoPrevisao]})]}),t.dataConclusao&&e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Concluso: ",t.dataConclusao]})]})]})]})]})]})]})]})]}),$&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Responsvel e Equipe"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Responsvel"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Nome"}),e.jsx("input",{type:"text",value:L,onChange:F=>U(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Nome do responsvel"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Cargo"}),e.jsx("input",{type:"text",value:J,onChange:F=>re(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Cargo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Gerncia"}),e.jsx("input",{type:"text",value:le,onChange:F=>Ne(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Gerncia"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Equipe"}),e.jsxs("div",{className:"space-y-4",children:[ae.map((F,T)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Membro ",T+1]}),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>_e(T),className:"text-xs bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:e.jsx(HN,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[e.jsx("input",{type:"text",value:F.nome,onChange:te=>{const fe=[...ae];fe[T].nome=te.target.value,ve(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Nome"}),e.jsx("input",{type:"text",value:F.cargo,onChange:te=>{const fe=[...ae];fe[T].cargo=te.target.value,ve(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Cargo"}),e.jsx("input",{type:"text",value:F.papel,onChange:te=>{const fe=[...ae];fe[T].papel=te.target.value,ve(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Papel"}),e.jsx("input",{type:"text",value:F.gerencia,onChange:te=>{const fe=[...ae];fe[T].gerencia=te.target.value,ve(fe)},className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Gerncia"})]})]},T)),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-3",children:"Adicionar Novo Membro"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[e.jsx("input",{type:"text",value:xe.nome,onChange:F=>ne({...xe,nome:F.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Nome"}),e.jsx("input",{type:"text",value:xe.cargo,onChange:F=>ne({...xe,cargo:F.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Cargo"}),e.jsx("input",{type:"text",value:xe.papel,onChange:F=>ne({...xe,papel:F.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Papel"}),e.jsx("input",{type:"text",value:xe.gerencia,onChange:F=>ne({...xe,gerencia:F.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Gerncia"})]}),e.jsxs(C,{size:"sm",onClick:ze,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar Membro"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(C,{size:"sm",onClick:()=>H(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:et,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alterar Prazo"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Yt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800 mb-2",children:"Informaes da Alterao"}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Responsvel:"})," ",f==null?void 0:f.nome," (",f==null?void 0:f.cargo,")"]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Data:"})," ",new Date().toLocaleDateString("pt-BR")]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[e.jsx("strong",{children:"Prazo atual:"})," ",t==null?void 0:t.prazoPrevisao]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 mb-2 block",children:"Novo Prazo"}),e.jsx("input",{type:"text",value:ke,onChange:F=>he(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Ex: 15/02/2025"})]}),e.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-xs text-yellow-700",children:[e.jsx("strong",{children:" Importante:"})," Esta alterao ser registrada no histrico da etapa."]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(C,{size:"sm",onClick:()=>K(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),e.jsxs(C,{size:"sm",onClick:se,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Prazo"]})]})]})})]})})}const dQ={FileText:e.jsx($e,{className:"w-6 h-6"}),PenTool:e.jsx(Rt,{className:"w-6 h-6"}),Users:e.jsx(qt,{className:"w-6 h-6"}),Search:e.jsx(ds,{className:"w-6 h-6"}),Shield:e.jsx(Ca,{className:"w-6 h-6"}),DollarSign:e.jsx(ah,{className:"w-6 h-6"}),Scale:e.jsx(pd,{className:"w-6 h-6"}),Upload:e.jsx(mt,{className:"w-6 h-6"}),User:e.jsx(ht,{className:"w-6 h-6"}),Calendar:e.jsx(Pt,{className:"w-6 h-6"}),Building2:e.jsx($s,{className:"w-6 h-6"}),CheckCircle:e.jsx(Re,{className:"w-6 h-6"}),Clock:e.jsx(Fe,{className:"w-6 h-6"}),Settings:e.jsx(Ft,{className:"w-6 h-6"})};function uQ({etapa:t,onEdit:s,onDelete:a,canDelete:r}){const{attributes:n,listeners:o,setNodeRef:i,transform:l,transition:c,isDragging:u}=rf({id:t.id}),d={transform:Sr.Transform.toString(l),transition:c},x=(p=>{switch(p){case"concluido":return{bgColor:"bg-green-50",borderColor:"border-green-200",icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"})};case"andamento":return{bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:e.jsx(ti,{className:"w-4 h-4 text-blue-600"})};case"atrasado":return{bgColor:"bg-red-50",borderColor:"border-red-200",icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"})};default:return{bgColor:"bg-gray-50",borderColor:"border-gray-200",icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"})}}})(t.status),f=dQ[t.tipoIcone||"FileText"]||e.jsx($e,{className:"w-6 h-6"}),v=()=>{window.confirm(`Tem certeza que deseja excluir a etapa "${t.nome}"? Esta ao  irreversvel.`)&&a(t.id)};return e.jsx("div",{ref:i,style:d,className:`flex-shrink-0 md:flex-shrink ${u?"opacity-50":""}`,children:e.jsxs(ms.div,{className:`border-2 rounded-xl transition-all duration-300 ${x.bgColor} hover:shadow-md bg-white relative w-full group ${R4(t.status,t.dataInicio,t.prazoPrevisao)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{...n,...o,className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing z-10",children:e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"p-1 bg-gray-100 rounded hover:bg-gray-200",children:e.jsx($l,{className:"w-4 h-4 text-gray-500"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Arrastar para reordenar"})})]})})}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white hover:bg-blue-50 border border-gray-200",onClick:()=>s(t),children:e.jsx(ar,{className:"w-4 h-4 text-blue-600"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Editar etapa"})})]})}),r&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white hover:bg-red-50 border border-gray-200",onClick:v,children:e.jsx(It,{className:"w-4 h-4 text-red-600"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Excluir etapa"})})]})})]}),t.status==="concluido"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),t.status==="pendente"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),t.status==="andamento"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ti,{className:"w-4 h-4 text-white"})}),t.status==="atrasado"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(qe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${t.status==="concluido"?"bg-gradient-to-br from-green-500 to-green-600 shadow-lg":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:t.id}),e.jsx("div",{className:"flex items-center gap-1",children:x.icon})]}),e.jsx("div",{className:"flex justify-center mb-3 text-gray-600",children:f}),e.jsx("h3",{className:`font-semibold text-center text-sm mb-2 leading-tight ${t.status==="concluido"?"text-green-800 font-bold":"text-gray-900"}`,children:t.nome}),e.jsx("p",{className:"text-xs text-gray-600 text-center mb-2 truncate",children:t.gerencia}),e.jsx("div",{className:"text-center",children:e.jsx(oe,{variant:"outline",className:"text-xs",children:t.prazoPrevisao})}),t.responsavel&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.responsavel})})]}),e.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-blue-300 rounded-xl opacity-0 group-hover:opacity-20 pointer-events-none transition-opacity"})]})})}async function mQ(){try{const t=await fetch("/api/gerencias",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Erro ao buscar gerncias: ${t.status}`);const s=await t.json();if(!s.success)throw new Error(s.message||"Erro ao buscar gerncias");return s.data.filter(a=>a.ativo)}catch(t){return console.error("Erro ao buscar gerncias:",t),hQ()}}function hQ(){return[{id:"1",codigo:"CI",nome:"Comisso de Implantao",nomeCompleto:"Comisso de Implantao",ativo:!0,tipo:"comissao",responsavel:{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",codigo:"SE",nome:"Secretaria Executiva",nomeCompleto:"SE - Secretaria Executiva",ativo:!0,tipo:"secretaria",responsavel:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"3",codigo:"OUV",nome:"Ouvidoria",nomeCompleto:"OUV - Ouvidoria",ativo:!0,tipo:"assessoria",responsavel:{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"4",codigo:"GSP",nome:"Gerncia de Solues e Projetos",nomeCompleto:"GSP - Gerncia de Solues e Projetos",ativo:!0,tipo:"gerencia",responsavel:{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"5",codigo:"GSL",nome:"Gerncia de Suprimentos e Logstica",nomeCompleto:"GSL - Gerncia de Suprimentos e Logstica",ativo:!0,tipo:"gerencia",responsavel:{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"6",codigo:"GRH",nome:"Gerncia de Recursos Humanos",nomeCompleto:"GRH - Gerncia de Recursos Humanos",ativo:!0,tipo:"gerencia",responsavel:{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"7",codigo:"GUE",nome:"Gerncia de Urgncia e Emergncia",nomeCompleto:"GUE - Gerncia de Urgncia e Emergncia",ativo:!0,tipo:"gerencia",responsavel:{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"8",codigo:"GLC",nome:"Gerncia de Licitaes e Contratos",nomeCompleto:"GLC - Gerncia de Licitaes e Contratos",ativo:!0,tipo:"gerencia",responsavel:{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"9",codigo:"GFC",nome:"Gerncia Financeira e Contbil",nomeCompleto:"GFC - Gerncia Financeira e Contbil",ativo:!0,tipo:"gerencia",responsavel:{id:"9",nome:"Maria Silva",cargo:"Gerente Financeira",email:"maria.silva@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"10",codigo:"GTEC",nome:"Gerncia de Tecnologia da Informao",nomeCompleto:"GTEC - Gerncia de Tecnologia da Informao",ativo:!0,tipo:"gerencia",responsavel:{id:"10",nome:"Joo Santos",cargo:"Gerente de TI",email:"joao.santos@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"11",codigo:"GAP",nome:"Gerncia de Administrao e Patrimnio",nomeCompleto:"GAP - Gerncia de Administrao e Patrimnio",ativo:!0,tipo:"gerencia",responsavel:{id:"11",nome:"Ana Costa",cargo:"Gerente de Administrao",email:"ana.costa@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"12",codigo:"GESP",nome:"Gerncia de Especialidades",nomeCompleto:"GESP - Gerncia de Especialidades",ativo:!0,tipo:"gerencia",responsavel:{id:"12",nome:"Pedro Lima",cargo:"Gerente de Especialidades",email:"pedro.lima@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"13",codigo:"NAJ",nome:"Assessoria Jurdica",nomeCompleto:"NAJ - Assessoria Jurdica",ativo:!0,tipo:"assessoria",responsavel:{id:"13",nome:"Fernanda Martins",cargo:"Assessora Jurdica",email:"fernanda.martins@hospital.gov.br"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}]}function xQ(t){return t.map(s=>({value:s.nomeCompleto,label:s.nomeCompleto,codigo:s.codigo,responsavel:s.responsavel}))}function fQ(t){return t.map(s=>({value:s.codigo,label:s.codigo,nomeCompleto:s.nomeCompleto}))}function Hj(){const[t,s]=m.useState([]),[a,r]=m.useState(!0),[n,o]=m.useState(null),i=m.useCallback(async()=>{try{r(!0),o(null);const f=await mQ();s(f)}catch(f){o(f instanceof Error?f.message:"Erro ao carregar gerncias"),console.error("Erro no hook useGerencias:",f)}finally{r(!1)}},[]);m.useEffect(()=>{i()},[i]);const l=xQ(t),c=fQ(t),u=m.useCallback(f=>t.find(v=>v.id===f),[t]),d=m.useCallback(f=>t.find(v=>v.codigo===f),[t]),h=m.useCallback(f=>t.find(v=>v.nome===f||v.nomeCompleto===f||v.nome.toLowerCase().includes(f.toLowerCase())||v.nomeCompleto.toLowerCase().includes(f.toLowerCase())),[t]),x=m.useCallback(f=>t.filter(v=>v.tipo===f),[t]);return{gerencias:t,gerenciasOptions:l,gerenciasSimpleOptions:c,loading:a,error:n,refetch:i,getGerenciaById:u,getGerenciaByCodigo:d,getGerenciaByNome:h,getGerenciasByTipo:x}}function Fh({className:t,...s}){return e.jsx("div",{className:be("animate-pulse rounded-md bg-muted",t),...s})}function pQ({value:t,onValueChange:s,placeholder:a="Selecione a gerncia",disabled:r=!1,required:n=!1,showResponsavel:o=!1,filterByTipo:i,className:l}){const{gerencias:c,gerenciasOptions:u,loading:d,error:h}=Hj(),x=i?u.filter(f=>{const v=c.find(p=>p.nomeCompleto===f.value);return(v==null?void 0:v.tipo)===i}):u;return d?e.jsx("div",{className:"space-y-2",children:e.jsx(Fh,{className:"h-10 w-full"})}):h?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsxs("span",{children:["Erro ao carregar gerncias: ",h]})]}),e.jsx(Fh,{className:"h-10 w-full"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(dt,{value:t,onValueChange:s,disabled:r,children:[e.jsx(it,{className:l,children:e.jsx(ut,{placeholder:a})}),e.jsx(lt,{children:x.map(f=>e.jsx(Ce,{value:f.value,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:f.label}),o&&f.responsavel&&e.jsxs("span",{className:"text-xs text-gray-500",children:[f.responsavel.nome," - ",f.responsavel.cargo]})]})},f.value))})]}),n&&!t&&e.jsx("p",{className:"text-sm text-red-600",children:"Gerncia responsvel  obrigatria"})]})}const Op=[{value:"FileText",label:"Documento",icon:e.jsx($e,{className:"w-4 h-4"})},{value:"PenTool",label:"Assinatura",icon:e.jsx(Rt,{className:"w-4 h-4"})},{value:"Users",label:"Equipe",icon:e.jsx(qt,{className:"w-4 h-4"})},{value:"Search",label:"Anlise",icon:e.jsx(ds,{className:"w-4 h-4"})},{value:"Shield",label:"Validao",icon:e.jsx(Ca,{className:"w-4 h-4"})},{value:"DollarSign",label:"Financeiro",icon:e.jsx(ah,{className:"w-4 h-4"})},{value:"Scale",label:"Jurdico",icon:e.jsx(pd,{className:"w-4 h-4"})},{value:"Upload",label:"Envio",icon:e.jsx(mt,{className:"w-4 h-4"})},{value:"User",label:"Responsvel",icon:e.jsx(ht,{className:"w-4 h-4"})},{value:"Calendar",label:"Prazo",icon:e.jsx(Pt,{className:"w-4 h-4"})},{value:"Building2",label:"Gerncia",icon:e.jsx($s,{className:"w-4 h-4"})},{value:"CheckCircle",label:"Aprovao",icon:e.jsx(Re,{className:"w-4 h-4"})},{value:"Clock",label:"Aguardando",icon:e.jsx(Fe,{className:"w-4 h-4"})},{value:"Settings",label:"Configurao",icon:e.jsx(Ft,{className:"w-4 h-4"})}];function gQ({etapa:t,isOpen:s,onClose:a,onSave:r,isNovaEtapa:n=!1}){var d;const[o,i]=m.useState({id:0,nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:"",observacoes:"",bloqueiaProximas:!1,obrigatoria:!0,exigeAssinatura:!1,tipoIcone:"FileText"});m.useEffect(()=>{t?i({...t,bloqueiaProximas:t.bloqueiaProximas||!1,obrigatoria:t.obrigatoria!==!1,exigeAssinatura:t.exigeAssinatura||!1,tipoIcone:t.tipoIcone||"FileText"}):n&&i({id:Date.now(),nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:"",observacoes:"",bloqueiaProximas:!1,obrigatoria:!0,exigeAssinatura:!1,tipoIcone:"FileText"})},[t,n]);const l=()=>{if(!o.nome||!o.gerencia||!o.prazoPrevisao){alert("Por favor, preencha todos os campos obrigatrios.");return}r(o),a()},c=(h,x)=>{i(f=>({...f,[h]:x}))},u=()=>{const h=Op.find(x=>x.value===o.tipoIcone);return h?h.icon:e.jsx($e,{className:"w-4 h-4"})};return e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ze,{children:e.jsxs(Xe,{className:"flex items-center gap-2",children:[u(),n?"Adicionar Nova Etapa":"Editar Etapa do Fluxo"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaes Bsicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Ttulo da Etapa *"}),e.jsx(De,{id:"nome",value:o.nome,onChange:h=>c("nome",h.target.value),placeholder:"Ex: Anlise da Demanda"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"prazoPrevisao",children:"Prazo Previsto (dias teis) *"}),e.jsx(De,{id:"prazoPrevisao",value:o.prazoPrevisao,onChange:h=>c("prazoPrevisao",h.target.value),placeholder:"Ex: 5 dias teis"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nomeCompleto",children:"Descrio Completa"}),e.jsx(ft,{id:"nomeCompleto",value:o.nomeCompleto,onChange:h=>c("nomeCompleto",h.target.value),placeholder:"Descrio detalhada da etapa...",rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Responsabilidade"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"gerencia",children:"Gerncia Responsvel *"}),e.jsx(pQ,{value:o.gerencia,onValueChange:h=>c("gerencia",h),placeholder:"Selecione a gerncia",required:!0,showResponsavel:!0})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"responsavel",children:"Responsvel"}),e.jsx(De,{id:"responsavel",value:o.responsavel,onChange:h=>c("responsavel",h.target.value),placeholder:"Nome do responsvel"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo do Responsvel"}),e.jsx(De,{id:"cargo",value:o.cargo,onChange:h=>c("cargo",h.target.value),placeholder:"Ex: Gerente de Projetos"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuraes Visuais"}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"tipoIcone",children:"cone da Etapa"}),e.jsxs(dt,{value:o.tipoIcone,onValueChange:h=>c("tipoIcone",h),children:[e.jsx(it,{children:e.jsx(ut,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[u(),e.jsx("span",{children:(d=Op.find(h=>h.value===o.tipoIcone))==null?void 0:d.label})]})})}),e.jsx(lt,{children:Op.map(h=>e.jsx(Ce,{value:h.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[h.icon,e.jsx("span",{children:h.label})]})},h.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regras da Etapa"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"obrigatoria",checked:o.obrigatoria,onCheckedChange:h=>c("obrigatoria",h)}),e.jsx(B,{htmlFor:"obrigatoria",className:"text-sm",children:"Etapa obrigatria"}),e.jsx(oe,{variant:"outline",className:"text-xs",children:"Recomendado"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"bloqueiaProximas",checked:o.bloqueiaProximas,onCheckedChange:h=>c("bloqueiaProximas",h)}),e.jsx(B,{htmlFor:"bloqueiaProximas",className:"text-sm",children:"Bloqueia as prximas etapas at ser concluda"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"exigeAssinatura",checked:o.exigeAssinatura,onCheckedChange:h=>c("exigeAssinatura",h)}),e.jsx(B,{htmlFor:"exigeAssinatura",className:"text-sm",children:"Exige assinatura digital"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacoes",children:"Observaes Internas"}),e.jsx(ft,{id:"observacoes",value:o.observacoes,onChange:h=>c("observacoes",h.target.value),placeholder:"Observaes sobre regras especficas, dependncias, etc...",rows:3})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:a,children:"Cancelar"}),e.jsx(C,{onClick:l,children:n?"Adicionar Etapa":"Salvar Alteraes"})]})]})})}const vQ=[{id:"consolidacao-demanda",nome:"Consolidao da Demanda",descricao:"Notificar setores com possvel interesse em participar da demanda",icone:e.jsx(qt,{className:"w-4 h-4"}),template:{nome:"Consolidao da Demanda",nomeCompleto:"Consolidao da Demanda - Notificao e consolidao de setores interessados",status:"pendente",prazoPrevisao:"10 dias teis",gerencia:"Gerncia de Solues e Projetos",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",observacoes:"Card opcional para notificar setores com possvel interesse em participar da demanda",bloqueiaProximas:!1,obrigatoria:!1,exigeAssinatura:!1,tipoIcone:"Users"},categoria:"opcional"}];function bQ({etapas:t,onAdicionar:s,className:a=""}){const[r,n]=m.useState(!1),[o,i]=m.useState(t.length+1),[l,c]=m.useState(null),[u,d]=m.useState("card"),h=()=>{l?s(o,l):s(o),n(!1),i(t.length+1),c(null),d("posicao")},x=p=>{c(p),d("posicao")},f=()=>{d("card"),c(null)},v=()=>{const p=[];return p.push({value:1,label:"No incio do fluxo",description:"Antes de todas as etapas"}),t.forEach((y,g)=>{p.push({value:g+2,label:`Aps "${y.nome}"`,description:`Posio ${g+2}`})}),p};return e.jsxs(e.Fragment,{children:[e.jsxs(C,{onClick:()=>n(!0),className:`bg-blue-600 hover:bg-blue-700 text-white ${a}`,size:"lg",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Nova Etapa"]}),e.jsx(Ke,{open:r,onOpenChange:n,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsx(Ze,{children:e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"w-5 h-5"}),"Adicionar Nova Etapa"]})}),e.jsx("div",{className:"space-y-4",children:u==="card"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Escolha o tipo de etapa que deseja adicionar:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d("posicao"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Etapa Padro"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Criar uma nova etapa personalizada"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Cards Opcionais"}),vQ.map(p=>e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>x(p),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:p.icone}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.nome}),e.jsx(oe,{variant:"outline",className:"text-xs",children:p.categoria==="opcional"?"Opcional":"Especial"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:p.descricao})]})]})},p.id))]})]})]}):e.jsxs(e.Fragment,{children:[l&&e.jsx("div",{className:"mb-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded flex items-center justify-center",children:l.icone}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:l.nome}),e.jsx("p",{className:"text-xs text-purple-600",children:l.descricao})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:f,className:"ml-auto text-purple-600 hover:text-purple-800",children:"Trocar"})]})}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Escolha onde inserir a ",l?"etapa":"nova etapa"," no fluxo do processo:"]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"posicao",children:"Posio no Fluxo"}),e.jsxs(dt,{value:o.toString(),onValueChange:p=>i(parseInt(p)),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione a posio"})}),e.jsx(lt,{children:v().map(p=>e.jsx(Ce,{value:p.value.toString(),children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.label}),e.jsx("div",{className:"text-xs text-gray-500",children:p.description})]})},p.value))})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Prximo passo:"})," Aps confirmar a posio, voc poder configurar todos os detalhes da ",l?"etapa":"nova etapa"," (nome, gerncia responsvel, prazo, etc.)."]})})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(C,{onClick:h,children:"Continuar"})]})]})})]})}function jQ({isVisible:t,onCancelar:s,onSalvar:a,temAlteracoes:r,isLoading:n=!1}){const o=()=>{r&&!window.confirm("Voc tem alteraes no salvas. Tem certeza que deseja cancelar? Todas as alteraes sero perdidas.")||s()};return e.jsx(lk,{children:t&&e.jsx(ms.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Modo de Edio Ativo"})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Alteraes no salvas"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(C,{variant:"outline",onClick:o,disabled:n,className:"min-w-[100px]",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),e.jsx(C,{onClick:a,disabled:n||!r,className:"min-w-[140px] bg-blue-600 hover:bg-blue-700",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 border-t pt-3",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("span",{children:" Arraste os cards para reordenar"}),e.jsx("span",{children:" Clique no cone de edio para modificar uma etapa"}),e.jsx("span",{children:' Use o boto "Nova Etapa" para adicionar etapas'}),e.jsx("span",{children:" Etapas j iniciadas no podem ser excludas"})]})})]})})})}const yQ=Kr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ia=m.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:be(yQ({variant:s}),t),...a}));ia.displayName="Alert";const NQ=m.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:be("mb-1 font-medium leading-none tracking-tight",t),...s}));NQ.displayName="AlertTitle";const la=m.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:be("text-sm [&_p]:leading-relaxed",t),...s}));la.displayName="AlertDescription";function uT({label:t}){return e.jsxs("div",{className:"relative my-3",children:[e.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex items-center",children:e.jsx("span",{className:"mx-4 h-[1px] w-full bg-slate-200/80"})}),e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"px-2.5 py-0.5 text-xs rounded-full border bg-white text-slate-600 shadow-sm",children:t})})]})}const wQ=[{id:"1",initials:"LM",name:"Lucas Moreira Brito",role:"Gerente de Recursos Humanos",message:"DFD enviado para anlise tcnica da GSP.",datetime:"2025-01-15T07:00:00Z",isCurrentUser:!1},{id:"2",initials:"MS",name:"Maria Santos",role:"Gerente de Projetos",message:"Reviso concluda. Documento aprovado para prxima etapa. @Lucas Moreira Brito, pode prosseguir com a prxima fase.",datetime:"2025-01-15T10:30:00Z",isCurrentUser:!1},{id:"3",initials:"PL",name:"Pedro Lima",role:"Coordenador",message:"Solicitando esclarecimentos sobre os requisitos tcnicos. Anexei o documento de referncia.",datetime:"2025-01-14T14:15:00Z",isCurrentUser:!1,attachments:[{id:"att1",name:"requisitos-tecnicos.pdf",url:"#"}]},{id:"4",initials:"VC",name:"Voc",role:"Analista",message:"Entendido, vou revisar o documento e dar continuidade ao processo.",datetime:"2025-01-15T16:45:00Z",isCurrentUser:!0}];function fa({processoId:t,etapaId:s,cardId:a,title:r="Comentrios",className:n=""}){const[o,i]=m.useState(wQ),[l,c]=m.useState(!1),[u,d]=m.useState(""),h=m.useRef(null),x=m.useRef(null),{toast:f}=Kt();m.useEffect(()=>{h.current&&(h.current.scrollTop=0)},[o]);const v=_=>{const M=["bg-blue-500","bg-purple-500","bg-green-500","bg-orange-500","bg-indigo-500","bg-teal-500","bg-rose-500","bg-amber-500"],k=_.split("").reduce(($,H)=>$+H.charCodeAt(0),0);return M[k%M.length]},p=_=>new Date(_).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),y=_=>{const M={};return _.sort((k,$)=>new Date($.datetime).getTime()-new Date(k.datetime).getTime()).forEach(k=>{const $=p(k.datetime);M[$]||(M[$]=[]),M[$].push(k)}),Object.entries(M).sort(([k],[$])=>{const[H,Y,K]=k.split("/").map(Number),[z,O,S]=$.split("/").map(Number),L=new Date(K,Y-1,H);return new Date(S,O-1,z).getTime()-L.getTime()}).map(([k,$])=>({date:k,comments:$}))},g=_=>_.replace(/@([A-Za-z\s]+)/g,'<span class="text-indigo-600 font-medium">@$1</span>'),b=_=>{d(_.target.value);const M=_.target;M.style.height="auto",M.style.height=Math.min(M.scrollHeight,200)+"px"},j=async()=>{if(!u.trim()){f({title:"Comentrio vazio",description:"Digite um comentrio antes de enviar.",variant:"destructive"});return}const _={id:`temp-${Date.now()}`,initials:"VC",name:"Voc",role:"Analista",message:u,datetime:new Date().toISOString(),isCurrentUser:!0,isOptimistic:!0};i(M=>[...M,_]),d(""),c(!0),x.current&&(x.current.style.height="auto");try{await new Promise(k=>setTimeout(k,1500));const M={..._,id:Date.now().toString(),isOptimistic:!1};i(k=>k.map($=>$.id===_.id?M:$)),f({title:"Comentrio enviado",description:"Seu comentrio foi adicionado com sucesso."})}catch{i(k=>k.filter($=>$.id!==_.id)),d(_.message),f({title:"Erro ao enviar",description:"No foi possvel enviar o comentrio. Tente novamente.",variant:"destructive"})}finally{c(!1)}},N=_=>{var M;d(`@${_.name} `),(M=x.current)==null||M.focus()},w=_=>{navigator.clipboard.writeText(_.message),f({title:"Copiado",description:"Texto do comentrio copiado para a rea de transferncia."})},E=_=>{i(M=>M.filter(k=>k.id!==_)),f({title:"Comentrio excludo",description:"O comentrio foi removido com sucesso."})},D=()=>{var _;d(M=>M+"@"),(_=x.current)==null||_.focus()},P=y(o);return e.jsxs("div",{className:`${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(no,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Comentrios"}),e.jsx(oe,{variant:"secondary",className:"ml-auto",children:o.filter(_=>!_.isOptimistic).length})]}),e.jsx("div",{className:"border-b border-slate-200 mt-2 mb-4"}),e.jsx("div",{ref:h,className:"max-h-[420px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-300 hover:scrollbar-thumb-slate-400 mb-6","aria-live":"polite",children:P.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-slate-100",children:e.jsx(no,{className:"w-6 h-6 text-slate-400"})}),e.jsx("div",{className:"text-sm text-slate-500",children:"Ainda no h comentrios neste card"})]})}):e.jsx("div",{className:"space-y-4",children:P.map((_,M)=>e.jsxs("div",{children:[e.jsx(uT,{label:_.date}),e.jsx("div",{className:"space-y-4",children:_.comments.map(k=>e.jsxs("div",{className:"group grid grid-cols-[40px_1fr] gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold ${v(k.name)} ${k.isOptimistic?"opacity-50":""}`,children:k.initials})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"font-semibold text-slate-900 text-sm truncate",children:k.name}),k.role&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-300 hidden sm:inline",children:""}),e.jsx("span",{className:"text-xs text-slate-500 truncate",children:k.role})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 flex-shrink-0",children:[e.jsx(Fe,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{children:new Date(k.datetime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:`p-3 rounded-lg mt-1 relative ${k.isCurrentUser?"bg-indigo-50 border border-indigo-200":"bg-slate-50 border border-slate-200"} ${k.isOptimistic?"opacity-70":""}`,children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(St,{children:e.jsxs("div",{className:"flex items-center gap-0.5 bg-white/90 backdrop-blur-sm border border-slate-200 rounded-md p-0.5 shadow-sm",children:[e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{onClick:()=>N(k),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Responder",children:e.jsx(pF,{className:"w-3.5 h-3.5"})})}),e.jsx(bt,{children:"Responder"})]}),e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{onClick:()=>w(k),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Copiar",children:e.jsx(sh,{className:"w-3.5 h-3.5"})})}),e.jsx(bt,{children:"Copiar"})]}),k.isCurrentUser&&!k.isOptimistic&&e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{onClick:()=>E(k.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-600 transition-colors","aria-label":"Excluir",children:e.jsx(It,{className:"w-3.5 h-3.5"})})}),e.jsx(bt,{children:"Excluir"})]})]})})}),e.jsx("div",{className:"text-sm text-slate-700 leading-relaxed break-words pr-8",dangerouslySetInnerHTML:{__html:g(k.message)}}),k.isOptimistic&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-xs text-slate-400",children:[e.jsx(fd,{className:"w-3 h-3 animate-spin flex-shrink-0"}),e.jsx("span",{children:"Enviando..."})]}),k.attachments&&k.attachments.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 space-y-1",children:k.attachments.map($=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ai,{className:"w-3 h-3 text-slate-400 flex-shrink-0"}),e.jsx("a",{href:$.url,className:"text-indigo-600 hover:text-indigo-700 underline truncate",target:"_blank",rel:"noopener noreferrer",children:$.name})]},$.id))})]})]})]},k.id))})]},_.date))})}),e.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(lF,{className:"w-4 h-4 text-indigo-600"}),e.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Adicionar Comentrio"})]}),e.jsx("div",{className:"flex items-center gap-1 text-slate-600 mb-3",children:e.jsxs(St,{children:[e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{onClick:D,className:"p-2 hover:bg-slate-100 rounded-md transition-colors flex items-center justify-center","aria-label":"Inserir meno",children:e.jsx(Fl,{className:"w-4 h-4"})})}),e.jsx(bt,{children:"Inserir meno @"})]}),e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-md opacity-50 cursor-not-allowed transition-colors flex items-center justify-center","aria-label":"Anexar arquivo",disabled:!0,children:e.jsx(ai,{className:"w-4 h-4"})})}),e.jsx(bt,{children:"Anexar arquivo (em breve)"})]})]})}),e.jsx("div",{className:"relative mb-3",children:e.jsx("textarea",{ref:x,value:u,onChange:b,placeholder:"Escreva um comentrio use @ para mencionar usurios",className:"w-full min-h-[44px] max-h-[200px] resize-y border border-slate-300 rounded-lg p-3 text-sm leading-relaxed focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",onKeyDown:_=>{(_.ctrlKey||_.metaKey)&&_.key==="Enter"&&(_.preventDefault(),j())}})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{onClick:j,disabled:!u.trim()||l,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white rounded-lg px-4 py-2 font-medium shadow-sm transition-all duration-200 hover:shadow-md flex items-center gap-2 text-sm",children:l?e.jsxs(e.Fragment,{children:[e.jsx(fd,{className:"w-4 h-4 animate-spin"}),"Enviando"]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"w-4 h-4"}),"Adicionar"]})})})]})]})}var CQ="Separator",m2="horizontal",SQ=["horizontal","vertical"],mT=m.forwardRef((t,s)=>{const{decorative:a,orientation:r=m2,...n}=t,o=EQ(r)?r:m2,l=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(Ge.div,{"data-orientation":o,...l,...n,ref:s})});mT.displayName=CQ;function EQ(t){return SQ.includes(t)}var hT=mT;const Wj=m.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(hT,{ref:n,decorative:a,orientation:s,className:be("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Wj.displayName=hT.displayName;const PQ=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",email:"lara.fraguas@hospital.gov.br",cargo:"Superviso contratual",gerencia:"Comisso de Implantao",ativo:!0},{id:"2",nome:"Diran Rodrigues de Souza Filho",email:"diran.rodrigues@hospital.gov.br",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva",ativo:!0},{id:"3",nome:"Georgia Guimaraes Pereira",email:"georgia.guimaraes@hospital.gov.br",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",ativo:!0},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",email:"yasmin.pissolati@hospital.gov.br",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",ativo:!0},{id:"5",nome:"Guilherme de Carvalho Silva",email:"guilherme.carvalho@hospital.gov.br",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",ativo:!0},{id:"6",nome:"Lucas Moreira Brito",email:"lucas.moreira@hospital.gov.br",cargo:"GERENTE DE RH",gerencia:"GRH - Gerncia de Recursos Humanos",ativo:!0},{id:"7",nome:"Andressa Sterfany Santos da Silva",email:"andressa.sterfany@hospital.gov.br",cargo:"Assessora Tcnica de Sade",gerencia:"GUE - Gerncia de Urgncia e Emergncia",ativo:!0},{id:"8",nome:"Leticia Bonfim Guilherme",email:"leticia.bonfim@hospital.gov.br",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos",ativo:!0},{id:"9",nome:"Dallas Kelson Francisco de Souza",email:"dallas.kelson@hospital.gov.br",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira e Contbil",ativo:!0},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",email:"gabriel.radamesis@hospital.gov.br",cargo:"Assessor Jurdico",gerencia:"NAJ - Assessoria Jurdica",ativo:!0}],Xu=t=>t.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2),AQ=async(t,s=1,a=20,r=[])=>{await new Promise(d=>setTimeout(d,300));const n=r.map(d=>d.id);let o=PQ.filter(d=>d.ativo&&!n.includes(d.id)&&(d.nome.toLowerCase().includes(t.toLowerCase())||d.email.toLowerCase().includes(t.toLowerCase())||d.cargo.toLowerCase().includes(t.toLowerCase())||d.gerencia.toLowerCase().includes(t.toLowerCase())));const i=o.length,l=Math.ceil(i/a),c=(s-1)*a,u=c+a;return{usuarios:o.slice(c,u),total:i,page:s,totalPages:l}},DQ=async(t,s)=>{await new Promise(a=>setTimeout(a,500)),console.log("Salvando responsvel:",{processoId:t,userId:s}),console.log("Registrando auditoria:",{processoId:t,acao:"DFD_ADD_RESPONSAVEL",de:null,para:s})},kQ=async(t,s)=>{await new Promise(a=>setTimeout(a,500)),console.log("Removendo responsvel:",{processoId:t,userId:s}),console.log("Registrando auditoria:",{processoId:t,acao:"DFD_REMOVE_RESPONSAVEL",de:s,para:null})};function lf({value:t=[],onChange:s,disabled:a=!1,canEdit:r=!0,processoId:n,className:o="",maxResponsaveis:i,label:l="Responsveis pela Elaborao *"}){const{toast:c}=Kt();kt();const[u,d]=m.useState(!1),[h,x]=m.useState(""),[f,v]=m.useState([]),[p,y]=m.useState([]),[g,b]=m.useState(!1),[j,N]=m.useState(!1),[w,E]=m.useState(0),[D,P]=m.useState(!1),_=m.useRef(null),M=m.useRef(null),k=Array.isArray(t)?t:[];m.useEffect(()=>{const U=setTimeout(()=>{u&&h.trim()?$():u&&!h.trim()&&(v([]),P(!1))},250);return()=>clearTimeout(U)},[h,u]);const $=async()=>{b(!0);try{const J=(await AQ(h,1,20,k)).usuarios.filter(re=>!k.some(le=>le.id===re.id)&&!p.some(le=>le.id===re.id));v(J),P(J.length>0),E(0)}catch{c({title:"Erro",description:"Erro ao buscar usurios. Tente novamente.",variant:"destructive"}),P(!1)}finally{b(!1)}},H=()=>{a||!r||typeof i=="number"&&k.length>=i||(x(""),y([]),v([]),E(0),P(!1),d(!0),setTimeout(()=>{var U;(U=_.current)==null||U.focus()},100))},Y=()=>{d(!1),x(""),y([]),v([]),E(0),P(!1)},K=U=>{y(J=>J.some(re=>re.id===U.id)?J:[...J,U]),x(""),P(!1),v(J=>J.filter(re=>re.id!==U.id))},z=U=>{y(J=>J.filter(re=>re.id!==U)),h.trim()&&setTimeout(()=>$(),100)},O=async()=>{if(p.length!==0){N(!0);try{const U=typeof i=="number"?Math.max(0,i-k.length):p.length,J=p.filter(Ne=>!k.some(ke=>ke.id===Ne.id)).slice(0,U);if(J.length===0){c({title:"Nada adicionado",description:typeof i=="number"&&U===0?"Limite mximo j atingido.":"Todos os selecionados j estavam na lista.",variant:typeof i=="number"&&U===0?"destructive":void 0}),Y();return}await Promise.all(J.map(Ne=>DQ(n,Ne.id)));const re=J.map(Ne=>({id:Ne.id,nome:Ne.nome,cargo:Ne.cargo,gerencia:Ne.gerencia,avatarUrl:Ne.avatarUrl})),le=[...k,...re];s(le),c({title:"Responsveis adicionados",description:`${J.length} responsvel(is) adicionado(s) com sucesso.`}),Y()}catch{c({title:"Erro",description:"Erro ao adicionar responsveis. Tente novamente.",variant:"destructive"})}finally{N(!1)}}},S=async(U,J)=>{try{await kQ(n,U);const re=k.filter(le=>le.id!==U);s(re.length>0?re:null),c({title:"Responsvel removido",description:`${J} foi removido dos responsveis.`})}catch{c({title:"Erro",description:"Erro ao remover responsvel. Tente novamente.",variant:"destructive"})}},L=m.useCallback(U=>{if(!(!u||!D))switch(U.key){case"ArrowDown":U.preventDefault(),E(J=>J<f.length-1?J+1:0);break;case"ArrowUp":U.preventDefault(),E(J=>J>0?J-1:f.length-1);break;case"Enter":U.preventDefault(),f[w]&&K(f[w]);break;case"Escape":U.preventDefault(),P(!1);break}},[u,D,f,w]);return m.useEffect(()=>(document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)),[L]),m.useEffect(()=>{if(M.current&&w>=0&&f.length>0){const U=M.current.children[w];U&&U.scrollIntoView({block:"nearest"})}},[w,f]),!r||a?!k||k.length===0?e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg bg-gray-50 ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(ht,{className:"w-4 h-4"}),l]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum responsvel definido"})]}):e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-3",children:[e.jsx(ht,{className:"w-4 h-4"}),l," (",k.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-[220px] overflow-auto pr-1",children:k.map((U,J)=>e.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg border border-blue-200 bg-blue-50",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:U.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Xu(U.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 truncate",children:U.nome}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-700 truncate",children:U.cargo}),e.jsx(oe,{variant:"secondary",className:"ml-2 text-[10px] bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0",children:U.gerencia})]})]},`${U.id}-${J}`))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-4 border border-gray-200 rounded-lg ${o}`,children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(ht,{className:"w-4 h-4"}),l," (",k.length,"/",i,")"]}),k.length>0?e.jsx("div",{className:"flex flex-col gap-2 max-h-[220px] overflow-auto pr-1",children:k.map((U,J)=>e.jsx("div",{className:"group relative p-2.5 rounded-lg border border-blue-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:U.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Xu(U.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 truncate",children:U.nome}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-700 truncate",children:U.cargo}),e.jsx(oe,{variant:"secondary",className:"ml-2 text-[10px] bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0",children:U.gerencia})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>S(U.id,U.nome),disabled:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 hover:border-red-300 flex-shrink-0",children:e.jsx(Yt,{className:"w-4 h-4"})})]})},`${U.id}-${J}`))}):e.jsxs("div",{className:"text-center py-8 px-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"Nenhum responsvel definido"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Adicione pelo menos um responsvel pela elaborao"})]}),(typeof i!="number"||k.length<i)&&e.jsxs(C,{variant:"outline",onClick:H,disabled:a,className:"w-full justify-center text-blue-600 hover:text-blue-700 border-blue-200 hover:border-blue-300 bg-blue-50 hover:bg-blue-100 mt-4 py-3 rounded-xl transition-all duration-200",children:[e.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Adicionar Responsvel"]}),typeof i=="number"&&k.length>=i&&e.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["Limite mximo de ",i," responsveis atingido"]})]}),e.jsx(Ke,{open:u,onOpenChange:d,children:e.jsxs(Ye,{className:"sm:max-w-[600px] h-[650px] max-h-[90vh] flex flex-col",children:[e.jsxs(Ze,{className:"flex-shrink-0",children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Responsvel pela Elaborao"]}),e.jsx(tt,{children:"Busque e selecione usurios para adicionar como responsveis pela elaborao do DFD."})]}),e.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[e.jsxs("div",{className:"space-y-2 flex-shrink-0",children:[e.jsx(B,{htmlFor:"search",children:"Buscar usurio"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{ref:_,id:"search",placeholder:"Buscar por nome, e-mail, cargo ou gerncia...",value:h,onChange:U=>x(U.target.value),onFocus:()=>h.trim()&&f.length>0&&P(!0),className:"pl-10"}),D&&e.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg max-h-80 overflow-y-auto",children:g?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(fd,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Buscando usurios..."})]}):f.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:h.trim()?`Nenhum resultado para "${h}"`:"Digite para buscar usurios"}):e.jsx("div",{ref:M,className:"p-1",children:f.map((U,J)=>e.jsxs("div",{className:`p-3 hover:bg-slate-50 cursor-pointer flex gap-3 items-start rounded-lg transition-colors ${J===w?"bg-slate-100":""}`,onClick:()=>K(U),role:"option","aria-selected":J===w,children:[e.jsxs(hr,{className:"w-10 h-10 flex-shrink-0",children:[e.jsx(xr,{src:U.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-600 text-sm font-medium",children:Xu(U.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:U.nome}),e.jsx("div",{className:"text-sm text-gray-600 truncate",children:U.cargo}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:U.email}),e.jsx(oe,{variant:"secondary",className:"text-xs mt-1",children:U.gerencia})]})]},U.id))})})]})]}),p.length>0&&e.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(jl,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Selecionados: ",p.length]}),e.jsxs(oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:[p.length," pessoa",p.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:p.map(U=>e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 p-2",children:[e.jsxs(hr,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(xr,{src:U.avatarUrl}),e.jsx(fr,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:Xu(U.nome)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate text-sm",children:U.nome}),e.jsx("div",{className:"text-xs text-gray-600 truncate",children:U.cargo})]}),e.jsx("button",{onClick:()=>z(U.id),className:"p-1 hover:bg-red-50 rounded-full text-red-400 hover:text-red-600 transition-colors flex-shrink-0","aria-label":"Remover seleo",children:e.jsx(Yt,{className:"w-3 h-3"})})]},U.id))})]})]}),e.jsx(Wj,{className:"flex-shrink-0"}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 flex-shrink-0",children:[e.jsx(C,{variant:"outline",onClick:Y,disabled:j,children:"Cancelar"}),e.jsx(C,{onClick:O,disabled:p.length===0||j,className:"min-w-[120px]",children:j?e.jsxs(e.Fragment,{children:[e.jsx(fd,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):"Adicionar Selecionados"})]})]})})]})}const TQ=[{key:"versao",label:"Verso"},{key:"aprovado",label:"Aprovado"},{key:"devolvido",label:"Devolvido"},{key:"anexo",label:"Anexo"},{key:"comentario",label:"Comentrio"},{key:"assinado",label:"Assinado"},{key:"rejeitado",label:"Rejeitado"}];function RQ({q:t,onQ:s,selected:a,onToggleStatus:r,period:n,onPeriod:o,onClear:i,total:l,filtered:c}){return e.jsxs("div",{className:"px-3.5 pt-2 pb-3 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(De,{placeholder:"Buscar por ttulo ou autor...",value:t,onChange:u=>s(u.target.value),className:"h-9 max-w-[360px]"}),t&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs border rounded-md px-2 py-1 bg-slate-50 text-slate-700",children:['"',t,'"',e.jsx("button",{"aria-label":"Limpar busca",className:"text-slate-500 hover:text-slate-700",onClick:()=>s(""),children:e.jsx(Yt,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[["today","7d","30d","all"].map(u=>e.jsx(C,{size:"sm",variant:n===u?"secondary":"outline",onClick:()=>o(u),className:"h-8 px-2.5 text-xs",children:u==="today"?"Hoje":u==="7d"?"7 dias":u==="30d"?"30 dias":"Todos"},u)),e.jsx("div",{className:"mx-1 h-6 w-px bg-slate-200"}),e.jsxs("span",{className:"text-xs text-slate-600 whitespace-nowrap",children:[c," de ",l]}),e.jsx(C,{size:"sm",variant:"ghost",className:"h-8 text-slate-600",onClick:i,children:"Limpar"})]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:TQ.map(u=>{const d=a.includes(u.key);return e.jsx(C,{size:"xs",variant:d?"secondary":"outline",className:"h-6 px-2 text-[11px]",onClick:()=>r(u.key),children:u.label},u.key)})}),(a.length>0||t)&&e.jsxs("div",{className:"text-[11px] text-slate-500",children:[a.length>0&&e.jsxs("span",{children:["Filtrando por status: ",a.length," selecionado(s)."]}),t&&e.jsxs("span",{className:"ml-2",children:['Busca: "',t,'"']})]})]})}function MQ(t){const s=new Map;for(const a of t){const r=new Date(a.createdAt),n=r.toISOString().slice(0,10),o=r.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});s.has(n)||s.set(n,{key:n,label:o,items:[]}),s.get(n).items.push(a)}return[...s.values()].sort((a,r)=>r.key.localeCompare(a.key)).map(a=>({...a,items:a.items.sort((r,n)=>+new Date(n.createdAt)-+new Date(r.createdAt))}))}const IQ={aprovado:{badge:"border-green-300 text-green-700 bg-green-50",pin:"border-green-300",icon:ks,iconClass:"text-green-600"},devolvido:{badge:"border-red-300 text-red-700 bg-red-50",pin:"border-red-300",icon:qe,iconClass:"text-red-600"},versao:{badge:"border-blue-300 text-blue-700 bg-blue-50",pin:"border-blue-300",icon:$e,iconClass:"text-blue-600"},anexo:{badge:"border-slate-300 text-slate-700 bg-slate-50",pin:"border-slate-300",icon:ai,iconClass:"text-slate-700"},comentario:{badge:"border-slate-300 text-slate-700 bg-white",pin:"border-slate-300",icon:no,iconClass:"text-indigo-600"},assinado:{badge:"border-emerald-300 text-emerald-700 bg-emerald-50",pin:"border-emerald-300",icon:si,iconClass:"text-emerald-600"},rejeitado:{badge:"border-rose-300 text-rose-700 bg-rose-50",pin:"border-rose-300",icon:qe,iconClass:"text-rose-600"}},OQ=t=>{switch(t){case"versao":return"Verso";case"aprovado":return"Aprovado";case"devolvido":return"Devolvido";case"anexo":return"Anexo";case"comentario":return"Comentrio";case"assinado":return"Assinado";case"rejeitado":return"Rejeitado";default:return t}};function zQ({item:t}){var r,n;const s=IQ[t.status],a=s.icon;return e.jsxs("li",{className:"relative pl-10",children:[e.jsx("span",{className:"pointer-events-none absolute left-5 top-0 bottom-0 w-[2px] bg-slate-200 z-0"}),e.jsx("span",{className:`absolute left-2.5 top-3 h-5 w-5 rounded-full border border-slate-300 bg-white flex items-center justify-center shadow-sm z-10 ${s.pin||""}`,children:e.jsx(a,{className:`h-3.5 w-3.5 ${s.iconClass}`})}),e.jsx("span",{className:"absolute left-5 top-5 w-4 h-[2px] bg-slate-200"}),e.jsxs("div",{className:"ml-9 rounded-xl border bg-white p-3 hover:shadow-md transition-shadow focus-within:ring-2 ring-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-slate-900 truncate flex-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 whitespace-nowrap",children:[e.jsx(Fe,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-600",children:[e.jsxs(hr,{className:"h-4 w-4",children:[e.jsx(xr,{src:t.author.avatarUrl}),e.jsx(fr,{children:((r=t.author.name)==null?void 0:r[0])??"U"})]}),e.jsx("span",{className:"truncate",children:t.author.name}),e.jsx(oe,{variant:"outline",className:`h-5 px-1.5 ${s.badge}`,children:OQ(t.status)})]}),t.description&&e.jsx("p",{className:"mt-2 text-[13px] leading-relaxed text-slate-700",children:t.description}),!!((n=t.attachments)!=null&&n.length)&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.attachments.map(o=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[11px] rounded-md border px-1.5 py-0.5",children:[e.jsx(ai,{className:"h-3 w-3"})," ",o.name,o.size?`  ${o.size}`:""]},o.name))})]})]})}function Do({data:t}){const[s,a]=m.useState(""),[r,n]=m.useState([]),[o,i]=m.useState("all"),l=m.useMemo(()=>{const d=new Date,h=o==="today"?new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime():o==="7d"?d.getTime()-7*864e5:o==="30d"?d.getTime()-30*864e5:null;return t.filter(x=>{const f=new Date(x.createdAt).getTime();if(h&&f<h||r.length&&!r.includes(x.status))return!1;if(s){const v=s.toLowerCase();if(!x.title.toLowerCase().includes(v)&&!x.author.name.toLowerCase().includes(v))return!1}return!0})},[t,s,r,o]),c=m.useMemo(()=>MQ(l),[l]),u=d=>n(h=>h.includes(d)?h.filter(x=>x!==d):[...h,d]);return e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Yz,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Timeline"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Histrico"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx(RQ,{q:s,onQ:a,selected:r,onToggleStatus:u,period:o,onPeriod:i,onClear:()=>{a(""),n([]),i("all")},total:t.length,filtered:l.length}),e.jsx("div",{className:"pb-3 relative",children:c.length>0?e.jsx("div",{className:"max-h-[480px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-300 hover:scrollbar-thumb-slate-400",children:c.map(d=>e.jsxs("section",{children:[e.jsx(uT,{label:d.label}),e.jsx("ul",{className:"space-y-3",children:d.items.map(h=>e.jsx(zQ,{item:h},h.id))})]},d.key))}):e.jsx("div",{className:"px-3.5 py-6 text-center text-slate-500 text-sm",children:"Nenhum evento com os filtros selecionados."})})]})}function FQ(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...v}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,_Q(n,...s)]}function _Q(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var qj="Progress",Yj=100,[LQ,vae]=FQ(qj),[$Q,VQ]=LQ(qj),xT=m.forwardRef((t,s)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:o=GQ,...i}=t;(n||n===0)&&!h2(n)&&console.error(BQ(`${n}`,"Progress"));const l=h2(n)?n:Yj;r!==null&&!x2(r,l)&&console.error(UQ(`${r}`,"Progress"));const c=x2(r,l)?r:null,u=_h(c)?o(c,l):void 0;return e.jsx($Q,{scope:a,value:c,max:l,children:e.jsx(Ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_h(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":gT(c,l),"data-value":c??void 0,"data-max":l,...i,ref:s})})});xT.displayName=qj;var fT="ProgressIndicator",pT=m.forwardRef((t,s)=>{const{__scopeProgress:a,...r}=t,n=VQ(fT,a);return e.jsx(Ge.div,{"data-state":gT(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});pT.displayName=fT;function GQ(t,s){return`${Math.round(t/s*100)}%`}function gT(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function _h(t){return typeof t=="number"}function h2(t){return _h(t)&&!isNaN(t)&&t>0}function x2(t,s){return _h(t)&&!isNaN(t)&&t<=s&&t>=0}function BQ(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yj}\`.`}function UQ(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vT=xT,HQ=pT;const Fa=m.forwardRef(({className:t,value:s,...a},r)=>e.jsx(vT,{ref:r,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(HQ,{className:"h-full w-full flex-1 bg-green-600 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Fa.displayName=vT.displayName;const f2=(t,s,a=[])=>{const r=new Date(t),n=new Date(s);let o=0;const i=new Date(r);for(;i<=n;){const l=i.getDay(),c=i.toISOString().split("T")[0];l>=1&&l<=5&&!a.includes(c)&&o++,i.setDate(i.getDate()+1)}return o},p2=[{id:"v1",numeroVersao:1,status:"enviada_para_analise",autorId:"user1",autorNome:"Lucas Moreira Brito",autorCargo:"Analista de Projetos",autorGerencia:"GSP - Gerncia de Solues e Projetos",autorEmail:"lucas.brito@hospital.gov.br",criadoEm:"2025-01-15T14:30:00Z",atualizadoEm:"2025-01-18T16:45:00Z",enviadoParaAnaliseEm:"2025-01-18T16:45:00Z",prazoDiasUteis:7,prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,documentoUrl:"#",documentoNome:"DFD_V1_LucasMoreiraBrito.pdf",payload:{objeto:"Contratao de servios de limpeza hospitalar para modernizao das instalaes",areaSetorDemandante:"GRH - Gerncia de Recursos Humanos",responsaveis:[{id:"user1",nome:"Lucas Moreira Brito",cargo:"Analista de Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"}],dataElaboracao:"2025-01-15",numeroDFD:"DFD-2025-001",prioridade:"MEDIO"}}],WQ=[{id:"anexo1",nome:"Documento_Referencia.pdf",tamanhoBytes:1024e3,mimeType:"application/pdf",criadoEm:"2025-01-15T10:30:00Z",autorId:"user1",autorNome:"Lucas Moreira Brito",versaoId:"v1",urlDownload:"#"}];function qQ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var X,me;const{user:l}=kt(),{toast:c}=Kt();m.useMemo(()=>["Diran Rodrigues de Souza Filho","Yasmin Pissolati Mattos Bretz","Lucas Moreira Brito"].includes((l==null?void 0:l.nome)||""),[l==null?void 0:l.nome]);const[u,d]=m.useState(p2),[h,x]=m.useState(p2[0]),[f,v]=m.useState(h.payload),[p,y]=m.useState(WQ),[g,b]=m.useState("desc"),[j,N]=m.useState(!1),[w,E]=m.useState({});m.useState(!1);const D=m.useCallback(V=>{console.log("Salvando responsveis:",V),v(ie=>(console.log("Atualizando formData:",{prev:ie.responsaveis,novos:V}),{...ie,responsaveis:V}))},[]),[P,_]=m.useState(null),[M,k]=m.useState(!1),[$,H]=m.useState(!1),[Y,K]=m.useState(""),[z,O]=m.useState(!0),[S,L]=m.useState(null),U=m.useRef(null),J=(V,ie)=>{if(!V||!ie)return!1;const ce=Dt=>Dt.toLowerCase().replace(/[-\s]/g,"").trim(),Le=ce(V),He=ce(ie);if(Le===He)return!0;const ct={grh:["gerenciaderecursoshumanos","grh","rh","recursoshumanos"],gsp:["gerenciadesolucoeseprojetos","gsp","solucoeseprojetos"],gsl:["gerenciadesuprimentoselogistica","gsl","suprimentoselogistica"],gue:["gerenciadeurgenciaeemergencia","gue","urgenciaeemergencia"],glc:["gerenciadelicitacoesecontratos","glc","licitacoesecontratos"],gfc:["gerenciafinanceiraecontabil","gfc","financeiraecontabil"],naj:["assessoriajuridica","naj","juridica"],ci:["comissaodeimplantacao","ci","implantacao"],se:["secretariaexecutiva","se","executiva"],ouv:["ouvidoria","ouv"]};for(const[Dt,ns]of Object.entries(ct))if(ns.includes(Le)&&ns.includes(He))return!0;return!1},re={podeEditar:!S,podeCriarNovaVersao:le()&&!S,podeUploadAnexo:(J((l==null?void 0:l.gerencia)||"",i||"")||((X=l==null?void 0:l.gerencia)==null?void 0:X.includes("GSP"))||!1)&&!S,podeRemoverAnexo:(J((l==null?void 0:l.gerencia)||"",i||"")||((me=l==null?void 0:l.gerencia)==null?void 0:me.includes("GSP"))||!1)&&!S,podeConcluirEtapa:ke()};function le(){return h?["finalizada","enviada_para_analise","aprovada"].includes(h.status):!1}function Ne(){return f.objeto.trim()!==""&&f.areaSetorDemandante.trim()!==""&&f.responsaveis&&f.responsaveis.length>0}function ke(){if(!((l==null?void 0:l.gerencia)&&(J(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const ie=u.some(Le=>Le.status!=="rascunho");if(!ie)return!1;const ce=Ne();return ie&&ce}function he(){return(l==null?void 0:l.gerencia)&&(J(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))}const ae=async()=>{k(!0);try{const V={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(V),d(ie=>ie.map(ce=>ce.id===V.id?V:ce)),c({title:"Verso salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar verso.",variant:"destructive"})}finally{k(!1)}},ve=async()=>{if(!Ne()){c({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios antes de enviar para anlise.",variant:"destructive"});return}k(!0);try{const V=new Date(h.criadoEm),ie=new Date,ce=f2(V.toISOString(),ie.toISOString()),Le={...h,status:"enviada_para_analise",enviadoParaAnaliseEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:ce,payload:f};x(Le),d(He=>He.map(ct=>ct.id===Le.id?Le:ct)),c({title:"Enviado para anlise",description:"DFD enviado para anlise tcnica com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para anlise.",variant:"destructive"})}finally{k(!1)}},xe=async()=>{if(le()){k(!0);try{const V=Math.max(...u.map(ce=>ce.numeroVersao))+1,ie={id:`v${V}`,numeroVersao:V,status:"rascunho",autorId:(l==null?void 0:l._id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usurio Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:7,prazoInicialDiasUteis:7,payload:{...h.payload,objeto:""}};d(ce=>[ie,...ce]),x(ie),v(ie.payload),E(ce=>({...ce,[ie.id]:!0})),c({title:"Nova verso criada",description:`Verso ${V} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova verso.",variant:"destructive"})}finally{k(!1)}}},ne=V=>{if(V.prazoInicialDiasUteis===void 0)return null;const ie=V.prazoCumpridoDiasUteis??0;return(V.prazoInicialDiasUteis||0)-ie},Ae=V=>V===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:V<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:V<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"};m.useEffect(()=>{u.length>0&&E(V=>{const ie={...V};return u.forEach((ce,Le)=>{ie[ce.id]===void 0&&(ie[ce.id]=Le===0)}),ie})},[u]);const je=()=>{H(!0)},Ue=async()=>{k(!0);try{const V={usuarioId:(l==null?void 0:l._id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usurio Atual",observacao:Y.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:z};console.log("Concluindo etapa:",V),await new Promise(ie=>setTimeout(ie,1e3)),L(V),H(!1),K(""),O(!0),a({etapaId:s,processoId:t,conclusao:V,versaoBase:h}),c({title:"Etapa concluda",description:"A etapa Elaborao do DFD foi concluda com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{k(!1)}},de=V=>{var ce;const ie=(ce=V.target.files)==null?void 0:ce[0];if(ie){_(ie);const Le={id:`anexo-${Date.now()}`,nome:ie.name,tamanhoBytes:ie.size,mimeType:ie.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l._id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(He=>[...He,Le]),c({title:"Anexo adicionado",description:`${ie.name} foi anexado com sucesso.`})}},Te=V=>{y(ie=>ie.filter(ce=>ce.id!==V)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},Pe=V=>{switch(V){case"rascunho":return{label:"Rascunho",color:"bg-gray-100 text-gray-800",icon:e.jsx($e,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_analise":return{label:"Enviada para Anlise",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-purple-100 text-purple-800",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"Reprovada",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},A=(V,ie)=>ie===void 0?{label:"No Enviado",color:"bg-gray-100 text-gray-800"}:ie<=V?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:ie<=V+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo No Cumprido",color:"bg-red-100 text-red-800"},R=Je,q=m.useMemo(()=>{const V=[...p];return V.sort((ie,ce)=>{const Le=new Date(ie.criadoEm).getTime(),He=new Date(ce.criadoEm).getTime();return g==="desc"?He-Le:Le-He}),V},[p,g]),W=V=>{try{if(!V)throw new Error("missing");window.open(V,"_blank","noopener,noreferrer")||c({title:"No foi possvel abrir",description:"Verifique o bloqueador de pop-up.",variant:"destructive"})}catch{c({title:"Link expirado",description:"Atualize a pgina ou gere um novo link.",variant:"destructive"})}},I=V=>{if(!V)return"";if(/^DFD\s+\d{3}\/\d{4}$/i.test(V))return V.replace(/\s+/," ").toUpperCase();let ce=/DFD[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(V);if(ce){const ct=ce[1];return`DFD ${ce[2].padStart(3,"0")}/${ct}`}if(ce=/(?:DFD)?\s*(\d{1,4})\/(\d{4})/i.exec(V),ce){const ct=ce[1].padStart(3,"0"),Dt=ce[2];return`DFD ${ct}/${Dt}`}const Le=/(\d{4})/.exec(V),He=/(\d{1,4})(?!.*\d)/.exec(V);if(Le&&He){const ct=Le[1];return`DFD ${He[1].padStart(3,"0")}/${ct}`}return V},ee=()=>{const V=[];return u.length===0?V.push({id:"versao-criada",label:"Verso inicial ainda no criada",status:"pending",description:"Nenhuma verso foi criada ainda"}):V.push({id:"versao-criada",label:"Verso inicial criada",status:"completed",description:`${u.length} verso(es) criada(s)`}),p.length===0?V.push({id:"anexos-adicionados",label:"Documentos anexados (nenhum encontrado)",status:"pending",description:"Nenhum documento foi anexado"}):V.push({id:"anexos-adicionados",label:"Documentos anexados",status:"completed",description:`${p.length} documento(s) anexado(s)`}),!f.responsaveis||f.responsaveis.length===0?V.push({id:"responsaveis-definidos",label:"Responsveis definidos (nenhum encontrado)",status:"pending",description:"Nenhum responsvel foi atribudo"}):f.responsaveis.length<2?V.push({id:"responsaveis-definidos",label:`Responsveis definidos (${f.responsaveis.length} de 2)`,status:"warning",description:"Recomenda-se pelo menos 2 responsveis"}):V.push({id:"responsaveis-definidos",label:"Responsveis definidos",status:"completed",description:`${f.responsaveis.length} responsvel(is) atribudo(s)`}),!f.objeto||f.objeto.trim()===""?V.push({id:"objeto-preenchido",label:"Objeto da contratao preenchido",status:"pending",description:"Campo obrigatrio para elaborao do DFD"}):V.push({id:"objeto-preenchido",label:"Objeto da contratao preenchido",status:"completed",description:"Campo preenchido corretamente"}),!f.areaSetorDemandante||f.areaSetorDemandante.trim()===""?V.push({id:"area-demandante-preenchida",label:"rea/Setor demandante preenchido",status:"pending",description:"Campo obrigatrio para elaborao do DFD"}):V.push({id:"area-demandante-preenchida",label:"rea/Setor demandante preenchido",status:"completed",description:"Campo preenchido corretamente"}),u.some(ce=>ce.status==="enviada_para_analise"||ce.status==="aprovada")?V.push({id:"versao-enviada",label:"Verso enviada para anlise",status:"completed",description:"Verso enviada com sucesso"}):V.push({id:"versao-enviada",label:"Verso enviada para anlise",status:"pending",description:"Nenhuma verso foi enviada para anlise"}),V.sort((ce,Le)=>{const He={warning:0,pending:1,completed:2};return He[ce.status]-He[Le.status]})},ue=()=>{const V=[];return u.slice(0,2).forEach(ie=>{ie.status==="enviada_para_analise"&&ie.enviadoParaAnaliseEm&&V.push({id:`versao-${ie.id}-enviada`,autor:ie.autorNome,descricao:`Verso ${ie.numeroVersao} enviada para anlise`,dataHora:ie.enviadoParaAnaliseEm,tipo:"versao"}),ie.status==="aprovada"&&V.push({id:`versao-${ie.id}-aprovada`,autor:ie.autorNome,descricao:`Verso ${ie.numeroVersao} aprovada`,dataHora:ie.atualizadoEm,tipo:"versao"}),ie.status==="reprovada"&&V.push({id:`versao-${ie.id}-reprovada`,autor:ie.autorNome,descricao:`Verso ${ie.numeroVersao} devolvida`,dataHora:ie.atualizadoEm,tipo:"versao"})}),p.slice(0,2).forEach(ie=>{V.push({id:`anexo-${ie.id}`,autor:ie.autorNome,descricao:"Documento comentado anexado",dataHora:ie.criadoEm,tipo:"anexo"})}),V.sort((ie,ce)=>new Date(ce.dataHora).getTime()-new Date(ie.dataHora).getTime())},G=()=>{const V=ue(),ie=(ce,Le)=>{if(ce==="anexo")return"anexo";if(ce==="versao"){const He=(Le||"").toLowerCase();return He.includes("aprovada")?"aprovado":He.includes("devolvida")?"devolvido":"versao"}return"comentario"};return V.map(ce=>({id:ce.id,status:ie(ce.tipo,ce.descricao),title:ce.descricao,author:{name:ce.autor},createdAt:ce.dataHora}))},ge=()=>S?"Concluda":u.some(V=>V.status==="aprovada")?"Aprovada":u.some(V=>V.status==="enviada_para_analise")?"Em anlise":u.some(V=>V.status==="reprovada")?"Devolvida":"Em elaborao",ye=V=>{switch(V){case"Concluda":case"Aprovada":return"bg-green-100 text-green-800";case"Em anlise":return"bg-blue-100 text-blue-800";case"Devolvida":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Me=V=>{switch(V){case"completed":return e.jsx(Re,{className:"w-4 h-4 text-green-600"});case"warning":return e.jsx(xt,{className:"w-4 h-4 text-amber-600"});default:return e.jsx(xt,{className:"w-4 h-4 text-amber-600"})}};m.useState(!1);const[et,se]=m.useState(""),[ze,_e]=m.useState("all"),Q=m.useMemo(()=>ee(),[u,S]),we=m.useMemo(()=>{const V=Q.length,ie=Q.filter(Dt=>Dt.status==="completed").length,ce=Q.filter(Dt=>Dt.status==="warning").length,Le=Q.filter(Dt=>Dt.status==="pending").length,He=ce+Le,ct=V===0?0:Math.round(ie/V*100);return{total:V,completed:ie,warning:ce,pending:Le,open:He,percent:ct}},[Q]),F=m.useMemo(()=>{let V=Q;if(ze==="open"&&(V=Q.filter(ce=>ce.status!=="completed")),ze==="completed"&&(V=Q.filter(ce=>ce.status==="completed")),!et.trim())return V;const ie=et.toLowerCase();return V.filter(ce=>ce.label.toLowerCase().includes(ie)||ce.description.toLowerCase().includes(ie))},[Q,ze,et]),T=()=>{const V=new Date(h.criadoEm),ie=h.prazoInicialDiasUteis||7;let ce=new Date(V),Le=0;for(;Le<ie;){ce.setDate(ce.getDate()+1);const He=ce.getDay();He>=1&&He<=5&&Le++}return ce},te=new Date("2025-01-16T12:00:00Z"),fe=()=>{if(!u||u.length===0)return T();const V=[...u].sort((ct,Dt)=>new Date(ct.criadoEm).getTime()-new Date(Dt.criadoEm).getTime())[0],ie=new Date(V.criadoEm),ce=V.prazoInicialDiasUteis??h.prazoInicialDiasUteis??7;let Le=new Date(ie),He=0;for(;He<ce;){Le.setDate(Le.getDate()+1);const ct=Le.getDay();ct>=1&&ct<=5&&He++}return Le},Ie=()=>{new Date(h.criadoEm);const V=S?new Date(S.dataConclusao):new Date;return{diasUteis:f2(h.criadoEm,V.toISOString())}};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx($e,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulrio do DFD"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulrio"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsx("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"numeroDFD",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Gd,{className:"w-4 h-4"}),"Nmero do DFD"]}),e.jsx(De,{id:"numeroDFD",value:I(f.numeroDFD),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Data da Elaborao"]}),e.jsx(De,{id:"dataElaboracao",value:R(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]})]})}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto da Contratao *"]}),e.jsx(ft,{id:"objeto",value:f.objeto,onChange:V=>v({...f,objeto:V.target.value}),placeholder:"Descreva o objeto da contratao...",disabled:!re.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"areaSetor",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"rea/Setor Demandante"]}),e.jsx(De,{id:"areaSetor",value:f.areaSetorDemandante,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsx(lf,{value:f.responsaveis||[],onChange:V=>{D(V||[])},disabled:!re.podeEditar||h.status!=="rascunho",canEdit:re.podeEditar,processoId:t,className:"w-full border-b border-slate-200 my-4",label:"Responsveis pela Elaborao *"})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Verses/Revises"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[re.podeCriarNovaVersao&&e.jsxs(C,{onClick:xe,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Verso"]}),u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda no h verses criadas"})]}):e.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:[!j&&e.jsx("div",{className:"text-sm font-semibold text-purple-700",children:"ltima verso"}),(j?u:[u[0]]).map((V,ie,ce)=>{const Le=Pe(V.status),He=A(V.prazoInicialDiasUteis||0,V.prazoCumpridoDiasUteis),ct=ne(V),Dt=Ae(ct);return e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",V.numeroVersao]}),e.jsxs(oe,{className:`text-xs font-medium ${Le.color}`,children:[Le.icon,e.jsx("span",{className:"ml-1",children:Le.label})]}),e.jsx(oe,{className:`text-xs font-medium ${He.color}`,children:He.label}),e.jsx(oe,{className:`text-xs font-medium ${Dt.badge}`,children:ct===null?"Sem prazo":ct<0?`${Math.abs(ct)}d atrasado`:`${ct}d restantes`})]}),e.jsx("div",{className:"flex items-center gap-2",children:(j||u[0].id!==V.id)&&e.jsx(C,{size:"sm",variant:"ghost","aria-label":w[V.id]?"Recolher detalhes":"Expandir detalhes",className:"h-7 px-2 text-gray-600",onClick:()=>E(ns=>({...ns,[V.id]:!ns[V.id]})),children:e.jsx(Ll,{className:`w-4 h-4 transition-transform ${w[V.id]?"rotate-180":""}`})})})]}),(w[V.id]??!0)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",V.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",V.autorCargo||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerncia:"})," ",V.autorGerencia||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(V.criadoEm))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",V.prazoInicialDiasUteis||0," dias teis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",V.prazoCumpridoDiasUteis!==void 0?`${V.prazoCumpridoDiasUteis} dias teis`:"No enviado"]})]}),V.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:V.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar documento",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar documento",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})})]})]})]})]}),ie<ce.length-1&&e.jsx("div",{className:"border-b border-slate-200 my-2"})]},V.id)}),u.length>1&&e.jsx("div",{className:"pt-2",children:e.jsx(C,{variant:"ghost","aria-label":j?"Recolher lista de verses":"Ver todas as verses",className:"text-sm text-purple-700 hover:text-purple-800 hover:bg-purple-50",onClick:()=>N(V=>!V),children:j?"Ocultar verses antigas":"Ver todas as verses"})})]})]})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:U,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:de}),e.jsxs(C,{onClick:()=>{var V;return(V=U.current)==null?void 0:V.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:g,onChange:V=>b(V.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),p.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${p.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:q.map((V,ie)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:V.nome}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[V.autorNome,"  ",R(V.criadoEm)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[V.autorNome,"  ",R(V.criadoEm)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>W(V.urlDownload),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>Te(V.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ie<q.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},V.id))})]})})]})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${ye(ge())}`,children:ge()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial da Verso"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[h.prazoInicialDiasUteis||7," dias teis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Verso"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(te.toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Etapa"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(fe().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"etapa"})})]}),S&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(ks,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(S.dataConclusao)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[Ie().diasUteis," dias teis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const V=ne(h),ie=Jv(V);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${ie.text} mb-2`,children:V===null?"":Math.abs(V)}),e.jsx("div",{className:`text-sm font-medium ${ie.text}`,children:ox(V)})]})})()})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[we.completed,"/",we.total]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[we.percent,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[we.total," item",we.total!==1?"s":""]})]}),e.jsx(Fa,{value:we.percent}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>_e("all"),className:`px-2 py-1 rounded text-xs ${ze==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>_e("open"),className:`px-2 py-1 rounded text-xs ${ze==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",we.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>_e("completed"),className:`px-2 py-1 rounded text-xs ${ze==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",we.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:et,onChange:V=>se(V.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:F.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):F.map(V=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:Me(V.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:V.label}),e.jsx("div",{className:"text-xs text-slate-500",children:V.description})]})]},V.id))})]})]})]})]}),e.jsx(Do,{data:G()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:String(s),cardId:"dfd-form",title:"Comentrios"})})}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const V=ne(h);return Ae(V).text})()}`,children:(()=>{const V=ne(h);return V===null?"Sem prazo":V<0?`${Math.abs(V)} dias atrasado`:`${V} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:h.autorNome||"Sem responsvel"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:S?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Etapa Concluda"}),e.jsxs("p",{className:"text-sm text-green-700",children:[R(S.dataConclusao)," por ",S.usuarioNome]})]})]})}):e.jsx("div",{className:"text-center",children:e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{onClick:ve,disabled:!Ne()||M||!re.podeEditar||h.status!=="rascunho"||!!S,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 text-lg font-semibold",size:"lg",children:M?e.jsxs(e.Fragment,{children:[e.jsx(fd,{className:"w-5 h-5 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Enviar para Anlise Tcnica"]})})})}),!Ne()&&e.jsx(bt,{children:e.jsx("p",{children:"Preencha os campos obrigatrios"})})]})})})}),h.enviadoParaAnaliseEm&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:["Enviado para anlise em ",Je(h.enviadoParaAnaliseEm)]})]})}),!S&&re.podeEditar&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[h.status==="rascunho"&&e.jsxs(C,{onClick:ae,variant:"outline",disabled:M,size:"sm",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Verso"]}),he()&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:je,variant:"outline",disabled:!ke()||M,size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})}),!ke()&&e.jsx(bt,{children:e.jsx("p",{children:" necessrio enviar uma verso para anlise antes de concluir a etapa."})})]})})]})}),!re.podeEditar&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[e.jsx(fn,{className:"w-4 h-4"}),e.jsx("span",{children:"Somente visualizao"})]})})]})]}),e.jsx(Ke,{open:$,onOpenChange:H,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaborao do DFD para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observaes de concluso (opcional)"}),e.jsx(ft,{id:"observacao",value:Y,onChange:V=>K(V.target.value),placeholder:"Adicione observaes sobre a concluso da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:z,onCheckedChange:V=>O(V)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao concluir esta etapa, o card ser bloqueado para edio e a prxima etapa do fluxo ser habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>H(!1),disabled:M,children:"Cancelar"}),e.jsx(C,{onClick:Ue,disabled:M,className:"bg-green-600 hover:bg-green-700",children:M?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const g2=(t,s)=>{let a=0;const r=new Date(t.getTime());for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a},YQ=t=>t<=70?"bg-green-500":t<=100?"bg-yellow-500":"bg-red-500";function fu({startISO:t,endISO:s,className:a}){const r=new Date(t),n=new Date(s),o=new Date,i=Math.max(1,g2(r,n)),l=Math.min(i,g2(r,o)),c=Math.min(100,Math.round(l/i*100));return e.jsxs("div",{className:a||"",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[c,"%"]})]}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 cursor-help",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${YQ(c)}`,style:{width:`${c}%`}})})}),e.jsx(bt,{children:e.jsxs("p",{children:[l," dias teis decorridos de ",i," totais"]})})]})})]})}const KQ=(t,s)=>{let a=0;const r=new Date(t);for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a};function cf(t){const[s,a]=m.useState({currentVersion:null,versions:[],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"rascunho"}),[r,n]=m.useState(!1),{toast:o}=Kt();m.useEffect(()=>{const E=localStorage.getItem(`dfd_${t}`);if(E)try{a(JSON.parse(E))}catch(D){console.error("Erro ao carregar dados do DFD:",D)}else a({currentVersion:{id:"v1",version:1,content:"Contedo do DFD",createdAt:"2024-01-15T14:30:00Z",createdBy:"Lucas Moreira Brito",createdByCargo:"Analista de Projetos",createdByGerencia:"GSP - Gerncia de Solues e Projetos",createdByEmail:"lucas.brito@hospital.gov.br",isFinal:!0,status:"enviado_analise",objetivoContratacao:"Contratao de servios de limpeza hospitalar",justificativaDemanda:"Modernizao das instalaes hospitalares",unidadeDemandante:"GRH - Gerncia de Recursos Humanos",dataElaboracao:"2024-01-15",responsavelElaboracao:"Lucas Moreira Brito",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,enviadoData:"2024-01-18T16:45:00Z",enviadoPor:"Lucas Moreira Brito"},versions:[{id:"v1",version:1,content:"Contedo do DFD",createdAt:"2024-01-15T14:30:00Z",createdBy:"Lucas Moreira Brito",createdByCargo:"Analista de Projetos",createdByGerencia:"GSP - Gerncia de Solues e Projetos",createdByEmail:"lucas.brito@hospital.gov.br",isFinal:!0,status:"enviado_analise",objetivoContratacao:"Contratao de servios de limpeza hospitalar",justificativaDemanda:"Modernizao das instalaes hospitalares",unidadeDemandante:"GRH - Gerncia de Recursos Humanos",dataElaboracao:"2024-01-15",responsavelElaboracao:"Lucas Moreira Brito",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,enviadoData:"2024-01-18T16:45:00Z",enviadoPor:"Lucas Moreira Brito"}],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"enviado_analise"})},[t]);const i=E=>{try{localStorage.setItem(`dfd_${t}`,JSON.stringify(E)),a(E)}catch(D){console.error("Erro ao salvar dados do DFD:",D),o({title:"Erro",description:"Erro ao salvar dados do DFD.",variant:"destructive"})}};return{dfdData:s,isLoading:r,createInitialVersion:(E,D)=>{const P={...E,id:"v1",version:1,createdAt:new Date().toISOString(),createdBy:(D==null?void 0:D.nome)||"Usurio",createdByCargo:D==null?void 0:D.cargo,createdByGerencia:D==null?void 0:D.gerencia,createdByEmail:D==null?void 0:D.email,prazoInicialDiasUteis:0,isFinal:!0,status:"rascunho"},_={...s,currentVersion:P,versions:[P],status:"rascunho"};return i(_),P},addVersion:(E,D)=>{const P=s.versions.length+1,_={...E,id:`v${P}`,version:P,createdAt:new Date().toISOString(),createdBy:(D==null?void 0:D.nome)||"Usurio",createdByCargo:D==null?void 0:D.cargo,createdByGerencia:D==null?void 0:D.gerencia,createdByEmail:D==null?void 0:D.email,prazoInicialDiasUteis:0,isFinal:!1,status:"rascunho"},M={...s,currentVersion:_,versions:[...s.versions,_],status:"rascunho",isDevolvido:!1,devolucaoJustificativa:void 0,devolucaoData:void 0,devolucaoPor:void 0};return i(M),_},enviarParaAnalise:E=>{const D=s.versions[s.versions.length-1];if(D){const P=new Date(D.createdAt),M=KQ(P,new Date),k=s.versions.map(H=>({...H,status:H.id===D.id?"enviado_analise":H.status,isFinal:H.id===D.id,enviadoData:H.id===D.id?new Date().toISOString():H.enviadoData,prazoCumpridoDiasUteis:H.id===D.id?M:H.prazoCumpridoDiasUteis})),$={...s,versions:k,currentVersion:k.find(H=>H.id===D.id)||s.currentVersion,status:"enviado_analise",enviadoData:new Date().toISOString(),enviadoPor:E};i($)}},devolverParaCorrecao:(E,D)=>{if(s.versions.find(_=>_.isFinal)){const _=s.versions.map(k=>({...k,status:k.isFinal?"devolvido":k.status,devolucaoJustificativa:k.isFinal?E:k.devolucaoJustificativa,devolucaoData:k.isFinal?new Date().toISOString():k.devolucaoData,devolucaoPor:k.isFinal?D:k.devolucaoPor})),M={...s,versions:_,status:"devolvido",isDevolvido:!0,devolucaoJustificativa:E,devolucaoData:new Date().toISOString(),devolucaoPor:D};i(M)}},aprovarVersao:E=>{const D=s.versions.find(P=>P.isFinal);if(D){const P=s.versions.map(M=>({...M,status:M.isFinal?"aprovado":M.status,aprovadoData:M.isFinal?new Date().toISOString():M.aprovadoData,aprovadoPor:M.isFinal?E:M.aprovadoPor})),_={...s,versions:P,currentVersion:P.find(M=>M.id===D.id)||s.currentVersion,status:"aprovado",isCompleted:!0,completedAt:new Date().toISOString(),completedBy:E,aprovadoData:new Date().toISOString(),aprovadoPor:E};i(_)}},addAnnex:E=>{const D={...s,annexes:[...s.annexes,E]};i(D)},removeAnnex:E=>{const D={...s,annexes:s.annexes.filter(P=>P.id!==E)};i(D)},updateObservations:E=>{const D={...s,observations:E};i(D)},resetDFD:()=>{i({currentVersion:null,versions:[],annexes:[],observations:"",isCompleted:!1,isDevolvido:!1,status:"rascunho"})},saveDFDData:i,getLatestEditableVersion:()=>s.versions[s.versions.length-1],canCreateNewVersion:()=>s.status==="devolvido"||s.versions.length===0,canEdit:()=>s.status==="rascunho"||s.status==="devolvido",canSendToAnalysis:()=>s.status==="rascunho",canApprove:E=>s.status==="enviado_analise"&&E==="Gerncia de Solues e Projetos",canDevolver:E=>s.status==="enviado_analise"&&E==="Gerncia de Solues e Projetos"}}function XQ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){var R,q;const{user:i}=kt(),{toast:l}=Kt(),{dfdData:c,aprovarVersao:u,devolverParaCorrecao:d,addAnnex:h,removeAnnex:x}=cf(t),[f,v]=m.useState("desc"),p=W=>{if(!W){l({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(W,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"No foi possvel abrir o documento",description:"Verifique o bloqueador de popups ou gere um novo link.",variant:"destructive"})}},y=m.useMemo(()=>{const W=[...c.annexes];return W.sort((I,ee)=>{const ue=new Date(I.uploadedAt).getTime(),G=new Date(ee.uploadedAt).getTime();return f==="desc"?G-ue:ue-G}),W},[c.annexes,f]),[g,b]=m.useState(""),[j,N]=m.useState(""),[w,E]=m.useState(!1),[D,P]=m.useState([]),[_,M]=m.useState(!1),[k,$]=m.useState(!1),[H,Y]=m.useState("");m.useState("versoes");const K=m.useRef(null),z=()=>(i==null?void 0:i.gerencia)==="GSP - Gerncia de Solues e Projetos",O=()=>z()&&c.status==="enviado_analise",S=()=>z()&&c.status==="enviado_analise",L=()=>c.status==="enviado_analise"||z()?!0:c.status!=="aprovado"||o,U=(W,I)=>I===void 0?{status:"nao_enviado",dias:0}:I<=W?{status:"ok",dias:I}:I<=W+1?{status:"risco",dias:I}:{status:"nao_cumprido",dias:I},J=()=>{const W=[];return g.trim()||W.push("Parecer Tcnico  obrigatrio"),P(W),W.length===0},re=()=>{if(!J()){l({title:"Erro de Validao",description:"Por favor, preencha o Parecer Tcnico.",variant:"destructive"});return}M(!0)},le=()=>{const W=new Date().toISOString();N(W);const I={texto:g,analisadoEm:W,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usurio",cargo:(i==null?void 0:i.cargo)||""}};localStorage.setItem(`parecer-tecnico-${t}`,JSON.stringify(I)),E(!0),u((i==null?void 0:i.nome)||"Usurio"),a(c),l({title:"DFD Aprovado",description:"O DFD foi aprovado e a prxima etapa foi liberada."}),M(!1)},Ne=()=>{if(!J()){l({title:"Erro de Validao",description:"Por favor, preencha o Parecer Tcnico.",variant:"destructive"});return}if(!H.trim()){l({title:"Erro",description:"A justificativa das ressalvas  obrigatria.",variant:"destructive"});return}$(!0)},ke=()=>{const W=new Date().toISOString();N(W);const I={texto:g,analisadoEm:W,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usurio",cargo:(i==null?void 0:i.cargo)||""}};localStorage.setItem(`parecer-tecnico-${t}`,JSON.stringify(I)),E(!0),d(H,(i==null?void 0:i.nome)||"Usurio"),r(c),l({title:"Encaminhamento Realizado",description:"O DFD foi encaminhado para cumprimento de ressalvas."}),$(!1),Y("")},he=W=>{var ee;const I=(ee=W.target.files)==null?void 0:ee[0];if(I){const ue={id:`anexo-${Date.now().toString()}`,name:I.name,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",url:`mock-url-${Date.now().toString()}`};h(ue),l({title:"Anexo adicionado",description:`${I.name} foi anexado com sucesso.`})}W.target&&(W.target.value="")};m.useEffect(()=>{const W=localStorage.getItem(`parecer-tecnico-${t}`);if(W)try{const I=JSON.parse(W);b(I.texto||""),N(I.analisadoEm||"")}catch(I){console.error("Erro ao carregar parecer salvo:",I)}},[t]);const ae=W=>{switch(W){case"rascunho":return{label:"Em Elaborao",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(ar,{className:"w-3 h-3"})};case"enviado_analise":return{label:"Enviado para Anlise",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"devolvido":return{label:"Devolvido para Correo",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};case"aprovado":return{label:"Aprovado",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}},ve=Je,xe=c.versions.find(W=>W.status==="enviado_analise"&&W.isFinal),ne=!z()&&c.status==="aprovado"?c.versions.find(W=>W.status==="aprovado"&&W.isFinal):xe,Ae=(W,I)=>{const ee=new Date(W);let ue=0;const G=new Date(ee);for(;ue<I;){G.setDate(G.getDate()+1);const ge=G.getDay();ge>=1&&ge<=5&&ue++}return G},je=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return null;const I=W.prazoInicialDiasUteis??0;return Ae(W.createdAt,I)},Ue=()=>{if(!c.versions||c.versions.length===0)return null;const I=[...c.versions].sort((ue,G)=>new Date(ue.createdAt).getTime()-new Date(G.createdAt).getTime())[0],ee=I.prazoInicialDiasUteis??(ne==null?void 0:ne.prazoInicialDiasUteis)??7;return Ae(I.createdAt,ee)},de=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W||W.prazoInicialDiasUteis===void 0)return null;const I=W.prazoCumpridoDiasUteis??0;return(W.prazoInicialDiasUteis||0)-I},Te=W=>W===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:W<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:W<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"},Pe=()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return new Date;const I=W.prazoInicialDiasUteis||7;return Ae(W.createdAt,I)},A=()=>{const W=[];return c.enviadoData&&W.push({id:"dfd-enviado",status:"versao",title:"DFD enviado para anlise",author:{name:c.enviadoPor||"Usurio"},createdAt:c.enviadoData}),g.trim()&&W.push({id:"parecer-elaborado",status:"comentario",title:"Parecer tcnico elaborado",author:{name:(i==null?void 0:i.nome)||"Usurio"},createdAt:j||new Date().toISOString()}),c.aprovadoData&&W.push({id:"dfd-aprovado",status:"aprovado",title:"DFD aprovado",author:{name:c.aprovadoPor||"Usurio"},createdAt:c.aprovadoData}),c.devolucaoData&&W.push({id:"dfd-devolvido",status:"devolvido",title:"DFD devolvido para correo",author:{name:c.devolucaoPor||"Usurio"},createdAt:c.devolucaoData}),[...c.annexes||[]].sort((ee,ue)=>new Date(ue.uploadedAt).getTime()-new Date(ee.uploadedAt).getTime()).slice(0,2).forEach(ee=>{W.push({id:`anexo-${ee.id}`,status:"anexo",title:`Anexo adicionado: ${ee.name}`,author:{name:ee.uploadedBy||"Usurio"},createdAt:ee.uploadedAt})}),W.sort((ee,ue)=>new Date(ue.createdAt).getTime()-new Date(ee.createdAt).getTime())};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(ds,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Parecer Tcnico"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Anlise"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ft,{id:"parecer-tecnico-textarea",value:g,onChange:W=>b(W.target.value),placeholder:"Descreva a anlise tcnica do DFD...",disabled:!L(),className:"min-h-[350px] resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"}),D.includes("Parecer Tcnico  obrigatrio")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Parecer Tcnico  obrigatrio"})]}),j&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Anlise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:ve(j)})})]})]})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Verses/Revises"]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:c.versions.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma verso disponvel"})]}):e.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:c.versions.map(W=>{const I=ae(W.status),ee=U(W.prazoInicialDiasUteis||0,W.prazoCumpridoDiasUteis);return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:W.isFinal?"default":"outline",className:"text-xs font-medium",children:["V",W.version,W.isFinal&&e.jsx(Re,{className:"w-3 h-3 ml-1"})]}),e.jsxs(oe,{className:`text-xs font-medium ${I.color}`,children:[I.icon,e.jsx("span",{className:"ml-1",children:I.label})]}),ee&&e.jsx(oe,{className:`text-xs font-medium ${ee.status==="ok"?"bg-green-100 text-green-800":ee.status==="risco"?"bg-yellow-100 text-yellow-800":ee.status==="nao_enviado"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:ee.status==="ok"?"Prazo Cumprido":ee.status==="risco"?"Em Risco":ee.status==="nao_enviado"?"No Enviado":"Prazo No Cumprido"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",W.createdBy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",W.createdByCargo||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerncia:"})," ",W.createdByGerencia||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(W.createdAt))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",W.prazoInicialDiasUteis||0," dias teis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",W.prazoCumpridoDiasUteis!==void 0?`${W.prazoCumpridoDiasUteis} dias teis`:"No enviado"]})]})]},W.id)})})})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[L()&&e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:K,type:"file",onChange:he,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:()=>{var W;return(W=K.current)==null?void 0:W.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:f,onChange:W=>v(W.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!L()&&e.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:"Apenas usurios autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:y.map((W,I)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:W.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[W.uploadedBy,"  ",ve(W.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[W.uploadedBy,"  ",ve(W.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>p(W.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),L()&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(W.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),I<y.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},W.id))})]})})]})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:"text-sm font-semibold px-3 py-2 bg-yellow-100 text-yellow-800",children:c.status==="enviado_analise"?"Em Anlise":c.status==="aprovado"?"Aprovado":c.status==="devolvido"?"Devolvido":"Pendente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ne!=null&&ne.createdAt?ve(ne.createdAt):(R=c.currentVersion)!=null&&R.createdAt?ve(c.currentVersion.createdAt):""})]})]}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-500",children:["Prazo Inicial da Reviso ",ne?`da verso V${ne.version}`:""]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ne!=null&&ne.createdAt?ve(ne.createdAt):(q=c.currentVersion)!=null&&q.createdAt?ve(c.currentVersion.createdAt):""})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-500",children:["Prazo Final da Reviso ",ne?`da verso V${ne.version}`:""]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(()=>{const W=je();return W?ve(W.toISOString()):""})()})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final da Etapa"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(()=>{const W=Ue();return W?ve(W.toISOString()):""})()})]})]})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const W=de(),I=Te(W);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${I.text} mb-2`,children:W===null?"":Math.abs(W)}),e.jsx("div",{className:`text-sm font-medium ${I.text}`,children:ox(W)})]})})()}),(()=>{const W=ne||c.currentVersion||c.versions[c.versions.length-1];if(!W)return null;const I=Pe();return e.jsx(fu,{startISO:W.createdAt,endISO:I.toISOString(),className:"space-y-2"})})()]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:(()=>{const W=(()=>{const ee=[];return ee.push({id:"dfd-recebido",label:"DFD recebido para anlise",status:"completed"}),ee.push({id:"parecer",label:"Parecer tcnico elaborado",status:g.trim()?"completed":"warning"}),ee.push({id:"decisao",label:"Deciso de aprovao/devoluo",status:c.status==="aprovado"||c.status==="devolvido"?"completed":"pending"}),ee})();return`${W.filter(ee=>ee.status==="completed").length}/${W.length}`})()})]})]}),(()=>{const W=(()=>{const se=[];se.push({id:"dfd-recebido",label:"DFD recebido para anlise",status:"completed",description:"Verso recebida para avaliao"}),se.push({id:"parecer",label:"Parecer tcnico elaborado",status:g.trim()?"completed":"warning",description:g.trim()?"Parecer preenchido":"Preencha o parecer tcnico"}),se.push({id:"decisao",label:"Deciso de aprovao/devoluo",status:c.status==="aprovado"||c.status==="devolvido"?"completed":"pending",description:"Finalize aprovando ou devolvendo"});const ze={warning:0,pending:1,completed:2};return se.sort((_e,Q)=>ze[_e.status]-ze[Q.status])})(),[I,ee]=Z.useState("all"),[ue,G]=Z.useState(""),ge={total:W.length,completed:W.filter(se=>se.status==="completed").length,open:W.filter(se=>se.status!=="completed").length},ye=ge.total===0?0:Math.round(ge.completed/ge.total*100),Me=W.filter(se=>{if(I==="open"&&se.status==="completed"||I==="completed"&&se.status!=="completed")return!1;if(!ue.trim())return!0;const ze=ue.toLowerCase();return se.label.toLowerCase().includes(ze)||(se.description||"").toLowerCase().includes(ze)}),et=se=>se==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[ye,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[ge.total," itens"]})]}),e.jsx(Fa,{value:ye}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ee("all"),className:`px-2 py-1 rounded text-xs ${I==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>ee("open"),className:`px-2 py-1 rounded text-xs ${I==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",ge.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>ee("completed"),className:`px-2 py-1 rounded text-xs ${I==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",ge.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:ue,onChange:se=>G(se.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Me.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Me.map(se=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:et(se.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:se.label}),se.description&&e.jsx("div",{className:"text-xs text-slate-500",children:se.description})]})]},se.id))})]})})()]})]})]}),e.jsx(Do,{data:A()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-aprovacao",title:"Comentrios"})})}),e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:c.status==="enviado_analise"?"5 dias teis":c.status==="aprovado"?"Concludo":c.status==="devolvido"?"Devolvido":"Aguardando"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:(i==null?void 0:i.nome)||"GSP - Analista"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:c.status==="aprovado"?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"DFD Aprovado"}),e.jsxs("p",{className:"text-sm text-green-700",children:[c.aprovadoData?ve(c.aprovadoData):""," por ",c.aprovadoPor||(i==null?void 0:i.nome)]})]})]})}):c.status==="devolvido"?e.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-red-600",children:"DFD Devolvido"}),e.jsxs("p",{className:"text-sm text-red-700",children:[c.devolucaoData?ve(c.devolucaoData):""," por ",c.devolucaoPor||(i==null?void 0:i.nome)]})]})]})}):e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Analise o DFD e tome uma deciso:"}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsxs(C,{onClick:Ne,variant:"outline",disabled:!S(),className:"border-red-200 text-red-700 hover:bg-red-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Devolver para Correo"]}),e.jsxs(C,{onClick:re,disabled:!O(),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovar DFD"]})]})]})})]})]}),e.jsx(Ke,{open:_,onOpenChange:M,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovao"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar o DFD? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a verso como Aprovada e Verso Final"}),e.jsx("li",{children:"Liberar a prxima etapa (Assinatura do DFD)"}),e.jsx("li",{children:"Salvar o Parecer Tcnico e Data da Anlise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>M(!1),children:"Cancelar"}),e.jsxs(C,{onClick:le,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovao"]})]})]})}),e.jsx(Ke,{open:k,onOpenChange:$,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Encaminhamento para Cumprimento de Ressalvas"]}),e.jsxs(tt,{children:["Tem certeza que deseja encaminhar para cumprimento de ressalvas? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a verso como Reprovada"}),e.jsx("li",{children:"Devolver o DFD para o Card 1 para nova verso"}),e.jsx("li",{children:"Salvar o Parecer Tcnico e Data da Anlise"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa",className:"text-sm font-medium",children:"Justificativa das Ressalvas *"}),e.jsx(ft,{id:"justificativa",value:H,onChange:W=>Y(W.target.value),placeholder:"Descreva as ressalvas que devem ser cumpridas...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>$(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ke,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Encaminhamento"]})]})]})})]})}var Kj="Tabs",[JQ,bae]=ua(Kj,[Co]),bT=Co(),[QQ,Xj]=JQ(Kj),jT=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=wo(l),[h,x]=Qs({prop:r,onChange:n,defaultProp:o});return e.jsx(QQ,{scope:a,baseId:oa(),value:h,onValueChange:x,orientation:i,dir:d,activationMode:c,children:e.jsx(Ge.div,{dir:d,"data-orientation":i,...u,ref:s})})});jT.displayName=Kj;var yT="TabsList",NT=m.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,o=Xj(yT,a),i=bT(a);return e.jsx(Cx,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(Ge.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});NT.displayName=yT;var wT="TabsTrigger",CT=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...o}=t,i=Xj(wT,a),l=bT(a),c=PT(i.baseId,r),u=AT(i.baseId,r),d=r===i.value;return e.jsx(Sx,{asChild:!0,...l,focusable:!n,active:d,children:e.jsx(Ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...o,ref:s,onMouseDown:Ee(t.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!n&&h&&i.onValueChange(r)})})})});CT.displayName=wT;var ST="TabsContent",ET=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:o,...i}=t,l=Xj(ST,a),c=PT(l.baseId,r),u=AT(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const x=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Ms,{present:n||d,children:({present:x})=>e.jsx(Ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:u,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:h.current?"0s":void 0},children:x&&o})})});ET.displayName=ST;function PT(t,s){return`${t}-trigger-${s}`}function AT(t,s){return`${t}-content-${s}`}var ZQ=jT,DT=NT,kT=CT,TT=ET;const Va=ZQ,Sa=m.forwardRef(({className:t,...s},a)=>e.jsx(DT,{ref:a,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Sa.displayName=DT.displayName;const Vt=m.forwardRef(({className:t,...s},a)=>e.jsx(kT,{ref:a,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Vt.displayName=kT.displayName;const Gt=m.forwardRef(({className:t,...s},a)=>e.jsx(TT,{ref:a,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Gt.displayName=TT.displayName;const eZ={processoId:"1",versaoFinalId:"v3",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:1,decorridosDiasUteis:0,badge:"ok"}},tZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",data:"15/01/2025 10:30",texto:"Documento aprovado e enviado para assinatura. Aguardando assinaturas dos responsveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],v2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br"}];function sZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var ze,_e;const{user:l}=kt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(eZ);m.useState(tZ),m.useState("");const[x,f]=m.useState(""),[v,p]=m.useState(!1),[y,g]=m.useState(!1),[b,j]=m.useState(!1),[N,w]=m.useState(null),[E,D]=m.useState(""),[P,_]=m.useState(!1),[M,k]=m.useState([]),[$,H]=m.useState(!1),[Y,K]=m.useState(""),[z,O]=m.useState(!0),[S,L]=m.useState(!1),[U,J]=m.useState([]),[re,le]=m.useState(null),[Ne,ke]=m.useState("desc"),he=m.useRef(null),[ae,ve]=m.useState(!1),xe=m.useRef(null),ne=m.useMemo(()=>{const Q=[...U];return Q.sort((we,F)=>new Date(F.uploadedAt).getTime()-new Date(we.uploadedAt).getTime()),Ne==="asc"&&Q.reverse(),Q},[U,Ne]),Ae=Q=>{if(!Q){c({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(Q,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},je=m.useMemo(()=>U.find(Q=>Q.id===re)||ne[0],[U,re,ne]);m.useEffect(()=>{!re&&ne.length>0&&le(ne[0].id)},[re,ne]),m.useEffect(()=>{if(je!=null&&je.url){ve(!0);const Q=setTimeout(()=>ve(!1),2e3);return()=>clearTimeout(Q)}else ve(!1)},[je==null?void 0:je.url]);const Ue=Q=>{if(!Q)return"";const we=Q.lastIndexOf(".");return we>=0?Q.substring(we+1).toLowerCase():""},de=Q=>["pdf"].includes(Ue(Q)),Te=Q=>["png","jpg","jpeg","gif","bmp","tif","tiff","webp","svg"].includes(Ue(Q)),Pe=((ze=l==null?void 0:l.gerencia)==null?void 0:ze.includes("GSP"))||((_e=l==null?void 0:l.gerencia)==null?void 0:_e.includes("SE"))||!1,A=d.assinantes.some(Q=>Q.email===(l==null?void 0:l.email)&&Q.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const R=()=>{var T,te,fe,Ie;if(!l)return!1;const Q=((T=l.gerencia)==null?void 0:T.includes("SE"))||((te=l.gerencia)==null?void 0:te.includes("Secretaria Executiva")),we=((fe=l.gerencia)==null?void 0:fe.includes("GSP"))||((Ie=l.gerencia)==null?void 0:Ie.includes("Gerncia de Solues e Projetos"));return Q||we},q=d.assinantes.every(Q=>Q.status==="ASSINADO"),W=d.assinantes.filter(Q=>Q.status==="ASSINADO").length,I=d.assinantes.length,ee=I>0?W/I*100:0,ue=()=>{const Q=[];return d.assinantes.forEach(F=>{F.assinadoEm&&Q.push({id:`assinatura-${F.id}`,status:"aprovado",title:"Assinatura registrada",author:{name:F.nome},createdAt:F.assinadoEm})}),[...U].sort((F,T)=>new Date(T.uploadedAt).getTime()-new Date(F.uploadedAt).getTime()).slice(0,2).forEach(F=>{Q.push({id:`anexo-${F.id}`,status:"anexo",title:`Anexo adicionado: ${F.name}`,author:{name:F.uploadedBy||"Usurio"},createdAt:F.uploadedAt})}),Q.sort((F,T)=>new Date(T.createdAt).getTime()-new Date(F.createdAt).getTime())},G=Q=>{switch(Q){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},ge=async()=>{if(N){p(!0);try{await new Promise(T=>setTimeout(T,1e3));const Q=d.assinantes.map(T=>T.id===N.id?{...T,status:"ASSINADO",assinadoEm:new Date().toISOString(),observacoes:x.trim()||void 0}:T),we={...d,assinantes:Q};Q.every(T=>T.status==="ASSINADO")&&(we.statusEtapa="ASSINADO_N_N",a&&a({etapa:"despacho-dfd",assinaturas:Q})),h(we),g(!1),w(null),f(""),c({title:"Documento assinado",description:"Sua assinatura foi registrada com sucesso."})}catch{c({title:"Erro ao assinar",description:"No foi possvel registrar sua assinatura.",variant:"destructive"})}finally{p(!1)}}},ye=async()=>{if(N){p(!0);try{await new Promise(we=>setTimeout(we,1e3));const Q=d.assinantes.map(we=>we.id===N.id?{...we,status:"CANCELADO",canceladoEm:new Date().toISOString()}:we);h({...d,assinantes:Q}),j(!1),w(null),D(""),c({title:"Assinatura cancelada",description:"A assinatura foi cancelada com sucesso."})}catch{c({title:"Erro ao cancelar",description:"No foi possvel cancelar a assinatura.",variant:"destructive"})}finally{p(!1)}}},Me=async()=>{L(!0);try{if(!(await fetch(`/processos/${t}/etapas/assinatura-dfd/concluir`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observacao:Y.trim()||void 0,notificar:z})})).ok)throw new Error("Erro ao concluir etapa");h({...d,statusEtapa:"CONCLUIDO"}),H(!1),K(""),O(!0),a&&a({etapa:"despacho-dfd",assinaturas:d.assinantes,concluidoPor:(l==null?void 0:l.nome)||"Usurio",concluidoEm:new Date().toISOString(),observacao:Y.trim()||void 0,notificar:z}),c({title:"Etapa concluda",description:"Etapa concluda. Prxima etapa liberada."})}catch{c({title:"Erro ao concluir",description:"No foi possvel concluir a etapa. Tente novamente.",variant:"destructive"})}finally{L(!1)}},et=async()=>{if(M.length!==0){p(!0);try{await new Promise(we=>setTimeout(we,1e3));const Q=M.map(we=>{const F=v2.find(T=>T.id===we);return{id:`assinante-${Date.now()}-${we}`,nome:(F==null?void 0:F.nome)||"",cargo:(F==null?void 0:F.cargo)||"",email:(F==null?void 0:F.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l.id)||"",selecionadoEm:new Date().toISOString()}});h({...d,assinantes:[...d.assinantes,...Q]}),_(!1),k([]),c({title:"Assinantes adicionados",description:`${Q.length} assinante(s) adicionado(s) com sucesso.`})}catch{c({title:"Erro ao adicionar",description:"No foi possvel adicionar os assinantes.",variant:"destructive"})}finally{p(!1)}}},se=async Q=>{p(!0);try{await new Promise(F=>setTimeout(F,1e3));const we=d.assinantes.filter(F=>F.id!==Q);h({...d,assinantes:we}),c({title:"Assinante removido",description:"O assinante foi removido com sucesso."})}catch{c({title:"Erro ao remover",description:"No foi possvel remover o assinante.",variant:"destructive"})}finally{p(!1)}};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Rt,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Visualizao do DFD"}),e.jsx("div",{className:"ml-auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:xe,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:Q=>{var te;const we=(te=Q.target.files)==null?void 0:te[0];if(!we)return;const F=`a-${Date.now()}`,T={id:F,name:we.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio",url:URL.createObjectURL(we)};J(fe=>[T,...fe]),le(F),Q.target&&(Q.target.value=""),c({title:"Anexo adicionado",description:`${we.name} foi anexado.`})}}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{je!=null&&je.url?Ae(je.url):c({title:"Sem documento",description:"Adicione um anexo para visualizar.",variant:"destructive"})},className:"h-8 px-2 text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{if(je!=null&&je.url){const Q=document.createElement("a");Q.href=je.url,Q.download=je.name||"documento.pdf",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}else c({title:"Sem documento",description:"Adicione um anexo para baixar.",variant:"destructive"})},className:"h-8 px-2 text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{var Q;return(Q=xe.current)==null?void 0:Q.click()},className:"h-8 px-2 text-xs",children:[e.jsx(mt,{className:"w-3 h-3 mr-1"}),"Incluir"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{if(!je){c({title:"Nada para excluir",description:"No h documento selecionado.",variant:"destructive"});return}J(Q=>{var F;const we=Q.filter(T=>T.id!==je.id);return le(((F=we[0])==null?void 0:F.id)??null),we}),c({title:"Anexo removido",description:`${je.name} foi excludo.`})},disabled:!je,className:"h-8 px-2 text-xs text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(It,{className:"w-3 h-3 mr-1"}),"Excluir"]})]})})]}),e.jsx("div",{className:"border-b-2 border-indigo-200 mb-6"}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"relative w-full min-h-[560px] h-[calc(100vh-320px)] rounded-xl border border-slate-200 bg-white overflow-hidden",children:je!=null&&je.url?de(je.name)?e.jsxs(e.Fragment,{children:[ae&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-slate-300 border-t-indigo-500 animate-spin"})}),e.jsx("iframe",{src:je.url,className:"absolute inset-0 w-full h-full",title:"visualizacao-dfd",onLoad:()=>ve(!1)})]}):Te(je.name)?e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:[ae&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-slate-300 border-t-indigo-500 animate-spin"})}),e.jsx("img",{src:je.url,alt:je.name,className:"max-w-full max-h-full object-contain",onLoad:()=>ve(!1)})]}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 text-center text-gray-600 bg-white",children:e.jsxs("div",{children:[e.jsx($e,{className:"w-16 h-16 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:je.name}),e.jsx("p",{className:"text-sm mb-3",children:"Tipo no suportado para pr-visualizao. Use Visualizar/Baixar."}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>Ae(je.url),children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"})," Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{const Q=document.createElement("a");Q.href=je.url,Q.download=je.name||"documento",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},children:[e.jsx(jt,{className:"w-3 h-3 mr-1"})," Baixar"]})]})]})}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 text-center text-gray-500 bg-white",children:e.jsxs("div",{children:[e.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhum documento selecionado"}),e.jsx("p",{className:"text-sm",children:"Use Incluir no topo ou adicione um anexo na aba Anexos"})]})})})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsx("div",{className:"space-y-4",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[Pe&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>_(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"max-h-[320px] overflow-y-auto space-y-2",children:d.assinantes.map(Q=>{const we=G(Q.status),F=d.sla.prazoDiasUteis-d.sla.decorridosDiasUteis,T=F<=2&&F>=0&&Q.status==="PENDENTE";return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:Q.nome}),e.jsxs(oe,{className:`${we.bgColor} ${we.textColor} ${we.borderColor} text-xs`,children:[we.icon,e.jsx("span",{className:"ml-1",children:we.label})]}),T&&e.jsxs(oe,{className:"bg-amber-100 text-amber-800 border-amber-300 text-xs",children:[e.jsx(xt,{className:"w-3 h-3 mr-1"}),F," dia",F!==1?"s":""," til",F!==1?"eis":""]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:Q.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:Q.email}),Q.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(Q.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[Q.status==="PENDENTE"&&Q.email===(l==null?void 0:l.email)&&e.jsxs(C,{size:"sm",variant:"default",onClick:()=>{w(Q),g(!0)},className:"h-6 px-2 text-xs bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"}),"Assinar"]}),Pe&&Q.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>se(Q.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-3 h-3"})}),Q.status==="PENDENTE"&&(Q.email===(l==null?void 0:l.email)||Pe)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{w(Q),j(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(Vz,{className:"w-3 h-3"})})]})]})},Q.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[W," de ",I," assinaturas concludas"]})]}),e.jsx(Fa,{value:ee,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ee===100?"Todas as assinaturas concludas":"Aguardando assinaturas restantes"})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:U.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:Ne,onChange:Q=>ke(Q.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),Pe&&e.jsxs("div",{children:[e.jsx("input",{ref:he,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:Q=>{var te;const we=(te=Q.target.files)==null?void 0:te[0];if(!we)return;const F=`a-${Date.now()}`,T={id:F,name:we.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio",url:URL.createObjectURL(we)};J(fe=>[T,...fe]),le(F),Q.target&&(Q.target.value=""),c({title:"Anexo adicionado",description:`${we.name} foi anexado.`})}}),e.jsxs(C,{onClick:()=>{var Q;return(Q=he.current)==null?void 0:Q.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),U.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${U.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:ne.map((Q,we)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:Q.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[Q.uploadedBy,"  ",Je(Q.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[Q.uploadedBy,"  ",Je(Q.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Ae(Q.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),Pe&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>J(F=>F.filter(T=>T.id!==Q.id)),children:e.jsx(It,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"sm:hidden flex items-center flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",children:e.jsx(Zv,{className:"w-4 h-4"})}),e.jsxs("div",{className:"absolute right-0 mt-1 bg-white border rounded shadow-sm p-1 z-20",children:[e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left",onClick:()=>Ae(Q.url),children:"Visualizar"}),e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left",children:"Baixar"}),Pe&&e.jsx("button",{className:"block px-3 py-1 text-sm hover:bg-slate-50 w-full text-left text-red-600",onClick:()=>J(F=>F.filter(T=>T.id!==Q.id)),children:"Remover"})]})]})})]}),we<ne.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},Q.id))})]})})]})})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),(()=>{const we={PENDENTE_ASSINATURA:{label:"Pendente de Assinatura",cls:"bg-yellow-100 text-yellow-800"},ASSINADO_N_N:{label:"Assinado (parcial)",cls:"bg-blue-100 text-blue-800"},CONCLUIDO:{label:"Concludo",cls:"bg-green-100 text-green-800"}}[d.statusEtapa]||{label:"Indefinido",cls:"bg-gray-100 text-gray-800"};return e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${we.cls}`,children:we.label})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[d.sla.prazoDiasUteis," dias teis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date(Date.now()+d.sla.prazoDiasUteis*24*60*60*1e3).toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),d.statusEtapa==="CONCLUIDO"&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(Re,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[d.sla.decorridosDiasUteis," dias teis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:(()=>{const Q=d.sla.prazoDiasUteis-d.sla.decorridosDiasUteis,we=Q<0,F=Q<=2&&Q>=0,T=d.statusEtapa==="CONCLUIDO";let te="text-green-600",fe="dias restantes";return T?(te="text-green-600",fe="etapa finalizada"):we?(te="text-red-600",fe="dias em atraso"):F&&(te="text-amber-600",fe="dias restantes (urgente)"),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-4xl font-extrabold ${te} mb-2`,children:T?"":Math.abs(Q)}),e.jsx("div",{className:`text-sm font-medium ${te}`,children:fe})]})})()}),(()=>{const Q=new Date().toISOString(),we=new Date(Date.now()+d.sla.prazoDiasUteis*24*60*60*1e3).toISOString();return e.jsx(fu,{startISO:Q,endISO:we,className:"space-y-2"})})()]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const Q=[];Q.push({id:"assinantes",label:I>0?"Assinantes selecionados":"Selecionar assinantes",status:I>0?"completed":"pending",description:I>0?`${I} assinante(s) selecionado(s)`:"Nenhum assinante foi selecionado"}),Q.push({id:"coleta",label:ee===100?"Assinaturas concludas":"Coletar assinaturas restantes",status:ee===100?"completed":ee>0?"warning":"pending",description:ee===100?"Todas as assinaturas foram coletadas":`${W} de ${I} assinaturas coletadas`});const we=Q.filter(T=>T.status==="completed").length,F=Q.length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[we,"/",F]})]})})()]}),(()=>{const Q=[];Q.push({id:"assinantes",label:I>0?"Assinantes selecionados":"Selecionar assinantes",status:I>0?"completed":"pending",description:I>0?`${I} assinante(s) selecionado(s)`:"Nenhum assinante foi selecionado"}),Q.push({id:"coleta",label:ee===100?"Assinaturas concludas":"Coletar assinaturas restantes",status:ee===100?"completed":ee>0?"warning":"pending",description:ee===100?"Todas as assinaturas foram coletadas":`${W} de ${I} assinaturas coletadas`});const we={warning:0,pending:1,completed:2},F=Q.sort((ce,Le)=>we[ce.status]-we[Le.status]),[T,te]=Z.useState("all"),[fe,Ie]=Z.useState(""),X={total:F.length,completed:F.filter(ce=>ce.status==="completed").length,open:F.filter(ce=>ce.status!=="completed").length},me=X.total===0?0:Math.round(X.completed/X.total*100),V=F.filter(ce=>{if(T==="open"&&ce.status==="completed"||T==="completed"&&ce.status!=="completed")return!1;if(!fe.trim())return!0;const Le=fe.toLowerCase();return ce.label.toLowerCase().includes(Le)||(ce.description||"").toLowerCase().includes(Le)}),ie=ce=>ce==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[me,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[X.total," itens"]})]}),e.jsx(Fa,{value:me}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>te("all"),className:`px-2 py-1 rounded text-xs ${T==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>te("open"),className:`px-2 py-1 rounded text-xs ${T==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",X.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>te("completed"),className:`px-2 py-1 rounded text-xs ${T==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",X.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:fe,onChange:ce=>Ie(ce.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:V.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):V.map(ce=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:ie(ce.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:ce.label}),ce.description&&e.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]})]},ce.id))})]})})()]})]})]}),e.jsx(Do,{data:ue()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s,cardId:"comentarios-assinatura",title:"Comentrios"})})}),e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:d.responsavelEtapa.nome||"Sem responsvel definido"})]})]})}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[Pe&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),R()&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card3","data-testid":"btn-concluir-card3",onClick:()=>H(!0),disabled:!R()||S||!q||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!q||d.statusEtapa==="CONCLUIDO")&&e.jsx(bt,{children:e.jsx("p",{children:q?"Etapa j concluda":"Aguarde todas as assinaturas para concluir."})})]})}),A&&e.jsxs(C,{variant:"outline",onClick:()=>{const Q=d.assinantes.find(we=>we.email===(l==null?void 0:l.email)&&we.status==="PENDENTE");Q&&(w(Q),j(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),A&&e.jsxs(C,{onClick:()=>{const Q=d.assinantes.find(we=>we.email===(l==null?void 0:l.email)&&we.status==="PENDENTE");Q&&(w(Q),g(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})})]})]}),e.jsx(Ke,{open:y,onOpenChange:g,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:N==null?void 0:N.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:N==null?void 0:N.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["DFD - Verso Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),e.jsx(C,{onClick:ge,disabled:v,className:"bg-purple-600 hover:bg-purple-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Assinando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})})]})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Confirme o cancelamento da assinatura pendente."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:N==null?void 0:N.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:N==null?void 0:N.cargo})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"motivo",className:"text-sm font-medium",children:"Motivo do Cancelamento (opcional)"}),e.jsx(ft,{id:"motivo",value:E,onChange:Q=>D(Q.target.value),placeholder:"Informe o motivo do cancelamento...",className:"min-h-[80px]"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),children:"Voltar"}),e.jsx(C,{onClick:ye,disabled:v,variant:"destructive",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})})]})]})}),e.jsx(Ke,{open:P,onOpenChange:_,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o documento."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Usurios Disponveis"}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:v2.filter(Q=>!d.assinantes.some(we=>we.email===Q.email)).map(Q=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsx($t,{id:Q.id,checked:M.includes(Q.id),onCheckedChange:we=>{k(we?[...M,Q.id]:M.filter(F=>F!==Q.id))}}),e.jsxs(B,{htmlFor:Q.id,className:"text-sm flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium",children:Q.nome}),e.jsx("div",{className:"text-xs text-gray-500",children:Q.cargo})]})]},Q.id))})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),e.jsx(C,{onClick:et,disabled:v||M.length===0,className:"bg-purple-600 hover:bg-purple-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar (",M.length,")"]})})]})]})}),e.jsx(Ke,{open:$,onOpenChange:H,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-indigo-600"}),"Concluir etapa  Assinatura do DFD"]}),e.jsx(tt,{children:"Deseja concluir esta etapa? Isso avanar o processo para a prxima fase."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Etapa 3:"})," Assinatura do DFD"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Gerncia responsvel: Secretaria Executiva (SE)"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Assinaturas: ",W,"/",I," concludas"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao-conclusao",children:"Observaes de concluso (opcional)"}),e.jsx(ft,{id:"observacao-conclusao",value:Y,onChange:Q=>K(Q.target.value),placeholder:"Adicione observaes sobre a concluso desta etapa...",rows:3,maxLength:500})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:z,onCheckedChange:Q=>O(!!Q)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao concluir esta etapa, o card ser bloqueado para edio e a prxima etapa do fluxo ser habilitada."]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>H(!1),disabled:S,children:"Cancelar"}),e.jsx(C,{onClick:Me,disabled:S,className:"bg-green-600 hover:bg-green-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const aZ=t=>({numeroDFD:(t==null?void 0:t.numeroDFD)||"DFD 006/2025",objeto:(t==null?void 0:t.objeto)||"Aquisio de equipamentos de informtica para modernizao dos sistemas da GSP",regimeTramitacao:(t==null?void 0:t.regimeTramitacao)||"ORDINARIO",observacoes:"",cidadeDataEmissao:"Braslia, 15 de janeiro de 2025",responsaveis:[],status:"PENDENTE",criadoEm:"2025-01-15T10:00:00Z",atualizadoEm:"2025-01-15T10:00:00Z"}),b2=[{id:"user1",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"user2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@hospital.gov.br"},{id:"user3",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",gerencia:"NAJ - Assessoria Jurdica",email:"gabriel.radamesis@hospital.gov.br"},{id:"user4",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Gerente de Suprimentos e Logstica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",email:"lara.fraguas@hospital.gov.br"},{id:"user5",nome:"Maria Eduarda Silva Santos",cargo:"Gerente de Recursos Humanos",gerencia:"GRH - Gerncia de Recursos Humanos",email:"maria.santos@hospital.gov.br"},{id:"user6",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",email:"guilherme.silva@hospital.gov.br"},{id:"user7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",gerencia:"GUE - Gerncia de Urgncia e Emergncia",email:"andressa.silva@hospital.gov.br"},{id:"user8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos",email:"leticia.guilherme@hospital.gov.br"},{id:"user9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira e Contbil",email:"dallas.souza@hospital.gov.br"},{id:"user10",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria",email:"georgia.pereira@hospital.gov.br"}],rZ=[{id:"comentario1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Analista de Projetos - GSP",data:"2025-01-15T10:00:00Z",texto:"Iniciando elaborao do despacho conforme solicitado."}];function nZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var et;const{user:l}=kt(),{podeEditarCard:c,isGSP:u,isGSPouSE:d}=$a(),{toast:h}=Kt(),[x,f]=m.useState(()=>aZ(n));m.useState(rZ),m.useState("");const[v,p]=m.useState(!1),[y,g]=m.useState([]),[b,j]=m.useState(!1),[N,w]=m.useState(""),[E,D]=m.useState(!0),[P,_]=m.useState(null),[M,k]=m.useState(!1),[$,H]=m.useState(null);m.useRef(null);const[Y,K]=m.useState([]),[z,O]=m.useState(null),[S,L]=m.useState(!1),[U,J]=m.useState(!1),[re,le]=m.useState([]),[Ne,ke]=m.useState("desc"),he=Z.useRef(null),ae=Z.useMemo(()=>{const se=[...re];return se.sort((ze,_e)=>new Date(_e.uploadedAt).getTime()-new Date(ze.uploadedAt).getTime()),Ne==="asc"&&se.reverse(),se},[re,Ne]),ve=se=>{if(!se){h({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(se,"_blank"))throw new Error("Popup bloqueado")}catch{h({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},xe={prazoDiasUteis:3,decorridosDiasUteis:0,badge:"Em Dia"},ne=Y.length,Ae=Y.filter(se=>se.status==="ASSINADO").length,je=ne>0?Ae/ne*100:0,Ue=()=>{var _e,Q;const se=[];return x.status==="GERADO"&&x.atualizadoEm&&se.push({id:"despacho-gerado",status:"versao",title:"Despacho gerado",author:{name:(l==null?void 0:l.nome)||"Usurio"},createdAt:x.atualizadoEm}),x.status==="ASSINADO"&&((_e=x.assinadoPor)!=null&&_e.dataAssinatura)&&se.push({id:"despacho-assinado",status:"aprovado",title:"Despacho assinado",author:{name:((Q=x.assinadoPor)==null?void 0:Q.nome)||"Usurio"},createdAt:x.assinadoPor.dataAssinatura}),Y.forEach(we=>{we.assinadoEm&&se.push({id:`assinatura-${we.id}`,status:"aprovado",title:"Assinatura registrada",author:{name:we.nome},createdAt:we.assinadoEm})}),[...re].sort((we,F)=>new Date(F.uploadedAt).getTime()-new Date(we.uploadedAt).getTime()).slice(0,2).forEach(we=>{se.push({id:`anexo-${we.id}`,status:"anexo",title:`Anexo adicionado: ${we.name}`,author:{name:we.uploadedBy||"Usurio"},createdAt:we.uploadedAt})}),se.sort((we,F)=>new Date(F.createdAt).getTime()-new Date(we.createdAt).getTime())},de=(l==null?void 0:l.gerencia)&&(l.gerencia.includes("GSP")||l.gerencia.includes("SE"))&&o,Te=(l==null?void 0:l.gerencia)&&l.gerencia.includes("SE"),Pe=se=>{if(!l){h({title:"Erro",description:"Usurio no encontrado. Faa login novamente.",variant:"destructive"});return}const ze={name:se.name,size:`${(se.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:l.nome,uploadedByCargo:l.cargo,uploadedByGerencia:l.gerencia,uploadedByEmail:l.email};_(ze),localStorage.setItem(`despacho-arquivo-${t}`,JSON.stringify(ze)),h({title:"Arquivo enviado",description:`${se.name} foi enviado com sucesso.`})},A=()=>{$&&(Pe($),H(null),k(!1))},R=()=>{H(null),k(!1)};m.useEffect(()=>{const se=localStorage.getItem(`despacho-arquivo-${t}`);if(se)try{const ze=JSON.parse(se);_(ze)}catch(ze){console.error("Erro ao carregar arquivo de despacho salvo:",ze)}},[t]),m.useEffect(()=>{n&&f(se=>({...se,numeroDFD:n.numeroDFD||se.numeroDFD,objeto:n.objeto||se.objeto,regimeTramitacao:n.regimeTramitacao||se.regimeTramitacao}))},[n]);const q=async()=>{p(!0);try{const se={...x,atualizadoEm:new Date().toISOString()};f(se),r&&r(se),h({title:"Despacho salvo",description:"Dados do despacho salvos com sucesso."})}catch{h({title:"Erro",description:"Erro ao salvar despacho.",variant:"destructive"})}finally{p(!1)}},W=async()=>{if(!Te){h({title:"Permisso negada",description:"Apenas usurios da Secretaria Executiva podem assinar o despacho.",variant:"destructive"});return}p(!0);try{const se={...x,status:"ASSINADO",assinadoPor:{id:(l==null?void 0:l.email)||"",nome:(l==null?void 0:l.nome)||"",cargo:(l==null?void 0:l.cargo)||"",dataAssinatura:new Date().toISOString()},atualizadoEm:new Date().toISOString()};f(se),h({title:"Despacho assinado",description:"Despacho assinado com sucesso pela Secretaria Executiva."})}catch{h({title:"Erro",description:"Erro ao assinar despacho.",variant:"destructive"})}finally{p(!1)}},I=()=>{if(x.status==="PENDENTE"){h({title:"Despacho no gerado",description:"Gere o despacho antes de fazer o download.",variant:"destructive"});return}h({title:"Download iniciado",description:`Download do arquivo ${x.documentoNome} iniciado.`})},ee=async()=>{if(x.status!=="ASSINADO"){h({title:"Despacho no assinado",description:"O despacho deve estar assinado para concluir a etapa.",variant:"destructive"});return}p(!0);try{await new Promise(se=>setTimeout(se,1e3)),a&&a({...x,observacaoConclusao:N,notificarPartes:E}),j(!1),h({title:"Etapa concluda",description:"Etapa Despacho do DFD concluda com sucesso."})}catch{h({title:"Erro",description:"Erro ao concluir etapa.",variant:"destructive"})}finally{p(!1)}},ue=async()=>{if(y.length!==0){p(!0);try{await new Promise(ze=>setTimeout(ze,1e3));const se=y.map(ze=>{const _e=b2.find(Q=>Q.id===ze);return{id:`assinante-${Date.now()}-${ze}`,nome:(_e==null?void 0:_e.nome)||"",cargo:(_e==null?void 0:_e.cargo)||"",email:(_e==null?void 0:_e.email)||"",status:"PENDENTE"}});K(ze=>[...ze,...se]),J(!1),g([]),h({title:"Assinantes adicionados",description:`${se.length} assinante(s) adicionado(s) com sucesso.`})}catch{h({title:"Erro ao adicionar",description:"No foi possvel adicionar os assinantes.",variant:"destructive"})}finally{p(!1)}}},G=se=>{K(ze=>ze.filter(_e=>_e.id!==se)),h({title:"Assinante removido",description:"O assinante foi removido com sucesso."})},ge=async()=>{if(z){p(!0);try{await new Promise(se=>setTimeout(se,1e3)),K(se=>se.map(ze=>ze.id===z.id?{...ze,status:"CANCELADO"}:ze)),O(null),L(!1),h({title:"Assinatura cancelada",description:`A assinatura de ${z.nome} foi cancelada.`})}catch{h({title:"Erro ao cancelar assinatura",description:"No foi possvel cancelar a assinatura.",variant:"destructive"})}finally{p(!1)}}},ye=se=>{switch(se){case"PENDENTE":return{label:"Despacho Pendente",color:"bg-gray-100 text-gray-800",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"GERADO":return{label:"Despacho Gerado",color:"bg-blue-100 text-blue-800",icon:e.jsx(si,{className:"w-3 h-3"})};case"ASSINADO":return{label:"Despacho Assinado",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"CANCELADO":return{label:"Despacho Cancelado",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},Me=se=>{switch(se){case"PENDENTE":return{label:"Pendente",icon:e.jsx(Fe,{className:"w-3 h-3 mr-1"}),bgColor:"bg-yellow-100",textColor:"text-yellow-800",borderColor:"border-yellow-200"};case"ASSINADO":return{label:"Assinado",icon:e.jsx(Re,{className:"w-3 h-3 mr-1"}),bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};case"CANCELADO":return{label:"Cancelado",icon:e.jsx(qe,{className:"w-3 h-3 mr-1"}),bgColor:"bg-red-100",textColor:"text-red-800",borderColor:"border-red-200"};default:return{label:"Desconhecido",icon:e.jsx(Ns,{className:"w-3 h-3 mr-1"}),bgColor:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-gray-200"}}};return ye(x.status),e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"w-full px-2 space-y-6",children:[e.jsx("section",{id:"formulario-despacho",className:"w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(si,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulrio do Despacho"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulrio"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroDFD",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Gd,{className:"w-4 h-4"}),"Nmero do DFD"]}),e.jsx(De,{id:"numeroDFD",value:x.numeroDFD,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto"]}),e.jsx(ft,{id:"objeto",value:x.objeto,readOnly:!0,className:"w-full min-h-[80px] resize-none bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"regimeTramitacao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Regime de Tramitao"]}),e.jsx(De,{id:"regimeTramitacao",value:x.regimeTramitacao==="URGENCIA"?"Urgncia":"Ordinrio",readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observaes *"]}),e.jsx(of,{value:x.observacoes,onChange:se=>f({...x,observacoes:se}),placeholder:"Descreva as observaes do despacho...",disabled:!de||x.status!=="PENDENTE",className:"min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300",minHeight:"100px",processoId:t,etapaId:s.toString(),cardId:"observacoes-despacho"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"cidadeDataEmissao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Cidade/Data de emisso"]}),e.jsx(De,{id:"cidadeDataEmissao",value:x.cidadeDataEmissao,onChange:se=>f({...x,cidadeDataEmissao:se.target.value}),placeholder:"Ex: Braslia, 15 de janeiro de 2025",disabled:!de||x.status!=="PENDENTE",className:"w-full border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsx("div",{className:"w-full p-4",children:e.jsx(lf,{value:x.responsaveis,onChange:se=>f({...x,responsaveis:se||[]}),disabled:!de||x.status!=="PENDENTE",canEdit:de&&x.status==="PENDENTE",processoId:t,className:"w-full",label:"Responsveis pelo Despacho *"})})]})]})}),e.jsx("section",{id:"gerenciamento",className:"w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{className:"space-y-4",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[d&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>J(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),Y.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"max-h-[320px] overflow-y-auto space-y-2",children:Y.map(se=>{const ze=Me(se.status),Q=xe.prazoDiasUteis-xe.decorridosDiasUteis<=2;return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:se.nome}),e.jsxs(oe,{className:`${ze.bgColor} ${ze.textColor} ${ze.borderColor} text-xs`,children:[ze.icon,e.jsx("span",{className:"ml-1",children:ze.label})]}),Q]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:se.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:se.email}),se.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(se.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[d&&se.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>G(se.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),se.status==="PENDENTE"&&(se.email===(l==null?void 0:l.email)||d)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{O(se),L(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},se.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Ae," de ",ne," assinaturas concludas"]})]}),e.jsx(Fa,{value:je,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:je===100?"Todas as assinaturas concludas":"Aguardando assinaturas restantes"})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:he,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:se=>{var _e;const ze=(_e=se.target.files)==null?void 0:_e[0];ze&&(le(Q=>[{id:`a-${Date.now()}`,name:ze.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...Q]),se.target&&(se.target.value=""),h({title:"Anexo adicionado",description:`${ze.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var se;return(se=he.current)==null?void 0:se.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:re.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:Ne,onChange:se=>ke(se.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),re.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${re.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:ae.map((se,ze)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:se.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[se.uploadedBy,"  ",Je(se.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[se.uploadedBy,"  ",Je(se.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>ve(se.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>le(_e=>_e.filter(Q=>Q.id!==se.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ze<ae.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},se.id))})]})})]})})]})}),e.jsxs("div",{className:"card-shell min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),(()=>{const ze={PENDENTE:{label:"Pendente",cls:"bg-yellow-100 text-yellow-800"},GERADO:{label:"Gerado",cls:"bg-blue-100 text-blue-800"},ASSINADO:{label:"Assinado",cls:"bg-green-100 text-green-800"},CANCELADO:{label:"Cancelado",cls:"bg-red-100 text-red-800"}}[x.status]||{label:"Indefinido",cls:"bg-gray-100 text-gray-800"};return e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${ze.cls}`,children:ze.label})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[xe.prazoDiasUteis," dias teis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date(Date.now()+xe.prazoDiasUteis*24*60*60*1e3).toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:(()=>{const se=xe.prazoDiasUteis-xe.decorridosDiasUteis;let ze="text-green-600";return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-4xl font-extrabold ${ze} mb-2`,children:Math.abs(se)}),e.jsx("div",{className:`text-sm font-medium ${ze}`,children:"dias restantes"})]})})()}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{className:"text-xs text-slate-500",children:"Progresso Temporal"})}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 cursor-help",children:(()=>{const se=Math.max(1,xe.prazoDiasUteis),ze=Math.max(0,Math.min(xe.decorridosDiasUteis,se)),_e=Math.round(ze/se*100);let Q="bg-emerald-500";return _e>=71&&_e<=99?Q="bg-amber-500":_e>=100&&(Q="bg-red-500"),e.jsx("div",{className:`h-3 rounded-full transition-all ${Q}`,style:{width:`${Math.min(_e,100)}%`}})})()})}),e.jsx(bt,{children:e.jsxs("p",{children:[xe.decorridosDiasUteis," de ",xe.prazoDiasUteis," dias teis decorridos"]})})]})}),e.jsx("div",{className:"flex justify-between text-xs text-slate-500",children:e.jsxs("span",{children:["Decorridos: ",xe.decorridosDiasUteis," / ",xe.prazoDiasUteis," dias teis"]})})]})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const se=[];se.push({id:"responsaveis",label:x.responsaveis.length>0?"Responsveis definidos":"Selecionar responsveis",status:x.responsaveis.length>0?"completed":"pending",description:x.responsaveis.length>0?`${x.responsaveis.length} responsvel(is) selecionado(s)`:"Nenhum responsvel selecionado"}),se.push({id:"geracao",label:x.status!=="PENDENTE"?"Despacho gerado":"Gerar despacho",status:x.status!=="PENDENTE"?"completed":"pending",description:x.documentoNome?x.documentoNome:"Documento ainda no gerado"}),se.push({id:"assinatura",label:x.status==="ASSINADO"?"Assinatura concluda":"Coletar assinatura",status:x.status==="ASSINADO"?"completed":x.status==="GERADO"?"warning":"pending",description:x.status==="ASSINADO"?"Despacho assinado":x.status==="GERADO"?"Aguardando assinatura da SE":"Gere o despacho para assinar"});const ze=se.filter(_e=>_e.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ze,"/",se.length]})]})})()]}),(()=>{const se=[];se.push({id:"responsaveis",label:x.responsaveis.length>0?"Responsveis definidos":"Selecionar responsveis",status:x.responsaveis.length>0?"completed":"pending",description:x.responsaveis.length>0?`${x.responsaveis.length} responsvel(is) selecionado(s)`:"Nenhum responsvel selecionado"}),se.push({id:"geracao",label:x.status!=="PENDENTE"?"Despacho gerado":"Gerar despacho",status:x.status!=="PENDENTE"?"completed":"pending",description:x.documentoNome?x.documentoNome:"Documento ainda no gerado"}),se.push({id:"assinatura",label:x.status==="ASSINADO"?"Assinatura concluda":"Coletar assinatura",status:x.status==="ASSINADO"?"completed":x.status==="GERADO"?"warning":"pending",description:x.status==="ASSINADO"?"Despacho assinado":x.status==="GERADO"?"Aguardando assinatura da SE":"Gere o despacho para assinar"});const ze={warning:0,pending:1,completed:2},_e=se.sort((me,V)=>ze[me.status]-ze[V.status]),[Q,we]=Z.useState("all"),[F,T]=Z.useState(""),te={total:_e.length,completed:_e.filter(me=>me.status==="completed").length,open:_e.filter(me=>me.status!=="completed").length},fe=te.total===0?0:Math.round(te.completed/te.total*100),Ie=_e.filter(me=>{if(Q==="open"&&me.status==="completed"||Q==="completed"&&me.status!=="completed")return!1;if(!F.trim())return!0;const V=F.toLowerCase();return me.label.toLowerCase().includes(V)||(me.description||"").toLowerCase().includes(V)}),X=me=>me==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[fe,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[te.total," itens"]})]}),e.jsx(Fa,{value:fe}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>we("all"),className:`px-2 py-1 rounded text-xs ${Q==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>we("open"),className:`px-2 py-1 rounded text-xs ${Q==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",te.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>we("completed"),className:`px-2 py-1 rounded text-xs ${Q==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",te.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:F,onChange:me=>T(me.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:Ie.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):Ie.map(me=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:X(me.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:me.label}),me.description&&e.jsx("div",{className:"text-xs text-slate-500",children:me.description})]})]},me.id))})]})})()]})]})]}),e.jsx(Do,{data:Ue()}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-despacho",title:"Comentrios"})})}),e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:((et=x.responsaveis[0])==null?void 0:et.nome)||"Sem responsvel definido"})]})]})}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[de&&x.status==="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:q,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),Te&&x.status==="GERADO"&&e.jsxs(C,{onClick:W,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Despacho"]}),x.status!=="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:I,children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:()=>j(!0),disabled:x.status!=="ASSINADO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})}),x.status!=="ASSINADO"&&e.jsx(bt,{children:e.jsx("p",{children:"Aguarde o despacho ser assinado para concluir."})})]})})]})})]})]}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Despacho do DFD para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observaes de concluso (opcional)"}),e.jsx(ft,{id:"observacao",value:N,onChange:se=>w(se.target.value),placeholder:"Adicione observaes sobre a concluso da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:E,onCheckedChange:se=>D(se)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao concluir esta etapa, o card ser bloqueado para edio e a prxima etapa do fluxo ser habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),disabled:v,children:"Cancelar"}),e.jsx(C,{onClick:ee,disabled:v,className:"bg-green-600 hover:bg-green-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})}),e.jsx(Ke,{open:M,onOpenChange:k,children:e.jsxs(Ye,{className:"sm:max-w-[400px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"w-5 h-5 text-yellow-600"}),"Substituir Documento"]}),e.jsx(tt,{children:"Deseja substituir o documento de despacho existente por um novo?"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(ia,{children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao substituir o documento, o arquivo anterior ser removido."]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:R,disabled:v,children:"Cancelar"}),e.jsx(C,{onClick:A,disabled:v,className:"bg-yellow-600 hover:bg-yellow-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Substituindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Substituir Documento"]})})]})]})}),e.jsx(Ke,{open:U,onOpenChange:J,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o documento."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Usurios Disponveis"}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:b2.filter(se=>!Y.some(ze=>ze.email===se.email)).map(se=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsx($t,{id:se.id,checked:y.includes(se.id),onCheckedChange:ze=>{g(ze?[...y,se.id]:y.filter(_e=>_e!==se.id))}}),e.jsxs(B,{htmlFor:se.id,className:"text-sm flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium",children:se.nome}),e.jsx("div",{className:"text-xs text-gray-500",children:se.cargo})]})]},se.id))})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>J(!1),children:"Cancelar"}),e.jsx(C,{onClick:ue,disabled:v||y.length===0,className:"bg-purple-600 hover:bg-purple-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar (",y.length,")"]})})]})]})}),e.jsx(Ke,{open:S,onOpenChange:L,children:e.jsxs(Ye,{className:"sm:max-w-[400px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsxs(tt,{children:["Deseja cancelar a assinatura de ",z==null?void 0:z.nome,"?"]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(ia,{children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao cancelar a assinatura, a etapa ser marcada como concluda, mas a assinatura ser removida."]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>L(!1),disabled:v,children:"Cancelar"}),e.jsx(C,{onClick:ge,disabled:v,className:"bg-red-600 hover:bg-red-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]})})]})]})})]})})}function oZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=kt();$a();const{toast:l}=Kt(),{dfdData:c,addAnnex:u,removeAnnex:d,updateObservations:h}=cf(t),[x,f]=m.useState(""),[v,p]=m.useState(""),[y,g]=m.useState([]),[b,j]=m.useState(!1),[N,w]=m.useState(!1),[E,D]=m.useState("");m.useState("documentos");const[P,_]=m.useState(!1),[M,k]=m.useState(null);m.useState("");const[$,H]=m.useState([]),[Y,K]=m.useState(0),[z,O]=m.useState(""),S=5,L=m.useRef(null),U=m.useRef(null),J=()=>{const G=(i==null?void 0:i.gerencia)==="NAJ - Assessoria Jurdica",ge=(i==null?void 0:i.nome)==="Gabriel Radamesis Gomes Nascimento";return console.log("Debug NAJ Check:",{userName:i==null?void 0:i.nome,userGerencia:i==null?void 0:i.gerencia,isNAJGerencia:G,isGabrielRadamesis:ge}),G},re=()=>!!J(),le=(G,ge)=>{let ye=0;const Me=new Date(G.getTime());for(;Me<=ge;){const et=Me.getDay();et!==0&&et!==6&&ye++,Me.setDate(Me.getDate()+1)}return ye},Ne=()=>{const G=[];return x.trim()||G.push("Anlise Jurdica Preliminar  obrigatria"),g(G),G.length===0},ke=()=>{if(!Ne()){l({title:"Erro de Validao",description:"Por favor, preencha a Anlise Jurdica Preliminar.",variant:"destructive"});return}j(!0)},he=()=>{if(!E.trim()){l({title:"Erro",description:"A justificativa das ressalvas  obrigatria.",variant:"destructive"});return}const G=new Date().toISOString();p(G);const ge={texto:x,analisadoEm:G,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usurio",cargo:(i==null?void 0:i.cargo)||""},justificativa:E,status:"DEVOLVIDA_CORRECAO"};localStorage.setItem(`analise-juridica-${t}`,JSON.stringify(ge)),_(!0);const ye={id:`interacao-${Date.now()}`,setor:"NAJ - Assessoria Jurdica",responsavel:(i==null?void 0:i.nome)||"Usurio",dataHora:G,resultado:"DEVOLVIDA_CORRECAO",justificativa:E,parecer:x};H(Me=>[...Me,ye]),localStorage.setItem(`interacoes-analise-juridica-${t}`,JSON.stringify([...$,ye])),r(c),l({title:"Encaminhamento Realizado",description:"O edital foi encaminhado para cumprimento de ressalvas e o card 'Cumprimento de Ressalvas' foi criado."}),j(!1),D("")},ae=()=>{if(!Ne()){l({title:"Erro de Validao",description:"Por favor, preencha a Anlise Jurdica Preliminar.",variant:"destructive"});return}w(!0)},ve=()=>{const G=new Date().toISOString();p(G);const ge={texto:x,analisadoEm:G,analisadoPor:{id:(i==null?void 0:i.id)||"",nome:(i==null?void 0:i.nome)||"Usurio",cargo:(i==null?void 0:i.cargo)||""},status:"ANALISE_FAVORAVEL"};localStorage.setItem(`analise-juridica-${t}`,JSON.stringify(ge)),_(!0);const ye={id:`interacao-${Date.now()}`,setor:"NAJ - Assessoria Jurdica",responsavel:(i==null?void 0:i.nome)||"Usurio",dataHora:G,resultado:"ANALISE_FAVORAVEL",parecer:x};H(Me=>[...Me,ye]),localStorage.setItem(`interacoes-analise-juridica-${t}`,JSON.stringify([...$,ye])),a(c),l({title:"Aprovao Realizada",description:"A anlise jurdica foi aprovada integralmente e a prxima etapa foi liberada."}),w(!1)},xe=G=>{var ye;const ge=(ye=G.target.files)==null?void 0:ye[0];if(ge){const Me={name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio"};k(Me),localStorage.setItem(`edital-arquivo-${t}`,JSON.stringify(Me)),l({title:"Arquivo do Edital enviado",description:`${ge.name} foi enviado com sucesso.`})}G.target&&(G.target.value="")},ne=()=>{if(!M){l({title:"Nenhum arquivo",description:"Nenhum arquivo do edital foi enviado ainda.",variant:"destructive"});return}l({title:"Download Iniciado",description:`O arquivo ${M.name} est sendo baixado.`})},Ae=()=>{k(null),localStorage.removeItem(`edital-arquivo-${t}`),l({title:"Arquivo removido",description:"O arquivo do edital foi removido com sucesso."})},je=G=>{var ye;const ge=(ye=G.target.files)==null?void 0:ye[0];if(ge){const Me={id:`anexo-${Date.now().toString()}`,name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",url:`mock-url-${Date.now().toString()}`};u(Me),l({title:"Anexo adicionado",description:`${ge.name} foi anexado com sucesso.`})}G.target&&(G.target.value="")};m.useEffect(()=>{const G=localStorage.getItem(`analise-juridica-${t}`);if(G)try{const Me=JSON.parse(G);f(Me.texto||""),p(Me.analisadoEm||""),_(!0)}catch(Me){console.error("Erro ao carregar anlise salva:",Me)}const ge=localStorage.getItem(`edital-arquivo-${t}`);if(ge)try{const Me=JSON.parse(ge);k(Me)}catch(Me){console.error("Erro ao carregar arquivo do edital salvo:",Me)}const ye=localStorage.getItem(`interacoes-analise-juridica-${t}`);if(ye)try{const Me=JSON.parse(ye);H(Me)}catch(Me){console.error("Erro ao carregar interaes salvas:",Me)}K(2),O((i==null?void 0:i.nome)||"Sem responsvel definido")},[t,i==null?void 0:i.nome]);const Ue=Je,de=Es,Te=G=>{switch(G){case"AGUARDANDO_ANALISE":return{label:"Aguardando Anlise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"APROVADA_COM_RESSALVAS":return{label:"Aprovada com Ressalvas",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(xt,{className:"w-3 h-3"})};case"DEVOLVIDA_CORRECAO":return{label:"Devolvida para Correo",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};case"ANALISE_FAVORAVEL":return{label:"Anlise Favorvel",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}},Pe=G=>G===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:G<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:G<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"},A=()=>Y==null?null:S-Y,R=()=>{const G=[];return $.forEach(ye=>{const Me=ye.resultado==="ANALISE_FAVORAVEL"?"aprovado":ye.resultado==="DEVOLVIDA_CORRECAO"?"devolvido":"versao";G.push({id:`int-${ye.id}`,status:Me,title:`${Te(ye.resultado).label}`,author:{name:ye.responsavel},createdAt:ye.dataHora})}),[...c.annexes].sort((ye,Me)=>new Date(Me.uploadedAt).getTime()-new Date(ye.uploadedAt).getTime()).slice(0,2).forEach(ye=>{G.push({id:`anexo-${ye.id}`,status:"anexo",title:`Anexo adicionado: ${ye.name}`,author:{name:ye.uploadedBy||"Usurio"},createdAt:ye.uploadedAt})}),G.sort((ye,Me)=>new Date(Me.createdAt).getTime()-new Date(ye.createdAt).getTime())},q=()=>{const G=new Date(ue),ge=new Date(ee(ue,S)),ye=Math.max(1,le(G,ge)),et=Math.min(ye,le(G,new Date));return{percent:Math.min(100,Math.round(et/ye*100)),total:ye,passados:et}},W=()=>{const G=$.some(ye=>ye.resultado==="ANALISE_FAVORAVEL"),ge=$.some(ye=>ye.resultado==="DEVOLVIDA_CORRECAO");return G?"Concluda":ge?"Em ressalvas":"Em anlise"},I=G=>{switch(G){case"Concluda":return"bg-green-100 text-green-800";case"Em ressalvas":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},ee=(G,ge)=>{const ye=new Date(G);let Me=0;for(;Me<ge;){ye.setDate(ye.getDate()+1);const et=ye.getDay();et>=1&&et<=5&&Me++}return ye.toISOString()},ue=(()=>{const G=new Date;return G.setDate(G.getDate()-Math.max(0,Y)),G.toISOString()})();return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"cards-gap",children:[e.jsx("section",{id:"analise-juridica",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell overflow-hidden",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(pd,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Anlise Jurdica Preliminar"})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsx(ft,{id:"analise-juridica-textarea",value:x,onChange:G=>f(G.target.value),placeholder:"Descreva a anlise preliminar do edital...",disabled:!re(),className:"min-h-[320px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})}),y.includes("Anlise Jurdica Preliminar  obrigatria")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Anlise Jurdica Preliminar  obrigatria"})]}),v&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Anlise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:Ue(v)})})]}),e.jsx("input",{ref:U,type:"file",onChange:xe,accept:"*/*",className:"hidden"}),M&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:M.name}),e.jsxs("p",{className:"text-xs text-blue-600",children:[M.size,"  ",Ue(M.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",onClick:ne,className:"h-6 w-6 p-0",children:e.jsx(jt,{className:"w-3 h-3"})}),J()&&e.jsx(C,{size:"sm",variant:"outline",onClick:Ae,className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-3 h-3"})})]})]})})]})]})})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[420px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Revises"]})}),e.jsx("div",{className:"p-4",children:$.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma reviso registrada"})]}):e.jsx("div",{className:"space-y-3 max-h-[420px] overflow-y-auto",children:[...$].slice().reverse().map((G,ge)=>{const ye=Te(G.resultado),Me=$.length-ge;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["R",Me]}),e.jsxs(oe,{className:`text-xs font-medium ${ye.color}`,children:[ye.icon,e.jsx("span",{className:"ml-1",children:ye.label})]})]})}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Setor:"})," ",G.setor]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Responsvel:"})," ",G.responsavel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data:"})," ",de(G.dataHora)]}),G.justificativa&&e.jsxs("p",{children:[e.jsx("strong",{children:"Justificativa:"})," ",G.justificativa]})]})]},G.id)})})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[420px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsxs("div",{className:"p-4",children:[re()&&e.jsxs("div",{className:"w-full mb-3",children:[e.jsx("input",{ref:L,type:"file",onChange:je,accept:".docx,.xlsx,.pdf,.odt,.csv,.png,.jpg,.txt",className:"hidden"}),e.jsxs(C,{onClick:()=>{var G;return(G=L.current)==null?void 0:G.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!re()&&e.jsx("p",{className:"text-sm text-gray-400 mt-1 text-center",children:"Apenas usurios autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[420px] overflow-y-auto":""} space-y-0`,children:c.annexes.map((G,ge)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:G.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[G.size,"  ",Ue(G.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),re()&&e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>d(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ge<c.annexes.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},G.id))})]})]})})]})})]})}),e.jsxs("section",{className:"col-span-12 w-full",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6 min-h-[700px] mb-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"card-separator-green"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${I(W())}`,children:W()})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Ue(ue)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Ue(ue)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Ue(ee(ue,S))})]})]})]})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const G=A(),ge=Jv(G);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${ge.text} mb-2`,children:G===null?"":Math.abs(G)}),e.jsx("div",{className:`text-sm font-medium ${ge.text}`,children:ox(G)})]})})()}),e.jsx("div",{className:"space-y-2",children:(q(),e.jsx(fu,{startISO:ue,endISO:ee(ue,S)}))})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const G=[{id:"texto",label:x.trim()?"Anlise preenchida":"Anlise pendente",status:x.trim()?"completed":"pending",description:x.trim()?"Contedo preenchido":"Preencha a anlise"},{id:"anexos",label:c.annexes.length>0?"Documentos anexados":"Documentos anexados (nenhum)",status:c.annexes.length>0?"completed":"pending",description:c.annexes.length>0?`${c.annexes.length} documento(s)`:"Nenhum anexo adicionado"},{id:"revisoes",label:$.length>0?"Revises registradas":"Revises (nenhuma)",status:$.length>0?"completed":"pending",description:$.length>0?`${$.length} reviso(es)`:"Nenhuma reviso registrada"}],ge=G.filter(ye=>ye.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ge,"/",G.length]})]})})()]}),(()=>{const G=[{id:"texto",label:x.trim()?"Anlise preenchida":"Anlise pendente",status:x.trim()?"completed":"pending",description:x.trim()?"Contedo preenchido":"Preencha a anlise"},{id:"anexos",label:c.annexes.length>0?"Documentos anexados":"Documentos anexados (nenhum)",status:c.annexes.length>0?"completed":"pending",description:c.annexes.length>0?`${c.annexes.length} documento(s)`:"Nenhum anexo adicionado"},{id:"revisoes",label:$.length>0?"Revises registradas":"Revises (nenhuma)",status:$.length>0?"completed":"pending",description:$.length>0?`${$.length} reviso(es)`:"Nenhuma reviso registrada"}],ge={warning:0,pending:1,completed:2},ye=G.sort((T,te)=>ge[T.status]-ge[te.status]),[Me,et]=Z.useState("all"),[se,ze]=Z.useState(""),_e={total:ye.length,completed:ye.filter(T=>T.status==="completed").length,open:ye.filter(T=>T.status!=="completed").length},Q=_e.total===0?0:Math.round(_e.completed/_e.total*100),we=ye.filter(T=>{if(Me==="open"&&T.status==="completed"||Me==="completed"&&T.status!=="completed")return!1;if(!se.trim())return!0;const te=se.toLowerCase();return T.label.toLowerCase().includes(te)||(T.description||"").toLowerCase().includes(te)}),F=T=>T==="completed"?e.jsx(ks,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Q,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[_e.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Q}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>et("all"),className:`px-2 py-1 rounded text-xs ${Me==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>et("open"),className:`px-2 py-1 rounded text-xs ${Me==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",_e.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>et("completed"),className:`px-2 py-1 rounded text-xs ${Me==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",_e.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:se,onChange:T=>ze(T.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:we.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):we.map(T=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:F(T.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:T.label}),T.description&&e.jsx("div",{className:"text-xs text-slate-500",children:T.description})]})]},T.id))})]})})()]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Do,{data:R()})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-analise-juridica",title:"Comentrios"})})}),e.jsx("section",{className:"col-span-12 w-full",children:e.jsxs("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const G=A();return Pe(G).text})()}`,children:(()=>{const G=A();return G===null?"Sem prazo":G<0?`${Math.abs(G)} dias atrasado`:`${G} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:z||"Sem responsvel"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs(C,{onClick:ke,variant:"outline",disabled:!J(),className:"border-red-200 text-red-700 hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Encaminhar para Cumprimento de Ressalvas"]}),e.jsxs(C,{onClick:ae,disabled:!J(),className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovao"]})]})})]})]})})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Encaminhamento para Cumprimento de Ressalvas"]}),e.jsxs(tt,{children:["Tem certeza que deseja encaminhar para cumprimento de ressalvas? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar a anlise jurdica com justificativa"}),e.jsx("li",{children:'Criar automaticamente o card "Cumprimento de Ressalvas"'}),e.jsx("li",{children:"Encaminhar o fluxo para cumprimento de ressalvas"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa-devolucao",className:"text-sm font-medium",children:"Justificativa das Ressalvas *"}),e.jsx(ft,{id:"justificativa-devolucao",value:E,onChange:G=>D(G.target.value),placeholder:"Descreva as ressalvas que devem ser cumpridas...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),e.jsxs(C,{onClick:he,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Encaminhamento"]})]})]})}),e.jsx(Ke,{open:N,onOpenChange:w,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovao"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar integralmente? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar a anlise jurdica como aprovada"}),e.jsx("li",{children:"Liberar automaticamente a prxima etapa no fluxo"}),e.jsx("li",{children:"Salvar a anlise jurdica preliminar"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ve,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovao"]})]})]})})]})}function iZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=kt();$a();const{toast:l}=Kt(),{dfdData:c,addAnnex:u,removeAnnex:d,updateObservations:h}=cf(t);m.useState({});const[x,f]=m.useState([]),[v,p]=m.useState(!1),[y,g]=m.useState(""),[b,j]=m.useState("gerencias"),[N,w]=m.useState(0),[E,D]=m.useState(""),[P,_]=m.useState(!1),[M,k]=m.useState(null),[$,H]=m.useState(null),[Y,K]=m.useState([]),[z,O]=m.useState([{id:"1",nome:"Yasmin Pissolati Mattos Bretz",gerencia:"GSP - Gerncia de Solues e Projetos",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3},{id:"2",nome:"Leticia Bonfim Guilherme",gerencia:"GLC - Gerncia de Licitaes e Contratos",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3},{id:"3",nome:"Guilherme de Carvalho Silva",gerencia:"GSL - Gerncia de Suprimentos e Logstica",concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3}]),[S,L]=m.useState(""),[U,J]=m.useState(""),[re,le]=m.useState(null),[Ne,ke]=m.useState(""),[he,ae]=m.useState(""),[ve]=m.useState([{id:"1",descricao:"Incluir especificao tcnica detalhada do item 3.2 do edital",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"},{id:"2",descricao:"Corrigir valor estimado do item 5.1 conforme tabela de preos vigente",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"},{id:"3",descricao:"Adicionar clusula de garantia conforme art. 76 da Lei 14.133/2021",emitidaPor:"Gabriel Radamesis Gomes Nascimento",emitidaEm:"2025-01-15T10:30:00Z",status:"PENDENTE"}]),xe=m.useRef(null);m.useRef(null),m.useRef(null);const ne=()=>i?["GSP - Gerncia de Solues e Projetos","GLC - Gerncia de Licitaes e Contratos","GSL - Gerncia de Suprimentos e Logstica","GRH - Gerncia de Recursos Humanos","GUE - Gerncia de Urgncia e Emergncia","GFC - Gerncia Financeira e Contbil"].includes(i.gerencia):!1,Ae=()=>{const me=N;return me<=3?{status:"ok",dias:me}:me<=4?{status:"risco",dias:me}:{status:"estourado",dias:me}},je=()=>{const X=[];return $||X.push(" obrigatrio enviar uma verso final em PDF"),he.trim()||X.push(" obrigatrio definir quem ir cumprir as ressalvas"),z.filter(V=>!V.concluiu).length>0&&X.push("Todas as gerncias participantes devem marcar como concludo"),f(X),X.length===0},Ue=()=>{const X=new Date().toISOString(),me={id:`interacao-${Date.now()}`,setor:(i==null?void 0:i.gerencia)||"Setor",responsavel:(i==null?void 0:i.nome)||"Usurio",dataHora:X,acao:"salvou",justificativa:y};K(V=>[...V,me]),localStorage.setItem(`interacoes-correcao-${t}`,JSON.stringify([...Y,me])),localStorage.setItem(`responsavel-correcoes-${t}`,he),localStorage.setItem(`gerencias-participantes-${t}`,JSON.stringify(z)),r(c),l({title:"Alteraes Salvas",description:"O progresso foi salvo com sucesso. Voc pode continuar editando."}),g("")},de=()=>{if(!je()){l({title:"Erro de Validao",description:"Por favor, preencha todas as respostas s ressalvas e envie a verso final.",variant:"destructive"});return}p(!0)},Te=()=>{const X=new Date().toISOString();_(!0),ve.map(V=>({...V,status:"CORRIGIDA",respondidaEm:X,respondidaPor:(i==null?void 0:i.nome)||"Usurio"}));const me={id:`interacao-${Date.now()}`,setor:(i==null?void 0:i.gerencia)||"Setor",responsavel:(i==null?void 0:i.nome)||"Usurio",dataHora:X,acao:"finalizou",versao:$?1:void 0,justificativa:y};K(V=>[...V,me]),localStorage.setItem(`interacoes-correcao-${t}`,JSON.stringify([...Y,me])),localStorage.setItem(`versao-final-enviada-${t}`,"true"),localStorage.setItem(`responsavel-correcoes-${t}`,he),localStorage.setItem(`gerencias-participantes-${t}`,JSON.stringify(z)),a(c),l({title:"Verso Final Enviada",description:"O cumprimento das ressalvas foi finalizado e enviado para nova anlise."}),p(!1),g("")},Pe=X=>{if(!X){l({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(X,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"No foi possvel abrir o documento",description:"Verifique o bloqueador de popups ou gere um novo link.",variant:"destructive"})}},A=X=>{O(me=>me.map(V=>V.id===X?{...V,concluiu:!0,dataConclusao:new Date().toISOString()}:V)),l({title:"Gerncia marcada como concluda",description:"Esta gerncia foi marcada como concluda no cumprimento das ressalvas."})},R=X=>{O(me=>me.map(V=>V.id===X?{...V,concluiu:!1,dataConclusao:void 0}:V)),l({title:"Gerncia desmarcada",description:"Esta gerncia foi desmarcada como concluda."})},q=X=>{var V;const me=(V=X.target.files)==null?void 0:V[0];if(me){const ie={id:`anexo-${Date.now().toString()}`,name:me.name,size:`${(me.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",url:`mock-url-${Date.now().toString()}`};u(ie),l({title:"Anexo adicionado",description:`${me.name} foi anexado com sucesso.`})}X.target&&(X.target.value="")};m.useEffect(()=>{const X=localStorage.getItem(`documento-editavel-${t}`);if(X)try{const He=JSON.parse(X);k(He)}catch(He){console.error("Erro ao carregar documento editvel salvo:",He)}const me=localStorage.getItem(`versao-final-${t}`);if(me)try{const He=JSON.parse(me);H(He)}catch(He){console.error("Erro ao carregar verso final salva:",He)}const V=localStorage.getItem(`interacoes-correcao-${t}`);if(V)try{const He=JSON.parse(V);K(He)}catch(He){console.error("Erro ao carregar interaes salvas:",He)}localStorage.getItem(`versao-final-enviada-${t}`)==="true"&&_(!0);const ce=localStorage.getItem(`responsavel-correcoes-${t}`);ce&&ae(ce);const Le=localStorage.getItem(`gerencias-participantes-${t}`);if(Le)try{const He=JSON.parse(Le);O(He)}catch(He){console.error("Erro ao carregar gerncias participantes salvas:",He)}w(1),D((i==null?void 0:i.nome)||"Sem responsvel definido")},[t,i==null?void 0:i.nome]);const W=Je,I=Es,ee=Ae(),ue=z.filter(X=>X.concluiu).length,G=z.length,ge=G>0?ue/G*100:0,ye=X=>X>=80?{bar:"bg-green-600",text:"text-green-700",chip:"bg-green-100 text-green-800"}:X>=40?{bar:"bg-yellow-500",text:"text-yellow-700",chip:"bg-yellow-100 text-yellow-800"}:{bar:"bg-slate-400",text:"text-slate-600",chip:"bg-slate-100 text-slate-700"},Me=(X,me=3)=>{const V=new Date(X);let ie=0;for(;ie<me;){V.setDate(V.getDate()+1);const ce=V.getDay();ce>=1&&ce<=5&&ie++}return V.toISOString()},et=()=>{const X=z.map(ns=>ns.dataInicioISO||new Date().toISOString()).sort((ns,Dr)=>new Date(ns).getTime()-new Date(Dr).getTime())[0]||new Date().toISOString(),V=Me(X,3),ie=new Date(X),ce=new Date(V),Le=new Date,He=Math.max(1,ze(ie.toISOString(),ce.toISOString())),ct=ze(ie.toISOString(),Le.toISOString());return{percent:Math.min(100,Math.round(Math.min(ct,He)/He*100)),start:ie,end:ce,passados:ct,total:He}},se=X=>{const me=X.dataInicioISO||new Date().toISOString(),V=X.prazoDiasUteis??3,ie=Me(me,V);return{inicioISO:me,finalISO:ie,prazoDiasUteis:V}},ze=(X,me)=>{const V=new Date(X),ie=new Date(me);let ce=0;const Le=new Date(V);for(;Le<=ie;){const He=Le.getDay();He>=1&&He<=5&&ce++,Le.setDate(Le.getDate()+1)}return ce},_e=X=>{const{inicioISO:me,finalISO:V,prazoDiasUteis:ie}=se(X),ce=X.concluiu&&X.dataConclusao?X.dataConclusao:new Date().toISOString(),Le=ze(me,ce);if(X.concluiu){const He=new Date(X.dataConclusao||"")<=new Date(V);return{text:He?"Concludo no prazo":"Concludo atrasado",chip:He?"bg-green-100 text-green-800":"bg-red-100 text-red-800",decorridos:Le}}return{text:"Em andamento",chip:"bg-slate-100 text-slate-700",decorridos:Le}},Q=["GSP - Gerncia de Solues e Projetos","GLC - Gerncia de Licitaes e Contratos","GSL - Gerncia de Suprimentos e Logstica","GRH - Gerncia de Recursos Humanos","GUE - Gerncia de Urgncia e Emergncia","GFC - Gerncia Financeira e Contbil","SE - Secretaria Executiva","NAJ - Assessoria Jurdica"],we=X=>{try{const{mockUsers:me}=require("@/contexts/UserContext");return me.filter(V=>(V.gerencia||"").trim().toLowerCase()===(X||"").trim().toLowerCase()).map(V=>V.nome).filter(Boolean)}catch{return[]}},F=()=>{const X=(S||"").trim(),me=(U||"").trim();if(!X||!me){l({title:"Preencha os campos",description:"Selecione a gerncia e informe o responsvel.",variant:"destructive"});return}if(z.some(ce=>ce.gerencia===X&&ce.nome===me)){l({title:"J existente",description:"Esta gerncia com esse responsvel j est listada.",variant:"destructive"});return}const ie={id:`${Date.now()}`,nome:me,gerencia:X,concluiu:!1,dataInicioISO:new Date().toISOString(),prazoDiasUteis:3};O(ce=>[ie,...ce]),L(""),J(""),l({title:"Gerncia adicionada",description:`${X} includa com sucesso.`})},T=X=>{O(me=>me.filter(V=>V.id!==X)),l({title:"Gerncia removida",description:"Item removido da lista."})},te=(X,me)=>{le(X),ke(me)},fe=X=>{const me=Ne.trim();if(!me){l({title:"Informe o responsvel",description:"O campo responsvel no pode ficar vazio.",variant:"destructive"});return}O(V=>V.map(ie=>ie.id===X?{...ie,nome:me}:ie)),le(null),ke(""),l({title:"Atualizado",description:"Responsvel atualizado com sucesso."})},Ie=()=>{le(null),ke("")};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"cards-gap",children:[e.jsx("section",{id:"cumprimento-ressalvas",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(ds,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Cumprimento de Ressalvas"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Anlise"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex-1",children:e.jsx(ft,{id:"cumprimento-ressalvas-textarea",value:y,onChange:X=>g(X.target.value),placeholder:"Descreva a anlise tcnica do DFD...",disabled:!ne()||P,className:"min-h-[350px] resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"})})})})]})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"card-separator-indigo"}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:b,onValueChange:j,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"gerencias",children:"Gerncias"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"gerencias",className:"mt-0 p-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"px-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-indigo-600"}),"Gerncias Participantes"]}),e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${ye(ge).chip}`,children:[ue," de ",G," concluram"]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:'Marque "Concluir" quando a sua gerncia finalizar as correes.'})]}),ne()&&!P&&e.jsx("div",{className:"rounded-xl border border-slate-200 p-4 bg-white",children:e.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx(B,{htmlFor:"nova-gerencia",className:"text-xs font-medium text-slate-600",children:"Gerncia"}),e.jsxs("select",{id:"nova-gerencia",value:S,onChange:X=>{L(X.target.value),J("")},className:"mt-1 w-full h-9 rounded-md border border-slate-300 bg-white px-2 text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Selecione..."}),Q.map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsxs("div",{className:"col-span-12 md:col-span-5",children:[e.jsx(B,{htmlFor:"novo-responsavel",className:"text-xs font-medium text-slate-600",children:"Responsvel"}),e.jsxs("select",{id:"novo-responsavel",value:U,onChange:X=>J(X.target.value),disabled:!S,className:"mt-1 w-full h-9 rounded-md border border-slate-300 bg-white px-2 text-sm text-slate-800 disabled:bg-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:S?"Selecione o responsvel...":"Selecione uma gerncia primeiro"}),we(S).map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsx("div",{className:"col-span-12 md:col-span-2",children:e.jsxs(C,{onClick:F,className:"w-full h-9 bg-indigo-600 hover:bg-indigo-700 text-white",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Adicionar"]})})]})}),e.jsx("div",{className:"space-y-3",children:z.map(X=>e.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center border ${X.concluiu?"border-green-300":"border-slate-300"}`,children:X.concluiu?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(Fe,{className:"w-4 h-4 text-slate-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:X.gerencia}),re===X.id?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("select",{value:Ne,onChange:me=>ke(me.target.value),className:"h-7 text-xs rounded-md border border-slate-300 bg-white px-2",children:[e.jsx("option",{value:"",children:"Selecione o responsvel..."}),we(X.gerencia).map(me=>e.jsx("option",{value:me,children:me},me))]}),e.jsx(C,{size:"sm",className:"h-7 px-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>fe(X.id),children:e.jsx(Re,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 px-2",onClick:Ie,children:e.jsx(qe,{className:"w-3 h-3"})})]}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 truncate",children:[e.jsx("span",{className:"truncate",children:X.nome}),ne()&&!P&&e.jsx(C,{size:"sm",variant:"ghost",className:"h-6 px-1 text-slate-500 hover:text-slate-700",onClick:()=>te(X.id,X.nome),children:e.jsx(ar,{className:"w-3 h-3"})})]}),X.concluiu&&X.dataConclusao&&e.jsxs("p",{className:"text-[11px] text-green-700 mt-1",children:["Concludo em ",I(X.dataConclusao)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:`text-xs ${X.concluiu?"bg-green-100 text-green-800 border-green-300":"bg-slate-100 text-slate-800 border-slate-300"}`,children:X.concluiu?"Concluda":"Pendente"}),ne()&&!P&&(X.concluiu?e.jsx(C,{size:"sm",variant:"outline",onClick:()=>R(X.id),className:"h-7 px-2 text-red-600 hover:text-red-700",children:e.jsx(qe,{className:"w-3 h-3"})}):e.jsxs(C,{size:"sm",className:"h-7 px-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>A(X.id),children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Concluir"]})),ne()&&!P&&e.jsx(C,{size:"sm",variant:"outline",className:"h-7 px-2 text-red-600 hover:text-red-700",onClick:()=>T(X.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]})},X.id))}),e.jsx("div",{className:"mt-1",children:(()=>{const X=et();return e.jsx(fu,{startISO:X.start.toISOString(),endISO:X.end.toISOString()})})()}),x.includes("Todas as gerncias participantes devem marcar como concludo")&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-red-600",children:"Todas as gerncias participantes devem marcar como concludo"})})]})}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-0",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full",children:[e.jsx("div",{className:"px-4 py-3 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:c.annexes.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:xe,type:"file",onChange:q,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),ne()&&!P&&e.jsxs(C,{onClick:()=>{var X;return(X=xe.current)==null?void 0:X.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),c.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"}),!ne()&&e.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:"Apenas usurios autorizados podem adicionar anexos"})]}):e.jsx("div",{className:`${c.annexes.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:c.annexes.map((X,me)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:X.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[X.uploadedBy,"  ",W(X.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[X.uploadedBy,"  ",W(X.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Pe(X.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),ne()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>d(X.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),me<c.annexes.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},X.id))})]})})]})})]})})]})}),e.jsxs("section",{className:"col-span-12 w-full",children:[e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"card-separator-green"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo por Gerncia"})]}),e.jsx(oe,{className:"text-sm font-semibold px-3 py-2 bg-yellow-100 text-yellow-800",children:P?"Finalizado":"Em correo"})]}),e.jsx("div",{className:"space-y-4",children:z.map(X=>{const me=se(X);return e.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(oe,{variant:"outline",className:"text-xs font-medium",children:X.gerencia.split(" - ")[0]})}),(()=>{const V=_e(X);return e.jsx(oe,{className:`text-xs px-2 py-1 ${V.chip}`,children:V.text})})()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center border border-slate-300 bg-white",children:e.jsx(Fe,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[12px] font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:W(me.inicioISO)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center border border-slate-300 bg-white",children:e.jsx(vt,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[12px] font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:W(me.finalISO)})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-[12px] text-slate-500",children:X.concluiu&&X.dataConclusao?e.jsxs("span",{children:["Concluiu em ",I(X.dataConclusao)]}):e.jsx("span",{children:"No concludo"})}),(()=>{const V=_e(X);return e.jsxs("span",{className:"text-[12px] text-slate-500",children:[V.decorridos," dias teis decorridos"]})})()]})]},X.id)})}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:e.jsxs("div",{className:"text-center py-2",children:[e.jsx("div",{className:`text-2xl font-bold ${ee.status==="ok"?"text-green-600":ee.status==="risco"?"text-yellow-600":"text-red-600"}`,children:ee.status==="ok"?"Dentro do Prazo":ee.status==="risco"?"Em Risco":"Em atraso"}),e.jsxs("div",{className:"text-sm text-slate-600",children:[N," dias no card"]})]})})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const X=[{id:"editavel",label:"Documento editvel anexado",status:M?"completed":"pending",description:M?`${M.name}`:"Envie o documento editvel"},{id:"final",label:"Verso final anexada",status:$?"completed":"pending",description:$?`${$.name}`:"Envie a verso final em PDF"},{id:"gerencias",label:"Gerncias participantes concludas",status:ue===G&&G>0?"completed":ue>0?"warning":"pending",description:`${ue} de ${G} concludas`}],me=X.filter(V=>V.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[me,"/",X.length]})]})})()]}),(()=>{const X=[{id:"editavel",label:"Documento editvel anexado",status:M?"completed":"pending",description:M?`${M.name}`:"Envie o documento editvel"},{id:"final",label:"Verso final anexada",status:$?"completed":"pending",description:$?`${$.name}`:"Envie a verso final em PDF"},{id:"gerencias",label:"Gerncias participantes concludas",status:ue===G&&G>0?"completed":ue>0?"warning":"pending",description:`${ue} de ${G} concludas`}],me={warning:0,pending:1,completed:2},V=X.sort((yt,Ea)=>me[yt.status]-me[Ea.status]),[ie,ce]=Z.useState("all"),[Le,He]=Z.useState(""),ct={total:V.length,completed:V.filter(yt=>yt.status==="completed").length,open:V.filter(yt=>yt.status!=="completed").length},Dt=ct.total===0?0:Math.round(ct.completed/ct.total*100),ns=V.filter(yt=>{if(ie==="open"&&yt.status==="completed"||ie==="completed"&&yt.status!=="completed")return!1;if(!Le.trim())return!0;const Ea=Le.toLowerCase();return yt.label.toLowerCase().includes(Ea)||(yt.description||"").toLowerCase().includes(Ea)}),Dr=yt=>yt==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Dt,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 text-slate-600",children:[ct.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Dt}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ce("all"),className:`px-2 py-1 rounded text-xs ${ie==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>ce("open"),className:`px-2 py-1 rounded text-xs ${ie==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",ct.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>ce("completed"),className:`px-2 py-1 rounded text-xs ${ie==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",ct.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:Le,onChange:yt=>He(yt.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:ns.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):ns.map(yt=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:Dr(yt.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:yt.label}),yt.description&&e.jsx("div",{className:"text-xs text-slate-500",children:yt.description})]})]},yt.id))})]})})()]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Do,{data:(()=>{const X=[];return Y.forEach(V=>{const ie=V.acao==="finalizou"?"aprovado":V.acao==="enviou_versao"?"versao":"comentario";X.push({id:`int-${V.id}`,status:ie,title:V.acao==="finalizou"?"Correes finalizadas":V.acao==="enviou_versao"?"Verso enviada":"Alteraes salvas",author:{name:V.responsavel},createdAt:V.dataHora})}),[...c.annexes].sort((V,ie)=>new Date(ie.uploadedAt).getTime()-new Date(V.uploadedAt).getTime()).slice(0,2).forEach(V=>X.push({id:`anexo-${V.id}`,status:"anexo",title:`Anexo adicionado: ${V.name}`,author:{name:V.uploadedBy||"Usurio"},createdAt:V.uploadedAt})),X.sort((V,ie)=>new Date(ie.createdAt).getTime()-new Date(V.createdAt).getTime())})()})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-cumprimento-ressalvas",title:"Comentrios"})})}),e.jsx("section",{className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"card-separator-orange"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:ee.status==="ok"?"Dentro do prazo":ee.status==="risco"?"Em risco":"Em atraso"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:E||"Sem responsvel"})]})]})]}),P?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Correes Finalizadas"}),e.jsx("p",{className:"text-sm text-green-700",children:"Enviado para nova anlise da NAJ"})]})]})}):e.jsxs("div",{className:"border-t border-slate-200 pt-4 flex flex-wrap gap-2 justify-center",children:[e.jsxs(C,{onClick:Ue,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]}),e.jsxs(C,{onClick:de,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar Verso Final Corrigida"]})]})]})]})}),P&&e.jsx("section",{id:"status-finalizado",className:"col-span-12 w-full mt-6 pb-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-green-50 border-green-200",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"Correes Finalizadas"}),e.jsx("p",{className:"text-sm text-green-700",children:"O cumprimento das ressalvas foi concludo e enviado para nova anlise da NAJ."})]})]})})})})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5 text-green-600"}),"Confirmar Envio da Verso Final"]}),e.jsxs(tt,{children:["Tem certeza que deseja enviar a verso final corrigida? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Finalizar o cumprimento das ressalvas"}),e.jsx("li",{children:"Bloquear edies futuras"}),e.jsx("li",{children:"Encaminhar para nova anlise da NAJ"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"justificativa-final",className:"text-sm font-medium",children:"Justificativa (opcional)"}),e.jsx(ft,{id:"justificativa-final",value:y,onChange:X=>g(X.target.value),placeholder:"Adicione uma justificativa para o envio...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Te,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Confirmar Envio"]})]})]})})]})}function lZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){const{user:i}=kt(),{toast:l}=Kt(),[c,u]=m.useState(""),[d,h]=m.useState([]),[x,f]=m.useState({}),[v,p]=m.useState(""),[y,g]=m.useState(""),[b,j]=m.useState(""),[N,w]=m.useState(""),[E,D]=m.useState(null),[P,_]=m.useState(!1),[M,k]=m.useState(null),[$,H]=m.useState(void 0),[Y,K]=m.useState([]),[z,O]=m.useState(!1),[S,L]=m.useState(0),[U,J]=m.useState("");m.useRef(null);const re=m.useRef(null),{dfdData:le,addAnnex:Ne,removeAnnex:ke}=cf(t),[he,ae]=m.useState("desc"),ve=Z.useMemo(()=>{const G=[...le.annexes];return G.sort((ge,ye)=>{const Me=new Date(ge.uploadedAt).getTime(),et=new Date(ye.uploadedAt).getTime();return he==="desc"?et-Me:Me-et}),G},[le.annexes,he]),xe=G=>{G&&window.open(G,"_blank","noopener")},ne=()=>(i==null?void 0:i.gerencia)==="GSP - Gerncia de Solues e Projetos"||(i==null?void 0:i.gerencia)==="Secretaria Executiva",Ae=()=>ne()&&!P,je=[{value:"diario_oficial",label:"Dirio Oficial",icon:e.jsx(oh,{className:"w-4 h-4"})},{value:"site_institucional",label:"Site Institucional",icon:e.jsx(Qz,{className:"w-4 h-4"})},{value:"pncp",label:"PNCP",icon:e.jsx(fF,{className:"w-4 h-4"})},{value:"outros",label:"Outros",icon:e.jsx($e,{className:"w-4 h-4"})}],Ue=()=>{const G=[];return c||G.push("Data da Publicao  obrigatria"),d.length===0&&G.push("Pelo menos um meio de Publicao  obrigatrio"),d.forEach(ge=>{(x[ge]||"").trim()||G.push(`Link/Nmero obrigatrio para: ${I(ge)}`)}),K(G),G.length===0},de=G=>{var ye;const ge=(ye=G.target.files)==null?void 0:ye[0];if(ge){const Me={id:`anexo-${Date.now()}`,name:ge.name,size:`${(ge.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",url:`mock-url-${Date.now()}`};Ne(Me),l({title:"Anexo adicionado",description:`${ge.name} foi anexado com sucesso.`})}G.target&&(G.target.value="")},Te=()=>{E&&l({title:"Download iniciado",description:`O arquivo ${E.name} est sendo baixado.`})},Pe=()=>{D(null);const G={dataPublicacao:c,meiosPublicacao:d,linksPorMeio:x,observacoes:v,comprovanteArquivo:null,confirmada:P,confirmacaoData:M};localStorage.setItem(`publicacao-${t}`,JSON.stringify(G)),l({title:"Comprovante removido",description:"O comprovante foi removido com sucesso."})},A=()=>{if(!Ue()){l({title:"Erro de Validao",description:"Por favor, preencha todos os campos obrigatrios.",variant:"destructive"});return}O(!0)},R=()=>{const G=new Date().toISOString(),ge={responsavel:(i==null?void 0:i.nome)||"Usurio",cargo:(i==null?void 0:i.cargo)||"Cargo",dataConfirmacao:G};_(!0),k(ge);const ye={dataPublicacao:c,dataCertame:y,horarioCertame:b,prazoRecurso:N,meiosPublicacao:d,linksPorMeio:x,observacoes:v,comprovanteArquivo:E,confirmada:!0,confirmacoesData:ge};localStorage.setItem(`publicacao-${t}`,JSON.stringify(ye)),a(ye),l({title:"Publicao Confirmada",description:"A publicao foi registrada oficialmente e o processo foi concludo.",duration:5e3}),O(!1)},q=()=>{const G={dataPublicacao:c,dataCertame:y,horarioCertame:b,prazoRecurso:N,meiosPublicacao:d,linksPorMeio:x,observacoes:v,comprovanteArquivo:E,confirmada:P,confirmacaoData:M};localStorage.setItem(`publicacao-${t}`,JSON.stringify(G)),r(G)};m.useEffect(()=>{const G=localStorage.getItem(`publicacao-${t}`);if(G)try{const ge=JSON.parse(G);u(ge.dataPublicacao||""),g(ge.dataCertame||""),j(ge.horarioCertame||""),w(ge.prazoRecurso||""),h(ge.meiosPublicacao||[]),f(ge.linksPorMeio||{}),p(ge.observacoes||""),D(ge.comprovanteArquivo||null),_(ge.confirmada||!1),k(ge.confirmacoesData||null)}catch(ge){console.error("Erro ao carregar dados de publicao:",ge)}J((i==null?void 0:i.nome)||"No definido"),L(1)},[t,i]),m.useEffect(()=>{(c||v||y||b||N||d.length>0||Object.keys(x).length>0)&&q()},[c,v,y,b,N,d,x]);const W=G=>{const ge=je.find(ye=>ye.value===G);return(ge==null?void 0:ge.icon)||e.jsx($e,{className:"w-4 h-4"})},I=G=>{const ge=je.find(ye=>ye.value===G);return(ge==null?void 0:ge.label)||G},ee=G=>{h(ge=>ge.includes(G)?ge:[...ge,G]),f(ge=>({...ge,[G]:ge[G]||""}))},ue=G=>{h(ge=>ge.filter(ye=>ye!==G)),f(ge=>{const{[G]:ye,...Me}=ge;return Me})};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("section",{id:"publicacao-info",className:"col-span-12 w-full relative",children:e.jsxs("div",{className:"card-shell mb-8 overflow-hidden",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(oh,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Informaes da Publicao do Edital"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[P&&e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300",children:[e.jsx(pc,{className:"w-3 h-3 mr-1"}),"Confirmada"]}),E&&e.jsxs(e.Fragment,{children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,className:"h-7 px-2 text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]}),Ae()&&e.jsxs(C,{size:"sm",variant:"outline",onClick:Pe,className:"h-7 px-2 text-xs text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-3 h-3 mr-1"}),"Remover"]})]})]})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"data-publicacao",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Data da Publicao *"}),e.jsx("div",{className:"relative",children:e.jsx(Sm,{value:c||null,onChange:G=>u(G||""),placeholder:"Selecione a data",showPresets:!0,businessDaysOnly:!0,minDate:new Date,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})}),Y.includes("Data da Publicao  obrigatria")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Data da Publicao  obrigatria"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"data-certame",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Data do Certame"}),e.jsx("div",{className:"relative",children:e.jsx(Sm,{value:y||null,onChange:G=>g(G||""),placeholder:"Selecione a data do certame",showPresets:!0,businessDaysOnly:!0,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"horario-certame",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Horrio do Certame"}),e.jsx(De,{id:"horario-certame",type:"time",value:b,onChange:G=>j(G.target.value),disabled:!Ae(),className:"border-gray-200 focus:border-green-300 focus:ring-green-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"prazo-recurso",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Prazo de Recurso"}),e.jsx("div",{className:"relative",children:e.jsx(Sm,{value:N||null,onChange:G=>w(G||""),placeholder:"Selecione o prazo de recurso",showPresets:!0,businessDaysOnly:!0,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-green-500 focus:ring-green-200",popoverClassName:"z-50 max-w-[400px]",disabled:!Ae()})})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Meios de Publicao *"}),e.jsxs(dt,{value:$,onValueChange:G=>{ee(G),H(void 0)},disabled:!Ae(),children:[e.jsx(it,{className:"border-gray-200 focus:border-green-300 focus:ring-green-300",children:e.jsx(ut,{placeholder:d.length>0?"Selecionar outros meios":"Selecionar meios de publicao"})}),e.jsx(lt,{children:je.filter(G=>!d.includes(G.value)).map(G=>e.jsx(Ce,{value:G.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[G.icon,G.label]})},G.value))})]}),Y.find(G=>G.includes("Pelo menos um meio"))&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Selecione ao menos um meio"}),d.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(G=>e.jsxs(oe,{variant:"outline",className:"flex items-center gap-1",children:[W(G),e.jsx("span",{className:"text-xs",children:I(G)}),Ae()&&e.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-red-600",onClick:()=>ue(G),"aria-label":`Remover ${I(G)}`,children:""})]},G))})]})]}),d.length>0&&e.jsx("div",{className:"space-y-4",children:d.map(G=>e.jsxs("div",{children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 mb-2 block",children:[`Link/Nmero - ${I(G)}`," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(eb,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx(De,{type:"text",value:x[G]||"",onChange:ge=>f(ye=>({...ye,[G]:ge.target.value})),placeholder:"Ex: URL oficial ou nmero da edio",disabled:!Ae(),className:"pl-10 border-gray-200 focus:border-green-300 focus:ring-green-300"})]}),Y.includes(`Link/Nmero obrigatrio para: ${I(G)}`)&&e.jsxs("p",{className:"text-red-500 text-sm mt-1",children:["Obrigatrio para ",I(G)]})]},G))}),e.jsxs("div",{children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 mb-2 block",children:["Observaes",e.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(Opcional)"})]}),e.jsx(ft,{id:"observacoes",value:v,onChange:G=>p(G.target.value),placeholder:"Informaes adicionais sobre a publicao...",disabled:!Ae(),className:"min-h-[100px] resize-none border-gray-200 focus:border-green-300 focus:ring-green-300"})]}),P&&M&&e.jsxs(ia,{className:"border-green-200 bg-green-50",children:[e.jsx(pc,{className:"h-4 w-4 text-green-600"}),e.jsx(la,{className:"text-green-800",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:" Publicao Confirmada Oficialmente"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Responsvel:"})," ",M.responsavel," (",M.cargo,")"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Data/Hora:"})," ",Es(M.dataConfirmacao)]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(sb,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Campos bloqueados para edio"})]})]})})]})]})})]})}),e.jsx("section",{id:"gerenciamento",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"card-header-title",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:le.annexes.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:he,onChange:G=>ae(G.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),Ae()&&!P&&e.jsxs("div",{children:[e.jsx("input",{ref:re,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:de}),e.jsxs(C,{onClick:()=>{var G;return(G=re.current)==null?void 0:G.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),le.annexes.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${le.annexes.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:ve.map((G,ge)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:G.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[G.uploadedBy,"  ",Je(G.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[G.uploadedBy,"  ",Je(G.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>xe(G.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),Ae()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ke(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"sm:hidden flex items-center flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),Ae()&&!P&&e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ke(G.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),ge<ve.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},G.id))})]})})})]})}),e.jsxs("section",{id:"painel-etapa",className:"col-span-12 w-full",children:[e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"p-4 md:p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:P?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:P?"Concluda":"Pendente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(new Date().toISOString())})]})]}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Tempo no Card"}),e.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[S," dia(s)"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel Atual"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:U})]})]})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist"})]}),(()=>{const G=[{id:"data",label:c?"Data definida":"Definir data de publicao",status:c?"completed":"pending",description:c||"Selecione a data"},{id:"meios",label:d.length>0?"Meios selecionados":"Selecionar meios de publicao",status:d.length>0?"completed":"pending",description:d.length>0?`${d.length} meio(s)`:"Selecione ao menos um"},{id:"links",label:Object.keys(x).length===d.length&&d.length>0?"Links cadastrados":"Inserir links/nmeros",status:d.length>0&&Object.keys(x).length===d.length&&Object.values(x).every(ye=>(ye||"").trim())?"completed":Object.keys(x).length>0?"warning":"pending",description:`${Object.values(x).filter(ye=>(ye||"").trim()).length} de ${d.length} preenchidos`},{id:"confirm",label:P?"Publicao confirmada":"Confirmar publicao",status:P?"completed":"pending",description:P?"Registro oficial realizado":"Confirme para concluir"}],ge=G.filter(ye=>ye.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[ge,"/",G.length]})]})})()]}),(()=>{const G=[{id:"data",label:c?"Data definida":"Definir data de publicao",status:c?"completed":"pending",description:c||"Selecione a data"},{id:"meios",label:d.length>0?"Meios selecionados":"Selecionar meios de publicao",status:d.length>0?"completed":"pending",description:d.length>0?`${d.length} meio(s)`:"Selecione ao menos um"},{id:"links",label:Object.keys(x).length===d.length&&d.length>0?"Links cadastrados":"Inserir links/nmeros",status:d.length>0&&Object.keys(x).length===d.length&&Object.values(x).every(T=>(T||"").trim())?"completed":Object.keys(x).length>0?"warning":"pending",description:`${Object.values(x).filter(T=>(T||"").trim()).length} de ${d.length} preenchidos`},{id:"confirm",label:P?"Publicao confirmada":"Confirmar publicao",status:P?"completed":"pending",description:P?"Registro oficial realizado":"Confirme para concluir"}],ge={warning:0,pending:1,completed:2},ye=G.sort((T,te)=>ge[T.status]-ge[te.status]),[Me,et]=Z.useState("all"),[se,ze]=Z.useState(""),_e={total:ye.length,completed:ye.filter(T=>T.status==="completed").length,open:ye.filter(T=>T.status!=="completed").length},Q=_e.total===0?0:Math.round(_e.completed/_e.total*100),we=ye.filter(T=>{if(Me==="open"&&T.status==="completed"||Me==="completed"&&T.status!=="completed")return!1;if(!se.trim())return!0;const te=se.toLowerCase();return T.label.toLowerCase().includes(te)||(T.description||"").toLowerCase().includes(te)}),F=T=>T==="completed"?e.jsx(Re,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Q,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[_e.total," itens"]})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-emerald-500",style:{width:`${Q}%`}})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>et("all"),className:`px-2 py-1 rounded text-xs ${Me==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>et("open"),className:`px-2 py-1 rounded text-xs ${Me==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",_e.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>et("completed"),className:`px-2 py-1 rounded text-xs ${Me==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",_e.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:se,onChange:T=>ze(T.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:we.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):we.map(T=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:F(T.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:T.label}),T.description&&e.jsx("div",{className:"text-xs text-slate-500",children:T.description})]})]},T.id))})]})})()]})]})]}),e.jsx(Do,{data:(()=>{const G=[];return P&&(M!=null&&M.dataConfirmacao)&&G.push({id:`conf-${M.dataConfirmacao}`,status:"aprovado",title:"Publicao confirmada",author:{name:M.responsavel},createdAt:M.dataConfirmacao}),[...ve].slice(0,2).forEach(ye=>G.push({id:ye.id,status:"anexo",title:`Anexo adicionado: ${ye.name}`,author:{name:ye.uploadedBy||"Usurio"},createdAt:ye.uploadedAt})),G.sort((ye,Me)=>new Date(Me.createdAt).getTime()-new Date(ye.createdAt).getTime())})()})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell mb-8",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-publicacao",title:"Comentrios"})})})}),e.jsx("section",{id:"acoes-etapa",className:"col-span-12 w-full",children:e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Tempo no Card"}),e.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[S," dia(s)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:U})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:P?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Publicao Concluda"}),(M==null?void 0:M.dataConfirmacao)&&e.jsxs("p",{className:"text-sm text-green-700",children:[Je(M.dataConfirmacao)," por ",M==null?void 0:M.responsavel]})]})]})}):e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:ne()?e.jsxs(C,{onClick:A,variant:"outline",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(pc,{className:"w-4 h-4 mr-2"}),"Confirmar Publicao"]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Info,{className:"w-4 h-4"}),"Somente visualizao"]})})})]})]})})]})}),e.jsx(Ke,{open:z,onOpenChange:O,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(pc,{className:"w-5 h-5 text-green-600"}),"Confirmar Publicao"]}),e.jsxs(tt,{children:["Tem certeza que deseja confirmar a publicao? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Registrar oficialmente a publicao do edital"}),e.jsx("li",{children:"Gerar carimbo automtico com data, hora e responsvel"}),e.jsx("li",{children:"Bloquear todos os campos para edio"}),e.jsx("li",{children:"Concluir o processo de planejamento da contratao"})]}),e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(xt,{className:"w-4 h-4 inline mr-1"}),"Esta ao no pode ser desfeita."]})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),e.jsxs(C,{onClick:R,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(pc,{className:"w-4 h-4 mr-2"}),"Confirmar Publicao"]})]})]})})]})}const zp=[{id:"1",nome:"CI - Comisso de Implantao",gerencia:"CI - Comisso de Implantao"},{id:"2",nome:"SE - Secretaria Executiva",gerencia:"SE - Secretaria Executiva"},{id:"3",nome:"OUV - Ouvidoria",gerencia:"OUV - Ouvidoria"},{id:"4",nome:"GSP - Gerncia de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:"5",nome:"GSL - Gerncia de Suprimentos e Logstica",gerencia:"GSL - Gerncia de Suprimentos e Logstica"},{id:"6",nome:"GRH - Gerncia de Recursos Humanos",gerencia:"GRH - Gerncia de Recursos Humanos"},{id:"7",nome:"GUE - Gerncia de Urgncia e Emergncia",gerencia:"GUE - Gerncia de Urgncia e Emergncia"},{id:"8",nome:"GLC - Gerncia de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos"},{id:"9",nome:"GFC - Gerncia Financeira e Contbil",gerencia:"GFC - Gerncia Financeira e Contbil"},{id:"10",nome:"GRH - Gerncia de Recursos Humanos",gerencia:"GRH - Gerncia de Recursos Humanos"},{id:"11",nome:"GAP - Gerncia de Administrao e Patrimnio",gerencia:"GAP - Gerncia de Administrao e Patrimnio"},{id:"12",nome:"GESP - Gerncia de Especialidades",gerencia:"GESP - Gerncia de Especialidades"},{id:"13",nome:"NAJ - Assessoria Jurdica",gerencia:"NAJ - Assessoria Jurdica"}];function cZ({processoId:t,etapaId:s,onComplete:a,onSave:r,canEdit:n=!1}){const{user:o}=kt(),{podeEditarFluxo:i}=$a(),{toast:l}=Kt(),[c,u]=m.useState([]),[d,h]=m.useState([]),[x,f]=m.useState(!1),[v,p]=m.useState(!1),[y,g]=m.useState(null),[b,j]=m.useState([]),[N,w]=m.useState(""),E=()=>o?i()||o.gerencia==="GSP - Gerncia de Solues e Projetos":!1,D=()=>o?c.some(K=>K.gerencia===o.gerencia):!1,P=()=>{if(!o)return!1;const K=c.find(z=>z.gerencia===o.gerencia);return K&&K.status==="pendente"};m.useEffect(()=>{const K=localStorage.getItem(`consolidacao_${t}_${s}`);if(K){const z=JSON.parse(K);u(z.setoresNotificados||[]),h(z.dfdsVinculados||[])}},[t,s]);const _=K=>{const z={setoresNotificados:c,dfdsVinculados:d,...K};localStorage.setItem(`consolidacao_${t}_${s}`,JSON.stringify(z)),r==null||r(z)},M=()=>{if(b.length===0){l({title:"Seleo obrigatria",description:"Selecione pelo menos um setor para notificar.",variant:"destructive"});return}const K=b.map(z=>{const O=zp.find(S=>S.id===z);return{id:`notif_${Date.now()}_${z}`,nome:(O==null?void 0:O.nome)||"",gerencia:(O==null?void 0:O.gerencia)||"",status:"pendente",dataNotificacao:new Date().toLocaleDateString("pt-BR"),mensagem:N||"Gostaramos de verificar se sua gerncia tem interesse em participar desta demanda."}});u(z=>[...z,...K]),j([]),w(""),f(!1),_({setoresNotificados:[...c,...K]}),l({title:"Setores notificados",description:`${K.length} setor(es) foram notificados com sucesso.`})},k=K=>{if(!y||!o)return;const z=c.map(O=>O.id===y.id?{...O,status:K?"aceito":"recusado",dataResposta:new Date().toLocaleDateString("pt-BR")}:O);if(u(z),K){const O={id:`dfd_${Date.now()}`,numero:`DFD-${String(d.length+1).padStart(3,"0")}-${new Date().getFullYear()}`,setorCriador:o.gerencia,status:"em_elaboracao",dataCriacao:Je(new Date),responsavel:o.nome};h(L=>[...L,O]);const S=z.map(L=>L.id===y.id?{...L,dfdVinculado:O}:L);u(S),_({setoresNotificados:S,dfdsVinculados:[...d,O]})}else _({setoresNotificados:z});p(!1),g(null),l({title:"Resposta registrada",description:K?"Voc aceitou participar da demanda. Um novo DFD foi criado.":"Voc recusou participar da demanda."})},$=K=>{g(K),p(!0)},H=K=>{switch(K){case"pendente":return{label:"Pendente",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Ns,{className:"w-3 h-3"})};case"aceito":return{label:"Aceito",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};case"recusado":return{label:"Recusado",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},Y=K=>{switch(K){case"em_elaboracao":return{label:"Em Elaborao",color:"bg-blue-100 text-blue-800 border-blue-300"};case"enviado_analise":return{label:"Enviado para Anlise",color:"bg-orange-100 text-orange-800 border-orange-300"};case"aprovado":return{label:"Aprovado",color:"bg-green-100 text-green-800 border-green-300"};case"devolvido":return{label:"Devolvido",color:"bg-red-100 text-red-800 border-red-300"};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800 border-gray-300"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Consolidao da Demanda"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notificao e consolidao de setores interessados"})]})]}),!E()&&!D()&&e.jsxs(oe,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Etapa Restrita"]}),E()&&e.jsxs(C,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Notificar Novo Setor"]})]}),D()&&P()&&e.jsxs(ia,{className:"border-blue-200 bg-blue-50",children:[e.jsx(Xi,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Sua gerncia foi notificada sobre esta demanda."}),'Clique em "Responder  Provocao" para aceitar ou recusar participar.']})]}),e.jsxs(Ve,{children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-5 h-5 text-gray-600"}),"Setores Notificados"]})}),e.jsx(Be,{children:c.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nenhum setor foi notificado ainda."}),E()&&e.jsx("p",{className:"text-sm mt-1",children:'Use o boto "Notificar Novo Setor" para comear.'})]}):e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(at,{children:"Setor"}),e.jsx(at,{children:"Status"}),e.jsx(at,{children:"Data Notificao"}),e.jsx(at,{children:"Data Resposta"}),e.jsx(at,{children:"DFD Vinculado"}),e.jsx(at,{children:"Aes"})]})}),e.jsx(ho,{children:c.map(K=>{const z=H(K.status);return e.jsxs(Ys,{children:[e.jsx(st,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:K.nome}),e.jsx("div",{className:"text-sm text-gray-500",children:K.gerencia})]})}),e.jsx(st,{children:e.jsxs(oe,{className:z.color,children:[z.icon,z.label]})}),e.jsx(st,{children:K.dataNotificacao}),e.jsx(st,{children:K.dataResposta||"-"}),e.jsx(st,{children:K.dfdVinculado?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rF,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:K.dfdVinculado.numero})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(st,{children:K.gerencia===(o==null?void 0:o.gerencia)&&K.status==="pendente"&&e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>$(K),children:[e.jsx(Xi,{className:"w-3 h-3 mr-1"}),"Responder"]})})]},K.id)})})]})})]}),e.jsxs(Ve,{children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-gray-600"}),"DFDs Vinculados"]})}),e.jsx(Be,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx($e,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nenhum DFD vinculado foi criado ainda."}),e.jsx("p",{className:"text-sm mt-1",children:"DFDs sero criados automaticamente quando setores aceitarem participar."})]}):e.jsx("div",{className:"grid gap-4",children:d.map(K=>{const z=Y(K.status);return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:K.numero}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Criado por ",K.setorCriador]})]})]}),e.jsx(oe,{className:z.color,children:z.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Responsvel:"}),e.jsx("span",{className:"ml-2 font-medium",children:K.responsavel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data Criao:"}),e.jsx("span",{className:"ml-2 font-medium",children:K.dataCriacao})]})]})]},K.id)})})})]}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"w-5 h-5"}),"Notificar Novos Setores"]}),e.jsx(tt,{children:"Selecione os setores que deseja notificar sobre esta demanda."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"setores",children:"Setores *"}),e.jsxs(dt,{value:"",onValueChange:K=>{K&&!b.includes(K)&&j(z=>[...z,K])},children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione um setor"})}),e.jsx(lt,{children:zp.filter(K=>!c.some(z=>z.gerencia===K.gerencia)).map(K=>e.jsx(Ce,{value:K.id,children:K.nome},K.id))})]})]}),b.length>0&&e.jsxs("div",{children:[e.jsx(B,{children:"Setores Selecionados:"}),e.jsx("div",{className:"mt-2 space-y-2",children:b.map(K=>{const z=zp.find(O=>O.id===K);return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:z==null?void 0:z.nome}),e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>j(O=>O.filter(S=>S!==K)),children:e.jsx(qe,{className:"w-3 h-3"})})]},K)})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"mensagem",children:"Mensagem Personalizada (Opcional)"}),e.jsx(ft,{id:"mensagem",value:N,onChange:K=>w(K.target.value),placeholder:"Digite uma mensagem personalizada para os setores...",rows:3})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:M,children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Notificar Setores"]})]})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Xi,{className:"w-5 h-5"}),"Responder  Provocao"]}),e.jsx(tt,{children:"Sua gerncia foi notificada sobre esta demanda. Deseja participar?"})]}),y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Mensagem Recebida:"}),e.jsx("p",{className:"text-sm text-gray-700",children:y.mensagem})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(C,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>k(!0),children:[e.jsx(jl,{className:"w-4 h-4 mr-2"}),"Sim, desejo incluir minha demanda"]}),e.jsxs(C,{variant:"outline",className:"w-full border-red-300 text-red-700 hover:bg-red-50",onClick:()=>k(!1),children:[e.jsx(q4,{className:"w-4 h-4 mr-2"}),"No desejo participar deste processo"]})]})]})]})})]})}const j2=(t,s,a=[])=>{const r=new Date(t),n=new Date(s);let o=0;const i=new Date(r);for(;i<=n;){const l=i.getDay(),c=i.toISOString().split("T")[0];l>=1&&l<=5&&!a.includes(c)&&o++,i.setDate(i.getDate()+1)}return o},y2=[{id:"v1",numeroRevisao:1,status:"rascunho",autorId:"user1",autorNome:"Lucas Moreira Brito",autorCargo:"Analista de Projetos",autorGerencia:"GSP - Gerncia de Solues e Projetos",autorEmail:"lucas.brito@hospital.gov.br",criadoEm:"2024-01-15T14:30:00Z",atualizadoEm:"2024-01-18T16:45:00Z",prazoDiasUteis:5,prazoInicialDiasUteis:5,prazoCumpridoDiasUteis:0,payload:{justificativaContratacao:"",estudosPreliminares:"",descricaoObjeto:"",estimativaPrecos:"",impactoOrcamentario:"",beneficiosEsperados:"",riscosIdentificados:"",observacoesComplementares:"",responsaveis:[{id:"user1",nome:"Lucas Moreira Brito",cargo:"Analista de Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"}],dataElaboracao:"2024-01-15",numeroETP:"ETP-2024-001",prioridade:"MEDIO"}}],dZ=[{id:"anexo1",nome:"Documento_Referencia.pdf",tamanhoBytes:1024e3,mimeType:"application/pdf",criadoEm:"2024-01-15T10:30:00Z",autorId:"user1",autorNome:"Lucas Moreira Brito",versaoId:"v1",urlDownload:"#"}];function uZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var _e,Q,we;const{user:l}=kt(),{toast:c}=Kt(),[u,d]=m.useState(y2),[h,x]=m.useState(y2[0]),[f,v]=m.useState(h.payload),[p,y]=m.useState(dZ),[g,b]=m.useState("desc"),[j,N]=m.useState(!1),[w,E]=m.useState({}),D=!1,P=m.useCallback(F=>{console.log("Salvando responsveis:",F),v(T=>(console.log("Atualizando formData:",{prev:T.responsaveis,novos:F}),{...T,responsaveis:F}))},[]),[_,M]=m.useState(null),[k,$]=m.useState(!1);m.useState("revisoes");const[H,Y]=m.useState(!1),[K,z]=m.useState(""),[O,S]=m.useState(!0),[L,U]=m.useState(null),J=m.useRef(null),re=m.useCallback(()=>{try{const F=document.documentElement,T=document.body;T&&(T.style.overflow="auto",T.style.position="",T.style.top="",T.style.height="",T.classList.remove("overflow-hidden","fixed")),F&&(F.style.overflow="auto",F.style.height="",F.classList.remove("overflow-hidden"))}catch{}},[]);m.useEffect(()=>(re(),()=>re()),[re]),m.useEffect(()=>{H||(re(),requestAnimationFrame(re),setTimeout(re,0))},[H,re]),m.useEffect(()=>{H||re()},[w,j,re,H]);const le=(F,T)=>{if(!F||!T)return!1;const te=me=>me.toLowerCase().replace(/[-\s]/g,"").trim(),fe=te(F),Ie=te(T);if(fe===Ie)return!0;const X={grh:["gerenciaderecursoshumanos","grh","rh","recursoshumanos"],gsp:["gerenciadesolucoeseprojetos","gsp","solucoeseprojetos"],gsl:["gerenciadesuprimentoselogistica","gsl","suprimentoselogistica"],gue:["gerenciadeurgenciaeemergencia","gue","urgenciaeemergencia"],glc:["gerenciadelicitacoesecontratos","glc","licitacoesecontratos"],gfc:["gerenciafinanceiraecontabil","gfc","financeiraecontabil"],naj:["assessoriajuridica","naj","juridica"],ci:["comissaodeimplantacao","ci","implantacao"],se:["secretariaexecutiva","se","executiva"],ouv:["ouvidoria","ouv"]};for(const[me,V]of Object.entries(X))if(V.includes(fe)&&V.includes(Ie))return!0;return!1},Ne={podeEditar:(le((l==null?void 0:l.gerencia)||"",i||"")||((_e=l==null?void 0:l.gerencia)==null?void 0:_e.includes("GSP"))||!1)&&!L,podeCriarNovaRevisao:ke()&&!L,podeUploadAnexo:(le((l==null?void 0:l.gerencia)||"",i||"")||((Q=l==null?void 0:l.gerencia)==null?void 0:Q.includes("GSP"))||!1)&&!L,podeRemoverAnexo:(le((l==null?void 0:l.gerencia)||"",i||"")||((we=l==null?void 0:l.gerencia)==null?void 0:we.includes("GSP"))||!1)&&!L,podeConcluirEtapa:ve()};function ke(){return h?D:!1}function he(){return f.descricaoObjeto.trim()!==""}function ae(){return h.status==="finalizada"}function ve(){if(!((l==null?void 0:l.gerencia)&&(le(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const T=u.some(fe=>fe.status!=="rascunho");if(!T)return!1;const te=he();return T&&te}function xe(){return(l==null?void 0:l.gerencia)&&(le(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))}const ne=async()=>{$(!0);try{const F={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(F),d(T=>T.map(te=>te.id===F.id?F:te)),c({title:"Reviso salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar reviso.",variant:"destructive"})}finally{$(!1)}},Ae=async()=>{if(!he()){c({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios antes de finalizar.",variant:"destructive"});return}$(!0);try{const F={...h,status:"finalizada",finalizadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),payload:f};x(F),d(T=>T.map(te=>te.id===F.id?F:te)),c({title:"Verso finalizada",description:"ETP finalizado com sucesso."})}catch{c({title:"Erro",description:"Erro ao finalizar ETP.",variant:"destructive"})}finally{$(!1)}},je=async()=>{if(!ae()){c({title:"Verso no finalizada",description:"Finalize a verso antes de enviar para assinatura.",variant:"destructive"});return}$(!0);try{const F=new Date(h.criadoEm),T=new Date,te=j2(F.toISOString(),T.toISOString()),fe={...h,status:"enviada_para_assinatura",enviadoParaAssinaturaEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:te,payload:f};x(fe),d(Ie=>Ie.map(X=>X.id===fe.id?fe:X)),c({title:"Enviado para assinatura",description:"ETP enviado para assinatura com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para assinatura.",variant:"destructive"})}finally{$(!1)}},Ue=async()=>{if(ke()){$(!0);try{const F=Math.max(...u.map(te=>te.numeroRevisao))+1,T={id:`v${F}`,numeroRevisao:F,status:"rascunho",autorId:(l==null?void 0:l._id)||(l==null?void 0:l.id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usurio Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:5,prazoInicialDiasUteis:5,payload:{...h.payload,descricaoObjeto:""}};d(te=>[T,...te]),x(T),v(T.payload),E(te=>({...te,[T.id]:!0})),c({title:"Nova verso criada",description:`Verso ${F} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova verso.",variant:"destructive"})}finally{$(!1)}}},de=F=>{if(F.prazoInicialDiasUteis===void 0)return null;const T=F.prazoCumpridoDiasUteis??0;return(F.prazoInicialDiasUteis||0)-T},Te=F=>F===null?{text:"text-gray-600",badge:"bg-gray-100 text-gray-800"}:F<0?{text:"text-red-600",badge:"bg-red-100 text-red-800"}:F<=2?{text:"text-orange-600",badge:"bg-orange-100 text-orange-800"}:{text:"text-green-600",badge:"bg-green-100 text-green-800"};m.useEffect(()=>{u.length>0&&E(F=>{const T={...F};return u.forEach((te,fe)=>{T[te.id]===void 0&&(T[te.id]=fe===0)}),T})},[u]);const Pe=()=>{Y(!0)},A=async()=>{$(!0);try{const F={usuarioId:(l==null?void 0:l._id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usurio Atual",observacao:K.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:O};console.log("Concluindo etapa:",F),await new Promise(T=>setTimeout(T,1e3)),U(F),Y(!1),z(""),S(!0),a({etapaId:s,processoId:t,conclusao:F,versaoBase:h}),c({title:"Etapa concluda",description:"A etapa Elaborao do ETP foi concluda com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{$(!1)}},R=F=>{var te;const T=(te=F.target.files)==null?void 0:te[0];if(T){M(T);const fe={id:`anexo-${Date.now()}`,nome:T.name,tamanhoBytes:T.size,mimeType:T.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l._id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(Ie=>[...Ie,fe]),c({title:"Anexo adicionado",description:`${T.name} foi anexado com sucesso.`})}},q=F=>{y(T=>T.filter(te=>te.id!==F)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},W=F=>{switch(F){case"rascunho":return{label:"Em elaborao",color:"bg-gray-100 text-gray-800",icon:e.jsx($e,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_assinatura":return{label:"Enviada p/ assinatura",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},I=(F,T)=>T===void 0?{label:"No Enviado",color:"bg-gray-100 text-gray-800"}:T<=F?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:T<=F+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo No Cumprido",color:"bg-red-100 text-red-800"},ee=Je,ue=m.useMemo(()=>{const F=[...p];return F.sort((T,te)=>{const fe=new Date(T.criadoEm).getTime(),Ie=new Date(te.criadoEm).getTime();return g==="desc"?Ie-fe:fe-Ie}),F},[p,g]),G=F=>{try{if(!F)throw new Error("missing");window.open(F,"_blank","noopener,noreferrer")||c({title:"No foi possvel abrir",description:"Verifique o bloqueador de pop-up.",variant:"destructive"})}catch{c({title:"Link expirado",description:"Atualize a pgina ou gere um novo link.",variant:"destructive"})}},ge=F=>{if(!F)return"";if(/^ETP\s+\d{3}\/\d{4}$/i.test(F))return F.replace(/\s+/," ").toUpperCase();let te=/ETP[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(F);if(te){const X=te[1];return`ETP ${te[2].padStart(3,"0")}/${X}`}if(te=/(?:ETP)?\s*(\d{1,4})\/(\d{4})/i.exec(F),te){const X=te[1].padStart(3,"0"),me=te[2];return`ETP ${X}/${me}`}const fe=/(\d{4})/.exec(F),Ie=/(\d{1,4})(?!.*\d)/.exec(F);if(fe&&Ie){const X=fe[1];return`ETP ${Ie[1].padStart(3,"0")}/${X}`}return F},ye=()=>L?"Concluda":u.some(F=>F.status==="enviada_para_assinatura")?"Em assinatura":u.some(F=>F.status==="finalizada")?"Finalizada":"Em elaborao",Me=F=>{switch(F){case"Concluda":case"Finalizada":return"bg-green-100 text-green-800";case"Em assinatura":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}},et=()=>{const F=new Date(h.criadoEm),T=h.prazoInicialDiasUteis||5;let te=new Date(F),fe=0;for(;fe<T;){te.setDate(te.getDate()+1);const Ie=te.getDay();Ie>=1&&Ie<=5&&fe++}return te},se=()=>{new Date(h.criadoEm);const F=L?new Date(L.dataConclusao):new Date;return{diasUteis:j2(h.criadoEm,F.toISOString())}},ze=()=>{const F=[];u.length===0?F.push({id:"rev-criada",label:"Reviso inicial ainda no criada",status:"pending",description:"Nenhuma reviso foi criada"}):F.push({id:"rev-criada",label:"Reviso inicial criada",status:"completed",description:`${u.length} reviso(es)`}),p.length===0?F.push({id:"anexos",label:"Documentos anexados (nenhum encontrado)",status:"pending",description:"Nenhum anexo adicionado"}):F.push({id:"anexos",label:"Documentos anexados",status:"completed",description:`${p.length} documento(s)`}),!f.responsaveis||f.responsaveis.length===0?F.push({id:"responsaveis",label:"Responsveis definidos (nenhum encontrado)",status:"pending",description:"Nenhum responsvel atribudo"}):f.responsaveis.length<2?F.push({id:"responsaveis",label:`Responsveis definidos (${f.responsaveis.length} de 2)`,status:"warning",description:"Recomenda-se ao menos 2"}):F.push({id:"responsaveis",label:"Responsveis definidos",status:"completed",description:`${f.responsaveis.length} responsvel(is)`}),!f.descricaoObjeto||f.descricaoObjeto.trim()===""?F.push({id:"descricao",label:"Descrio do objeto preenchida",status:"pending",description:"Campo obrigatrio do ETP"}):F.push({id:"descricao",label:"Descrio do objeto preenchida",status:"completed",description:"Campo preenchido"});const T=u.some(te=>te.status==="enviada_para_assinatura");return F.push({id:"envio-ass",label:"Reviso enviada para assinatura",status:T?"completed":"pending",description:T?"Enviado com sucesso":"Nenhuma reviso enviada"}),F.sort((te,fe)=>{const Ie={pending:0,warning:1,completed:2};return Ie[te.status]-Ie[fe.status]})};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx($e,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Formulrio do ETP"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Formulrio"})})]}),e.jsx("div",{className:"border-b-2 border-purple-200 mb-6"}),e.jsxs("div",{className:"space-y-0",children:[e.jsx("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"numeroProcesso",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Gd,{className:"w-4 h-4"}),"Nmero do Processo Administrativo"]}),e.jsx(De,{id:"numeroProcesso",value:ge(f.numeroETP),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"col-span-12 md:col-span-6",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Data da Elaborao"]}),e.jsx(De,{id:"dataElaboracao",value:ee(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]})]})}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"descricaoObjeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Descrio do Objeto *"]}),e.jsx(ft,{id:"descricaoObjeto",value:f.descricaoObjeto,onChange:F=>v({...f,descricaoObjeto:F.target.value}),placeholder:"Descreva detalhadamente o objeto da contratao...",disabled:!Ne.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-slate-200 my-4",children:[e.jsxs(B,{htmlFor:"observacoesComplementares",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observaes Complementares"]}),e.jsx(ft,{id:"observacoesComplementares",value:f.observacoesComplementares,onChange:F=>v({...f,observacoesComplementares:F.target.value}),placeholder:"Adicione observaes complementares relevantes...",disabled:!Ne.podeEditar||h.status!=="rascunho",className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsx(lf,{value:f.responsaveis||[],onChange:F=>{P(F||[])},disabled:!Ne.podeEditar||h.status!=="rascunho",canEdit:Ne.podeEditar,processoId:t,className:"w-full border-b border-slate-200 my-4",maxResponsaveis:5})]})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Gerenciamento"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"Gerenciamento"})})]}),e.jsx("div",{className:"border-b-2 border-slate-200 mb-6"}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(xn,{className:"w-4 h-4 text-purple-600"}),"Verses"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[Ne.podeCriarNovaRevisao&&e.jsxs(C,{onClick:Ue,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Verso"]}),u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda no h verses criadas"})]}):e.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:[!j&&e.jsx("div",{className:"text-sm font-semibold text-purple-700",children:"ltima verso"}),(j?u:[u[0]]).map((F,T,te)=>{const fe=W(F.status),Ie=I(F.prazoInicialDiasUteis||0,F.prazoCumpridoDiasUteis),X=de(F),me=Te(X);return e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",F.numeroRevisao]}),e.jsxs(oe,{className:`text-xs font-medium ${fe.color}`,children:[fe.icon,e.jsx("span",{className:"ml-1",children:fe.label})]}),e.jsx(oe,{className:`text-xs font-medium ${Ie.color}`,children:Ie.label}),e.jsx(oe,{className:`text-xs font-medium ${me.badge}`,children:X===null?"Sem prazo":X<0?`${Math.abs(X)}d atrasado`:`${X}d restantes`})]}),e.jsx("div",{className:"flex items-center gap-2",children:(j||u[0].id!==F.id)&&e.jsx(C,{size:"sm",variant:"ghost","aria-label":w[F.id]?"Recolher detalhes":"Expandir detalhes",className:"h-7 px-2 text-gray-600",onClick:()=>{E(V=>({...V,[F.id]:!V[F.id]})),requestAnimationFrame(re),setTimeout(re,0)},children:e.jsx(Ll,{className:`w-4 h-4 transition-transform ${w[F.id]?"rotate-180":""}`})})})]}),(w[F.id]??!0)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",F.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",F.autorCargo||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerncia:"})," ",F.autorGerencia||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Es(new Date(F.criadoEm))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",F.prazoInicialDiasUteis||0," dias teis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",F.prazoCumpridoDiasUteis!==void 0?`${F.prazoCumpridoDiasUteis} dias teis`:"No enviado"]})]}),F.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:F.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar documento",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar documento",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})})]})]})]})]}),T<te.length-1&&e.jsx("div",{className:"border-b border-slate-200 my-2"})]},F.id)}),u.length>1&&e.jsx("div",{className:"pt-2",children:e.jsx(C,{variant:"ghost","aria-label":j?"Recolher lista de verses":"Ver todas as verses",className:"text-sm text-purple-700 hover:text-purple-800 hover:bg-purple-50",onClick:()=>N(F=>!F),children:j?"Ocultar verses antigas":"Ver todas as verses"})})]})]})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-6",children:e.jsxs("div",{className:"rounded-xl border shadow-sm bg-white h-full min-h-[500px]",children:[e.jsx("div",{className:"px-4 py-6 rounded-t-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4 text-green-600"}),"Anexos"]}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:J,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:R}),e.jsxs(C,{onClick:()=>{var F;return(F=J.current)==null?void 0:F.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:g,onChange:F=>b(F.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),p.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${p.length>6?"max-h-[450px] overflow-y-auto":""} space-y-0`,children:ue.map((F,T)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:F.nome}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[F.autorNome,"  ",ee(F.criadoEm)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[F.autorNome,"  ",ee(F.criadoEm)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>G(F.urlDownload),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>q(F.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),T<ue.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},F.id))})]})})]})})]})})]}),e.jsxs("div",{className:"card-shell mb-8 min-h-[700px]",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(yo,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Painel da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Checklist"})})]}),e.jsx("div",{className:"border-b-2 border-green-200 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Status & Prazo"})]}),e.jsx(oe,{className:`text-sm font-semibold px-3 py-2 ${Me(ye())}`,children:ye()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Pt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Data de Criao"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Inicial"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(h.criadoEm)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:[h.prazoInicialDiasUteis||5," dias teis"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(vt,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo Final"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:Je(et().toISOString())})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-slate-300 text-slate-700",children:"prazo limite"})})]}),L&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-green-300",children:e.jsx(ks,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Prazo Cumprido"}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(L.dataConclusao)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border border-green-300 text-green-700",children:[se().diasUteis," dias teis"]})})]})})]}),e.jsx("div",{className:"border-t border-slate-200 my-3 pt-4",children:(()=>{const F=de(h),T=Jv(F);return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-3xl font-bold ${T.text} mb-2`,children:F===null?"":Math.abs(F)}),e.jsx("div",{className:`text-sm font-medium ${T.text}`,children:ox(F)})]})})()}),e.jsx("div",{className:"space-y-2",children:(()=>{const F=h.criadoEm,T=et().toISOString();return e.jsx(fu,{startISO:F,endISO:T})})()})]})]}),e.jsxs("div",{className:"rounded-2xl border shadow-sm bg-white p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Checklist da Etapa"})]}),(()=>{const F=ze(),T=F.filter(te=>te.status==="completed").length;return e.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[T,"/",F.length]})]})})()]}),(()=>{const F=ze().sort((ce,Le)=>({warning:0,pending:1,completed:2})[ce.status]-{warning:0,pending:1,completed:2}[Le.status]),[T,te]=Z.useState("all"),[fe,Ie]=Z.useState(""),X={total:F.length,completed:F.filter(ce=>ce.status==="completed").length,open:F.filter(ce=>ce.status!=="completed").length},me=X.total===0?0:Math.round(X.completed/X.total*100),V=F.filter(ce=>{if(T==="open"&&ce.status==="completed"||T==="completed"&&ce.status!=="completed")return!1;if(!fe.trim())return!0;const Le=fe.toLowerCase();return ce.label.toLowerCase().includes(Le)||(ce.description||"").toLowerCase().includes(Le)}),ie=ce=>ce==="completed"?e.jsx(ks,{className:"w-4 h-4 text-green-600"}):e.jsx(xt,{className:"w-4 h-4 text-amber-600"});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Progresso"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[me,"% concludo"]})]}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:[X.total," itens"]})]}),e.jsx(Fa,{value:me}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>te("all"),className:`px-2 py-1 rounded text-xs ${T==="all"?"bg-slate-200 text-slate-800":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Todos"}),e.jsxs("button",{type:"button",onClick:()=>te("open"),className:`px-2 py-1 rounded text-xs ${T==="open"?"bg-amber-100 text-amber-900":"bg-amber-50 text-amber-800 hover:bg-amber-100"}`,children:["Pendentes (",X.open,")"]}),e.jsxs("button",{type:"button",onClick:()=>te("completed"),className:`px-2 py-1 rounded text-xs ${T==="completed"?"bg-green-100 text-green-800":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:["Concludos (",X.completed,")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:fe,onChange:ce=>Ie(ce.target.value),placeholder:"Buscar item...",className:"pl-3 pr-8 h-8 text-sm"}),e.jsx(ds,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),e.jsx("div",{className:"max-h-72 overflow-auto space-y-1",children:V.length===0?e.jsx("div",{className:"text-xs text-slate-500 text-center py-6",children:"Nenhum item encontrado."}):V.map(ce=>e.jsxs("div",{className:"flex items-start gap-3 py-2 px-2 rounded hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5",children:ie(ce.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:ce.label}),ce.description&&e.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]})]},ce.id))})]})})()]})]})]}),e.jsx(Do,{data:(()=>{const F=[];return u.forEach(te=>{te.status==="finalizada"&&te.atualizadoEm&&F.push({id:`rev-final-${te.id}`,status:"versao",title:`Reviso ${te.numeroRevisao} finalizada`,author:{name:te.autorNome},createdAt:te.atualizadoEm}),te.status==="enviada_para_assinatura"&&te.enviadoParaAssinaturaEm&&F.push({id:`rev-env-${te.id}`,status:"versao",title:`Reviso ${te.numeroRevisao} enviada para assinatura`,author:{name:te.autorNome},createdAt:te.enviadoParaAssinaturaEm})}),[...p].sort((te,fe)=>new Date(fe.criadoEm).getTime()-new Date(te.criadoEm).getTime()).slice(0,2).forEach(te=>F.push({id:`anexo-${te.id}`,status:"anexo",title:`Anexo adicionado: ${te.nome}`,author:{name:te.autorNome},createdAt:te.criadoEm})),F.sort((te,fe)=>new Date(fe.createdAt).getTime()-new Date(te.createdAt).getTime())})()}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:String(s),cardId:"etp-form",title:"Comentrios"})})}),e.jsxs("div",{className:"card-shell mb-8",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Aes da Etapa"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Aes"})})]}),e.jsx("div",{className:"border-b-2 border-orange-200 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(Fe,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Prazo"}),e.jsx("p",{className:`text-lg font-bold ${(()=>{const F=de(h);return Te(F).text})()}`,children:(()=>{const F=de(h);return F===null?"Sem prazo":F<0?`${Math.abs(F)} dias atrasado`:`${F} dias restantes`})()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border border-slate-300",children:e.jsx(ht,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Responsvel"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:h.autorNome||"Sem responsvel"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 pt-4",children:L?e.jsx("div",{className:"flex items-center justify-center p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Etapa Concluda"}),e.jsxs("p",{className:"text-sm text-green-700",children:[ee(L.dataConclusao)," por ",L.usuarioNome]})]})]})}):e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[Ne.podeEditar&&h.status==="rascunho"&&e.jsxs(C,{onClick:ne,variant:"outline",disabled:k,size:"sm",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Rascunho"]}),e.jsxs(C,{onClick:Ae,variant:"outline",disabled:!he()||k||!Ne.podeEditar||h.status!=="rascunho",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Finalizar"]}),e.jsxs(C,{onClick:je,variant:"outline",disabled:!ae()||k||!Ne.podeEditar,size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Assinatura"]}),xe()&&e.jsxs(C,{onClick:Pe,variant:"outline",disabled:!ve()||k,size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]}),!Ne.podeEditar&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fn,{className:"w-4 h-4"}),"Somente visualizao"]})]})}),h.enviadoParaAssinaturaEm&&e.jsx("div",{className:"border-t border-slate-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:["Enviado para assinatura em ",Je(h.enviadoParaAssinaturaEm)]})]})})]})]}),e.jsx(Ke,{open:H,onOpenChange:Y,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaborao do ETP para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observaes de concluso (opcional)"}),e.jsx(ft,{id:"observacao",value:K,onChange:F=>z(F.target.value),placeholder:"Adicione observaes sobre a concluso da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:O,onCheckedChange:F=>S(F)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao concluir esta etapa, o card ser bloqueado para edio e a prxima etapa do fluxo ser habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>Y(!1),disabled:k,children:"Cancelar"}),e.jsx(C,{onClick:A,disabled:k,className:"bg-green-600 hover:bg-green-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})}const mZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoETP:{nome:"ETP_Versao_Final.pdf",url:"mock-url-etp-final",mimeType:"application/pdf",tamanho:"2.5 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},hZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",data:"15/01/2025 10:30",texto:"ETP aprovado e enviado para assinatura. Aguardando assinaturas dos responsveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],N2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br"}];function xZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=kt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(mZ);m.useState(hZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[v,p]=m.useState(!1),[y,g]=m.useState(null),[b,j]=m.useState(""),[N,w]=m.useState(!1),[E,D]=m.useState([]),[P,_]=m.useState([]),[M,k]=m.useState("desc"),$=Z.useRef(null),H=Z.useMemo(()=>{const A=[...P];return A.sort((R,q)=>new Date(q.uploadedAt).getTime()-new Date(R.uploadedAt).getTime()),M==="asc"&&A.reverse(),A},[P,M]),Y=A=>{if(!A){c({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(A,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,z]=m.useState(!1),[O,S]=m.useState(""),[L,U]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,Ne=d.assinantes.some(A=>A.email===(l==null?void 0:l.email)&&A.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(A=>A.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(A=>A.status==="ASSINADO").length/d.assinantes.length*100:0,ve=A=>{switch(A){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const A=new Date().toISOString(),R={...y,status:"ASSINADO",assinadoEm:A};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${R.nome}`}),f(!1),g(null)},ne=()=>{if(!y||!b.trim())return;const A=new Date().toISOString(),R={...y,status:"CANCELADO",canceladoEm:A,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${R.nome}`,variant:"destructive"}),p(!1),g(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usurio selecionado",description:"Selecione pelo menos um usurio para adicionar como assinante.",variant:"destructive"});return}const A=E.map(R=>{const q=N2.find(W=>W.id===R);return{id:`assinante-${Date.now()}-${R}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(R=>({...R,assinantes:[...R.assinantes,...A]})),c({title:"Assinantes Adicionados",description:`${A.length} assinante(s) adicionado(s) com sucesso.`}),w(!1),D([])},je=A=>{h(R=>({...R,assinantes:R.assinantes.filter(q=>q.id!==A)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Ue=async()=>{re(!0);try{await new Promise(A=>setTimeout(A,2e3)),h(A=>({...A,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluda",description:"A assinatura do ETP foi concluda com sucesso."}),a&&a(d),z(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoETP){c({title:"Nenhum documento",description:"Nenhum documento ETP foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoETP.nome} est sendo baixado.`})},Te=()=>{if(!d.documentoETP){c({title:"Nenhum documento",description:"Nenhum documento ETP foi enviado ainda.",variant:"destructive"});return}c({title:"Visualizao",description:`Abrindo ${d.documentoETP.nome} para visualizao.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-etp",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualizao do ETP"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoETP,className:"text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoETP,className:"text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualizao do ETP"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoETP?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponvel"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(A=>{const R=ve(A.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:A.nome}),e.jsxs(oe,{className:`${R.bgColor} ${R.textColor} ${R.borderColor} text-xs`,children:[R.icon,e.jsx("span",{className:"ml-1",children:R.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:A.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:A.email}),A.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(A.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&A.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>je(A.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),A.status==="PENDENTE"&&(A.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{g(A),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},A.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(A=>A.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concludas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias teis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias teis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:$,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:A=>{var q;const R=(q=A.target.files)==null?void 0:q[0];R&&(_(W=>[{id:`a-${Date.now()}`,name:R.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...W]),A.target&&(A.target.value=""),c({title:"Anexo adicionado",description:`${R.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var A;return(A=$.current)==null?void 0:A.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:M,onChange:A=>k(A.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:H.map((A,R)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(A.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>_(q=>q.filter(W=>W.id!==A.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),R<H.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},A.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"rounded-2xl border border-slate-300 shadow-md bg-white p-6",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-etp",title:"Comentrios"})})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>z(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(bt,{children:e.jsx("p",{children:he?"Etapa j concluda":"Aguarde todas as assinaturas para concluir."})})]})}),Ne&&e.jsxs(C,{variant:"outline",onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),Ne&&e.jsxs(C,{onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento ETP."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["ETP - Verso Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(ft,{id:"motivo-cancelamento",value:b,onChange:A=>j(A.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:N,onOpenChange:w,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o ETP."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:N2.map(A=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:A.id,checked:E.includes(A.id),onCheckedChange:R=>{D(R?[...E,A.id]:E.filter(q=>q!==A.id))}}),e.jsx(B,{htmlFor:A.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:A.cargo})]})})]},A.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do ETP"]}),e.jsx(tt,{children:"Confirme a concluso da etapa de assinatura do ETP."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(A=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[A.nome," - ",A.status==="ASSINADO"?"Assinado":"Pendente"]})]},A.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observao Final (Opcional)"}),e.jsx(ft,{id:"observacao-conclusao",value:O,onChange:A=>S(A.target.value),placeholder:"Adicione uma observao final sobre a concluso...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:L,onCheckedChange:A=>U(A===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ue,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Concluso"]})})]})]})})]})}const Ju=[{id:"1",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",email:"yasmin.pissolati@fiscatus.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva",email:"diran.rodrigues@fiscatus.gov.br"},{id:"3",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",email:"guilherme.carvalho@fiscatus.gov.br"},{id:"4",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos",email:"leticia.bonfim@fiscatus.gov.br"},{id:"5",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira e Contbil",email:"dallas.kelson@fiscatus.gov.br"}];function fZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var W;const{user:l}=kt(),{isSE:c,isGSP:u,isGSPouSE:d}=$a(),{toast:h}=Kt();m.useRef(null);const[x,f]=m.useState({numeroETP:"ETP-012-2025",objeto:"Contratao de Servios de Limpeza Hospitalar",regimeTramitacao:"URGENCIA",observacoes:"",cidadeDataEmissao:`Braslia, ${Je(new Date)}`,responsaveis:[{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva"}],status:"PENDENTE",criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()}),[v,p]=m.useState([]),[y,g]=m.useState(!1),[b,j]=m.useState(!1),[N,w]=m.useState(!1),[E,D]=m.useState(!1),[P,_]=m.useState(null),[M,k]=m.useState([]),[$,H]=m.useState(!1);m.useState(null);const[Y,K]=m.useState([]),[z,O]=m.useState("newest"),S=m.useRef(null);m.useEffect(()=>{n&&f(n)},[n]);const L=I=>{switch(I){case"PENDENTE":return{label:"Pendente",bgColor:"bg-yellow-50",textColor:"text-yellow-800",borderColor:"border-yellow-200",icon:e.jsx(Fe,{className:"w-3 h-3"})};case"ASSINADO":return{label:"Assinado",bgColor:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",icon:e.jsx(Re,{className:"w-3 h-3"})};case"CANCELADO":return{label:"Cancelado",bgColor:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",bgColor:"bg-gray-50",textColor:"text-gray-800",borderColor:"border-gray-200",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},U=I=>{switch(I){case"no-prazo":return{label:"No Prazo",className:"bg-green-100 text-green-800"};case"atencao":return{label:"Ateno",className:"bg-yellow-100 text-yellow-800"};case"atrasado":return{label:"Atrasado",className:"bg-red-100 text-red-800"};default:return{label:"No Prazo",className:"bg-green-100 text-green-800"}}},J={prazoDiasUteis:1,decorridosDiasUteis:0,badge:"no-prazo"},re=v.length,le=v.filter(I=>I.status==="ASSINADO").length,Ne=re>0?le/re*100:0,ke=(l==null?void 0:l.gerencia)&&(l.gerencia.includes("GSP")||l.gerencia.includes("SE"))&&o,he=o&&c&&x.status==="GERADO",ae=()=>{if(M.length===0){h({title:"Erro",description:"Selecione pelo menos um usurio para adicionar como responsvel.",variant:"destructive"});return}const I=M.map(ee=>{const ue=Ju.find(G=>G.id===ee);return{id:ue.id,nome:ue.nome,cargo:ue.cargo,gerencia:ue.gerencia}});f(ee=>({...ee,responsaveis:[...ee.responsaveis,...I]})),k([]),g(!1),h({title:"Responsveis adicionados",description:`${I.length} responsvel(is) adicionado(s) com sucesso.`})},ve=I=>{f(ee=>({...ee,responsaveis:ee.responsaveis.filter(ue=>ue.id!==I)})),h({title:"Responsvel removido",description:"Responsvel removido com sucesso."})},xe=()=>{if(M.length===0){h({title:"Erro",description:"Selecione pelo menos um usurio para adicionar como assinante.",variant:"destructive"});return}const I=M.map(ee=>{const ue=Ju.find(G=>G.id===ee);return{id:ue.id,nome:ue.nome,cargo:ue.cargo,gerencia:ue.gerencia,email:ue.email,status:"PENDENTE"}});p(ee=>[...ee,...I]),k([]),j(!1),h({title:"Assinantes adicionados",description:`${I.length} assinante(s) adicionado(s) com sucesso.`})},ne=I=>{p(ee=>ee.filter(ue=>ue.id!==I)),h({title:"Assinante removido",description:"Assinante removido com sucesso."})},Ae=()=>{P&&(p(I=>I.map(ee=>ee.id===P.id?{...ee,status:"CANCELADO"}:ee)),D(!1),_(null),h({title:"Assinatura cancelada",description:"Assinatura cancelada com sucesso."}))},je=async()=>{H(!0);try{await r(x),h({title:"Despacho salvo",description:"As alteraes foram salvas com sucesso."})}catch{h({title:"Erro",description:"Erro ao salvar o despacho.",variant:"destructive"})}finally{H(!1)}},Ue=async()=>{if(!x.observacoes.trim()){h({title:"Erro",description:"Observaes so obrigatrias para gerar o despacho.",variant:"destructive"});return}H(!0);try{f(I=>({...I,status:"GERADO",atualizadoEm:new Date().toISOString()})),h({title:"Despacho gerado",description:"O despacho do ETP foi gerado com sucesso."})}catch{h({title:"Erro",description:"Erro ao gerar o despacho.",variant:"destructive"})}finally{H(!1)}},de=async()=>{H(!0);try{f(I=>({...I,status:"ASSINADO",assinadoPor:{id:(l==null?void 0:l.id)||"",nome:(l==null?void 0:l.nome)||"",cargo:(l==null?void 0:l.cargo)||"",dataAssinatura:new Date().toISOString()},atualizadoEm:new Date().toISOString()})),h({title:"Despacho assinado",description:"O despacho foi assinado com sucesso."})}catch{h({title:"Erro",description:"Erro ao assinar o despacho.",variant:"destructive"})}finally{H(!1)}},Te=()=>{h({title:"Download iniciado",description:"O download do despacho foi iniciado."})},Pe=async()=>{H(!0);try{await a(x),w(!1),h({title:"Etapa concluda",description:"A etapa de despacho do ETP foi concluda."})}catch{h({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{H(!1)}},A=m.useMemo(()=>[...Y].sort((I,ee)=>{const ue=new Date(I.uploadedAt).getTime(),G=new Date(ee.uploadedAt).getTime();return z==="newest"?G-ue:ue-G}),[Y,z]),R=I=>{window.open(I,"_blank")},q=I=>{K(ee=>ee.filter(ue=>ue.id!==I)),h({title:"Anexo removido",description:"O anexo foi removido com sucesso."})};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"w-full px-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"formulario-despacho",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-100 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(si,{className:"w-5 h-5 text-indigo-600"}),"Formulrio do Despacho"]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Gd,{className:"w-4 h-4"}),"Nmero do ETP"]}),e.jsx(De,{id:"numeroETP",value:x.numeroETP,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objeto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto"]}),e.jsx(ft,{id:"objeto",value:x.objeto,readOnly:!0,className:"w-full min-h-[80px] resize-none bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"regimeTramitacao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Regime de Tramitao"]}),e.jsx(De,{id:"regimeTramitacao",value:x.regimeTramitacao==="URGENCIA"?"Urgncia":"Ordinrio",readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(lx,{className:"w-4 h-4"}),"Observaes *"]}),e.jsx(of,{value:x.observacoes,onChange:I=>f({...x,observacoes:I}),placeholder:"Descreva as observaes do despacho...",disabled:!ke||x.status!=="PENDENTE",className:"min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300",minHeight:"100px",processoId:t,etapaId:s.toString(),cardId:"observacoes-despacho-etp"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"cidadeDataEmissao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Cidade/Data de emisso"]}),e.jsx(De,{id:"cidadeDataEmissao",value:x.cidadeDataEmissao,onChange:I=>f({...x,cidadeDataEmissao:I.target.value}),placeholder:"Ex: Braslia, 15 de janeiro de 2025",disabled:!ke||x.status!=="PENDENTE",className:"w-full border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4",children:[e.jsxs(B,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(qt,{className:"w-4 h-4"}),"Nome e Cargo dos Responsveis *"]}),x.responsaveis.length>0?e.jsx("div",{className:"space-y-2 mb-3",children:x.responsaveis.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:I.nome}),e.jsxs("div",{className:"text-sm text-gray-600",children:[I.cargo," - ",I.gerencia]})]}),ke&&x.status==="PENDENTE"&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>ve(I.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ri,{className:"w-4 h-4"})})]},I.id))}):e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-center text-gray-500",children:"Nenhum responsvel selecionado"}),ke&&x.status==="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:()=>g(!0),className:"w-full",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Responsveis"]})]})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"flex-1 flex flex-col",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2 mx-4 mt-4",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 p-4 space-y-4 flex-1",children:[d&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>j(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),v.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:v.map(I=>{const ee=L(I.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:I.nome}),e.jsxs(oe,{className:`${ee.bgColor} ${ee.textColor} ${ee.borderColor} text-xs`,children:[ee.icon,e.jsx("span",{className:"ml-1",children:ee.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:I.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:I.email}),I.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(I.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[d&&I.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>ne(I.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),I.status==="PENDENTE"&&(I.email===(l==null?void 0:l.email)||d)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{_(I),D(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},I.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[le,"/",re]})]}),e.jsx(Fa,{value:Ne,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:Ne===100?"Todas as assinaturas concludas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:U(J.badge).className,children:U(J.badge).label})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",J.prazoDiasUteis," dia til"]}),e.jsxs("div",{children:["Decorridos: ",J.decorridosDiasUteis," dias teis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:S,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:I=>{var ue;const ee=(ue=I.target.files)==null?void 0:ue[0];ee&&(K(G=>[{id:`a-${Date.now()}`,name:ee.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...G]),I.target&&(I.target.value=""),h({title:"Anexo adicionado",description:`${ee.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var I;return(I=S.current)==null?void 0:I.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:Y.length})]}),e.jsxs("select",{value:z,onChange:I=>O(I.target.value),className:"text-xs border border-slate-300 rounded-md px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent",children:[e.jsx("option",{value:"newest",children:"Mais recente"}),e.jsx("option",{value:"oldest",children:"Menos recente"})]})]}),Y.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:"space-y-2",children:A.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["por ",I.uploadedBy,"  ",Je(new Date(I.uploadedAt))]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>R(I.urlDownload||"#"),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>q(I.id),children:e.jsx(It,{className:"w-3 h-3"})})]})]},I.id))})]})})]})})]})})]}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full mt-6",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-despacho-etp",title:"Comentrios"})})}),e.jsx("div",{className:"mt-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:((W=x.responsaveis[0])==null?void 0:W.nome)||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ke&&e.jsxs(C,{variant:"outline",onClick:je,disabled:$,children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(C,{onClick:Ue,disabled:$||!x.observacoes.trim()||x.responsaveis.length===0,className:"bg-blue-600 hover:bg-blue-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Gerando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(si,{className:"w-4 h-4 mr-2"}),"Gerar Despacho"]})}),he&&e.jsx(C,{onClick:de,disabled:$,className:"bg-green-600 hover:bg-green-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Assinando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Despacho"]})}),x.status!=="PENDENTE"&&e.jsxs(C,{variant:"outline",onClick:Te,disabled:$,children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),x.status==="ASSINADO"&&e.jsxs(C,{onClick:()=>w(!0),disabled:$,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})]})]})})})}),e.jsx(Ke,{open:y,onOpenChange:g,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Responsveis"]}),e.jsx(tt,{children:"Selecione os usurios responsveis pelo despacho (GSP e SE)."})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:Ju.map(I=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:I.id,checked:M.includes(I.id),onCheckedChange:ee=>{k(ee?[...M,I.id]:M.filter(ue=>ue!==I.id))}}),e.jsxs(B,{htmlFor:I.id,className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:I.nome}),e.jsxs("div",{className:"text-gray-600",children:[I.cargo," - ",I.gerencia]})]})]},I.id))})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>g(!1),disabled:$,children:"Cancelar"}),e.jsx(C,{onClick:ae,disabled:$||M.length===0,className:"bg-blue-600 hover:bg-blue-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Responsveis"]})})]})]})}),e.jsx(Ke,{open:b,onOpenChange:j,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o despacho do ETP."})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:Ju.map(I=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:I.id,checked:M.includes(I.id),onCheckedChange:ee=>{k(ee?[...M,I.id]:M.filter(ue=>ue!==I.id))}}),e.jsxs(B,{htmlFor:I.id,className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:I.nome}),e.jsxs("div",{className:"text-gray-600",children:[I.cargo," - ",I.gerencia]})]})]},I.id))})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>j(!1),disabled:$,children:"Cancelar"}),e.jsx(C,{onClick:xe,disabled:$||M.length===0,className:"bg-blue-600 hover:bg-blue-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Adicionando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Assinantes"]})})]})]})}),e.jsx(Ke,{open:N,onOpenChange:w,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsx(tt,{children:"Tem certeza que deseja concluir a etapa de Despacho do ETP? Esta ao no pode ser desfeita."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),disabled:$,children:"Cancelar"}),e.jsx(C,{onClick:Pe,disabled:$,className:"bg-green-600 hover:bg-green-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})}),e.jsx(Ke,{open:E,onOpenChange:D,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-600"}),"Cancelar Assinatura"]}),e.jsxs(tt,{children:["Tem certeza que deseja cancelar a assinatura de ",P==null?void 0:P.nome,"? Esta ao no pode ser desfeita."]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>D(!1),disabled:$,children:"Cancelar"}),e.jsx(C,{onClick:Ae,disabled:$,className:"bg-orange-600 hover:bg-orange-700",children:$?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]})})]})]})})]})})}const pZ=(t,s)=>{let a=0;const r=new Date(t);for(;r<=s;){const n=r.getDay();n!==0&&n!==6&&a++,r.setDate(r.getDate()+1)}return a},w2=[{id:"v1",numeroVersao:1,status:"enviada_para_aprovacao",autorId:"user1",autorNome:"Guilherme de Carvalho Silva",autorCargo:"Analista de Riscos",autorGerencia:"GSL - Gerncia de Suprimentos e Logstica",autorEmail:"guilherme.silva@hospital.gov.br",criadoEm:"2024-01-15T10:00:00Z",atualizadoEm:"2024-01-18T16:45:00Z",enviadoParaAprovacaoEm:"2024-01-18T16:45:00Z",prazoDiasUteis:7,prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3,documentoUrl:"#",documentoNome:"MatrizRisco_V1_GuilhermeCarvalho.pdf",payload:{objetoETP:"Aquisio de equipamentos para ampliao da capacidade de atendimento",areaSetorDemandante:"GSL - Gerncia de Suprimentos e Logstica",numeroETP:"ETP 006/2025",dataElaboracao:"2025-01-15",riscos:[{id:"r1",riscoIdentificado:"Atraso na entrega de equipamentos",causaRisco:"Problemas na cadeia de suprimentos",consequenciaImpacto:"Atraso no cronograma do projeto",nivelRisco:"MEDIO",medidasMitigadoras:"Contatos com fornecedores alternativos e monitoramento semanal"}],justificativasGerais:"",observacoesComplementares:"",responsaveis:[{id:"user1",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logstica",gerencia:"GSL - Gerncia de Suprimentos e Logstica"}]}}];function gZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var je,Ue;const{user:l}=kt(),{toast:c}=Kt(),[u,d]=m.useState(w2),[h,x]=m.useState(w2[0]),[f,v]=m.useState(h.payload),[p,y]=m.useState([]),[g,b]=m.useState("desc"),j=m.useMemo(()=>{const de=[...p];return de.sort((Te,Pe)=>new Date(Pe.criadoEm).getTime()-new Date(Te.criadoEm).getTime()),g==="asc"&&de.reverse(),de},[p,g]),[N,w]=m.useState(!1),[E,D]=m.useState("versoes"),[P,_]=m.useState(!1),[M,k]=m.useState(""),[$,H]=m.useState(!0),[Y,K]=m.useState(null),z=m.useRef(null),O=(de,Te)=>{if(!de||!Te)return!1;const Pe=A=>A.toLowerCase().replace(/[-\s]/g,"").trim();return Pe(de)===Pe(Te)},S={podeEditar:(O((l==null?void 0:l.gerencia)||"",i||"")||((je=l==null?void 0:l.gerencia)==null?void 0:je.includes("GSP"))||!1)&&!Y,podeCriarNovaVersao:L()&&!Y,podeUploadAnexo:(O((l==null?void 0:l.gerencia)||"",i||"")||((Ue=l==null?void 0:l.gerencia)==null?void 0:Ue.includes("GSP"))||!1)&&!Y,podeConcluirEtapa:J()};function L(){return h?["finalizada","enviada_para_aprovacao","aprovada"].includes(h.status):!1}function U(){return f.riscos.length>0&&f.riscos.every(de=>de.riscoIdentificado.trim()!==""&&de.causaRisco.trim()!=="")&&f.responsaveis&&f.responsaveis.length>0}function J(){if(!((l==null?void 0:l.gerencia)&&(O(l.gerencia,i||"")||["GSP","CI","SE","OUV"].includes(l.gerencia))))return!1;const Te=u.some(A=>A.status!=="rascunho"),Pe=U();return Te&&Pe}const re=async()=>{w(!0);try{const de={...h,status:"rascunho",atualizadoEm:new Date().toISOString(),payload:f};x(de),d(Te=>Te.map(Pe=>Pe.id===de.id?de:Pe)),c({title:"Verso salva",description:"Rascunho salvo com sucesso."})}catch{c({title:"Erro",description:"Erro ao salvar verso.",variant:"destructive"})}finally{w(!1)}},le=async()=>{if(!U()){c({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios antes de enviar para aprovao.",variant:"destructive"});return}w(!0);try{const de=new Date(h.criadoEm),Pe=pZ(de,new Date),A={...h,status:"enviada_para_aprovacao",enviadoParaAprovacaoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoCumpridoDiasUteis:Pe,payload:f};x(A),d(R=>R.map(q=>q.id===A.id?A:q)),c({title:"Enviado para aprovao",description:"Matriz de Risco enviada para aprovao com sucesso."})}catch{c({title:"Erro",description:"Erro ao enviar para aprovao.",variant:"destructive"})}finally{w(!1)}},Ne=async()=>{if(L()){w(!0);try{const de=Math.max(...u.map(Pe=>Pe.numeroVersao))+1,Te={id:`v${de}`,numeroVersao:de,status:"rascunho",autorId:(l==null?void 0:l.id)||"user1",autorNome:(l==null?void 0:l.nome)||"Usurio Atual",autorCargo:l==null?void 0:l.cargo,autorGerencia:l==null?void 0:l.gerencia,autorEmail:l==null?void 0:l.email,criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString(),prazoDiasUteis:7,prazoInicialDiasUteis:7,payload:{...h.payload,riscos:[],justificativasGerais:"",observacoesComplementares:""}};d(Pe=>[Te,...Pe]),x(Te),v(Te.payload),c({title:"Nova verso criada",description:`Verso ${de} criada com sucesso.`})}catch{c({title:"Erro",description:"Erro ao criar nova verso.",variant:"destructive"})}finally{w(!1)}}},ke=async()=>{w(!0);try{const de={usuarioId:(l==null?void 0:l.id)||"user1",usuarioNome:(l==null?void 0:l.nome)||"Usurio Atual",observacao:M.trim()||void 0,versaoId:h.id,dataConclusao:new Date().toISOString(),notificar:$};await new Promise(Te=>setTimeout(Te,1e3)),K(de),_(!1),k(""),H(!0),a({etapaId:s,processoId:t,conclusao:de,versaoBase:h}),c({title:"Etapa concluda",description:"A etapa Elaborao da Matriz de Risco foi concluda com sucesso."})}catch{c({title:"Erro",description:"Erro ao concluir a etapa.",variant:"destructive"})}finally{w(!1)}},he=m.useCallback(de=>{v(Te=>({...Te,responsaveis:de}))},[]),ae=de=>{var Pe;const Te=(Pe=de.target.files)==null?void 0:Pe[0];if(Te){const A={id:`anexo-${Date.now()}`,nome:Te.name,tamanhoBytes:Te.size,mimeType:Te.type,criadoEm:new Date().toISOString(),autorId:(l==null?void 0:l.id)||"",autorNome:(l==null?void 0:l.nome)||"",versaoId:h.id,urlDownload:"#"};y(R=>[...R,A]),c({title:"Anexo adicionado",description:`${Te.name} foi anexado com sucesso.`})}},ve=de=>{y(Te=>Te.filter(Pe=>Pe.id!==de)),c({title:"Anexo removido",description:"Anexo removido com sucesso."})},xe=de=>{switch(de){case"rascunho":return{label:"Rascunho",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ca,{className:"w-3 h-3"})};case"finalizada":return{label:"Finalizada",color:"bg-green-100 text-green-800",icon:e.jsx(ks,{className:"w-3 h-3"})};case"enviada_para_aprovacao":return{label:"Enviada para Aprovao",color:"bg-blue-100 text-blue-800",icon:e.jsx(vs,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-purple-100 text-purple-800",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"Reprovada",color:"bg-red-100 text-red-800",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Desconhecido",color:"bg-gray-100 text-gray-800",icon:e.jsx(Ns,{className:"w-3 h-3"})}}},ne=(de,Te)=>Te===void 0?{label:"No Enviado",color:"bg-gray-100 text-gray-800"}:Te<=de?{label:"Prazo Cumprido",color:"bg-green-100 text-green-800"}:Te<=de+1?{label:"Em Risco",color:"bg-yellow-100 text-yellow-800"}:{label:"Prazo No Cumprido",color:"bg-red-100 text-red-800"},Ae=de=>{if(!de)return"";if(/^ETP\s+\d{3}\/\d{4}$/i.test(de))return de.replace(/\s+/," ").toUpperCase();let Pe=/ETP[-_\s]?(\d{4})[-_\s]?(\d{1,4})/i.exec(de);if(Pe){const q=Pe[1];return`ETP ${Pe[2].padStart(3,"0")}/${q}`}if(Pe=/(?:ETP)?\s*(\d{1,4})\/(\d{4})/i.exec(de),Pe){const q=Pe[1].padStart(3,"0"),W=Pe[2];return`ETP ${q}/${W}`}const A=/(\d{4})/.exec(de),R=/(\d{1,4})(?!.*\d)/.exec(de);if(A&&R){const q=A[1];return`ETP ${R[1].padStart(3,"0")}/${q}`}return de};return e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"w-full px-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"formulario-matriz-risco",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-100 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-indigo-600"}),"Formulrio da Matriz de Risco"]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-0",children:[e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"numeroETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Gd,{className:"w-4 h-4"}),"Nmero do ETP"]}),e.jsx(De,{id:"numeroETP",value:Ae(f.numeroETP),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"dataElaboracao",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Data da Elaborao"]}),e.jsx(De,{id:"dataElaboracao",value:Je(f.dataElaboracao),readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"objetoETP",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"Objeto do ETP"]}),e.jsx(ft,{id:"objetoETP",value:f.objetoETP,onChange:de=>v({...f,objetoETP:de.target.value}),placeholder:"Descreva o objeto do ETP...",disabled:!0,className:"w-full min-h-[100px] resize-none border-gray-200 focus:border-blue-300 focus:ring-blue-300"})]}),e.jsxs("div",{className:"w-full p-4 border-b border-gray-100",children:[e.jsxs(B,{htmlFor:"areaSetorDemandante",className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"w-4 h-4"}),"rea/Setor Demandante"]}),e.jsx(De,{id:"areaSetorDemandante",value:f.areaSetorDemandante,readOnly:!0,className:"w-full bg-gray-50 border-gray-200 text-gray-600"})]}),e.jsx("div",{className:"w-full p-4 border-b border-gray-100",children:e.jsx(lf,{value:f.responsaveis||[],onChange:he,disabled:!S.podeEditar||h.status!=="rascunho",canEdit:S.podeEditar,processoId:t,className:"w-full",maxResponsaveis:5})})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:E,onValueChange:D,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2 rounded-none",children:[e.jsx(Vt,{value:"versoes",children:"Verses"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"versoes",className:"mt-0 p-4 flex-1 flex flex-col",children:e.jsxs("div",{className:"space-y-4 w-full flex-1 flex flex-col",children:[S.podeCriarNovaVersao&&e.jsxs(C,{onClick:Ne,variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-purple-400 hover:bg-purple-50",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Nova Verso"]}),u.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Ca,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Ainda no h verses criadas"})]}):e.jsx("div",{className:"space-y-3 w-full max-h-full overflow-y-auto",children:u.map(de=>{const Te=xe(de.status),Pe=ne(de.prazoInicialDiasUteis||0,de.prazoCumpridoDiasUteis);return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors w-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-3 w-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{variant:"outline",className:"text-xs font-medium",children:["V",de.numeroVersao]}),e.jsxs(oe,{className:`text-xs font-medium ${Te.color}`,children:[Te.icon,e.jsx("span",{className:"ml-1",children:Te.label})]}),e.jsx(oe,{className:`text-xs font-medium ${Pe.color}`,children:Pe.label})]})}),e.jsxs("div",{className:"text-xs text-gray-700 space-y-1 mb-3 w-full",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",de.autorNome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",de.autorCargo||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerncia:"})," ",de.autorGerencia||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Je(new Date(de.criadoEm))," s ",new Date(de.criadoEm).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",de.prazoInicialDiasUteis||0," dias teis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",de.prazoCumpridoDiasUteis!==void 0?`${de.prazoCumpridoDiasUteis} dias teis`:"No enviado"]})]}),de.documentoNome&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded border border-blue-200 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:de.documentoNome})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-blue-50",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})})]})]})]},de.id)})})]})}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-4",children:e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:p.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:g,onChange:de=>b(de.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),S.podeUploadAnexo&&h.status==="rascunho"&&e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:z,type:"file",onChange:ae,accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:()=>{var de;return(de=z.current)==null?void 0:de.click()},variant:"outline",className:"w-full border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),p.length===0?e.jsx("div",{className:"pt-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum anexo enviado"})]})}):e.jsx("div",{className:"space-y-0 w-full flex-shrink-0 max-h-60 overflow-y-auto",children:j.map((de,Te)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rh,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:de.nome}),e.jsxs("p",{className:"text-xs text-gray-500",children:[de.autorNome,"  ",Je(de.criadoEm)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),S.podeUploadAnexo&&h.status==="rascunho"&&e.jsx(C,{size:"sm",variant:"outline",onClick:()=>ve(de.id),className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(It,{className:"w-3 h-3"})})]})]}),Te<j.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},de.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s,cardId:"matriz-risco-form",title:"Comentrios"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-4 pb-2",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsxs(Be,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:h.autorNome||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S.podeEditar&&h.status==="rascunho"&&!Y&&e.jsxs(C,{onClick:re,variant:"outline",disabled:N,className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar Rascunho"]}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:le,variant:"outline",disabled:!U()||N||!S.podeEditar||h.status!=="rascunho"||!!Y,className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Enviar para Aprovao"]})})}),!U()&&e.jsx(bt,{children:e.jsx("p",{children:"Preencha os campos obrigatrios"})})]})}),!Y&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsxs(C,{onClick:()=>_(!0),variant:"default",disabled:!J()||N,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})}),!J()&&e.jsx(bt,{children:e.jsx("p",{children:" necessrio enviar uma verso para aprovao antes de concluir a etapa."})})]})}),!S.podeEditar&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fn,{className:"w-4 h-4"}),"Somente visualizao"]})]})]}),(h.status==="enviada_para_aprovacao"||Y)&&e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[h.status==="enviada_para_aprovacao"&&e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Enviado para aprovao em ",Je(h.enviadoParaAprovacaoEm||"")]}),Y&&e.jsxs("span",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(ks,{className:"w-4 h-4"}),"Concluda em ",Je(Y.dataConclusao)," por ",Y.usuarioNome]})]})]})})})]}),e.jsx(Ke,{open:P,onOpenChange:_,children:e.jsxs(Ye,{className:"sm:max-w-[500px]",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-green-600"}),"Concluir Etapa"]}),e.jsxs(tt,{children:["Concluir a etapa Elaborao da Matriz de Risco para o processo ",t,"?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacao",className:"text-sm font-medium",children:"Observaes de concluso (opcional)"}),e.jsx(ft,{id:"observacao",value:M,onChange:de=>k(de.target.value),placeholder:"Adicione observaes sobre a concluso da etapa...",className:"min-h-[80px] resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar",checked:$,onCheckedChange:de=>H(de)}),e.jsx(B,{htmlFor:"notificar",className:"text-sm font-medium",children:"Notificar partes interessadas"})]}),e.jsxs(ia,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(la,{children:[e.jsx("strong",{children:"Ateno:"})," Ao concluir esta etapa, o card ser bloqueado para edio e a prxima etapa do fluxo ser habilitada."]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 pb-2",children:[e.jsx(C,{variant:"outline",onClick:()=>_(!1),disabled:N,children:"Cancelar"}),e.jsx(C,{onClick:ke,disabled:N,className:"bg-green-600 hover:bg-green-700",children:N?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Concluir Etapa"]})})]})]})})]})})}function vZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0}){var W;const{user:i}=kt(),{toast:l}=Kt(),[c,u]=m.useState(""),[d,h]=m.useState(""),[x,f]=m.useState([]),[v,p]=m.useState(!1),[y,g]=m.useState(!1),[b,j]=m.useState("anexos"),[N,w]=m.useState("desc"),[E,D]=m.useState([]),P=m.useMemo(()=>{const I=[...E];return I.sort((ee,ue)=>new Date(ue.uploadedAt).getTime()-new Date(ee.uploadedAt).getTime()),N==="asc"&&I.reverse(),I},[E,N]),[_,M]=m.useState(null),[k,$]=m.useState(!1),[H,Y]=m.useState(null),K=m.useRef(null),[z,O]=m.useState(""),[S,L]=m.useState(!1),U=m.useRef(null),[J,re]=m.useState("_COMENTADA"),[le,Ne]=m.useState([{id:"v1",version:1,isFinal:!1,status:"aprovada",createdAt:"2025-01-10T09:00:00Z",createdBy:"Ana Carolina Silva",createdByCargo:"Analista de Riscos",createdByGerencia:"GSP - Gerncia de Solues e Projetos",createdByEmail:"ana.silva@hospital.gov.br",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:2,aprovadoData:"2025-01-12T15:00:00Z"},{id:"v2",version:2,isFinal:!0,status:"enviada",createdAt:"2025-01-15T14:30:00Z",createdBy:"Ana Carolina Silva",createdByCargo:"Analista de Riscos",createdByGerencia:"GSP - Gerncia de Solues e Projetos",createdByEmail:"ana.silva@hospital.gov.br",prazoInicialDiasUteis:7,prazoCumpridoDiasUteis:3}]);m.useEffect(()=>{M({name:"Matriz_Risco_V2_AnaCarolinaSilva.pdf",size:"1.4 MB",uploadedAt:"2025-01-15T14:30:00Z",uploadedBy:"Ana Carolina Silva"}),$(!0)},[]);const ke=()=>{const I=[];return c.trim()||I.push("Justificativa  obrigatria"),f(I),I.length===0},he=o,ae=()=>(i==null?void 0:i.gerencia)==="GSP - Gerncia de Solues e Projetos",ve=()=>{if(!ke()){l({title:"Erro de Validao",description:"Por favor, preencha a Justificativa.",variant:"destructive"});return}p(!0)},xe=()=>{const I=new Date().toISOString();h(I),Ne(ee=>ee.map(ue=>ue.isFinal?{...ue,status:"aprovada",aprovadoData:I}:ue)),l({title:"Matriz Aprovada",description:"A Matriz de Risco foi aprovada com sucesso."}),p(!1),a(n||{})},ne=()=>{if(!ke()){l({title:"Erro de Validao",description:"Por favor, preencha a Justificativa.",variant:"destructive"});return}g(!0)},Ae=()=>{const I=new Date().toISOString();h(I),Ne(ee=>ee.map(ue=>ue.isFinal?{...ue,status:"reprovada"}:ue)),l({title:"Solicitada Nova Verso",description:"Fluxo retornado para elaborao da Matriz (Card 8)."}),g(!1),r(n||{})},je=I=>{try{if(!window.open(I,"_blank"))throw new Error("Popup bloqueado")}catch{l({title:"No foi possvel abrir o documento",description:"Verifique bloqueio de popups.",variant:"destructive"})}},Ue=()=>{const I=H||_;if(!I){l({title:"Nenhum documento",description:"Nenhuma Matriz enviada.",variant:"destructive"});return}l({title:"Visualizar",description:`Abrindo ${I.name}...`})},de=()=>{const I=H||_;if(!I){l({title:"Nenhum documento",description:"Nenhuma Matriz enviada.",variant:"destructive"});return}l({title:"Download Iniciado",description:`Baixando ${I.name}...`})},Te=()=>{var I;if(!z){l({title:"Selecione o tipo",description:"Escolha se o arquivo  Comentada ou Revisada antes de enviar.",variant:"destructive"});return}(I=K.current)==null||I.click()},Pe=(I,ee)=>{const ue=/(_COMENTADA)(?=\.|$)/i.test(I),G=/(_REVISADA)(?=\.|$)/i.test(I);return!(ee==="comentada"&&!ue||ee==="revisada"&&!G)},A=(I,ee)=>{const ue=I.lastIndexOf(".");return ue===-1?`${I}${ee}`:`${I.slice(0,ue)}${ee}${I.slice(ue)}`},R=(I,ee)=>ee===void 0?{status:"nao_enviado",dias:0}:ee<=I?{status:"ok",dias:ee}:ee<=I+1?{status:"risco",dias:ee}:{status:"nao_cumprido",dias:ee},q=le.find(I=>I.isFinal)||le[le.length-1];return R((q==null?void 0:q.prazoInicialDiasUteis)||0,q==null?void 0:q.prazoCumpridoDiasUteis),e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"aprovacao-matriz",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-indigo-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(ds,{className:"w-5 h-5 text-indigo-600"}),"Matriz de Risco"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Ue,disabled:!k,className:"text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!k,className:"text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsx("div",{className:"w-full min-h-[320px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:H?e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Visualizando: ",H.name]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Verso ",H.tipo==="comentada"?"Comentada":"Revisada"," ",Je(H.uploadedAt)," ",H.uploadedBy]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use os botes acima para visualizar/baixar"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualizao da Matriz de Risco"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use os botes acima para visualizar/baixar"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ft,{id:"justificativa",value:c,onChange:I=>u(I.target.value),placeholder:"Descreva a justificativa da deciso sobre a Matriz de Risco...",disabled:!he,className:"min-h-[160px] mt-2 resize-none border-gray-200 focus:border-indigo-300 focus:ring-indigo-300"}),x.includes("Justificativa  obrigatria")&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Justificativa  obrigatria"}),d&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Data da Anlise"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-800",children:Je(d)})})]})]})]})]})}),e.jsx("aside",{id:"gerenciamento",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 flex-1 flex flex-col",children:e.jsxs(Va,{value:b,onValueChange:j,className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"versoes",children:"Verses"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsx(Gt,{value:"versoes",className:"mt-0 p-4",children:le.length===0?e.jsxs("div",{className:"text-center py-8 w-full",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(xn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma verso disponvel"})]}):e.jsx("div",{className:"space-y-3 max-h-full overflow-y-auto",children:le.map(I=>{const ee=(()=>{switch(I.status){case"rascunho":return{label:"Em Elaborao",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"enviada":return{label:"Enviada para Anlise",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(mt,{className:"w-3 h-3"})};case"aprovada":return{label:"Aprovada",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})};case"reprovada":return{label:"No Aprovada",color:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(qe,{className:"w-3 h-3"})};default:return{label:"Pendente",color:"bg-gray-100 text-gray-800 border-gray-300",icon:e.jsx(Fe,{className:"w-3 h-3"})}}})();return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{variant:I.isFinal?"default":"outline",className:"text-xs",children:["V",I.version,I.isFinal&&e.jsx(Re,{className:"w-3 h-3 ml-1"})]}),e.jsxs(oe,{className:`text-xs ${ee.color}`,children:[ee.icon,e.jsx("span",{className:"ml-1",children:ee.label})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:e.jsx(jt,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Autor:"})," ",I.createdBy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cargo:"})," ",I.createdByCargo||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gerncia:"})," ",I.createdByGerencia||"No informado"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Criado:"})," ",Je(new Date(I.createdAt))," s ",new Date(I.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo inicial:"})," ",I.prazoInicialDiasUteis||0," dias teis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prazo cumprido:"})," ",I.prazoCumpridoDiasUteis!==void 0?`${I.prazoCumpridoDiasUteis} dias teis`:"No enviado"]})]})]},I.id)})})}),e.jsxs(Gt,{value:"anexos",className:"mt-0 p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Verso Elaborada (referncia)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"ltima verso do Card 8. Somente visualizao."})]}),_?e.jsx("div",{className:"group p-3 border border-slate-200 rounded-lg bg-slate-50",onDragOver:I=>{I.preventDefault()},onDrop:I=>{I.preventDefault(),l({title:"rea somente visualizao",description:"Este espao  apenas para a verso elaborada. Envie comentadas/revisadas no bloco abaixo.",variant:"destructive"})},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded",children:e.jsx($e,{className:"w-3.5 h-3.5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:_.name}),e.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[_.size,"  ",Je(_.uploadedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",title:"Visualizar em nova aba",className:"h-5 w-5 p-0",onClick:()=>je("#"),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-5 w-5 p-0",children:e.jsx(jt,{className:"w-3 h-3"})})]})]})}):e.jsx("div",{className:"text-xs text-slate-500 p-2 bg-gray-50 rounded border",children:"Nenhuma verso elaborada encontrada."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Verses Comentadas/Revisadas"}),e.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded",title:"Use este espao para anexar somente verses com comentrios ou revises. A verso elaborada  fixa e vem do card anterior.",children:"?"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Ordenar:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:N,onChange:I=>w(I.target.value),className:"h-6 rounded border border-slate-200 bg-white px-2 pr-5 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1 pointer-events-none",children:e.jsx("svg",{className:"w-2.5 h-2.5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})})]}),he&&e.jsx("div",{className:"mb-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("select",{"aria-label":"Classificao do arquivo",value:z,onChange:I=>O(I.target.value),className:"h-7 rounded border border-slate-200 bg-white px-2 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Selecione: Comentada ou Revisada"}),e.jsx("option",{value:"comentada",children:"Comentada"}),e.jsx("option",{value:"revisada",children:"Revisada"})]}),e.jsx("input",{ref:K,type:"file",onChange:I=>{var ge;const ee=(ge=I.target.files)==null?void 0:ge[0];if(!ee)return;const ue=z||"comentada",G=ue==="comentada"?"_COMENTADA":"_REVISADA";if(!Pe(ee.name,ue))U.current=ee,re(G),L(!0);else{const ye={id:`annex-${Date.now().toString()}`,name:ee.name,size:`${(ee.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",tipo:ue};D(Me=>[ye,...Me]),Y(ye),l({title:"Anexo enviado",description:`${ee.name} foi anexado e est sendo visualizado.`})}I.target&&(I.target.value="")},accept:".pdf,.docx,.xlsx,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden"}),e.jsxs(C,{onClick:Te,variant:"outline",title:"Neste card s aceitamos verses comentadas/revisadas. A verso elaborada  exibida acima como referncia.",className:"w-full border-dashed border-2 border-gray-300 hover:border-indigo-400 hover:bg-indigo-50 transition-colors h-8 text-xs",children:[e.jsx(mt,{className:"w-3.5 h-3.5 mr-2"}),"Adicionar Anexo"]})]})}),P.length===0?e.jsxs("div",{className:"text-center py-4 w-full",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:e.jsx(mt,{className:"w-5 h-5 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:"space-y-1 max-h-[280px] overflow-y-auto",children:P.map((I,ee)=>e.jsx(Z.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded",children:e.jsx($e,{className:"w-3.5 h-3.5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"text-xs font-medium truncate",title:I.name,children:I.name}),e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full border ${I.tipo==="comentada"?"bg-yellow-50 text-yellow-800 border-yellow-200":"bg-emerald-50 text-emerald-800 border-emerald-200"}`,children:I.tipo==="comentada"?"Comentada":"Revisada"})]}),e.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[Je(I.uploadedAt),"  ",I.uploadedBy]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-5 w-5 p-0 hover:bg-blue-50",onClick:()=>{Y(I),l({title:"Documento selecionado",description:`${I.name} est sendo visualizado.`})},children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-5 w-5 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-5 w-5 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{D(ue=>ue.filter(G=>G.id!==I.id)),(H==null?void 0:H.id)===I.id&&Y(null),l({title:"Anexo removido"})},children:e.jsx(It,{className:"w-3 h-3"})})]})]})},I.id))})]})]})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-aprovacao-matriz",title:"Comentrios"})}),ae()&&e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6 pb-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1 dia no card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.nome)||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{onClick:ne,disabled:!he,variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Reprovar e Solicitar Nova Verso"]}),e.jsxs(C,{onClick:ve,disabled:!he,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 shadow-lg",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Aprovar"]})]})]})})})})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Confirmar Aprovao"]}),e.jsxs(tt,{children:["Tem certeza que deseja aprovar a Matriz de Risco? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a verso como Aprovada e Final"}),e.jsx("li",{children:"Liberar a prxima etapa (Assinatura da Matriz)"}),e.jsx("li",{children:"Salvar a justificativa e Data da Anlise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Aprovao"]})]})]})}),e.jsx(Ke,{open:y,onOpenChange:g,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Confirmar Reprovao"]}),e.jsxs(tt,{children:["Tem certeza que deseja reprovar e solicitar nova verso? Esta ao ir:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Marcar a verso como No Aprovada"}),e.jsx("li",{children:"Retornar o fluxo para Elaborao da Matriz (Card 8)"}),e.jsx("li",{children:"Salvar a justificativa e Data da Anlise"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Reprovao"]})]})]})}),e.jsx(Ke,{open:S,onOpenChange:L,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Adicionar sufixo ao nome do arquivo?"}),e.jsxs(tt,{children:["Para manter o padro, sugerimos adicionar o sufixo ",J," ao arquivo selecionado."]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Arquivo atual: ",(W=U.current)==null?void 0:W.name]}),e.jsxs(zt,{className:"gap-2",children:[e.jsx(C,{variant:"outline",onClick:()=>{const I=U.current;if(!I||!z){L(!1);return}const ee={id:`annex-${Date.now().toString()}`,name:I.name,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",tipo:z};D(ue=>[ee,...ue]),Y(ee),l({title:"Anexo enviado",description:`${I.name} foi anexado e est sendo visualizado.`}),U.current=null,L(!1)},children:"Manter"}),e.jsx(C,{onClick:()=>{const I=U.current;if(!I||!z){L(!1);return}const ee=A(I.name,J),ue={id:`annex-${Date.now().toString()}`,name:ee,size:`${(I.size/1024/1024).toFixed(2)} MB`,uploadedAt:new Date().toISOString(),uploadedBy:(i==null?void 0:i.nome)||"Usurio",tipo:z};D(G=>[ue,...G]),Y(ue),l({title:"Anexo enviado",description:`${ee} foi anexado e est sendo visualizado.`}),U.current=null,L(!1)},children:"Aplicar"})]})]})})]})}const bZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo"},assinantes:[{id:"1",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoMatrizRisco:{nome:"Matriz_Risco_Versao_Final.pdf",url:"mock-url-matriz-risco-final",mimeType:"application/pdf",tamanho:"1.8 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},jZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",data:"15/01/2025 10:30",texto:"Matriz de Risco aprovada e enviada para assinatura. Aguardando assinaturas dos responsveis."},{id:"2",autor:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],C2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br"}];function yZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=kt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(bZ);m.useState(jZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[v,p]=m.useState(!1),[y,g]=m.useState(null),[b,j]=m.useState([]),[N,w]=m.useState("desc"),E=m.useRef(null),D=m.useMemo(()=>{const A=[...b];return A.sort((R,q)=>new Date(q.uploadedAt).getTime()-new Date(R.uploadedAt).getTime()),N==="asc"&&A.reverse(),A},[b,N]),P=A=>{if(!A){c({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(A,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[_,M]=m.useState(""),[k,$]=m.useState(!1),[H,Y]=m.useState([]),[K,z]=m.useState(!1),[O,S]=m.useState(""),[L,U]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,Ne=d.assinantes.some(A=>A.email===(l==null?void 0:l.email)&&A.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(A=>A.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(A=>A.status==="ASSINADO").length/d.assinantes.length*100:0,ve=A=>{switch(A){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const A=new Date().toISOString(),R={...y,status:"ASSINADO",assinadoEm:A};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${R.nome}`}),f(!1),g(null)},ne=()=>{if(!y||!_.trim())return;const A=new Date().toISOString(),R={...y,status:"CANCELADO",canceladoEm:A,observacoes:_};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${R.nome}`,variant:"destructive"}),p(!1),g(null),M("")},Ae=()=>{if(H.length===0){c({title:"Nenhum usurio selecionado",description:"Selecione pelo menos um usurio para adicionar como assinante.",variant:"destructive"});return}const A=H.map(R=>{const q=C2.find(W=>W.id===R);return{id:`assinante-${Date.now()}-${R}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(R=>({...R,assinantes:[...R.assinantes,...A]})),c({title:"Assinantes Adicionados",description:`${A.length} assinante(s) adicionado(s) com sucesso.`}),$(!1),Y([])},je=A=>{h(R=>({...R,assinantes:R.assinantes.filter(q=>q.id!==A)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Ue=async()=>{re(!0);try{await new Promise(A=>setTimeout(A,2e3)),h(A=>({...A,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluda",description:"A assinatura da Matriz de Risco foi concluda com sucesso."}),a&&a(d),z(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoMatrizRisco){c({title:"Nenhum documento",description:"Nenhum documento de Matriz de Risco foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoMatrizRisco.nome} est sendo baixado.`})},Te=()=>{if(!d.documentoMatrizRisco){c({title:"Nenhum documento",description:"Nenhum documento de Matriz de Risco foi enviado ainda.",variant:"destructive"});return}c({title:"Visualizao",description:`Abrindo ${d.documentoMatrizRisco.nome} para visualizao.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-matriz-risco",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualizao da Matriz de Risco"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoMatrizRisco,className:"text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoMatrizRisco,className:"text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualizao da Matriz de Risco"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoMatrizRisco?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponvel"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>$(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(A=>{const R=ve(A.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:A.nome}),e.jsxs(oe,{className:`${R.bgColor} ${R.textColor} ${R.borderColor} text-xs`,children:[R.icon,e.jsx("span",{className:"ml-1",children:R.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:A.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:A.email}),A.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(A.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&A.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>je(A.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),A.status==="PENDENTE"&&(A.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{g(A),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},A.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(A=>A.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concludas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias teis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias teis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:E,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:A=>{var q;const R=(q=A.target.files)==null?void 0:q[0];R&&(j(W=>[{id:`a-${Date.now()}`,name:R.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...W]),A.target&&(A.target.value=""),c({title:"Anexo adicionado",description:`${R.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var A;return(A=E.current)==null?void 0:A.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:b.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:N,onChange:A=>w(A.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),b.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${b.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:D.map((A,R)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>P(A.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>j(q=>q.filter(W=>W.id!==A.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),R<D.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},A.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-matriz-risco",title:"Comentrios"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>z(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(bt,{children:e.jsx("p",{children:he?"Etapa j concluda":"Aguarde todas as assinaturas para concluir."})})]})}),Ne&&e.jsxs(C,{variant:"outline",onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),Ne&&e.jsxs(C,{onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento da Matriz de Risco."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Matriz de Risco - Verso Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(ft,{id:"motivo-cancelamento",value:_,onChange:A=>M(A.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!_.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:k,onOpenChange:$,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar a Matriz de Risco."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:C2.map(A=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:A.id,checked:H.includes(A.id),onCheckedChange:R=>{Y(R?[...H,A.id]:H.filter(q=>q!==A.id))}}),e.jsx(B,{htmlFor:A.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:A.cargo})]})})]},A.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>$(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura da Matriz de Risco"]}),e.jsx(tt,{children:"Confirme a concluso da etapa de assinatura da Matriz de Risco."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(A=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[A.nome," - ",A.status==="ASSINADO"?"Assinado":"Pendente"]})]},A.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observao Final (Opcional)"}),e.jsx(ft,{id:"observacao-conclusao",value:O,onChange:A=>S(A.target.value),placeholder:"Adicione uma observao final sobre a concluso...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:L,onCheckedChange:A=>U(A===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ue,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Concluso"]})})]})]})})]})}const NZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos"},assinantes:[{id:"1",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoTR:{nome:"Termo_Referencia_Versao_Final.pdf",url:"mock-url-tr-final",mimeType:"application/pdf",tamanho:"2.1 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},wZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",data:"15/01/2025 10:30",texto:"Termo de Referncia aprovado e enviado para assinatura. Aguardando assinaturas dos responsveis."},{id:"2",autor:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],S2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br"}];function CZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=kt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(NZ);m.useState(wZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[v,p]=m.useState(!1),[y,g]=m.useState(null),[b,j]=m.useState(""),[N,w]=m.useState(!1),[E,D]=m.useState([]),[P,_]=m.useState([]),[M,k]=m.useState("desc"),$=Z.useRef(null),H=Z.useMemo(()=>{const A=[...P];return A.sort((R,q)=>new Date(q.uploadedAt).getTime()-new Date(R.uploadedAt).getTime()),M==="asc"&&A.reverse(),A},[P,M]),Y=A=>{if(!A){c({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(A,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,z]=m.useState(!1),[O,S]=m.useState(""),[L,U]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,Ne=d.assinantes.some(A=>A.email===(l==null?void 0:l.email)&&A.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(A=>A.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(A=>A.status==="ASSINADO").length/d.assinantes.length*100:0,ve=A=>{switch(A){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const A=new Date().toISOString(),R={...y,status:"ASSINADO",assinadoEm:A};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${R.nome}`}),f(!1),g(null)},ne=()=>{if(!y||!b.trim())return;const A=new Date().toISOString(),R={...y,status:"CANCELADO",canceladoEm:A,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${R.nome}`,variant:"destructive"}),p(!1),g(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usurio selecionado",description:"Selecione pelo menos um usurio para adicionar como assinante.",variant:"destructive"});return}const A=E.map(R=>{const q=S2.find(W=>W.id===R);return{id:`assinante-${Date.now()}-${R}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(R=>({...R,assinantes:[...R.assinantes,...A]})),c({title:"Assinantes Adicionados",description:`${A.length} assinante(s) adicionado(s) com sucesso.`}),w(!1),D([])},je=A=>{h(R=>({...R,assinantes:R.assinantes.filter(q=>q.id!==A)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Ue=async()=>{re(!0);try{await new Promise(A=>setTimeout(A,2e3)),h(A=>({...A,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluda",description:"A assinatura do Termo de Referncia foi concluda com sucesso."}),a&&a(d),z(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoTR){c({title:"Nenhum documento",description:"Nenhum documento de Termo de Referncia foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoTR.nome} est sendo baixado.`})},Te=()=>{if(!d.documentoTR){c({title:"Nenhum documento",description:"Nenhum documento de Termo de Referncia foi enviado ainda.",variant:"destructive"});return}c({title:"Visualizao",description:`Abrindo ${d.documentoTR.nome} para visualizao.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-tr",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualizao do Termo de Referncia"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoTR,className:"text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoTR,className:"text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualizao do Termo de Referncia"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoTR?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponvel"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(A=>{const R=ve(A.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:A.nome}),e.jsxs(oe,{className:`${R.bgColor} ${R.textColor} ${R.borderColor} text-xs`,children:[R.icon,e.jsx("span",{className:"ml-1",children:R.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:A.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:A.email}),A.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(A.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&A.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>je(A.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),A.status==="PENDENTE"&&(A.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{g(A),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},A.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(A=>A.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concludas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias teis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias teis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:$,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:A=>{var q;const R=(q=A.target.files)==null?void 0:q[0];R&&(_(W=>[{id:`a-${Date.now()}`,name:R.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...W]),A.target&&(A.target.value=""),c({title:"Anexo adicionado",description:`${R.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var A;return(A=$.current)==null?void 0:A.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:M,onChange:A=>k(A.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:H.map((A,R)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(A.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>_(q=>q.filter(W=>W.id!==A.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),R<H.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},A.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx("div",{className:"card-shell",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-tr",title:"Comentrios"})})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>z(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(bt,{children:e.jsx("p",{children:he?"Etapa j concluda":"Aguarde todas as assinaturas para concluir."})})]})}),Ne&&e.jsxs(C,{variant:"outline",onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),Ne&&e.jsxs(C,{onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento do Termo de Referncia."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Termo de Referncia - Verso Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(ft,{id:"motivo-cancelamento",value:b,onChange:A=>j(A.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:N,onOpenChange:w,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o Termo de Referncia."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:S2.map(A=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:A.id,checked:E.includes(A.id),onCheckedChange:R=>{D(R?[...E,A.id]:E.filter(q=>q!==A.id))}}),e.jsx(B,{htmlFor:A.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:A.cargo})]})})]},A.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do Termo de Referncia"]}),e.jsx(tt,{children:"Confirme a concluso da etapa de assinatura do Termo de Referncia."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(A=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[A.nome," - ",A.status==="ASSINADO"?"Assinado":"Pendente"]})]},A.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observao Final (Opcional)"}),e.jsx(ft,{id:"observacao-conclusao",value:O,onChange:A=>S(A.target.value),placeholder:"Adicione uma observao final sobre a concluso...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:L,onCheckedChange:A=>U(A===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ue,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Concluso"]})})]})]})})]})}const SZ={processoId:"1",versaoFinalId:"v1",statusEtapa:"PENDENTE_ASSINATURA",responsavelEtapa:{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro"},assinantes:[{id:"1",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"},{id:"2",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br",status:"PENDENTE",selecionadoPorId:"gsp-1",selecionadoEm:"2025-01-15T10:00:00Z"}],sla:{regime:"ORDINARIO",prazoDiasUteis:3,decorridosDiasUteis:0,badge:"ok"},documentoEdital:{nome:"Edital_Versao_Final.pdf",url:"mock-url-edital-final",mimeType:"application/pdf",tamanho:"3.2 MB",uploadedAt:"2025-01-15T09:30:00Z",uploadedBy:"Yasmin Pissolati Mattos Bretz"}},EZ=[{id:"1",autor:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",data:"15/01/2025 10:30",texto:"Edital aprovado e enviado para assinatura. Aguardando assinaturas dos responsveis."},{id:"2",autor:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",data:"15/01/2025 14:15",texto:"Documento revisado e pronto para assinatura."}],E2=[{id:"1",nome:"Lara Rubia Vaz Diniz Fraguas",cargo:"Superviso contratual",email:"lara.fraguas@hospital.gov.br"},{id:"2",nome:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",email:"diran.rodrigues@hospital.gov.br"},{id:"3",nome:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",email:"georgia.guimaraes@hospital.gov.br"},{id:"4",nome:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",email:"yasmin.pissolati@hospital.gov.br"},{id:"5",nome:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",email:"guilherme.carvalho@hospital.gov.br"},{id:"6",nome:"Lucas Moreira Brito",cargo:"GERENTE DE RH",email:"lucas.moreira@hospital.gov.br"},{id:"7",nome:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",email:"andressa.sterfany@hospital.gov.br"},{id:"8",nome:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",email:"leticia.bonfim@hospital.gov.br"},{id:"9",nome:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",email:"dallas.kelson@hospital.gov.br"},{id:"10",nome:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",email:"gabriel.radamesis@hospital.gov.br"}];function PZ({processoId:t,etapaId:s,onComplete:a,onSave:r,initialData:n,canEdit:o=!0,gerenciaCriadora:i}){var Pe;const{user:l}=kt(),{toast:c}=Kt(),{podeEditarCard:u}=$a(),[d,h]=m.useState(SZ);m.useState(EZ),m.useState(""),m.useState(!1);const[x,f]=m.useState(!1),[v,p]=m.useState(!1),[y,g]=m.useState(null),[b,j]=m.useState(""),[N,w]=m.useState(!1),[E,D]=m.useState([]),[P,_]=m.useState([]),[M,k]=m.useState("desc"),$=Z.useRef(null),H=Z.useMemo(()=>{const A=[...P];return A.sort((R,q)=>new Date(q.uploadedAt).getTime()-new Date(R.uploadedAt).getTime()),M==="asc"&&A.reverse(),A},[P,M]),Y=A=>{if(!A){c({title:"Link indisponvel",description:"Link expirado, atualize a pgina ou gere novo link.",variant:"destructive"});return}try{if(!window.open(A,"_blank"))throw new Error("Popup bloqueado")}catch{c({title:"No foi possvel abrir o documento",description:"Verifique popups ou gere novo link.",variant:"destructive"})}},[K,z]=m.useState(!1),[O,S]=m.useState(""),[L,U]=m.useState(!0),[J,re]=m.useState(!1),le=((Pe=l==null?void 0:l.gerencia)==null?void 0:Pe.includes("GSP"))||!1,Ne=d.assinantes.some(A=>A.email===(l==null?void 0:l.email)&&A.status==="PENDENTE");u(d.responsavelEtapa.id,s,i);const ke=le||(l==null?void 0:l._id)===d.responsavelEtapa.id,he=d.assinantes.every(A=>A.status==="ASSINADO"),ae=d.assinantes.length>0?d.assinantes.filter(A=>A.status==="ASSINADO").length/d.assinantes.length*100:0,ve=A=>{switch(A){case"ASSINADO":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Assinado",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"PENDENTE":return{icon:e.jsx(Fe,{className:"w-4 h-4 text-yellow-600"}),label:"Pendente",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-200"};case"CANCELADO":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Cancelado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=()=>{if(!y)return;const A=new Date().toISOString(),R={...y,status:"ASSINADO",assinadoEm:A};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Realizada",description:`Documento assinado por ${R.nome}`}),f(!1),g(null)},ne=()=>{if(!y||!b.trim())return;const A=new Date().toISOString(),R={...y,status:"CANCELADO",canceladoEm:A,observacoes:b};h(q=>({...q,assinantes:q.assinantes.map(W=>W.id===R.id?R:W)})),c({title:"Assinatura Cancelada",description:`Assinatura cancelada por ${R.nome}`,variant:"destructive"}),p(!1),g(null),j("")},Ae=()=>{if(E.length===0){c({title:"Nenhum usurio selecionado",description:"Selecione pelo menos um usurio para adicionar como assinante.",variant:"destructive"});return}const A=E.map(R=>{const q=E2.find(W=>W.id===R);return{id:`assinante-${Date.now()}-${R}`,nome:(q==null?void 0:q.nome)||"",cargo:(q==null?void 0:q.cargo)||"",email:(q==null?void 0:q.email)||"",status:"PENDENTE",selecionadoPorId:(l==null?void 0:l._id)||"",selecionadoEm:new Date().toISOString()}});h(R=>({...R,assinantes:[...R.assinantes,...A]})),c({title:"Assinantes Adicionados",description:`${A.length} assinante(s) adicionado(s) com sucesso.`}),w(!1),D([])},je=A=>{h(R=>({...R,assinantes:R.assinantes.filter(q=>q.id!==A)})),c({title:"Assinante Removido",description:"Assinante removido com sucesso."})},Ue=async()=>{re(!0);try{await new Promise(A=>setTimeout(A,2e3)),h(A=>({...A,statusEtapa:"CONCLUIDO"})),c({title:"Etapa Concluda",description:"A assinatura do Edital foi concluda com sucesso."}),a&&a(d),z(!1),S("")}catch{c({title:"Erro ao Concluir",description:"Ocorreu um erro ao concluir a etapa.",variant:"destructive"})}finally{re(!1)}},de=()=>{if(!d.documentoEdital){c({title:"Nenhum documento",description:"Nenhum documento de Edital foi enviado ainda.",variant:"destructive"});return}c({title:"Download Iniciado",description:`O arquivo ${d.documentoEdital.nome} est sendo baixado.`})},Te=()=>{if(!d.documentoEdital){c({title:"Nenhum documento",description:"Nenhum documento de Edital foi enviado ainda.",variant:"destructive"});return}c({title:"Visualizao",description:`Abrindo ${d.documentoEdital.nome} para visualizao.`})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("section",{id:"visualizacao-edital",className:"col-span-12 lg:col-span-8 w-full",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-lg",children:"Visualizao do Edital"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",onClick:Te,disabled:!d.documentoEdital,className:"text-xs",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:de,disabled:!d.documentoEdital,className:"text-xs",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Baixar"]})]})]})}),e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full min-h-[520px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Visualizao do Edital"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.documentoEdital?'Clique em "Visualizar" para abrir o documento':"Nenhum documento disponvel"})]})})})})]})}),e.jsx("aside",{id:"gerenciamento-assinaturas",className:"col-span-12 lg:col-span-4 w-full flex flex-col",children:e.jsxs("div",{className:"rounded-2xl border shadow-sm overflow-hidden bg-white flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-purple-50 px-4 py-3 rounded-t-2xl font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"Gerenciamento"]})}),e.jsx("div",{className:"p-4 md:p-6 space-y-4 flex-1 flex flex-col",children:e.jsxs(Va,{defaultValue:"assinaturas",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"assinaturas",children:"Assinaturas"}),e.jsx(Vt,{value:"anexos",children:"Anexos"})]}),e.jsxs(Gt,{value:"assinaturas",className:"mt-0 pt-2 flex-1 flex flex-col space-y-4",children:[le&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Seleo de Assinantes"}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"h-8 px-3",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Assinantes Selecionados"}),d.assinantes.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Nenhum assinante selecionado"})]}):e.jsx("div",{className:"space-y-2",children:d.assinantes.map(A=>{const R=ve(A.status);return e.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:A.nome}),e.jsxs(oe,{className:`${R.bgColor} ${R.textColor} ${R.borderColor} text-xs`,children:[R.icon,e.jsx("span",{className:"ml-1",children:R.label})]})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:A.cargo}),e.jsx("div",{className:"text-xs text-gray-500",children:A.email}),A.assinadoEm&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Assinado em ",Es(new Date(A.assinadoEm))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[le&&A.status==="PENDENTE"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>je(A.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ri,{className:"w-3 h-3"})}),A.status==="PENDENTE"&&(A.email===(l==null?void 0:l.email)||le)&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{g(A),p(!0)},className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})},A.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"Progresso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.assinantes.filter(A=>A.status==="ASSINADO").length,"/",d.assinantes.length]})]}),e.jsx(Fa,{value:ae,className:"h-2"}),e.jsx("div",{className:"text-xs text-gray-500",children:ae===100?"Todas as assinaturas concludas":"Aguardando assinaturas"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-semibold text-gray-700",children:"SLA"}),e.jsx(oe,{className:`text-xs ${d.sla.badge==="ok"?"bg-green-100 text-green-800":d.sla.badge==="risco"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.sla.badge==="ok"?"Dentro do Prazo":d.sla.badge==="risco"?"Em Risco":"Estourado"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["Prazo: ",d.sla.prazoDiasUteis," dias teis"]}),e.jsxs("div",{children:["Decorridos: ",d.sla.decorridosDiasUteis," dias teis"]})]})]})]}),e.jsx(Gt,{value:"anexos",className:"mt-0 p-3",children:e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{ref:$,type:"file",accept:".pdf,.doc,.docx,.odt,.png,.jpg,.jpeg,.gif,.bmp,.tif,.tiff",className:"hidden",onChange:A=>{var q;const R=(q=A.target.files)==null?void 0:q[0];R&&(_(W=>[{id:`a-${Date.now()}`,name:R.name,uploadedAt:new Date().toISOString(),uploadedBy:(l==null?void 0:l.nome)||"Usurio"},...W]),A.target&&(A.target.value=""),c({title:"Anexo adicionado",description:`${R.name} foi anexado.`}))}}),e.jsxs(C,{onClick:()=>{var A;return(A=$.current)==null?void 0:A.click()},variant:"outline",className:"w-full h-9 border-dashed border-2 border-gray-300 hover:border-green-400 hover:bg-green-50 transition-colors text-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),e.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Anexos"}),e.jsx("span",{className:"text-xs text-slate-600 bg-slate-200 px-2 py-0.5 rounded-md font-medium",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Ordenar:"}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsxs("select",{"aria-label":"Ordenar anexos",value:M,onChange:A=>k(A.target.value),className:"w-full h-7 rounded-md border border-slate-200 bg-white px-2 pr-6 text-xs text-slate-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none cursor-pointer hover:border-slate-300",children:[e.jsx("option",{value:"desc",children:"Mais recente"}),e.jsx("option",{value:"asc",children:"Menos recente"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 pointer-events-none",children:e.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),P.length===0?e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-center text-gray-500 font-medium",children:"Nenhum anexo adicionado"})]}):e.jsx("div",{className:`${P.length>6?"max-h-[280px] overflow-y-auto":""} space-y-0 w-full`,children:H.map((A,R)=>e.jsxs(Z.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx($e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-500 hidden sm:block",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]}),e.jsxs("p",{className:"text-xs text-gray-500 sm:hidden",children:[A.uploadedBy,"  ",Je(A.uploadedAt)]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"outline","aria-label":"Visualizar",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>Y(A.url),children:e.jsx(Qe,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Baixar",className:"h-7 w-7 p-0 hover:bg-green-50",children:e.jsx(jt,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"outline","aria-label":"Remover",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>_(q=>q.filter(W=>W.id!==A.id)),children:e.jsx(It,{className:"w-3 h-3"})})]})]}),R<H.length-1&&e.jsx("div",{className:"border-b border-slate-200"})]},A.id))})]})})]})})]})}),e.jsx("section",{id:"comentarios",className:"col-span-12 w-full",children:e.jsx(fa,{processoId:t,etapaId:s.toString(),cardId:"comentarios-assinatura-edital",title:"Comentrios"})}),e.jsx("section",{id:"acoes",className:"col-span-12 w-full mt-6",children:e.jsx(Ve,{className:"w-full shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.sla.decorridosDiasUteis," dias no card"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.responsavelEtapa.nome||"Sem responsvel definido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le&&e.jsxs(C,{variant:"outline",onClick:()=>{r&&r(d)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]}),ke&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(C,{id:"btn-concluir-card6","data-testid":"btn-concluir-card6",onClick:()=>z(!0),disabled:!ke||J||!he||d.statusEtapa==="CONCLUIDO",className:"inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Concluir"]})})})}),(!he||d.statusEtapa==="CONCLUIDO")&&e.jsx(bt,{children:e.jsx("p",{children:he?"Etapa j concluda":"Aguarde todas as assinaturas para concluir."})})]})}),Ne&&e.jsxs(C,{variant:"outline",onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),p(!0))},className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Cancelar Assinatura"]}),Ne&&e.jsxs(C,{onClick:()=>{const A=d.assinantes.find(R=>R.email===(l==null?void 0:l.email)&&R.status==="PENDENTE");A&&(g(A),f(!0))},className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Assinar Documento"]})]})]})})})})]})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-purple-600"}),"Confirmar Assinatura"]}),e.jsx(tt,{children:"Confirme os dados da sua assinatura digital no documento do Edital."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Assinante:"}),e.jsx("div",{className:"text-gray-600",children:y==null?void 0:y.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:y==null?void 0:y.cargo})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Documento:"}),e.jsxs("div",{className:"text-gray-600",children:["Edital - Verso Final (V",d.versaoFinalId,")"]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Aprovado por: Yasmin Pissolati Mattos Bretz"}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Hash: ",Math.random().toString(36).substring(2,15)]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Data/Hora:"}),e.jsx("div",{className:"text-gray-600",children:Es(new Date)})]})})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsxs(C,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Confirmar Assinatura"]})]})]})}),e.jsx(Ke,{open:v,onOpenChange:p,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-red-600"}),"Cancelar Assinatura"]}),e.jsx(tt,{children:"Informe o motivo do cancelamento da assinatura."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"motivo-cancelamento",className:"text-sm font-medium",children:"Motivo do Cancelamento *"}),e.jsx(ft,{id:"motivo-cancelamento",value:b,onChange:A=>j(A.target.value),placeholder:"Descreva o motivo do cancelamento...",className:"min-h-[100px] mt-2 resize-none"})]})}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(C,{onClick:ne,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),e.jsx(Ke,{open:N,onOpenChange:w,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-purple-600"}),"Adicionar Assinantes"]}),e.jsx(tt,{children:"Selecione os usurios que devem assinar o Edital."})]}),e.jsx("div",{className:"space-y-4 py-4 max-h-80 overflow-y-auto",children:E2.map(A=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:A.id,checked:E.includes(A.id),onCheckedChange:R=>{D(R?[...E,A.id]:E.filter(q=>q!==A.id))}}),e.jsx(B,{htmlFor:A.id,className:"text-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.nome}),e.jsx("div",{className:"text-gray-500 text-xs",children:A.cargo})]})})]},A.id))}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(C,{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Adicionar Selecionados"]})]})]})}),e.jsx(Ke,{open:K,onOpenChange:z,children:e.jsxs(Ye,{className:"sm:max-w-md",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),"Concluir Assinatura do Edital"]}),e.jsx(tt,{children:"Confirme a concluso da etapa de assinatura do Edital."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("div",{className:"font-medium",children:"Status das Assinaturas:"}),e.jsx("div",{className:"mt-1",children:d.assinantes.map(A=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsxs("span",{children:[A.nome," - ",A.status==="ASSINADO"?"Assinado":"Pendente"]})]},A.id))})]})}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"observacao-conclusao",className:"text-sm font-medium",children:"Observao Final (Opcional)"}),e.jsx(ft,{id:"observacao-conclusao",value:O,onChange:A=>S(A.target.value),placeholder:"Adicione uma observao final sobre a concluso...",className:"min-h-[80px] mt-2 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"notificar-partes",checked:L,onCheckedChange:A=>U(A===!0)}),e.jsx(B,{htmlFor:"notificar-partes",className:"text-sm",children:"Notificar todas as partes envolvidas"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ue,disabled:J,className:"bg-green-600 hover:bg-green-700",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Concluindo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Confirmar Concluso"]})})]})]})})]})}const AZ=[{id:1,nome:"Elaborao do DFD",nomeCompleto:"Elaborao do DFD",status:"concluido",prazoPrevisao:"5 dias teis",dataConclusao:"05/01/2025",prazoCumprido:!0,responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",dataInicio:"01/01/2025",documento:"DFD_012_2025.pdf",documentoUrl:"/docs/dfd.pdf"},{id:2,nome:"Aprovao do DFD",nomeCompleto:"Aprovao do DFD",status:"concluido",prazoPrevisao:"3 dias teis",dataConclusao:"08/01/2025",prazoCumprido:!0,responsavel:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica",dataInicio:"06/01/2025"},{id:3,nome:"Assinatura do DFD",nomeCompleto:"Assinatura do DFD",status:"concluido",prazoPrevisao:"3 dias teis",dataConclusao:"12/01/2025",prazoCumprido:!0,responsavel:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva",dataInicio:"09/01/2025"},{id:4,nome:"Despacho do DFD",nomeCompleto:"Despacho do DFD",status:"pendente",prazoPrevisao:"2 dias teis",dataConclusao:"15/01/2025",prazoCumprido:!0,responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos",dataInicio:"13/01/2025"},{id:5,nome:"Elaborao do ETP",nomeCompleto:"Elaborao do ETP",status:"andamento",prazoPrevisao:"10 dias teis",responsavel:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos",dataInicio:"16/01/2025",documento:"ETP_012_2025_v1.pdf",documentoUrl:"/docs/etp.pdf"},{id:6,nome:"Assinatura do ETP",nomeCompleto:"Assinatura do ETP",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira e Contbil"},{id:7,nome:"Despacho do ETP",nomeCompleto:"Despacho do ETP",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"Georgia Guimaraes Pereira",cargo:"Controladora Interna",gerencia:"OUV - Ouvidoria"},{id:8,nome:"Elaborao da Matriz de Risco",nomeCompleto:"Elaborao da Matriz de Risco",status:"pendente",prazoPrevisao:"7 dias teis",responsavel:"Diran Rodrigues de Souza Filho",cargo:"Secretrio Executivo",gerencia:"SE - Secretaria Executiva"},{id:9,nome:"Aprovao da Matriz de Risco",nomeCompleto:"Aprovao da Matriz de Risco",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:10,nome:"Assinatura da Matriz de Risco",nomeCompleto:"Assinatura da Matriz de Risco",status:"pendente",prazoPrevisao:"15 dias teis",responsavel:"Guilherme de Carvalho Silva",cargo:"Gerente Suprimentos e Logistica",gerencia:"GSL - Gerncia de Suprimentos e Logstica"},{id:11,nome:"Cotao",nomeCompleto:"Cotao",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"Lucas Moreira Brito",cargo:"GERENTE DE RH",gerencia:"GRH - Gerncia de Recursos Humanos"},{id:12,nome:"Elaborao do Termo de Referncia (TR)",nomeCompleto:"Elaborao do Termo de Referncia (TR)",status:"pendente",prazoPrevisao:"10 dias teis",responsavel:"Andressa Sterfany Santos da Silva",cargo:"Assessora Tcnica de Sade",gerencia:"GUE - Gerncia de Urgncia e Emergncia"},{id:13,nome:"Assinatura do TR",nomeCompleto:"Assinatura do TR",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"Leticia Bonfim Guilherme",cargo:"Gerente de Licitaes e Contratos",gerencia:"GLC - Gerncia de Licitaes e Contratos"},{id:14,nome:"Elaborao do Edital",nomeCompleto:"Elaborao do Edital",status:"pendente",prazoPrevisao:"3 dias teis",responsavel:"Dallas Kelson Francisco de Souza",cargo:"Gerente Financeiro",gerencia:"GFC - Gerncia Financeira e Contbil"},{id:15,nome:"Anlise Jurdica Prvia",nomeCompleto:"Anlise Jurdica Prvia",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",gerencia:"NAJ - Assessoria Jurdica"},{id:16,nome:"Cumprimento de Ressalvas",nomeCompleto:"Cumprimento de Ressalvas",status:"pendente",prazoPrevisao:"3 dias teis",responsavel:"Gabriel Radamesis Gomes Nascimento",cargo:"Assessor Jurdico",gerencia:"NAJ - Assessoria Jurdica"},{id:17,nome:"Elaborao do Parecer Jurdico",nomeCompleto:"Elaborao do Parecer Jurdico",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:18,nome:"Cumprimento de Ressalvas ps Parecer Jurdico",nomeCompleto:"Cumprimento de Ressalvas ps Parecer Jurdico",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:19,nome:"Aprovao Jurdica",nomeCompleto:"Aprovao Jurdica",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:20,nome:"Assinatura do Edital",nomeCompleto:"Assinatura do Edital",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:21,nome:"Publicao",nomeCompleto:"Publicao",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"GSP - Gerncia de Solues e Projetos"}];function DZ({etapas:t=AZ,onEtapaClick:s,gerenciaCriadora:a}){const[r,n]=m.useState(null),[o,i]=m.useState(!1);kt();const[l,c]=m.useState(null),u=l!==null,d=m.useCallback(()=>{try{const T=document.documentElement,te=document.body;te&&(te.style.overflow="auto",te.classList.remove("overflow-hidden","fixed")),T&&(T.style.overflow="auto",T.classList.remove("overflow-hidden"))}catch{}},[]);m.useEffect(()=>{if(u)try{document.body.style.overflow="hidden"}catch{}else d();return()=>{d()}},[u,d]),m.useEffect(()=>{const T=te=>{te.key==="Escape"&&u&&c(null)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[u]);const h=T=>{switch(T.id){case 1:return{title:"Elaborao do DFD",subtitle:"Documento de Formalizao da Demanda",icon:e.jsx($e,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso 1.0"})]},"versao"),e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300 px-3 py-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Etapa Concluda"]},"concluida")]};case 2:return{title:"Aprovao do DFD",subtitle:"Anlise e Aprovao Tcnica",icon:e.jsx(xm,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Anlise"})]},"status")]};case 3:return{title:"Assinatura do DFD",subtitle:"Assinatura Digital do Documento",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso Final"})]},"versao"),e.jsxs(oe,{className:"bg-green-100 text-green-800 border-green-300 px-3 py-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Assinado (2/3)"]},"assinado"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 4:return{title:"Despacho do DFD",subtitle:"Despacho e Encaminhamento",icon:e.jsx(vs,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente"})]},"status")]};case 5:return{title:"Elaborao do ETP",subtitle:"Estudo Tcnico Preliminar",icon:e.jsx(xd,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-yellow-100 text-yellow-800 px-3 py-1",children:[e.jsx(xd,{className:"w-4 h-4 mr-2"}),"Rascunho"]},"status"),e.jsx(oe,{className:"bg-green-100 text-green-800 px-3 py-1",children:"Dentro do Prazo"},"sla")]};case 6:return{title:"Assinatura do ETP",subtitle:"Assinatura Digital do ETP",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 7:return{title:"Despacho do ETP",subtitle:"Despacho e Encaminhamento do ETP",icon:e.jsx(vs,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"No Iniciado"})]},"status")]};case 8:return{title:"Elaborao da Matriz de Risco",subtitle:"Avaliao de Riscos do Projeto",icon:e.jsx(xt,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(xt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"No Iniciado"})]},"status")]};case 9:return{title:"Aprovao da Matriz de Risco",subtitle:"Aprovao da Avaliao de Riscos",icon:e.jsx(xm,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(xm,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"No Iniciado"})]},"status")]};case 10:return{title:"Assinatura da Matriz de Risco",subtitle:"Assinatura da Avaliao de Riscos",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 11:return{title:"Cotao",subtitle:"Solicitao de Preos",icon:e.jsx(ah,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-gray-100 text-gray-800 px-3 py-1",children:[e.jsx(ah,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"No Iniciado"})]},"status")]};case 15:return{title:"Anlise Jurdica Prvia",subtitle:"Anlise Preliminar da Assessoria Jurdica (NAJ)",icon:e.jsx(pd,{className:"w-6 h-6 text-blue-600"}),statusBadges:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(pd,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Aguardando Anlise"})]},"status")]};case 16:return{title:"Cumprimento de Ressalvas",subtitle:"Correes ps Anlise Jurdica Prvia",icon:e.jsx(qs,{className:"w-6 h-6 text-orange-600"}),statusBadges:[e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Correo"})]},"status")]};case 13:return{title:"Assinatura do TR",subtitle:"Assinatura Digital do Termo de Referncia",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 20:return{title:"Assinatura do Edital",subtitle:"Assinatura Digital do Edital",icon:e.jsx(Oo,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[e.jsxs(oe,{className:"bg-purple-100 text-purple-800 px-3 py-1",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Verso Final"})]},"versao"),e.jsxs(oe,{className:"bg-orange-100 text-orange-800 px-3 py-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Assinatura"})]},"status")]};case 21:return{title:"Publicao",subtitle:"Publicao Oficial do Edital",icon:e.jsx(oh,{className:"w-6 h-6 text-green-600"}),statusBadges:[e.jsxs(oe,{className:"bg-green-100 text-green-800 px-3 py-1",children:[e.jsx(oh,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Pendente de Publicao"})]},"status")]};default:return{title:T.nome,subtitle:"",icon:e.jsx($e,{className:"w-6 h-6 text-indigo-600"}),statusBadges:[]}}},[x,f]=m.useState(!1),[v,p]=m.useState(t),[y,g]=m.useState(null),[b,j]=m.useState(!1),[N,w]=m.useState(!1),[E,D]=m.useState(!1),[P,_]=m.useState(!1),[M,k]=m.useState({numeroDFD:"DFD 006/2025",objeto:"Aquisio de equipamentos de informtica para modernizao dos sistemas da GSP",regimeTramitacao:"ORDINARIO",areaSetorDemandante:"GSP - Gerncia de Solues e Projetos",responsavelElaboracao:"Yasmin Pissolati Mattos Bretz",dataElaboracao:"2025-01-15",prioridade:"MEDIO",status:"aprovado",aprovadoPor:"Yasmin Pissolati Mattos Bretz",aprovadoData:"2025-01-15T10:00:00Z"}),[$,H]=m.useState(!1),[Y,K]=m.useState(!1),[z,O]=m.useState(!1),[S,L]=m.useState(null),U=Ip("(max-width: 768px)"),J=Ip("(min-width: 769px) and (max-width: 1024px)");Ip("(min-width: 1025px)"),m.useEffect(()=>{const T=te=>{te.key==="Escape"&&($&&H(!1),z&&O(!1),Y&&K(!1))};return($||z||Y)&&document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[$,z,Y]);const{isGerenciaPai:re,podeEditarFluxo:le,podeExcluirEtapa:Ne,podeEditarCard:ke}=$a(),{toast:he}=Kt(),ae=Jx(po(Zl),po(Ql,{coordinateGetter:nf}));m.useEffect(()=>{x||(p(t),D(!1))},[t,x]);const ve=T=>{switch(T){case"concluido":return{icon:e.jsx(Re,{className:"w-4 h-4 text-green-600"}),label:"Concludo",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-200"};case"andamento":return{icon:e.jsx(ti,{className:"w-4 h-4 text-blue-600"}),label:"Em Andamento",bgColor:"bg-blue-100",textColor:"text-blue-700",borderColor:"border-blue-200"};case"pendente":return{icon:e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"};case"atrasado":return{icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),label:"Atrasado",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-200"};default:return{icon:e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),label:"Pendente",bgColor:"bg-gray-100",textColor:"text-gray-700",borderColor:"border-gray-200"}}},xe=T=>{T.id===1||T.id===2||T.id===3||T.id===4?(L(T),H(!0)):T.id===5||T.id===6||T.id===7||T.id===8||T.id===9||T.id===10||T.id===13||T.id===20?(L(T),O(!0)):T.id===15||T.id===16||T.id===21?(L(T),H(!0)):T.nome==="Consolidao da Demanda"?(L(T),K(!0)):(n(T),i(!0))},ne=()=>{i(!1),n(null),c(null),d()},Ae=()=>{f(!0),p([...t]),D(!1)},je=()=>{f(!1),p([...t]),D(!1),g(null),j(!1)},Ue=async()=>{_(!0);try{if(v.length<17){he({title:"Erro ao salvar",description:"O fluxo deve ter pelo menos 17 etapas.",variant:"destructive"}),_(!1);return}await new Promise(T=>setTimeout(T,1e3)),console.log("Salvando alteraes:",v),he({title:"Alteraes salvas",description:"O fluxo foi atualizado com sucesso."}),f(!1),D(!1)}catch{he({title:"Erro ao salvar",description:"No foi possvel salvar as alteraes.",variant:"destructive"})}finally{_(!1)}},de=T=>{const{active:te,over:fe}=T;te.id!==fe.id&&p(Ie=>{const X=Ie.findIndex(ie=>ie.id===te.id),me=Ie.findIndex(ie=>ie.id===fe.id),V=ec(Ie,X,me);return D(!0),V})},Te=T=>{g(T),w(!1),j(!0)},Pe=T=>{if(v.length<=17){he({title:"No  possvel excluir",description:"O fluxo deve manter pelo menos 17 etapas.",variant:"destructive"});return}p(te=>{const fe=te.filter(Ie=>Ie.id!==T);return D(!0),fe}),he({title:"Etapa excluda",description:"A etapa foi removida do fluxo."})},A=(T,te)=>{if(te){const fe={id:Date.now(),...te.template};p(Ie=>{const X=[...Ie];return X.splice(T-1,0,fe),D(!0),X}),he({title:"Card adicionado",description:`O card "${te.nome}" foi adicionado ao fluxo.`})}else{if(v.length>=17){const X={id:Date.now(),nome:"",nomeCompleto:"",status:"pendente",prazoPrevisao:"",gerencia:"",responsavel:"",cargo:""};g(X),w(!0),j(!0);return}const fe=17-v.length,Ie=[];for(let X=0;X<fe;X++){const me={id:Date.now()+X,nome:`Etapa ${v.length+X+1}`,nomeCompleto:`Etapa ${v.length+X+1}`,status:"pendente",prazoPrevisao:"1 dia til",gerencia:"A definir",responsavel:"A definir",cargo:"A definir"};Ie.push(me)}p(X=>{const me=[...X,...Ie];return D(!0),me}),he({title:"Etapas adicionadas",description:`${fe} etapas foram adicionadas para completar o fluxo de 17 etapas.`})}},R=T=>{p(N?te=>{const fe=[...te,T];return D(!0),fe}:te=>{const fe=te.map(Ie=>Ie.id===T.id?T:Ie);return D(!0),fe}),j(!1),g(null),w(!1)},q=T=>ke(T.gerencia,T.id,a),W=T=>{T.documentoUrl&&window.open(T.documentoUrl,"_blank")},I=T=>{if(T.documentoUrl){const te=document.createElement("a");te.href=T.documentoUrl,te.download=T.documento||"documento",te.click()}},ee=T=>{k(fe=>({...fe,...T}));const te=v.map(fe=>fe.id===1?{...fe,status:"concluido"}:fe.id===2?{...fe,status:"andamento"}:fe);p(te)},ue=()=>{const T=v.map(te=>te.id===2?{...te,status:"concluido"}:te.id===3?{...te,status:"andamento"}:te);p(T)},G=T=>{k(te=>({...te,...T})),console.log("DFD Data saved:",T)},ge=()=>{console.log("Consolidao da Demanda concluda"),K(!1)},ye=T=>{console.log("Salvar Consolidao da Demanda:",T)},Me=T=>{console.log("ETP concludo:",T),O(!1);const te=v.map(fe=>fe.id===5?{...fe,status:"concluido"}:fe.id===6?{...fe,status:"andamento"}:fe);p(te),he({title:"ETP Concludo",description:"O Estudo Tcnico Preliminar foi finalizado com sucesso."})},et=T=>{console.log("Salvar ETP:",T),he({title:"ETP Salvo",description:"O rascunho do ETP foi salvo com sucesso."})},se=T=>{console.log("Matriz de Risco concluda:",T);const te=v.map(fe=>fe.id===9?{...fe,status:"concluido"}:fe.id===10?{...fe,status:"concluido"}:fe.id===11?{...fe,status:"andamento"}:fe);p(te),he({title:"Matriz de Risco Concluda",description:"A assinatura da Matriz de Risco foi finalizada com sucesso."})},ze=T=>{console.log("Salvar Matriz de Risco:",T),he({title:"Matriz de Risco Salva",description:"O rascunho da Matriz de Risco foi salvo com sucesso."})},_e=T=>{console.log("TR concludo:",T);const te=v.map(fe=>fe.id===12?{...fe,status:"concluido"}:fe.id===13?{...fe,status:"concluido"}:fe.id===14?{...fe,status:"andamento"}:fe);p(te),he({title:"TR Concludo",description:"A assinatura do Termo de Referncia foi finalizada com sucesso."})},Q=T=>{console.log("Salvar TR:",T),he({title:"TR Salvo",description:"O rascunho do Termo de Referncia foi salvo com sucesso."})},we=T=>{console.log("Edital concludo:",T);const te=v.map(fe=>fe.id===19?{...fe,status:"concluido"}:fe.id===20?{...fe,status:"concluido"}:fe.id===21?{...fe,status:"andamento"}:fe);p(te),he({title:"Edital Concludo",description:"A assinatura do Edital foi finalizada com sucesso."})},F=T=>{console.log("Salvar Edital:",T),he({title:"Edital Salvo",description:"O rascunho do Edital foi salvo com sucesso."})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fluxo Completo do Processo"}),e.jsx("p",{className:"text-gray-600",children:"Acompanhe todas as etapas do planejamento de contratao"})]}),re&&!x&&e.jsxs(C,{onClick:Ae,variant:"outline",className:"ml-4 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Editar Fluxo"]})]}),x&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Modo de Edio Ativo - Voc pode arrastar, editar e gerenciar as etapas"})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-500",style:{width:`${t.filter(T=>T.status==="concluido").length/t.length*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[t.filter(T=>T.status==="concluido").length," de ",t.length," etapas concludas"]})]})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 p-4",children:[x?e.jsx(sf,{sensors:ae,collisionDetection:Qx,onDragEnd:de,modifiers:[iQ],children:e.jsx(af,{items:v.map(T=>T.id),strategy:KJ,children:v.map(T=>e.jsx(uQ,{etapa:T,onEdit:Te,onDelete:Pe,canDelete:Ne(T.status)},T.id))})}):t.map((T,te)=>{const fe=ve(T.status);return q(T),T.id===4&&console.log("Card 4 - Gerncia:",T.gerencia),e.jsx("div",{className:"w-full h-full",children:e.jsxs(ms.div,{className:`border-2 rounded-xl transition-all duration-300 ${fe.bgColor} hover:shadow-md bg-white relative w-full h-full min-h-[260px] ${R4(T.status,T.dataInicio,T.prazoPrevisao)} ${T.status==="concluido"?"ring-2 ring-green-200 shadow-lg":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.05},children:[T.status==="concluido"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),T.status==="pendente"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"})})}),T.status==="andamento"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(ti,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"p-4 h-full flex flex-col overflow-visible",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${T.status==="concluido"?"bg-gradient-to-br from-green-500 to-green-600 shadow-lg":T.status==="andamento"?"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg":T.status==="atrasado"?"bg-gradient-to-br from-red-500 to-red-600 shadow-lg":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:T.id}),e.jsx("div",{className:"flex items-center gap-1",children:fe.icon})]}),e.jsx("h3",{className:`font-bold text-center text-base mb-2 leading-tight ${T.status==="concluido"?"text-green-800":T.status==="andamento"?"text-blue-800":T.status==="atrasado"?"text-red-800":"text-gray-900"}`,children:T.nome}),e.jsx("div",{className:"text-xs text-gray-700 text-center mb-2 min-h-[1.5rem] leading-tight font-semibold px-1 bg-gray-50 py-1 rounded",children:e.jsx("span",{className:"block",children:T.gerencia||"Gerncia no definida"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 6v6l4 2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:T.prazoPrevisao})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsxs(oe,{className:`${fe.bgColor} ${fe.textColor} border text-xs px-3 py-1 ${T.status==="concluido"?"ring-1 ring-green-300 font-semibold":""}`,children:[fe.label,T.status==="concluido"&&e.jsx("span",{className:"ml-1",children:""})]})}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>xe(T),className:"w-full text-xs mt-auto",children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})]})]})},T.id)}),x&&e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(bQ,{etapas:v,onAdicionar:A,className:"h-32"})})]})}),e.jsx(cQ,{etapa:r,isOpen:o,onClose:ne,gerenciaCriadora:a,onConcluirEtapa:T=>{console.log("Concluir etapa:",T.id)},onEditarEtapa:T=>{console.log("Editar etapa:",T.id)},onExcluirEtapa:T=>{console.log("Excluir etapa:",T.id)},onSubstituirDocumento:T=>{console.log("Substituir documento da etapa:",T.id)},onVisualizarDocumento:W,onBaixarDocumento:I,onAdicionarMembro:(T,te)=>{console.log("Adicionar membro  etapa:",T.id,te)},onRemoverMembro:(T,te)=>{console.log("Remover membro da etapa:",T.id,te)},onSalvarObservacao:(T,te)=>{console.log("Salvar observao na etapa:",T.id,te)}}),e.jsx(gQ,{etapa:y,isOpen:b,onClose:()=>{j(!1),g(null),w(!1)},onSave:R,isNovaEtapa:N}),e.jsx(jQ,{isVisible:x,onCancelar:je,onSalvar:Ue,temAlteracoes:E,isLoading:P}),$&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{H(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":U?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",onDoubleClick:()=>{S&&[1,2,3,4,15,16,21].includes(S.id)&&c(l===S.id?null:S.id)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&h(S).icon,e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:S?h(S).title:"Detalhes da Etapa"}),S&&h(S).subtitle&&e.jsx("p",{className:"text-sm text-slate-500",children:h(S).subtitle})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&h(S).statusBadges,S&&[1,2,3,4,15,16,21].includes(S.id)&&e.jsx("button",{onClick:()=>c(l===S.id?null:S.id),title:l===S.id?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===S.id?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{H(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsx("div",{className:`${u?"h-[calc(100vh-72px)]":U?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:(S==null?void 0:S.id)===1?e.jsx("div",{className:"pb-6",children:e.jsx(qQ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:!0,gerenciaCriadora:a})}):(S==null?void 0:S.id)===2?e.jsx(XQ,{processoId:"1",etapaId:S.id,onComplete:ue,onSave:G,canEdit:q(S)}):(S==null?void 0:S.id)===3?e.jsx(sZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),gerenciaCriadora:a}):(S==null?void 0:S.id)===4?e.jsx(nZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),gerenciaCriadora:a,initialData:M}):(S==null?void 0:S.id)===15?e.jsx(oZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S)}):(S==null?void 0:S.id)===16?e.jsx(iZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S),initialData:M}):(S==null?void 0:S.id)===21?e.jsx(lZ,{processoId:"1",etapaId:S.id,onComplete:ee,onSave:G,canEdit:q(S)}):null})]})]}),z&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{O(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":U?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",onDoubleClick:()=>{S&&[5,6,7,8,9,10,13,20].includes(S.id)&&c(l===S.id?null:S.id)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&h(S).icon,e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:S?h(S).title:"Detalhes da Etapa"}),S&&h(S).subtitle&&e.jsx("p",{className:"text-sm text-slate-500",children:h(S).subtitle})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&h(S).statusBadges,S&&[5,6,7,8,9,10,13,20].includes(S.id)&&e.jsx("button",{onClick:()=>c(l===S.id?null:S.id),title:l===S.id?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===S.id?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{O(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsxs("div",{className:`${u?"h-[calc(100vh-72px)]":U?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:[(S==null?void 0:S.id)===5&&e.jsx(uZ,{processoId:"1",etapaId:S.id.toString(),onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===6&&e.jsx(xZ,{processoId:"1",etapaId:S.id,onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===7&&e.jsx(fZ,{processoId:"1",etapaId:S.id,onComplete:Me,onSave:et,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===8&&e.jsx(gZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===9&&e.jsx(vZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S)}),(S==null?void 0:S.id)===10&&e.jsx(yZ,{processoId:"1",etapaId:S.id,onComplete:se,onSave:ze,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===13&&e.jsx(CZ,{processoId:"1",etapaId:S.id,onComplete:_e,onSave:Q,canEdit:q(S),gerenciaCriadora:a}),(S==null?void 0:S.id)===20&&e.jsx(PZ,{processoId:"1",etapaId:S.id,onComplete:we,onSave:F,canEdit:q(S),gerenciaCriadora:a})]})]})]}),Y&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-200 ${u?"bg-black/60":"bg-black/50"}`,onDoubleClick:()=>{K(!1),c(null),d()}}),e.jsxs("div",{className:`relative transition-all duration-200 bg-white rounded-lg shadow-xl border overflow-hidden ${u?"w-screen h-screen max-w-none max-h-none":U?"w-full max-w-[96vw] max-h-[92vh]":J?"w-full max-w-[90vw] max-h-[88vh]":"w-full max-w-[75vw] max-h-[85vh]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qt,{className:"w-6 h-6 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Consolidao da Demanda"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Notificao e consolidao de setores interessados"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Em Andamento"})]}),e.jsx("button",{onClick:()=>c(l===0?null:0),title:l===0?"Minimizar":"Expandir",className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-80 hover:opacity-100 transition-all duration-200 flex items-center justify-center",children:l===0?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 9h6V3"}),e.jsx("path",{d:"M9 15H3v6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3.5 w-3.5 text-gray-600",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("button",{onClick:()=>{K(!1),c(null),d()},className:"w-7 h-7 rounded-full bg-gray-100/80 border border-gray-200/60 shadow-sm opacity-60 hover:opacity-80 transition-all duration-200 flex items-center justify-center",children:e.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-500"})})]})]}),e.jsx("div",{className:`${u?"h-[calc(100vh-72px)]":U?"max-h-[calc(92vh-120px)]":J?"max-h-[calc(88vh-120px)]":"max-h-[calc(85vh-120px)]"} overflow-y-auto overflow-x-hidden px-6 py-4`,children:(S==null?void 0:S.nome)==="Consolidao da Demanda"&&e.jsx(cZ,{processoId:"1",etapaId:S.id,onComplete:ge,onSave:ye,canEdit:q(S)})})]})]})]})}function kZ({processo:t,pendenciasUsuario:s=[],proximasEtapas:a=[]}){const r=o=>{const i={alta:{className:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(xt,{className:"w-3 h-3"})},media:{className:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Fe,{className:"w-3 h-3"})},baixa:{className:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})}};return i[o]||i.media},n=o=>{const i={assinar:{className:"bg-blue-600 hover:bg-blue-700",label:"Assinar"},analisar:{className:"bg-purple-600 hover:bg-purple-700",label:"Analisar"},corrigir:{className:"bg-red-600 hover:bg-red-700",label:"Corrigir"},aprovar:{className:"bg-green-600 hover:bg-green-700",label:"Aprovar"}};return i[o]||i.analisar};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-2",children:e.jsxs(Lt,{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-blue-500"}),"Informaes do Processo"]})}),e.jsxs(Be,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(Pt,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Data de Criao"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.dataCriacao})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(ht,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Criador"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.criador})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx($s,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Gerncia Responsvel"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:t.gerenciaResponsavel})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(Fe,{className:"w-3 h-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dias teis Consumidos"}),e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:[t.diasUteisConsumidos," dias"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Situao Atual"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.situacaoAtual})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Etapa Atual"}),e.jsx(oe,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs",children:t.etapaAtual})]})]})]})]}),s.length>0&&e.jsxs(Ve,{className:"bg-white shadow-sm border-orange-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ro,{className:"w-5 h-5 text-orange-500"}),"Suas Pendncias",e.jsx(oe,{className:"bg-orange-100 text-orange-800 text-xs",children:s.length})]})}),e.jsx(Be,{className:"space-y-3",children:s.map(o=>{const i=r(o.prioridade),l=n(o.tipo);return e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:o.descricao}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Pt,{className:"w-3 h-3"}),"Prazo: ",o.prazo]})]}),e.jsxs(oe,{className:`${i.className} border text-xs`,children:[i.icon,e.jsx("span",{className:"ml-1 capitalize",children:o.prioridade})]})]}),e.jsxs(C,{size:"sm",className:`w-full text-white ${l.className} text-xs`,children:[l.label,e.jsx(hd,{className:"w-3 h-3 ml-1"})]})]},o.id)})})]}),a.length>0&&e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsxs(Lt,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(hd,{className:"w-5 h-5 text-green-500"}),"Prximas Etapas"]})}),e.jsx(Be,{className:"space-y-3",children:a.map((o,i)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 border-2 border-green-300 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs font-bold text-green-700",children:i+1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:o.nome}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"}),o.responsavel]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"w-3 h-3"}),o.previsao]})]})]})]},o.id))})]}),e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200",children:[e.jsx(_t,{className:"pb-3",children:e.jsx(Lt,{className:"text-lg font-semibold text-gray-900",children:"Aes Rpidas"})}),e.jsxs(Be,{className:"space-y-3",children:[e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Exportar Relatrio"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(ro,{className:"w-4 h-4 mr-2"}),"Configurar Alertas"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Alterar Responsvel"]})]})]})]})}function TZ(){const{user:t,setUser:s}=kt(),a=r=>{s(r)};return e.jsxs(Ve,{className:"mb-6 border-blue-200 bg-blue-50/30",children:[e.jsxs(_t,{className:"pb-3",children:[e.jsxs(Lt,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5 text-blue-600"}),"Simular Usurio (Para Teste de Permisses)"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Altere o usurio para testar as diferentes permisses por gerncia"})]}),e.jsxs(Be,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:jd.map(r=>e.jsx(C,{variant:(t==null?void 0:t._id)===r._id?"default":"outline",className:`
                p-4 h-auto text-left justify-start
                ${(t==null?void 0:t._id)===r._id?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-blue-50"}
              `,onClick:()=>a(r),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(ht,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate",children:r.nome}),e.jsx("p",{className:"text-xs opacity-75 truncate",children:r.cargo}),e.jsx(oe,{variant:"secondary",className:`
                      text-xs mt-1
                      ${(t==null?void 0:t._id)===r._id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}
                    `,children:r.gerencia})]})]})},r._id))}),t&&e.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Usurio ativo:"})," ",t.nome," - ",t.gerencia]})})]})]})}const RZ=[{id:"1",data:"25/01/2025",hora:"14:30",usuario:"Gabriel Miranda",cargo:"Analista de Contratos",acao:"visualizacao",descricao:"Visualizou os detalhes do processo",etapa:"Elaborao do ETP"},{id:"2",data:"24/01/2025",hora:"16:45",usuario:"Leticia Bonfim Guilherme",cargo:"Engenheiro",acao:"envio",descricao:"Enviou ETP para anlise",documento:"ETP_012_2025_v2.pdf",etapa:"Elaborao do ETP"},{id:"3",data:"23/01/2025",hora:"10:15",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"comentario",descricao:"Adicionou comentrio sobre especificaes tcnicas",detalhes:"Necessrio revisar as especificaes do item 3.2 conforme norma ABNT NBR 15943.",etapa:"Elaborao do ETP"},{id:"4",data:"20/01/2025",hora:"09:20",usuario:"Andressa Sterfany Santos da Silva",cargo:"Diretora",acao:"aprovacao",descricao:"Aprovou o DFD",documento:"DFD_012_2025_v1.pdf",etapa:"Aprovao do DFD"},{id:"5",data:"18/01/2025",hora:"15:30",usuario:"Eng. Joo Santos",cargo:"Engenheiro Snior",acao:"analise",descricao:"Concluiu anlise tcnica do DFD",detalhes:"Anlise aprovada. Documento est em conformidade com os requisitos tcnicos.",etapa:"Anlise do DFD"},{id:"6",data:"15/01/2025",hora:"11:00",usuario:"Lucas Moreira Brito",cargo:"Mdico Coordenador",acao:"correcao",descricao:"Solicitou correes no DFD",detalhes:"Ajustar quantidades dos itens 2.1 e 2.3 conforme demanda atualizada.",etapa:"Elaborao do DFD"},{id:"7",data:"10/01/2025",hora:"08:45",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"envio",descricao:"Enviou DFD para anlise",documento:"DFD_012_2025_v1.pdf",etapa:"Elaborao do DFD"},{id:"8",data:"05/01/2025",hora:"14:00",usuario:"Dr. Maria Silva",cargo:"Coordenadora",acao:"criacao",descricao:"Criou o processo DFD 012/2025",detalhes:"Processo criado para aquisio de equipamentos mdicos para UTI.",etapa:"Elaborao do DFD"}];function MZ({historico:t=RZ}){var a,r;const s=n=>{const o={criacao:{icon:e.jsx($e,{className:"w-4 h-4"}),color:"text-blue-600",bgColor:"bg-blue-100",label:"Criao"},envio:{icon:e.jsx(vs,{className:"w-4 h-4"}),color:"text-indigo-600",bgColor:"bg-indigo-100",label:"Envio"},analise:{icon:e.jsx(Qe,{className:"w-4 h-4"}),color:"text-purple-600",bgColor:"bg-purple-100",label:"Anlise"},aprovacao:{icon:e.jsx(Re,{className:"w-4 h-4"}),color:"text-green-600",bgColor:"bg-green-100",label:"Aprovao"},correcao:{icon:e.jsx(xt,{className:"w-4 h-4"}),color:"text-red-600",bgColor:"bg-red-100",label:"Correo"},assinatura:{icon:e.jsx(bl,{className:"w-4 h-4"}),color:"text-orange-600",bgColor:"bg-orange-100",label:"Assinatura"},comentario:{icon:e.jsx(no,{className:"w-4 h-4"}),color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Comentrio"},visualizacao:{icon:e.jsx(Qe,{className:"w-4 h-4"}),color:"text-gray-600",bgColor:"bg-gray-100",label:"Visualizao"}};return o[n]||o.visualizacao};return e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200",children:[e.jsxs(_t,{children:[e.jsxs(Lt,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6 text-blue-500"}),"Histrico de Aes"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe todas as movimentaes e aes realizadas no processo"})]}),e.jsxs(Be,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:t.map((n,o)=>{const i=s(n.acao),l=o===0;return e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`
                    w-12 h-12 rounded-full ${i.bgColor} 
                    flex items-center justify-center border-2 border-white shadow-sm flex-shrink-0
                    ${l?"ring-2 ring-blue-200":""}
                  `,children:e.jsx("div",{className:i.color,children:i.icon})}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:n.data}),e.jsx("p",{className:"text-xs text-gray-500",children:n.hora})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(oe,{className:`${i.bgColor} ${i.color} border-0 text-xs font-medium`,children:i.label}),n.etapa&&e.jsx(oe,{variant:"outline",className:"text-xs",children:n.etapa})]}),e.jsx("p",{className:"font-medium text-gray-900 text-sm mb-3",children:n.descricao}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ht,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:n.usuario}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500 text-xs",children:n.cargo})]})]}),n.detalhes&&e.jsx("div",{className:"mb-3 p-3 bg-white rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700 italic leading-relaxed",children:['"',n.detalhes,'"']})}),n.documento&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx($e,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 truncate",children:n.documento}),e.jsx(hd,{className:"w-3 h-3 text-blue-400 flex-shrink-0"})]})]},n.id)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Mostrando ",t.length," aes  ltima atualizao: ",(a=t[0])==null?void 0:a.data," s ",(r=t[0])==null?void 0:r.hora]})})]})]})}const IZ=[{id:"1",nome:"DFD_012_2025_v1.pdf",tipo:"pdf",tamanho:"2.4 MB",dataUpload:"05/01/2025",uploadPor:"Dr. Maria Silva",versao:"1.0",status:"aprovado",etapa:"Elaborao do DFD",descricao:"Documento de Formalizao de Demanda inicial"},{id:"2",nome:"ETP_012_2025_v2.pdf",tipo:"pdf",tamanho:"3.1 MB",dataUpload:"24/01/2025",uploadPor:"Leticia Bonfim Guilherme",versao:"2.0",status:"pendente",etapa:"Elaborao do ETP",descricao:"Estudo Tcnico Preliminar - verso atualizada"},{id:"3",nome:"Analise_Tecnica_DFD.pdf",tipo:"pdf",tamanho:"1.8 MB",dataUpload:"18/01/2025",uploadPor:"Eng. Joo Santos",versao:"1.0",status:"aprovado",etapa:"Anlise do DFD",descricao:"Relatrio de anlise tcnica do DFD"},{id:"4",nome:"Especificacoes_Tecnicas.xlsx",tipo:"xlsx",tamanho:"456 KB",dataUpload:"23/01/2025",uploadPor:"Dr. Maria Silva",versao:"1.1",status:"aprovado",etapa:"Elaborao do ETP",descricao:"Planilha com especificaes tcnicas detalhadas"},{id:"5",nome:"Parecer_Juridico_Preliminar.pdf",tipo:"pdf",tamanho:"1.2 MB",dataUpload:"20/01/2025",uploadPor:"Guilherme de Carvalho Silva",versao:"1.0",status:"aprovado",etapa:"Aprovao do DFD",descricao:"Parecer jurdico sobre a demanda"},{id:"6",nome:"Fotos_Equipamentos.zip",tipo:"img",tamanho:"8.7 MB",dataUpload:"15/01/2025",uploadPor:"Dallas Kelson Francisco de Souza",versao:"1.0",status:"aprovado",etapa:"Elaborao do DFD",descricao:"Imagens dos equipamentos atuais para referncia"}];function OZ({documentos:t=IZ}){const[s,a]=m.useState("todas"),[r,n]=m.useState("todos"),o=d=>{const h={pdf:e.jsx($e,{className:"w-5 h-5 text-red-500"}),doc:e.jsx($e,{className:"w-5 h-5 text-blue-500"}),xlsx:e.jsx($e,{className:"w-5 h-5 text-green-500"}),img:e.jsx($e,{className:"w-5 h-5 text-purple-500"})};return h[d]||h.pdf},i=d=>{const h={aprovado:{className:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Re,{className:"w-3 h-3"})},pendente:{className:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:e.jsx(Fe,{className:"w-3 h-3"})},rejeitado:{className:"bg-red-100 text-red-800 border-red-300",icon:e.jsx(xt,{className:"w-3 h-3"})}};return h[d]||h.pendente},l=t.reduce((d,h)=>(d[h.etapa]||(d[h.etapa]=[]),d[h.etapa].push(h),d),{}),c=Object.keys(l),u=t.filter(d=>{const h=s==="todas"||d.etapa===s,x=r==="todos"||d.status===r;return h&&x});return e.jsxs(Ve,{className:"bg-white shadow-sm border-gray-200",children:[e.jsxs(_t,{children:[e.jsxs(Lt,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nh,{className:"w-6 h-6 text-blue-500"}),"Documentos Relacionados"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Todos os documentos organizados por etapa do processo"})]}),e.jsxs(Be,{children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F4,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:s,onChange:d=>a(d.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1 bg-white",children:[e.jsx("option",{value:"todas",children:"Todas as etapas"}),c.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:r,onChange:d=>n(d.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1 bg-white",children:[e.jsx("option",{value:"todos",children:"Todos os status"}),e.jsx("option",{value:"aprovado",children:"Aprovado"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"rejeitado",children:"Rejeitado"})]})}),e.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[u.length," documento",u.length!==1?"s":""," encontrado",u.length!==1?"s":""]})]}),e.jsxs(Va,{defaultValue:"por-etapa",className:"w-full",children:[e.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[e.jsx(Vt,{value:"por-etapa",children:"Por Etapa"}),e.jsx(Vt,{value:"lista-completa",children:"Lista Completa"})]}),e.jsx(Gt,{value:"por-etapa",className:"mt-6",children:e.jsx("div",{className:"space-y-6",children:c.map(d=>{const h=l[d];return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(nh,{className:"w-4 h-4 text-blue-500"}),d,e.jsxs(oe,{variant:"outline",className:"ml-2 text-xs",children:[h.length," documento",h.length!==1?"s":""]})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:h.map(x=>{const f=i(x.status);return e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:o(x.tipo)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:x.nome}),x.descricao&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.descricao})]}),e.jsxs(oe,{className:`${f.className} border text-xs ml-4 flex-shrink-0`,children:[f.icon,e.jsx("span",{className:"ml-1 capitalize",children:x.status})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"w-3 h-3"}),x.dataUpload]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"}),x.uploadPor]}),e.jsxs("div",{children:["v",x.versao,"  ",x.tamanho]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",className:"flex items-center gap-1 text-xs",children:[e.jsx(Qe,{className:"w-3 h-3"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",className:"flex items-center gap-1 text-xs",children:[e.jsx(jt,{className:"w-3 h-3"}),"Baixar"]})]})]})]})},x.id)})})]},d)})})}),e.jsx(Gt,{value:"lista-completa",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:u.map(d=>{const h=i(d.status);return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:o(d.tipo)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-2 leading-tight",children:d.nome}),d.descricao&&e.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed",children:d.descricao})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(oe,{variant:"outline",className:"text-xs",children:d.etapa}),e.jsxs(oe,{className:`${h.className} border text-xs`,children:[h.icon,e.jsx("span",{className:"ml-1 capitalize",children:d.status})]})]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-3 h-3"}),e.jsx("span",{children:d.dataUpload})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:d.uploadPor})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-3 h-3"}),e.jsxs("span",{children:["v",d.versao,"  ",d.tamanho]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{size:"sm",variant:"outline",className:"flex-1 flex items-center justify-center gap-1 text-xs",children:[e.jsx(Qe,{className:"w-3 h-3"}),"Visualizar"]}),e.jsxs(C,{size:"sm",variant:"outline",className:"flex-1 flex items-center justify-center gap-1 text-xs",children:[e.jsx(jt,{className:"w-3 h-3"}),"Baixar"]})]})]},d.id)})})})]})]})]})}function zZ(){const t=m.useRef(null),[s,a]=m.useState(!1);return m.useEffect(()=>{const r=()=>{if(t.current){const n=t.current,o=n.scrollWidth>n.clientWidth;a(o)}};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),{elementRef:t,isTruncated:s}}function P2({icon:t,label:s,value:a,iconBgColor:r,iconColor:n,className:o=""}){const{elementRef:i,isTruncated:l}=zZ(),c=e.jsx(ms.div,{className:`rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 ${o}`,whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[e.jsx("div",{className:`p-2.5 rounded-xl ring-1 ring-black/5 ${r}`,children:e.jsx("div",{className:`w-6 h-6 ${n}`,children:t})}),e.jsxs("div",{className:"flex-1 min-w-0 text-center",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:s}),e.jsx("p",{ref:i,className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:a})]})]})});return l?e.jsx(St,{children:e.jsxs(Nt,{delayDuration:300,children:[e.jsx(wt,{asChild:!0,children:c}),e.jsx(bt,{side:"top",className:"bg-neutral-900 text-white px-3 py-1.5 rounded-md text-sm z-50",children:e.jsx("p",{children:a})})]})}):c}function FZ(t){if(t.includes("Processo administrativo"))return t;const s=t.match(/(?:DFD|ETP|TR)\s*(\d+)\/(\d+)/);if(s){const a=s[1],r=s[2];return`Processo administrativo ${a}/${r}`}return t}function _Z(t){return FZ(t)}function Jj({value:t,onValueChange:s,placeholder:a="Selecione as gerncias",disabled:r=!1,required:n=!1,filterByTipo:o,className:i,excludeValues:l=[]}){const{gerencias:c,loading:u,error:d}=Hj(),h=(o?c.filter(p=>p.tipo===o):c).filter(p=>!l.includes(p.nomeCompleto)),x=p=>{t.includes(p)?s(t.filter(y=>y!==p)):s([...t,p])},f=p=>{s(t.filter(y=>y!==p))};if(u)return e.jsx("div",{className:"space-y-2",children:e.jsx(Fh,{className:"h-10 w-full"})});if(d)return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsxs("span",{children:["Erro ao carregar gerncias: ",d]})]}),e.jsx(Fh,{className:"h-10 w-full"})]});const v=p=>{const y=c.find(g=>g.nomeCompleto===p);return y?y.nomeCompleto:p};return e.jsxs("div",{className:`space-y-2 ${i}`,children:[e.jsxs(Al,{children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(C,{variant:"outline",role:"combobox",disabled:r,className:"w-full justify-between h-12 border-gray-300 focus:border-green-500 focus:ring-green-200",children:[e.jsx("span",{className:"truncate",children:t.length===0?a:t.length===1?v(t[0]):`${t.length} gerncia${t.length>1?"s":""} selecionada${t.length>1?"s":""}`}),e.jsx(Ll,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ci,{className:"w-full p-0",align:"start",children:e.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:h.length===0?e.jsx("div",{className:"text-sm text-gray-500 p-2",children:"Nenhuma gerncia disponvel"}):e.jsx("div",{className:"space-y-1",children:h.map(p=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded-md cursor-pointer",onClick:()=>x(p.nomeCompleto),children:[e.jsx($t,{checked:t.includes(p.nomeCompleto),onChange:()=>x(p.nomeCompleto)}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-medium",children:p.nomeCompleto})})]},p.id))})})})]}),t.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.map(p=>e.jsxs(oe,{variant:"secondary",className:"flex items-center gap-1 bg-blue-100 text-blue-800 hover:bg-blue-200",children:[v(p),e.jsx("button",{type:"button",onClick:()=>f(p),className:"ml-1 hover:bg-blue-300 rounded-full p-0.5 transition-colors",children:e.jsx(Yt,{className:"w-3 h-3"})})]},p))}),n&&t.length===0&&e.jsx("p",{className:"text-sm text-red-600",children:"Seleo de gerncias  obrigatria"})]})}const A2={id:"1",numeroProcesso:"Processo administrativo 012/2025",objeto:"Aquisio de Equipamentos Mdicos para UTI",status:"em_andamento",prazoFinal:"30/01/2025",gerenciaResponsavel:"GSL - Gerncia de Suprimentos e Logstica",dataCriacao:"05/01/2025",criador:"Dr. Maria Silva",situacaoAtual:"Aguardando elaborao do ETP",etapaAtual:"Elaborao do ETP",diasUteisConsumidos:15,gerenciasEnvolvidas:["GUE - Gerncia de Urgncia e Emergncia","GFC - Gerncia Financeira e Contbil"],regimeTramitacao:"Ordinrio"},LZ=[{id:"1",tipo:"analisar",descricao:"Analisar ETP enviado para aprovao",prazo:"28/01/2025",prioridade:"alta"},{id:"2",tipo:"assinar",descricao:"Assinar documento de consolidao da demanda",prazo:"30/01/2025",prioridade:"media"}],$Z=[{id:"1",nome:"Anlise do ETP",responsavel:"Lucas Moreira Brito",previsao:"29/01/2025"},{id:"2",nome:"Aprovao do ETP",responsavel:"Dir. Roberto Alves",previsao:"02/02/2025"},{id:"3",nome:"Elaborao da Matriz de Risco",responsavel:"Dr. Luiza Santos",previsao:"05/02/2025"}],VZ=t=>{const s=[{id:1,nome:"Elaborao do DFD",nomeCompleto:"Elaborao do DFD",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"",cargo:"",gerencia:"GSP - Gerncia de Solues e Projetos"},{id:2,nome:"Aprovao do DFD",nomeCompleto:"Aprovao do DFD",status:"pendente",prazoPrevisao:"3 dias teis",responsavel:"",cargo:"",gerencia:"GSL - Gerncia de Suprimentos e Logstica"},{id:3,nome:"Assinatura do DFD",nomeCompleto:"Assinatura do DFD",status:"pendente",prazoPrevisao:"3 dias teis",responsavel:"",cargo:"",gerencia:"SE - Secretaria Executiva"},{id:4,nome:"Despacho do DFD",nomeCompleto:"Despacho do DFD",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"",cargo:"",gerencia:""},{id:5,nome:"Elaborao do ETP",nomeCompleto:"Elaborao do ETP",status:"pendente",prazoPrevisao:"10 dias teis",responsavel:"",cargo:"",gerencia:""},{id:6,nome:"Assinatura do ETP",nomeCompleto:"Assinatura do ETP",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"",cargo:"",gerencia:""},{id:7,nome:"Despacho do ETP",nomeCompleto:"Despacho do ETP",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"",cargo:"",gerencia:""},{id:8,nome:"Elaborao da Matriz de Risco",nomeCompleto:"Elaborao da Matriz de Risco",status:"pendente",prazoPrevisao:"7 dias teis",responsavel:"",cargo:"",gerencia:""},{id:9,nome:"Aprovao da Matriz de Risco",nomeCompleto:"Aprovao da Matriz de Risco",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"",cargo:"",gerencia:""},{id:10,nome:"Assinatura da Matriz de Risco",nomeCompleto:"Assinatura da Matriz de Risco",status:"pendente",prazoPrevisao:"15 dias teis",responsavel:"",cargo:"",gerencia:""},{id:11,nome:"Cotao",nomeCompleto:"Cotao",status:"pendente",prazoPrevisao:"2 dias teis",responsavel:"",cargo:"",gerencia:""},{id:12,nome:"Elaborao do Termo de Referncia (TR)",nomeCompleto:"Elaborao do Termo de Referncia (TR)",status:"pendente",prazoPrevisao:"10 dias teis",responsavel:"",cargo:"",gerencia:""},{id:13,nome:"Assinatura do TR",nomeCompleto:"Assinatura do TR",status:"pendente",prazoPrevisao:"5 dias teis",responsavel:"",cargo:"",gerencia:""},{id:14,nome:"Elaborao do Edital",nomeCompleto:"Elaborao do Edital",status:"pendente",prazoPrevisao:"3 dias teis",responsavel:"",cargo:"",gerencia:""},{id:15,nome:"Anlise Jurdica Prvia",nomeCompleto:"Anlise Jurdica Prvia",status:"pendente",prazoPrevisao:"20 dias teis",responsavel:"",cargo:"",gerencia:""},{id:16,nome:"Cumprimento de Ressalvas",nomeCompleto:"Cumprimento de Ressalvas",status:"pendente",prazoPrevisao:"10 dias teis",responsavel:"",cargo:"",gerencia:""},{id:17,nome:"Elaborao do Parecer Jurdico",nomeCompleto:"Elaborao do Parecer Jurdico",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"",cargo:"",gerencia:""},{id:18,nome:"Cumprimento de Ressalvas ps Parecer Jurdico",nomeCompleto:"Cumprimento de Ressalvas ps Parecer Jurdico",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"",cargo:"",gerencia:""},{id:19,nome:"Aprovao Jurdica",nomeCompleto:"Aprovao Jurdica",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"",cargo:"",gerencia:""},{id:20,nome:"Assinatura do Edital",nomeCompleto:"Assinatura do Edital",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"",cargo:"",gerencia:""},{id:21,nome:"Publicao",nomeCompleto:"Publicao",status:"pendente",prazoPrevisao:"1 dia til",responsavel:"",cargo:"",gerencia:""}];return t?s:s.map((a,r)=>r<1?{...a,status:"concluido",responsavel:"Dr. Maria Silva",cargo:"Gerente de Recursos Humanos",gerencia:"Gerncia de Recursos Humanos"}:r===1?{...a,status:"andamento",responsavel:"Yasmin Pissolati Mattos Bretz",cargo:"Gerente de Solues e Projetos",gerencia:"Gerncia de Solues e Projetos"}:a)},GZ=["CI - Comisso de Implantao","SE - Secretaria Executiva","OUV - Ouvidoria","GSP - Gerncia de Solues e Projetos","GSL - Gerncia de Suprimentos e Logstica","GRH - Gerncia de Recursos Humanos","GUE - Gerncia de Urgncia e Emergncia","GLC - Gerncia de Licitaes e Contratos","GFC - Gerncia Financeira e Contbil","GRH - Gerncia de Recursos Humanos","GAP - Gerncia de Administrao e Patrimnio","GESP - Gerncia de Especialidades","NAJ - Assessoria Jurdica"],BZ=["Aguardando Elaborao do DFD","Elaborao do DFD","Anlise do DFD","Aprovao do DFD","Elaborao do ETP","Anlise do ETP","Aprovao do ETP","Elaborao da Matriz de Risco","Anlise da Matriz de Risco","Aprovao da Matriz de Risco","Elaborao do TR","Anlise do TR","Aprovao do TR","Elaborao do Edital","Anlise do Edital","Aprovao do Edital","Publicao","Anlise de Propostas","Aprovao Final","Concludo"],UZ=["Em Construo","Em Andamento","Finalizado","Cancelado"],HZ=[{value:"ordinario",label:"Ordinrio"},{value:"urgente",label:"Urgente"}];function D2(){fs();const{id:t}=ax(),[s,a]=m.useState(!1),[r,n]=m.useState({prazoFinal:"",gerenciaResponsavel:"",etapaAtual:"",diasUteisConsumidos:0,status:"",gerenciasEnvolvidas:[],regimeTramitacao:"",prioridade:""}),[o,i]=m.useState({}),[l,c]=m.useState(!1),[u,d]=m.useState(!1),h=t==null?void 0:t.startsWith("processo_"),f=h?{id:t||"novo",numeroProcesso:`Processo administrativo ${(()=>{const k=new Date().getFullYear(),$=[{numeroProcesso:"001/2024",ano:"2024"},{numeroProcesso:"045/2024",ano:"2024"},{numeroProcesso:"001/2024",ano:"2024"},{numeroProcesso:"002/2024",ano:"2024"},{numeroProcesso:"002/2023",ano:"2023"}].filter(z=>z.ano===k.toString());if($.length===0)return`001/${k}`;const H=$.map(z=>{const O=z.numeroProcesso.match(/^(\d+)\/\d+$/);return O?parseInt(O[1]):0}),K=Math.max(...H)+1;return`${String(K).padStart(3,"0")}/${k}`})()}`,objeto:"Processo em construo",status:"em_andamento",prazoFinal:"",gerenciaResponsavel:"GRH - Gerncia de Recursos Humanos",dataCriacao:Je(new Date),criador:"Usurio Atual",situacaoAtual:"Em construo",etapaAtual:"Aguardando Elaborao do DFD",diasUteisConsumidos:0,gerenciasEnvolvidas:[],regimeTramitacao:"Ordinrio"}:{...A2,numeroProcesso:_Z(A2.numeroProcesso)},v=VZ(h),p=()=>{const k={prazoFinal:f.prazoFinal||"",gerenciaResponsavel:f.gerenciaResponsavel,etapaAtual:f.etapaAtual,diasUteisConsumidos:f.diasUteisConsumidos,status:f.status||"em_andamento",gerenciasEnvolvidas:f.gerenciasEnvolvidas||[],regimeTramitacao:f.regimeTramitacao||"",prioridade:f.prioridade||""};n(k),i(k),a(!0)},y=(k,$)=>{if(!$)return 0;const H=new Date(k.split("/").reverse().join("-")),Y=new Date($),K=Math.ceil((Y.getTime()-H.getTime())/(1e3*60*60*24));return Math.max(0,K)},g=(k,$)=>{n(H=>{const Y={...H,[k]:$};if(k==="prazoFinal"){const K=y(f.dataCriacao,$);Y.diasUteisConsumidos=K}return Y})},b=()=>{const k=r.gerenciasEnvolvidas||[],$=o.gerenciasEnvolvidas||[],H=JSON.stringify(k.sort())!==JSON.stringify($.sort()),Y=r.prazoFinal!==o.prazoFinal||r.gerenciaResponsavel!==o.gerenciaResponsavel||r.etapaAtual!==o.etapaAtual||r.status!==o.status||r.regimeTramitacao!==o.regimeTramitacao;return H||Y},j=()=>r.gerenciaResponsavel.trim()!==""&&r.regimeTramitacao.trim()!=="",N=async()=>{if(!(!b()||!j())){c(!0);try{await new Promise(H=>setTimeout(H,1e3));const k=[];Object.keys(r).forEach(H=>{if(H!=="diasUteisConsumidos")if(H==="gerenciasEnvolvidas"){const Y=r[H]||[],K=o[H]||[];JSON.stringify(Y.sort())!==JSON.stringify(K.sort())&&k.push({campo:H,valorAnterior:o[H],valorNovo:r[H]})}else r[H]!==o[H]&&k.push({campo:H,valorAnterior:o[H],valorNovo:r[H]})}),Object.assign(f,r);const $={id:Date.now().toString(),tipo:"edicao",descricao:"Informaes do processo editadas",usuario:"Usurio Atual",data:Es(new Date),detalhes:{camposAlterados:k,timestamp:new Date().toISOString()}};console.log("Alteraes salvas:",r),console.log("Entrada no histrico:",$),d(!0),setTimeout(()=>{d(!1),a(!1)},2e3)}catch(k){console.error("Erro ao salvar:",k)}finally{c(!1)}}},{podeEditarProcesso:w}=$a(),E=w(),P=(k=>{const $={em_andamento:{className:"bg-blue-100 text-blue-800 border-blue-200",icon:e.jsx(ti,{className:"w-4 h-4"}),label:"Em Andamento"},concluido:{className:"bg-green-100 text-green-800 border-green-200",icon:e.jsx(Re,{className:"w-4 h-4"}),label:"Concludo"},atrasado:{className:"bg-red-100 text-red-800 border-red-200",icon:e.jsx(xt,{className:"w-4 h-4"}),label:"Atrasado"},pendente:{className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:e.jsx(Fe,{className:"w-4 h-4"}),label:"Pendente"}};return $[k]||$.pendente})(f.status),_={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},M={type:"tween",ease:"anticipate",duration:.5};return e.jsxs(ms.div,{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",initial:"initial",animate:"in",exit:"out",variants:_,transition:M,children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20",children:[e.jsx(ms.div,{className:"bg-white shadow-sm border-b border-gray-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"w-full px-8 py-6",children:[e.jsx(ms.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsx(kh,{className:"mb-6 text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors"})}),e.jsxs(ms.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.numeroProcesso}),e.jsx("p",{className:"text-xl text-gray-700 mb-4",children:f.objeto})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[E&&e.jsxs(C,{onClick:p,variant:"outline",className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 hover:bg-gray-50 border-gray-300",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Editar Processo"]}),e.jsxs(oe,{className:`${P.className} border text-sm font-medium px-4 py-2`,children:[P.icon,e.jsx("span",{className:"ml-2",children:P.label})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 w-full",children:[e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl ring-1 ring-black/5",children:e.jsx(Pt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Prazo Final"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.prazoFinal||"No definido"})]})]})}),e.jsx(P2,{icon:e.jsx($s,{}),label:"Gerncia",value:f.gerenciaResponsavel,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded-xl ring-1 ring-black/5",children:e.jsx(ht,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Criador"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.criador})]})]})}),e.jsx(P2,{icon:e.jsx($e,{}),label:"Etapa Atual",value:f.etapaAtual,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-red-100 rounded-xl ring-1 ring-black/5",children:e.jsx(Fe,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Dias teis"}),e.jsxs("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:[f.diasUteisConsumidos," dias"]})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-xl ring-1 ring-black/5",children:e.jsx(xt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Regime"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.regimeTramitacao})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-gray-100 rounded-xl ring-1 ring-black/5",children:e.jsx(Pt,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Data Criao"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.dataCriacao})]})]})}),e.jsx(ms.div,{className:"rounded-2xl p-4 md:p-5 bg-white/80 backdrop-blur-sm ring-1 ring-gray-200 hover:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center text-center",children:[e.jsx("div",{className:"p-1.5 bg-yellow-100 rounded-xl ring-1 ring-black/5",children:e.jsx(xt,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] md:text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Prioridade"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:f.prioridade||"No definido"})]})]})})]})]})]})}),e.jsx("div",{className:"w-full px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[e.jsxs(ms.div,{className:"xl:col-span-4 space-y-8",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsx(TZ,{}),e.jsx(DZ,{etapas:v,gerenciaCriadora:"GRH - Gerncia de Recursos Humanos"}),e.jsx(MZ,{historico:[]}),e.jsx(OZ,{documentos:[]})]}),e.jsx(ms.div,{className:"xl:col-span-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:e.jsx("div",{className:"sticky top-24",children:e.jsx(kZ,{processo:f,pendenciasUsuario:LZ,proximasEtapas:$Z})})})]})})]}),e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-6xl w-[95vw] max-h-[90vh] p-0 bg-white rounded-2xl shadow-xl border-0 overflow-hidden",children:[e.jsx(Xe,{className:"sr-only",children:"Editar Informaes do Processo"}),e.jsx(tt,{className:"sr-only",children:"Edite as informaes principais do processo administrativo"}),e.jsx("div",{className:"flex items-center px-8 py-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ft,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Processo"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Modifique as informaes principais do processo"})]})]})}),e.jsx("div",{className:"px-8 py-6 overflow-y-auto max-h-[70vh]",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"prazoFinal",className:"text-base font-semibold text-gray-900",children:"Prazo Final"}),e.jsx(Sm,{value:r.prazoFinal||null,onChange:k=>g("prazoFinal",k||""),placeholder:"Selecione a data",showPresets:!0,businessDaysOnly:!0,minDate:new Date,className:"w-full",inputClassName:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Obrigatrio apenas se for definido manualmente"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"gerencia",className:"text-base font-semibold text-gray-900",children:"Gerncia Responsvel *"}),e.jsxs(dt,{value:r.gerenciaResponsavel,onValueChange:k=>g("gerenciaResponsavel",k),children:[e.jsx(it,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Selecione a gerncia"})}),e.jsx(lt,{children:GZ.map(k=>e.jsx(Ce,{value:k,children:k},k))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"regimeTramitacao",className:"text-base font-semibold text-gray-900",children:"Regime de Tramitao *"}),e.jsxs(dt,{value:r.regimeTramitacao,onValueChange:k=>g("regimeTramitacao",k),children:[e.jsx(it,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Selecione o regime de tramitao"})}),e.jsx(lt,{children:HZ.map(k=>e.jsx(Ce,{value:k.label,children:k.label},k.value))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Define a prioridade e velocidade de tramitao do processo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-base font-semibold text-gray-900",children:"Outras Gerncias que podem participar"}),e.jsx(Jj,{value:r.gerenciasEnvolvidas,onValueChange:k=>g("gerenciasEnvolvidas",k),placeholder:"Selecione as gerncias participantes",required:!1,excludeValues:[r.gerenciaResponsavel]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Gerncias que podem participar do processo alm da responsvel"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"criador",className:"text-base font-semibold text-gray-900",children:"Criador"}),e.jsx(De,{id:"criador",value:f.criador,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Nome do usurio atual (no editvel)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"etapaAtual",className:"text-base font-semibold text-gray-900",children:"Etapa Atual"}),e.jsxs(dt,{value:r.etapaAtual,onValueChange:k=>g("etapaAtual",k),children:[e.jsx(it,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Selecione a etapa atual"})}),e.jsx(lt,{children:BZ.map(k=>e.jsx(Ce,{value:k,children:k},k))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"til para processos que pulam etapas"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"diasUteis",className:"text-base font-semibold text-gray-900",children:"Dias teis Consumidos"}),e.jsx(De,{id:"diasUteis",type:"number",value:r.diasUteisConsumidos,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed border-2 border-gray-300",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Calculado automaticamente pelo sistema baseado na data de criao e prazo final"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"dataCriacao",className:"text-base font-semibold text-gray-900",children:"Data de Criao"}),e.jsx(De,{id:"dataCriacao",value:f.dataCriacao,disabled:!0,className:"h-10 bg-gray-50 text-gray-700 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apenas visualizao"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"status",className:"text-base font-semibold text-gray-900",children:"Status do Processo"}),e.jsxs(dt,{value:r.status,onValueChange:k=>g("status",k),children:[e.jsx(it,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Selecione o status"})}),e.jsx(lt,{children:UZ.map(k=>e.jsx(Ce,{value:k,children:k},k))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Define o status atual do processo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"prioridade",className:"text-base font-semibold text-gray-900",children:"Grau de Prioridade"}),e.jsxs(dt,{value:r.prioridade,onValueChange:k=>g("prioridade",k),children:[e.jsx(it,{className:"h-10 border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-200",children:e.jsx(ut,{placeholder:"Selecione a prioridade"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"ALTO",children:"Alto"}),e.jsx(Ce,{value:"MEDIO",children:"Mdio"}),e.jsx(Ce,{value:"BAIXO",children:"Baixo"})]})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-4 px-8 py-4 border-t border-gray-200",children:[u&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[e.jsx(Re,{className:"w-4 h-4"}),"Alteraes salvas com sucesso!"]}),e.jsx(C,{variant:"outline",onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900",disabled:l,children:"Cancelar"}),e.jsx(C,{onClick:N,disabled:!b()||!j()||l,className:`px-4 py-2 flex items-center gap-2 ${!b()||!j()||l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4"}),"Salvar Alteraes"]})})]})]})})]})}var WZ=m.forwardRef((t,s)=>{const{children:a,...r}=t,n=m.Children.toArray(a),o=n.find(qZ);if(o){const i=o.props.children,l=n.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return e.jsx($0,{...r,ref:s,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return e.jsx($0,{...r,ref:s,children:a})});WZ.displayName="Slot";var $0=m.forwardRef((t,s)=>{const{children:a,...r}=t;if(m.isValidElement(a)){const n=KZ(a);return m.cloneElement(a,{...YZ(r,a.props),ref:s?Pr(s,n):n})}return m.Children.count(a)>1?m.Children.only(null):null});$0.displayName="SlotClone";var RT=({children:t})=>e.jsx(e.Fragment,{children:t});function qZ(t){return m.isValidElement(t)&&t.type===RT}function YZ(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function KZ(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var MT="AlertDialog",[XZ,jae]=ua(MT,[DA]),wn=DA(),IT=t=>{const{__scopeAlertDialog:s,...a}=t,r=wn(s);return e.jsx(Rb,{...r,...a,modal:!0})};IT.displayName=MT;var JZ="AlertDialogTrigger",OT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Mb,{...n,...r,ref:s})});OT.displayName=JZ;var QZ="AlertDialogPortal",zT=t=>{const{__scopeAlertDialog:s,...a}=t,r=wn(s);return e.jsx(Ib,{...r,...a})};zT.displayName=QZ;var ZZ="AlertDialogOverlay",FT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Xd,{...n,...r,ref:s})});FT.displayName=ZZ;var tl="AlertDialogContent",[eee,tee]=XZ(tl),_T=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:r,...n}=t,o=wn(a),i=m.useRef(null),l=rt(s,i),c=m.useRef(null);return e.jsx(G$,{contentName:tl,titleName:LT,docsSlug:"alert-dialog",children:e.jsx(eee,{scope:a,cancelRef:c,children:e.jsxs(Jd,{role:"alertdialog",...o,...n,ref:l,onOpenAutoFocus:Ee(n.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(RT,{children:r}),e.jsx(aee,{contentRef:i})]})})})});_T.displayName=tl;var LT="AlertDialogTitle",$T=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Qd,{...n,...r,ref:s})});$T.displayName=LT;var VT="AlertDialogDescription",GT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Zd,{...n,...r,ref:s})});GT.displayName=VT;var see="AlertDialogAction",BT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,n=wn(a);return e.jsx(Tx,{...n,...r,ref:s})});BT.displayName=see;var UT="AlertDialogCancel",HT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:n}=tee(UT,a),o=wn(a),i=rt(s,n);return e.jsx(Tx,{...o,...r,ref:i})});HT.displayName=UT;var aee=({contentRef:t})=>{const s=`\`${tl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tl}\` by passing a \`${VT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},ree=IT,nee=OT,oee=zT,WT=FT,qT=_T,YT=BT,KT=HT,XT=$T,JT=GT;const QT=ree,ZT=nee,iee=oee,e6=m.forwardRef(({className:t,...s},a)=>e.jsx(WT,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));e6.displayName=WT.displayName;const Qj=m.forwardRef(({className:t,...s},a)=>e.jsxs(iee,{children:[e.jsx(e6,{}),e.jsx(qT,{ref:a,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Qj.displayName=qT.displayName;const Zj=({className:t,...s})=>e.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...s});Zj.displayName="AlertDialogHeader";const ey=({className:t,...s})=>e.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ey.displayName="AlertDialogFooter";const ty=m.forwardRef(({className:t,...s},a)=>e.jsx(XT,{ref:a,className:be("text-lg font-semibold",t),...s}));ty.displayName=XT.displayName;const sy=m.forwardRef(({className:t,...s},a)=>e.jsx(JT,{ref:a,className:be("text-sm text-muted-foreground",t),...s}));sy.displayName=JT.displayName;const ay=m.forwardRef(({className:t,...s},a)=>e.jsx(YT,{ref:a,className:be(cx(),t),...s}));ay.displayName=YT.displayName;const ry=m.forwardRef(({className:t,...s},a)=>e.jsx(KT,{ref:a,className:be(cx({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));ry.displayName=KT.displayName;function lee({pastas:t,onAdicionarPasta:s,onEditarPasta:a,onExcluirPasta:r}){const[n,o]=m.useState(!1),[i,l]=m.useState("lista"),[c,u]=m.useState(null),[d,h]=m.useState({nome:"",descricao:"",tipo:"ano",anoReferencia:""}),x=()=>{const g={nome:d.nome,descricao:d.descricao,icone:e.jsx(hm,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",filtro:b=>d.tipo==="ano"?b.ano===d.anoReferencia:!0};s(g),l("lista"),h({nome:"",descricao:"",tipo:"ano",anoReferencia:""})},f=()=>{c&&(a(c.id,{nome:d.nome,descricao:d.descricao}),l("lista"),u(null),h({nome:"",descricao:"",tipo:"ano",anoReferencia:""}))},v=g=>{u(g),h({nome:g.nome,descricao:g.descricao,tipo:"ano",anoReferencia:""}),l("editar")},p=g=>{r(g)},y=()=>{h({nome:"",descricao:"",tipo:"ano",anoReferencia:""}),u(null),l("lista")};return e.jsxs(Ke,{open:n,onOpenChange:o,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{variant:"outline",className:"gap-2",children:[e.jsx(hm,{className:"w-4 h-4"}),"Gerenciar Pastas"]})}),e.jsxs(Ye,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2",children:[e.jsx(hm,{className:"w-5 h-5"}),"Gerenciar Pastas Organizacionais"]}),e.jsx(tt,{children:"Adicione, edite ou remova pastas para organizar seus processos"})]}),i==="lista"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pastas Existentes"}),e.jsxs(C,{onClick:()=>l("adicionar"),className:"gap-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),"Nova Pasta"]})]}),e.jsx("div",{className:"grid gap-4",children:t.map(g=>e.jsx(Ve,{className:"border border-gray-200",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:g.icone}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:g.nome}),e.jsx("p",{className:"text-sm text-gray-600",children:g.descricao}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.quantidadeProcessos," processos  Atualizado em ",g.ultimaModificacao]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>v(g),className:"gap-2",children:[e.jsx(bl,{className:"w-4 h-4"}),"Editar"]}),e.jsxs(QT,{children:[e.jsx(ZT,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",className:"gap-2 text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-4 h-4"}),"Excluir"]})}),e.jsxs(Qj,{children:[e.jsxs(Zj,{children:[e.jsx(ty,{children:"Excluir Pasta"}),e.jsx(sy,{children:g.quantidadeProcessos>0?e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(xt,{className:"w-5 h-5 text-orange-500"}),e.jsxs("span",{className:"text-orange-700",children:["Esta pasta possui ",g.quantidadeProcessos," processo(s) vinculado(s). Tem certeza que deseja excluir?"]})]}):"Tem certeza que deseja excluir esta pasta?"})]}),e.jsxs(ey,{children:[e.jsx(ry,{children:"Cancelar"}),e.jsx(ay,{onClick:()=>p(g.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})})},g.id))})]}),(i==="adicionar"||i==="editar")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i==="adicionar"?"Nova Pasta":"Editar Pasta"}),e.jsx(C,{variant:"ghost",onClick:y,children:"Cancelar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Nome da Pasta"}),e.jsx(De,{id:"nome",value:d.nome,onChange:g=>h({...d,nome:g.target.value}),placeholder:"Ex: Processos de 2024"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"descricao",children:"Descrio"}),e.jsx(ft,{id:"descricao",value:d.descricao,onChange:g=>h({...d,descricao:g.target.value}),placeholder:"Ex: Processos iniciados no ano de 2024",rows:3})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"tipo",children:"Tipo de Filtro"}),e.jsxs(dt,{value:d.tipo,onValueChange:g=>h({...d,tipo:g}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione o tipo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"ano",children:"Por Ano"}),e.jsx(Ce,{value:"status",children:"Por Status"}),e.jsx(Ce,{value:"personalizado",children:"Personalizado"})]})]})]}),d.tipo==="ano"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"anoReferencia",children:"Ano de Referncia"}),e.jsxs(dt,{value:d.anoReferencia,onValueChange:g=>h({...d,anoReferencia:g}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione o ano"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"2024",children:"2024"}),e.jsx(Ce,{value:"2023",children:"2023"}),e.jsx(Ce,{value:"2022",children:"2022"})]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:y,children:"Cancelar"}),e.jsx(C,{onClick:i==="adicionar"?x:f,disabled:!d.nome||!d.descricao,children:i==="adicionar"?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Criar Pasta"]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})})]})]})]})]})]})}function ny(){const[t,s]=m.useState([]),a=n=>{const i=new Date().toLocaleDateString("pt-BR");s(c=>c.map(u=>u.id===n?{...u,ultimaModificacao:i}:u));const l=t.map(c=>c.id===n?{...c,ultimaModificacao:i}:c);localStorage.setItem("pastasOrganizacionais",JSON.stringify(l))},r=n=>{const o=t.find(i=>i.id===n);return(o==null?void 0:o.ultimaModificacao)||""};return m.useEffect(()=>{const n=localStorage.getItem("pastasOrganizacionais");if(n)try{const o=JSON.parse(n);s(o)}catch(o){console.error("Erro ao carregar pastas do localStorage:",o)}},[]),{pastas:t,setPastas:s,atualizarUltimoAcesso:a,getUltimoAcesso:r}}const ta=[{id:"1",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"DFD",objeto:"Aquisio de Equipamentos Mdicos para UTI",etapaAtual:"Elaborao da FD",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"30/01/2024",responsavelAtual:"Yasmin Pissolati Mattos Bretz - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"15/01/2024",ultimaAtualizacao:"25/01/2024",prazoFinal:"30/01/2024",temAnexos:!0},{id:"2",numeroProcesso:"Processo administrativo 045/2024",tipoProcesso:"ETP",objeto:"Contratao de Servios de Limpeza Hospitalar",etapaAtual:"Assinatura ETP",proximaEtapa:"Despacho do ETP",prazoEtapaAtual:"25/01/2024",responsavelAtual:"Guilherme de Carvalho Silva - GSL",regimeTramitacao:"Urgente",situacao:"atrasado",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/01/2024",ultimaAtualizacao:"24/01/2024",prazoFinal:"25/01/2024",temAnexos:!1},{id:"3",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"TR",objeto:"Consultoria Especializada em Gesto",etapaAtual:"Aprovao",proximaEtapa:"Publicao",prazoEtapaAtual:"22/01/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"concluido",ano:"2024",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"05/01/2024",ultimaAtualizacao:"20/01/2024",prazoFinal:"22/01/2024",temAnexos:!0},{id:"4",numeroProcesso:"Processo administrativo 002/2024",tipoProcesso:"DFD",objeto:"Aquisio de Mobilirio para Consultrios",etapaAtual:"Matriz de Risco",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"15/02/2024",responsavelAtual:"Andressa Sterfany Santos da Silva - GUE",regimeTramitacao:"Prioritrio",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"20/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"15/02/2024",temAnexos:!1},{id:"5",numeroProcesso:"Processo administrativo 002/2023",tipoProcesso:"ETP",objeto:"Contratao de Segurana Patrimonial",etapaAtual:"Publicao",proximaEtapa:"Arquivamento",prazoEtapaAtual:"20/12/2023",responsavelAtual:"Pedro Alves - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"10/11/2023",ultimaAtualizacao:"15/12/2023",prazoFinal:"20/12/2023",temAnexos:!0},{id:"6",numeroProcesso:"Processo administrativo 003/2023",tipoProcesso:"TR",objeto:"Sistema de Gesto Integrada",etapaAtual:"Anlise",proximaEtapa:"Cancelamento",prazoEtapaAtual:"15/11/2023",responsavelAtual:"Lucia Ferreira - GECON",regimeTramitacao:"Normal",situacao:"cancelado",ano:"2023",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/10/2023",ultimaAtualizacao:"30/11/2023",prazoFinal:"15/11/2023",temAnexos:!1},{id:"7",numeroProcesso:"Processo administrativo 001/2022",tipoProcesso:"DFD",objeto:"Aquisio de Equipamentos de Informtica",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"20/12/2022",responsavelAtual:"Roberto Santos - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2022",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/02/2022",ultimaAtualizacao:"20/12/2022",prazoFinal:"20/12/2022",temAnexos:!0},{id:"8",numeroProcesso:"Processo administrativo 002/2022",tipoProcesso:"TR",objeto:"Consultoria em Gesto de Qualidade",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"15/11/2022",responsavelAtual:"Fernanda Costa - GSP",regimeTramitacao:"Prioritrio",situacao:"concluido",ano:"2022",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/03/2022",ultimaAtualizacao:"15/11/2022",prazoFinal:"15/11/2022",temAnexos:!0},{id:"9",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"ETP",objeto:"Contratao de Servios de Manuteno",etapaAtual:"Elaborao ETP",proximaEtapa:"Assinatura ETP",prazoEtapaAtual:"10/02/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"25/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"10/02/2024",temAnexos:!0}],cee=[{id:"2025",nome:"Processos de 2025",descricao:"Processos iniciados em 2025",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-purple-50 border-purple-200 text-purple-700",quantidadeProcessos:ta.filter(t=>t.ano==="2025").length,ultimaModificacao:"15/01/2025",filtro:t=>t.ano==="2025"},{id:"2024",nome:"Processos de 2024",descricao:"Processos iniciados em 2024",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",quantidadeProcessos:ta.filter(t=>t.ano==="2024").length,ultimaModificacao:"26/01/2024",filtro:t=>t.ano==="2024"},{id:"2023",nome:"Processos de 2023",descricao:"Processos iniciados em 2023",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-slate-50 border-slate-200 text-slate-700",quantidadeProcessos:ta.filter(t=>t.ano==="2023").length,ultimaModificacao:"15/12/2023",filtro:t=>t.ano==="2023"},{id:"2022",nome:"Processos de 2022",descricao:"Processos iniciados em 2022",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-gray-50 border-gray-200 text-gray-700",quantidadeProcessos:ta.filter(t=>t.ano==="2022").length,ultimaModificacao:"20/01/2024",filtro:t=>t.ano==="2022"}];function dee({status:t}){const a={em_andamento:{label:"Em Andamento",color:"bg-blue-50 text-blue-700 border-blue-200/50",dot:"bg-blue-400"},pendente:{label:"Pendente",color:"bg-amber-50 text-amber-700 border-amber-200/50",dot:"bg-amber-400"},atrasado:{label:"Atrasado",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},concluido:{label:"Concludo",color:"bg-emerald-50 text-emerald-700 border-emerald-200/50",dot:"bg-emerald-400"},cancelado:{label:"Cancelado",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function uee({regime:t}){const a={Normal:{label:"Normal",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"},Urgente:{label:"Urgente",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},Prioritrio:{label:"Prioritrio",color:"bg-orange-50 text-orange-700 border-orange-200/50",dot:"bg-orange-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-2 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a.dot}`}),a.label]})}function mee({type:t}){const a={criador:{icon:e.jsx(W4,{className:"w-4 h-4"}),color:"text-gray-600",tooltip:"Criador do processo"},responsavel:{icon:e.jsx(jl,{className:"w-4 h-4"}),color:"text-blue-600",tooltip:"Responsvel por etapa"},participante:{icon:e.jsx(Gz,{className:"w-4 h-4"}),color:"text-gray-600",tooltip:"Participante histrico"}}[t];return e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:`${a.color}`,children:a.icon})}),e.jsx(bt,{children:e.jsx("p",{children:a.tooltip})})]})})}function hee({prazo:t}){const s=new Date,a=new Date(t.split("/").reverse().join("-")),r=Math.ceil((a.getTime()-s.getTime())/(1e3*60*60*24)),n=()=>r<0?"text-red-600 font-semibold":r<=3?"text-orange-600 font-semibold":"text-gray-600";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:n(),children:t})]})}function xee({temAnexos:t}){return t?e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"w-6 h-6 text-gray-500 hover:text-blue-600",children:e.jsx(ai,{className:"w-4 h-4"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Ver anexos"})})]})}):null}function fee({pasta:t}){const s=fs(),{atualizarUltimoAcesso:a}=ny(),r=()=>{a(t.id),s(`/processos-gerencia/pasta/${t.id}`)};return e.jsx(Ve,{className:"bg-white border border-gray-200/60 hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:r,children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gray-50/50 text-gray-600 group-hover:bg-gray-100/50 transition-colors",children:t.icone}),e.jsx(Fs,{className:"w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-800",children:t.nome}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.descricao}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[t.quantidadeProcessos," processos"]}),e.jsxs("span",{className:"text-gray-500",children:["Atualizado em ",t.ultimaModificacao]})]})]})]})})}function Fp({titulo:t,quantidade:s,icone:a,descricao:r}){return e.jsx(Ve,{className:"bg-white border border-gray-200/60 hover:shadow-md transition-all duration-200",children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gray-50/50 text-gray-600",children:a}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-500",children:"total"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1 text-gray-800",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:r})]})]})})}function _p({titulo:t,descricao:s,icone:a,quantidade:r,rota:n}){const o=fs();return e.jsx(Ve,{className:"bg-white border border-gray-200/60 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>o(n),children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-gray-50/50 text-gray-600 group-hover:bg-gray-100/50 transition-colors",children:a}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500",children:"processos"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-800",children:t}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 group-hover:text-gray-900",children:[e.jsx("span",{children:"Acessar lista completa"}),e.jsx(hd,{className:"w-4 h-4"})]})]})]})})}function pee({processos:t}){const s=fs();return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(I4,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Nenhum processo encontrado"}),e.jsx("p",{className:"text-gray-500",children:"No h processos nesta categoria no momento."})]}):e.jsx("div",{className:"border border-gray-200/60 rounded-lg overflow-hidden bg-white shadow-sm",children:e.jsxs(uo,{children:[e.jsx(mo,{className:"bg-gradient-to-r from-gray-50 to-gray-100/50",children:e.jsxs(Ys,{children:[e.jsx(at,{className:"w-12 py-3"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Processo"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Objeto"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Etapa Atual"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Prxima Etapa"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Prazo"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Regime"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Situao"}),e.jsx(at,{className:"text-right font-semibold text-gray-700 py-3",children:"Aes"})]})}),e.jsx(ho,{children:t.map((a,r)=>e.jsxs(Ys,{className:`hover:bg-blue-50/30 transition-colors border-b border-gray-100/60 ${r%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(st,{className:"py-3",children:e.jsx(mee,{type:a.tipoParticipacao})}),e.jsx(st,{className:"py-3",children:e.jsx("div",{className:"font-semibold text-gray-800",children:a.numeroProcesso})}),e.jsx(st,{className:"py-3",children:e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"max-w-xs truncate text-gray-600 font-medium cursor-help",children:a.objeto})}),e.jsx(bt,{children:e.jsx("p",{children:a.objeto})})]})})}),e.jsx(st,{className:"py-3",children:e.jsx(oe,{variant:"outline",className:"text-xs",children:a.etapaAtual})}),e.jsx(st,{className:"py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:a.proximaEtapa||"-"})}),e.jsx(st,{className:"py-3",children:e.jsx(hee,{prazo:a.prazoEtapaAtual})}),e.jsx(st,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uee,{regime:a.regimeTramitacao}),a.regimeTramitacao==="Urgente"&&e.jsx(xt,{className:"w-4 h-4 text-orange-500"})]})}),e.jsx(st,{className:"py-3",children:e.jsx(dee,{status:a.situacao})}),e.jsx(st,{className:"text-right py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(xee,{temAnexos:a.temAnexos}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 rounded-lg",onClick:()=>s(`/processos/${a.id}`),children:e.jsx(Qe,{className:"w-5 h-5"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Ver detalhes do processo"})})]})})]})})]},a.id))})]})})}function gee(){const[t,s]=m.useState(!1),[a,r]=m.useState({numeroProcesso:"",objetoProcesso:"",gerenciaCriadora:"GRH - Gerncia de Recursos Humanos",gerenciasEnvolvidas:[],anoProcesso:new Date().getFullYear().toString(),tipoTramitacao:"",justificativaTipoTramitacao:"",comentariosIniciais:""});(u=>u.trim().split(/\s+/).filter(d=>d.length>0).length)(a.objetoProcesso);const o=fs();m.useEffect(()=>{if(t){const u=()=>{const d=new Date().getFullYear(),h=ta.filter(p=>p.ano===d.toString());if(h.length===0)return`001/${d}`;const x=h.map(p=>{const y=p.numeroProcesso.match(/^(\d+)\/\d+$/);return y?parseInt(y[1]):0}),v=Math.max(...x)+1;return`${String(v).padStart(3,"0")}/${d}`};r(d=>({...d,numeroProcesso:u()}))}},[t]);const i=(u,d)=>{r(h=>({...h,[u]:d}))},l=()=>{const u=`processo_${Date.now()}`,h=(()=>{const f=new Date().getFullYear(),v=ta.filter(b=>b.ano===f.toString());if(v.length===0)return`001/${f}`;const p=v.map(b=>{const j=b.numeroProcesso.match(/^(\d+)\/\d+$/);return j?parseInt(j[1]):0}),g=Math.max(...p)+1;return`${String(g).padStart(3,"0")}/${f}`})(),x={id:u,numeroProcesso:h,objeto:a.objetoProcesso||"Processo em construo",status:"em_andamento",prazoFinal:"",gerenciaResponsavel:"GRH - Gerncia de Recursos Humanos",dataCriacao:Je(new Date),criador:"Usurio Atual",situacaoAtual:"Em construo",etapaAtual:"Aguardando Elaborao do DFD",diasUteisConsumidos:0,tipoTramitacao:a.tipoTramitacao,gerenciasEnvolvidas:a.gerenciasEnvolvidas};console.log("Novo processo criado:",x),o(`/processo/${u}`),s(!1)},c=()=>{const u=a.objetoProcesso.trim()!==""&&a.tipoTramitacao!==""&&a.gerenciasEnvolvidas.length>0,d=a.tipoTramitacao===""||a.justificativaTipoTramitacao.trim()!=="";return u&&d};return e.jsxs(Ke,{open:t,onOpenChange:s,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 px-6 py-3 text-base font-semibold border-0 rounded-xl",children:[e.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Criar Novo Processo"]})}),e.jsxs(Ye,{className:"max-w-6xl w-[80vw] p-0 bg-white rounded-2xl shadow-xl border-0",children:[e.jsx(Xe,{className:"sr-only",children:"Criar Novo Processo"}),e.jsx(tt,{className:"sr-only",children:"Inicie um novo processo administrativo com fluxo completo"}),e.jsx("div",{className:"flex items-center px-8 py-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(Mt,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar Novo Processo"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Inicie um novo processo administrativo com fluxo completo"})]})]})}),e.jsxs("div",{className:"px-8 py-6 max-h-[60vh] overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Nmero do Processo"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:a.numeroProcesso||"078/2025",disabled:!0,className:"h-12 bg-gray-50 text-gray-700 cursor-not-allowed font-medium"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Automtico"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Gerncia Criadora"}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-900",children:"Gerncia: GRH"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Gerncia de Recursos Humanos"})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Tipo de Tramitao *"}),e.jsxs(Al,{children:[e.jsx(Dl,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-blue-50",children:e.jsx(xt,{className:"w-4 h-4 text-blue-600"})})}),e.jsx(ci,{className:"max-w-sm p-4 bg-white border border-gray-200 shadow-lg rounded-lg",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Tipos de Tramitao:"}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Ordinria:"})," Processo padro com prazo normal de tramitao, seguindo o fluxo regular estabelecido."]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-orange-600",children:"Urgente:"})," Processo que requer tramitao acelerada devido a situaes de emergncia ou necessidade imediata."]})]})]})})]})]}),e.jsxs(dt,{value:a.tipoTramitacao,onValueChange:u=>i("tipoTramitacao",u),children:[e.jsx(it,{className:"h-12 border-gray-300 focus:border-green-500 focus:ring-green-200",children:e.jsx(ut,{placeholder:"Selecione o tipo de tramitao"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"ordinaria",children:"Ordinria"}),e.jsx(Ce,{value:"urgente",children:"Urgente"})]})]}),a.tipoTramitacao&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Justificativa do Tipo de Tramitao *"}),e.jsx(ft,{value:a.justificativaTipoTramitacao,onChange:u=>i("justificativaTipoTramitacao",u.target.value),placeholder:"Explique o motivo da escolha deste tipo de tramitao.",className:"min-h-[80px] resize-none border-2 border-gray-300 focus:border-green-500 focus:ring-green-200 transition-colors"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Ano do Processo"}),e.jsx(De,{value:a.anoProcesso,disabled:!0,className:"h-12 bg-gray-50 text-gray-700 cursor-not-allowed font-medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Outras Gerncias que podem participar *"}),e.jsx(Jj,{value:a.gerenciasEnvolvidas,onValueChange:u=>i("gerenciasEnvolvidas",u),placeholder:"Selecione as gerncias participantes",required:!0,excludeValues:[a.gerenciaCriadora]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-900",children:"Objeto do Processo *"}),e.jsx("div",{className:"relative",children:e.jsx(ft,{placeholder:"Descreva o objeto da contratao",value:a.objetoProcesso,onChange:u=>i("objetoProcesso",u.target.value),className:"min-h-[120px] resize-none border-2 border-gray-300 focus:border-green-500 focus:ring-green-200 transition-colors"})})]})]}),e.jsx("div",{className:"border-t border-gray-200 px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(C,{variant:"outline",onClick:()=>s(!1),className:"px-8 py-3 bg-gray-100 text-gray-600 border-gray-300 hover:bg-gray-200 font-medium",children:"Cancelar"}),e.jsx(C,{onClick:l,disabled:!c(),className:"px-8 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 disabled:text-gray-500 text-white font-medium shadow-md hover:shadow-lg transition-all",children:"Iniciar Processo"})]})})]})]})}function vee(){const[t,s]=m.useState(""),[a,r]=m.useState({searchTerm:"",yearFilter:"todos",statusFilter:"todos",regimeFilter:"todos"});fs();const{pastas:n,setPastas:o,atualizarUltimoAcesso:i}=ny();Z.useEffect(()=>{n.length===0&&o(cee)},[n.length,o]);const l=m.useMemo(()=>ta.filter(p=>p.tipoParticipacao==="responsavel"&&p.situacao!=="concluido"&&p.situacao!=="cancelado").filter(p=>p.numeroProcesso.toLowerCase().includes(t.toLowerCase())||p.objeto.toLowerCase().includes(t.toLowerCase())),[t]),c=m.useMemo(()=>ta.filter(p=>{const{searchTerm:y,yearFilter:g,statusFilter:b,regimeFilter:j}=a,N=p.numeroProcesso.toLowerCase().includes(y.toLowerCase())||p.objeto.toLowerCase().includes(y.toLowerCase()),w=g==="todos"||p.ano===g,E=b==="todos"||p.situacao===b,D=j==="todos"||p.regimeTramitacao===j;return N&&w&&E&&D}),[a]);c.filter(p=>p.tipoParticipacao==="criador"),c.filter(p=>p.tipoParticipacao==="responsavel"),c.filter(p=>p.tipoParticipacao==="participante");const u=ta.filter(p=>p.tipoParticipacao==="criador").length,d=ta.filter(p=>p.situacao==="em_andamento").length,h=ta.filter(p=>p.situacao==="concluido"||p.situacao==="cancelado").length;ta.filter(p=>p.tipoParticipacao==="participante").length;const x=ta.filter(p=>{const y=new Date,g=new Date(p.prazoEtapaAtual.split("/").reverse().join("-")),b=Math.ceil((g.getTime()-y.getTime())/(1e3*60*60*24));return b<=5&&b>=0&&p.situacao!=="concluido"&&p.situacao!=="cancelado"}),f=ta.filter(p=>{const y=new Date,g=new Date(p.prazoEtapaAtual.split("/").reverse().join("-"));return Math.ceil((g.getTime()-y.getTime())/(1e3*60*60*24))<0&&p.situacao!=="concluido"&&p.situacao!=="cancelado"}),v=ta.filter(p=>p.etapaAtual.includes("Assinatura")&&p.situacao==="em_andamento");return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 px-6 pb-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Processos da Gerncia"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Organize, monitore e gerencie todos os processos da sua gerncia"})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-cyan-50 to-emerald-50 border border-blue-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-xl shadow-inner",children:e.jsx(Mt,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"w-2 h-2 text-white"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 leading-tight",children:"Iniciar Novo Processo"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium max-w-md",children:"Crie um novo processo administrativo com fluxo completo e acompanhamento"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{children:e.jsx(gee,{})})}),e.jsx(bt,{children:e.jsx("p",{children:"Iniciar novo processo administrativo com fluxo completo"})})]})})})]})})}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"bg-emerald-50/30 rounded-xl border border-emerald-100/50 shadow-sm p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:e.jsx($s,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Acesso Rpido"}),e.jsx("p",{className:"text-gray-600",children:"Navegue rapidamente para listas especficas"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(_p,{titulo:"Prazos Prximos",descricao:"Visualize os processos com etapas que vencem nos prximos 5 dias",icone:e.jsx(Fe,{className:"w-8 h-8"}),quantidade:x.length,rota:"/processos-gerencia/prazos-proximos"}),e.jsx(_p,{titulo:"Processos Atrasados",descricao:"Veja todos os processos com etapas em atraso na sua gerncia",icone:e.jsx(xt,{className:"w-8 h-8"}),quantidade:f.length,rota:"/processos-gerencia/atrasados"}),e.jsx(_p,{titulo:"Assinaturas Pendentes",descricao:"Acesse todos os processos que aguardam assinatura da sua gerncia",icone:e.jsx(Oo,{className:"w-8 h-8"}),quantidade:v.length,rota:"/processos-gerencia/assinaturas-pendentes"})]})]}),e.jsxs("section",{className:"bg-blue-50/30 rounded-xl border border-blue-100/50 shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(jl,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Participaes Atuais"}),e.jsx("p",{className:"text-gray-600",children:"Processos em que voc est participando ativamente"})]})]}),e.jsxs(oe,{variant:"outline",className:"text-sm font-medium bg-white",children:[l.length," processos"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{placeholder:"Buscar nas participaes atuais...",value:t,onChange:p=>s(p.target.value),className:"pl-10 border-gray-200/60 bg-white"})]})}),l.length>0?e.jsx(pee,{processos:l}):e.jsxs(Ve,{className:"p-8 text-center border-dashed border-2 border-gray-300 bg-white",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(jl,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Nenhuma participao encontrada"}),e.jsx("p",{className:"text-gray-500",children:"No h processos em que voc esteja participando atualmente."})]})]}),e.jsxs("section",{className:"bg-slate-50/40 rounded-xl border border-slate-100/50 shadow-sm p-8 ring-1 ring-slate-200/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:e.jsx(hm,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Pastas Organizacionais"}),e.jsx("p",{className:"text-gray-600",children:"Organize seus processos por categorias e perodos"})]})]}),e.jsx(lee,{pastas:n,onAdicionarPasta:p=>{console.log("Adicionar pasta:",p)},onEditarPasta:(p,y)=>{console.log("Editar pasta:",p,y)},onExcluirPasta:p=>{console.log("Excluir pasta:",p)}})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(p=>e.jsx(fee,{pasta:p},p.id))})]}),e.jsxs("section",{className:"bg-gradient-to-r from-gray-50/50 to-slate-50/50 rounded-xl border border-gray-100/50 shadow-sm p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(Qv,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary mb-1",children:"Estatsticas Gerais"}),e.jsx("p",{className:"text-gray-600",children:"Viso geral dos processos da gerncia"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Fp,{titulo:"Processos Iniciados",quantidade:u,icone:e.jsx(Xz,{className:"w-6 h-6"}),descricao:"Total de processos criados pela gerncia"}),e.jsx(Fp,{titulo:"Processos Ativos",quantidade:d,icone:e.jsx(Lz,{className:"w-6 h-6"}),descricao:"Processos em andamento atualmente"}),e.jsx(Fp,{titulo:"Processos Arquivados",quantidade:h,icone:e.jsx(I4,{className:"w-6 h-6"}),descricao:"Processos concludos ou cancelados"})]})]})]})]})]})}function bee({label:t,name:s,files:a,onChange:r,required:n=!1,disabled:o=!1,accept:i=".pdf",multiple:l=!0,className:c=""}){const u=h=>{const x=Array.from(h.target.files||[]);r(l?[...a,...x]:x)},d=h=>{r(a.filter((x,f)=>f!==h))};return e.jsxs("div",{className:`space-y-2 ${c}`,children:[e.jsxs(B,{htmlFor:s,className:"text-sm font-medium text-gray-700",children:[t,n&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",id:s,accept:i,multiple:l,onChange:u,disabled:o,className:"hidden"}),e.jsxs("label",{htmlFor:s,className:"cursor-pointer",children:[e.jsx(mt,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para selecionar arquivos ou arraste e solte aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i===".pdf"?"Apenas arquivos PDF":"Todos os tipos de arquivo"})]})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Arquivos selecionados:"}),a.map((h,x)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:h.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(h.size/1024/1024).toFixed(2)," MB)"]})]}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(x),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Yt,{className:"w-4 h-4"})})]},x))]})]})}const jee=[{value:"ordinaria",label:"Ordinria"},{value:"urgente",label:"Urgente"}],yee=()=>{const t=new Date().getFullYear();return`${(77+1).toString().padStart(3,"0")}/${t}`},vc=[{id:"modelo-sistema-fiscatus",nome:"Fluxo Completo de Contratao - Fiscatus",descricao:"Modelo padro utilizado para planejamento e tramitao completa de processos de contratao pblica, com base na estrutura original do sistema Fiscatus.",ehPadrao:!0,quantidadeEtapas:21,instituicao:"Sistema"},{id:"modelo-1",nome:"Modelo Padro de Contratao",descricao:"Modelo padro para processos de contratao de servios e produtos",ehPadrao:!1,quantidadeEtapas:3,instituicao:"Comisso de Implantao"},{id:"modelo-2",nome:"Modelo Simplificado",descricao:"Modelo com menos etapas para contrataes simples",ehPadrao:!1,quantidadeEtapas:2,instituicao:"Comisso de Implantao"}];function Nee(){var y;const t=fs(),{user:s}=kt(),a=()=>vc.find(b=>b.ehPadrao&&b.instituicao===(s==null?void 0:s.gerencia))||vc.find(b=>b.ehPadrao)||vc[0],[r,n]=m.useState({numeroProcesso:"",modeloFluxoId:((y=a())==null?void 0:y.id)||"",objetoProcesso:"",gerenciaCriadora:(s==null?void 0:s.gerencia)||"GRH - Gerncia de Recursos Humanos",gerenciasEnvolvidas:[],anoProcesso:new Date().getFullYear().toString(),tipoTramitacao:"",justificativaTipoTramitacao:"",comentariosIniciais:"",documentosIniciais:[]}),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{n(g=>({...g,numeroProcesso:yee()}))},[]);const h=(g,b)=>{n(j=>({...j,[g]:b}))},x=async()=>{i(!0);try{await new Promise(b=>setTimeout(b,1500));const g=r.numeroProcesso;c(!0),setTimeout(()=>{t(`/processos/${g}`)},2e3)}catch(g){console.error("Erro ao criar processo:",g)}finally{i(!1)}},f=()=>{const g=r.objetoProcesso.trim()!==""&&r.tipoTramitacao!==""&&r.gerenciasEnvolvidas.length>0&&r.modeloFluxoId!=="",b=r.tipoTramitacao===""||r.justificativaTipoTramitacao.trim()!=="";return g&&b},v=vc.find(g=>g.id===r.modeloFluxoId),p=g=>{n(b=>({...b,modeloFluxoId:g})),d(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:"pt-16 md:pt-20 px-4 sm:px-6 lg:px-8 py-6 min-h-screen max-w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(kh,{className:"mb-4 text-gray-600 hover:text-gray-900"}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-center text-primary flex items-center justify-center",children:[e.jsx(Mt,{className:"w-8 h-8 mr-3 text-blue-500"}),"Novo Processo"]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Criao de novo processo administrativo"})]})]}),l&&e.jsx(Ve,{className:"mb-6 bg-green-50 border-green-200",children:e.jsx(Be,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Processo criado com sucesso!"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Nmero do processo: ",r.numeroProcesso]})]})]})})}),e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx(Ve,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(zo,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Modelo de Fluxo"})]}),v?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-medium text-purple-900",children:v.nome}),v.ehPadrao&&e.jsxs(oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ih,{className:"w-3 h-3 mr-1 fill-current"}),"Padro"]})]}),e.jsx("p",{className:"text-sm text-purple-700 mb-2",children:v.descricao}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-purple-600",children:[e.jsxs("span",{children:[v.quantidadeEtapas," etapas"]}),e.jsx("span",{children:v.instituicao})]})]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"ml-4",children:[e.jsx(zo,{className:"w-4 h-4 mr-2"}),"Alterar Modelo"]})]})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Este modelo ser aplicado ao seu processo, definindo as etapas e responsveis padro."})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(zo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um Modelo de Fluxo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Escolha um modelo para definir as etapas do seu processo"}),e.jsxs(C,{onClick:()=>d(!0),children:[e.jsx(zo,{className:"w-4 h-4 mr-2"}),"Selecionar Modelo"]})]})]})}),e.jsx(Ve,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($e,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informaes Bsicas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"numeroProcesso",className:"text-sm font-medium text-gray-700",children:"Nmero do Processo"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"numeroProcesso",value:r.numeroProcesso,disabled:!0,className:"bg-gray-50 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Gerado automaticamente"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"anoProcesso",className:"text-sm font-medium text-gray-700",children:"Ano do Processo"}),e.jsx("div",{className:"relative",children:e.jsx(De,{id:"anoProcesso",value:`Ano: ${r.anoProcesso}`,disabled:!0,className:"bg-gray-50 text-gray-600 cursor-not-allowed"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"tipoTramitacao",className:"text-sm font-medium text-gray-700",children:"Tipo de Tramitao *"}),e.jsxs(Al,{children:[e.jsx(Dl,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"h-5 w-5 rounded-full hover:bg-blue-50",children:e.jsx(xt,{className:"w-3 h-3 text-blue-600"})})}),e.jsx(ci,{className:"max-w-sm p-4 bg-white border border-gray-200 shadow-lg rounded-lg",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Tipos de Tramitao:"}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Ordinria:"})," Processo padro com prazo normal de tramitao, seguindo o fluxo regular estabelecido."]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-orange-600",children:"Urgente:"})," Processo que requer tramitao acelerada devido a situaes de emergncia ou necessidade imediata."]})]})]})})]})]}),e.jsxs(dt,{value:r.tipoTramitacao,onValueChange:g=>h("tipoTramitacao",g),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione o tipo"})}),e.jsx(lt,{children:jee.map(g=>e.jsx(Ce,{value:g.value,children:g.label},g.value))})]})]}),r.tipoTramitacao&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"justificativaTipoTramitacao",className:"text-sm font-medium text-gray-700",children:"Justificativa do Tipo de Tramitao *"}),e.jsx(ft,{id:"justificativaTipoTramitacao",value:r.justificativaTipoTramitacao,onChange:g=>h("justificativaTipoTramitacao",g.target.value),placeholder:"Explique o motivo da escolha deste tipo de tramitao.",className:"min-h-[80px] resize-none"})]})]})]})}),e.jsx(Ve,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx($s,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Objeto e Participao"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"objetoProcesso",className:"text-sm font-medium text-gray-700",children:"Objeto do Processo *"}),e.jsx(ft,{id:"objetoProcesso",value:r.objetoProcesso,onChange:g=>h("objetoProcesso",g.target.value),placeholder:"Descreva o objeto da contratao",className:"min-h-[100px] resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Gerncia Criadora"}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"font-medium text-blue-800",children:["Gerncia: ",r.gerenciaCriadora]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Outras gerncias que podem participar do processo *"}),e.jsx(Jj,{value:r.gerenciasEnvolvidas,onValueChange:g=>h("gerenciasEnvolvidas",g),placeholder:"Selecione as gerncias participantes",required:!0,excludeValues:[r.gerenciaCriadora]})]})]})]})}),e.jsx(Ve,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsxs(Be,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(mt,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comentrios e Anexos"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"comentariosIniciais",className:"text-sm font-medium text-gray-700",children:"Observaes iniciais (opcional)"}),e.jsx(of,{value:r.comentariosIniciais,onChange:g=>h("comentariosIniciais",g),placeholder:"Digite comentrios ou justificativas relevantes para a abertura do processo... Use @ para mencionar usurios",minHeight:"100px",maxLength:1e3,processoId:"novo-processo",cardId:"observacoes-iniciais"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{className:"text-sm font-medium text-gray-700",children:"Anexar documentos iniciais (opcional)"}),e.jsx(bee,{label:"Anexar documentos iniciais",name:"documentosIniciais",files:r.documentosIniciais,onChange:g=>h("documentosIniciais",g),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0})]})]})]})}),e.jsx(Ve,{className:"bg-white rounded-xl shadow-md border border-gray-200",children:e.jsx(Be,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsx(kh,{variant:"outline",className:"flex items-center gap-2 px-6 py-3 text-base",size:"lg"}),e.jsx(C,{onClick:x,disabled:!f()||o,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 px-6 py-3 text-base",size:"lg",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Criando Processo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-5 h-5"}),"Criar Processo"]})})]})})})]})]}),e.jsx(Ke,{open:u,onOpenChange:d,children:e.jsxs(Ye,{className:"sm:max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ze,{children:e.jsx(Xe,{children:"Selecionar Modelo de Fluxo"})}),e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:vc.map(g=>e.jsx(Ve,{className:`cursor-pointer transition-all hover:shadow-lg ${r.modeloFluxoId===g.id?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-gray-50"}`,onClick:()=>p(g.id),children:e.jsxs(Be,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:g.nome}),g.ehPadrao&&e.jsxs(oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ih,{className:"w-3 h-3 mr-1 fill-current"}),"Padro"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.descricao}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-3 h-3"}),g.quantidadeEtapas," etapas"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($s,{className:"w-3 h-3"}),g.instituicao]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(C,{variant:"outline",size:"sm",className:"text-xs",onClick:b=>{b.stopPropagation()},children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Visualizar Etapas"]}),r.modeloFluxoId===g.id&&e.jsxs(oe,{className:"bg-purple-600",children:[e.jsx(Re,{className:"w-3 h-3 mr-1"}),"Selecionado"]})]})]})},g.id))}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[e.jsx(C,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsx(C,{onClick:()=>d(!1),disabled:!r.modeloFluxoId,children:"Confirmar Seleo"})]})]})]})})]})}const t6=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:be("mx-auto flex w-full justify-center",t),...s});t6.displayName="Pagination";const s6=m.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,className:be("flex flex-row items-center gap-1",t),...s}));s6.displayName="PaginationContent";const Pm=m.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,className:be("",t),...s}));Pm.displayName="PaginationItem";const df=({className:t,isActive:s,size:a="icon",...r})=>e.jsx("a",{"aria-current":s?"page":void 0,className:be(cx({variant:s?"outline":"ghost",size:a}),t),...r});df.displayName="PaginationLink";const a6=({className:t,...s})=>e.jsxs(df,{"aria-label":"Go to previous page",size:"default",className:be("gap-1 pl-2.5",t),...s,children:[e.jsx(O4,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});a6.displayName="PaginationPrevious";const r6=({className:t,...s})=>e.jsxs(df,{"aria-label":"Go to next page",size:"default",className:be("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Fs,{className:"h-4 w-4"})]});r6.displayName="PaginationNext";const Ec=[{id:"1",numeroProcesso:"Processo administrativo 001/2024",tipoProcesso:"DFD",objeto:"Aquisio de Equipamentos Mdicos para UTI",etapaAtual:"Elaborao da FD",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"30/01/2024",responsavelAtual:"Yasmin Pissolati Mattos Bretz - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"15/01/2024",ultimaAtualizacao:"25/01/2024",prazoFinal:"30/01/2024",temAnexos:!0},{id:"2",numeroProcesso:"Processo administrativo 045/2024",tipoProcesso:"ETP",objeto:"Contratao de Servios de Limpeza Hospitalar",etapaAtual:"Assinatura ETP",proximaEtapa:"Despacho do ETP",prazoEtapaAtual:"25/01/2024",responsavelAtual:"Guilherme de Carvalho Silva - GSL",regimeTramitacao:"Urgente",situacao:"atrasado",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/01/2024",ultimaAtualizacao:"24/01/2024",prazoFinal:"25/01/2024",temAnexos:!1},{id:"3",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"TR",objeto:"Consultoria Especializada em Gesto",etapaAtual:"Aprovao",proximaEtapa:"Publicao",prazoEtapaAtual:"22/01/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"concluido",ano:"2024",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"05/01/2024",ultimaAtualizacao:"20/01/2024",prazoFinal:"22/01/2024",temAnexos:!0},{id:"4",numeroProcesso:"Processo administrativo 002/2024",tipoProcesso:"DFD",objeto:"Aquisio de Mobilirio para Consultrios",etapaAtual:"Matriz de Risco",proximaEtapa:"Assinatura da FD",prazoEtapaAtual:"15/02/2024",responsavelAtual:"Andressa Sterfany Santos da Silva - GUE",regimeTramitacao:"Prioritrio",situacao:"em_andamento",ano:"2024",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"20/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"15/02/2024",temAnexos:!1},{id:"5",numeroProcesso:"Processo administrativo 002/2023",tipoProcesso:"ETP",objeto:"Contratao de Segurana Patrimonial",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"20/12/2023",responsavelAtual:"Pedro Alves - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"participante",gerenciaResponsavel:"GECON",dataCriacao:"10/11/2023",ultimaAtualizacao:"15/12/2023",prazoFinal:"20/12/2023",temAnexos:!0},{id:"6",numeroProcesso:"Processo administrativo 003/2023",tipoProcesso:"TR",objeto:"Sistema de Gesto Integrada",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"15/11/2023",responsavelAtual:"Lucia Ferreira - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2023",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/10/2023",ultimaAtualizacao:"30/11/2023",prazoFinal:"15/11/2023",temAnexos:!1},{id:"7",numeroProcesso:"Processo administrativo 001/2022",tipoProcesso:"DFD",objeto:"Aquisio de Equipamentos de Informtica",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"20/12/2022",responsavelAtual:"Roberto Santos - GECON",regimeTramitacao:"Normal",situacao:"concluido",ano:"2022",tipoParticipacao:"criador",gerenciaResponsavel:"GECON",dataCriacao:"05/02/2022",ultimaAtualizacao:"20/12/2022",prazoFinal:"20/12/2022",temAnexos:!0},{id:"8",numeroProcesso:"Processo administrativo 002/2022",tipoProcesso:"TR",objeto:"Consultoria em Gesto de Qualidade",etapaAtual:"Concludo",proximaEtapa:"-",prazoEtapaAtual:"15/11/2022",responsavelAtual:"Fernanda Costa - GSP",regimeTramitacao:"Prioritrio",situacao:"concluido",ano:"2022",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"10/03/2022",ultimaAtualizacao:"15/11/2022",prazoFinal:"15/11/2022",temAnexos:!0},{id:"9",numeroProcesso:"Processo administrativo 003/2024",tipoProcesso:"ETP",objeto:"Contratao de Servios de Manuteno",etapaAtual:"Elaborao ETP",proximaEtapa:"Assinatura ETP",prazoEtapaAtual:"10/02/2024",responsavelAtual:"Carlos Lima - GSP",regimeTramitacao:"Normal",situacao:"em_andamento",ano:"2024",tipoParticipacao:"responsavel",gerenciaResponsavel:"GECON",dataCriacao:"25/01/2024",ultimaAtualizacao:"26/01/2024",prazoFinal:"10/02/2024",temAnexos:!0}],wee=[{id:"2025",nome:"Processos de 2025",descricao:"Processos iniciados em 2025",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-purple-50 border-purple-200 text-purple-700",quantidadeProcessos:Ec.filter(t=>t.ano==="2025").length,ultimaModificacao:"15/01/2025",filtro:t=>t.ano==="2025"},{id:"2024",nome:"Processos de 2024",descricao:"Processos iniciados em 2024",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-blue-50 border-blue-200 text-blue-700",quantidadeProcessos:Ec.filter(t=>t.ano==="2024").length,ultimaModificacao:"26/01/2024",filtro:t=>t.ano==="2024"},{id:"2023",nome:"Processos de 2023",descricao:"Processos iniciados em 2023",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-slate-50 border-slate-200 text-slate-700",quantidadeProcessos:Ec.filter(t=>t.ano==="2023").length,ultimaModificacao:"15/12/2023",filtro:t=>t.ano==="2023"},{id:"2022",nome:"Processos de 2022",descricao:"Processos iniciados em 2022",icone:e.jsx(Pt,{className:"w-6 h-6"}),cor:"bg-green-50 border-green-200 text-green-700",quantidadeProcessos:Ec.filter(t=>t.ano==="2022").length,ultimaModificacao:"20/01/2024",filtro:t=>t.ano==="2022"}];function Cee({status:t}){const a={em_andamento:{label:"Em Andamento",color:"bg-blue-50 text-blue-700 border-blue-200/50",dot:"bg-blue-400"},pendente:{label:"Pendente",color:"bg-amber-50 text-amber-700 border-amber-200/50",dot:"bg-amber-400"},atrasado:{label:"Atrasado",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},concluido:{label:"Concludo",color:"bg-emerald-50 text-emerald-700 border-emerald-200/50",dot:"bg-emerald-400"},cancelado:{label:"Cancelado",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function See({regime:t}){const a={Normal:{label:"Normal",color:"bg-slate-50 text-slate-700 border-slate-200/50",dot:"bg-slate-400"},Urgente:{label:"Urgente",color:"bg-red-50 text-red-700 border-red-200/50",dot:"bg-red-400"},Prioritrio:{label:"Prioritrio",color:"bg-orange-50 text-orange-700 border-orange-200/50",dot:"bg-orange-400"}}[t];return e.jsxs(oe,{className:`${a.color} border font-medium flex items-center gap-2 px-3 py-1 rounded-full text-xs`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.dot}`}),a.label]})}function Eee({type:t}){const a={criador:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-green-600",tooltip:"Criador do processo"},responsavel:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-blue-600",tooltip:"Responsvel por etapa"},participante:{icon:e.jsx(ht,{className:"w-4 h-4"}),color:"text-gray-600",tooltip:"Participante histrico"}}[t];return e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:`${a.color}`,children:a.icon})}),e.jsx(bt,{children:e.jsx("p",{children:a.tooltip})})]})})}function Pee({prazo:t}){const s=new Date,a=new Date(t.split("/").reverse().join("-")),r=Math.ceil((a.getTime()-s.getTime())/(1e3*60*60*24)),n=()=>r<0?"text-red-600 font-semibold":r<=3?"text-orange-600 font-semibold":"text-gray-600";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:n(),children:t})]})}function Aee({temAnexos:t}){return t?e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"w-6 h-6 text-gray-500 hover:text-blue-600",children:e.jsx(ai,{className:"w-4 h-4"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Ver anexos"})})]})}):null}function Dee(){const{pastaId:t}=ax(),s=fs(),{atualizarUltimoAcesso:a}=ny(),[r,n]=m.useState(""),[o,i]=m.useState("todos"),[l,c]=m.useState("todos"),[u,d]=m.useState("todos"),[h,x]=m.useState(1),[f]=m.useState(10);Z.useEffect(()=>{t&&(a(t),console.log(`Pasta ${t} acessada - data atualizada`))},[t,a]);const v=wee.find(P=>P.id===t);if(!v)return e.jsx("div",{className:"min-h-screen bg-gray-50/30",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pasta no encontrada"}),e.jsxs(C,{onClick:()=>s("/processos-gerencia"),children:[e.jsx(ix,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const p=m.useMemo(()=>Ec.filter(v.filtro),[v]),y=m.useMemo(()=>p.filter(P=>{const _=r===""||P.numeroProcesso.toLowerCase().includes(r.toLowerCase())||P.objeto.toLowerCase().includes(r.toLowerCase()),M=o==="todos"||P.etapaAtual===o,k=l==="todos"||P.situacao===l,$=u==="todos"||P.regimeTramitacao===u;return _&&M&&k&&$}),[p,r,o,l,u]),g=Math.ceil(y.length/f),b=(h-1)*f,j=b+f,N=y.slice(b,j),w=[...new Set(p.map(P=>P.etapaAtual))],E=[...new Set(p.map(P=>P.situacao))],D=[...new Set(p.map(P=>P.regimeTramitacao))];return e.jsxs("div",{className:"min-h-screen bg-gray-50/30",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 md:pt-20 w-full px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(kh,{variant:"outline",className:"gap-2"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:v.nome}),e.jsx("p",{className:"text-gray-600",children:v.descricao})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total de processos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"ltima modificao"}),e.jsx("p",{className:"text-sm text-gray-600",children:v.ultimaModificacao})]})]})]}),e.jsxs(Ve,{className:"mb-6",children:[e.jsx(_t,{children:e.jsxs(Lt,{className:"flex items-center gap-2",children:[e.jsx(F4,{className:"w-5 h-5"}),"Filtros e Busca"]})}),e.jsx(Be,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(De,{placeholder:"Buscar por nmero ou objeto...",value:r,onChange:P=>n(P.target.value),className:"pl-10"})]}),e.jsxs(dt,{value:o,onValueChange:i,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Etapa Atual"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todas as etapas"}),w.map(P=>e.jsx(Ce,{value:P,children:P},P))]})]}),e.jsxs(dt,{value:l,onValueChange:c,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Situao"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todas as situaes"}),E.map(P=>e.jsx(Ce,{value:P,children:P},P))]})]}),e.jsxs(dt,{value:u,onValueChange:d,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Regime"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos os regimes"}),D.map(P=>e.jsx(Ce,{value:P,children:P},P))]})]}),e.jsx(C,{variant:"outline",onClick:()=>{n(""),i("todos"),c("todos"),d("todos"),x(1)},children:"Limpar Filtros"})]})})]}),e.jsxs(Ve,{className:"w-full",children:[e.jsx(_t,{children:e.jsx(Lt,{children:"Processos na Pasta"})}),e.jsx(Be,{className:"p-0",children:N.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200/60 rounded-lg overflow-hidden bg-white shadow-sm w-full",children:e.jsxs(uo,{children:[e.jsx(mo,{className:"bg-gradient-to-r from-gray-50 to-gray-100/50",children:e.jsxs(Ys,{children:[e.jsx(at,{className:"w-12 py-3"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Processo"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Objeto"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Etapa Atual"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Prxima Etapa"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Prazo"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Regime"}),e.jsx(at,{className:"font-semibold text-gray-700 py-3",children:"Situao"}),e.jsx(at,{className:"text-right font-semibold text-gray-700 py-3",children:"Aes"})]})}),e.jsx(ho,{children:N.map((P,_)=>e.jsxs(Ys,{className:`hover:bg-blue-50/30 transition-colors border-b border-gray-100/60 ${_%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(st,{className:"py-3",children:e.jsx(Eee,{type:P.tipoParticipacao})}),e.jsx(st,{className:"py-3",children:e.jsx("div",{className:"font-semibold text-gray-800",children:P.numeroProcesso})}),e.jsx(st,{className:"py-3",children:e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"max-w-xs truncate text-gray-600 font-medium cursor-help",children:P.objeto})}),e.jsx(bt,{children:e.jsx("p",{children:P.objeto})})]})})}),e.jsx(st,{className:"py-3",children:e.jsx(oe,{variant:"outline",className:"text-xs",children:P.etapaAtual})}),e.jsx(st,{className:"py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:P.proximaEtapa||"-"})}),e.jsx(st,{className:"py-3",children:e.jsx(Pee,{prazo:P.prazoEtapaAtual})}),e.jsx(st,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(See,{regime:P.regimeTramitacao}),P.regimeTramitacao==="Urgente"&&e.jsx(xt,{className:"w-4 h-4 text-orange-500"})]})}),e.jsx(st,{className:"py-3",children:e.jsx(Cee,{status:P.situacao})}),e.jsx(st,{className:"text-right py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Aee,{temAnexos:P.temAnexos}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 rounded-lg",onClick:()=>s(`/processos/${P.id}`),children:e.jsx(Qe,{className:"w-5 h-5"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Ver detalhes do processo"})})]})})]})})]},P.id))})]})}),g>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(t6,{children:e.jsxs(s6,{children:[e.jsx(Pm,{children:e.jsx(a6,{onClick:()=>x(Math.max(1,h-1)),className:h===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:g},(P,_)=>_+1).map(P=>e.jsx(Pm,{children:e.jsx(df,{onClick:()=>x(P),isActive:h===P,className:"cursor-pointer",children:P})},P)),e.jsx(Pm,{children:e.jsx(r6,{onClick:()=>x(Math.min(g,h+1)),className:h===g?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Nenhum processo encontrado"}),e.jsx("p",{className:"text-gray-500",children:"No h processos nesta pasta com os filtros aplicados."})]})})]})]})]})}function kee(t,s=[]){let a=[];function r(o,i){const l=m.createContext(i),c=a.length;a=[...a,i];function u(h){const{scope:x,children:f,...v}=h,p=(x==null?void 0:x[t][c])||l,y=m.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:y,children:f})}function d(h,x){const f=(x==null?void 0:x[t][c])||l,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=a.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,Tee(n,...s)]}function Tee(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}var Ree="Toggle",oy=m.forwardRef((t,s)=>{const{pressed:a,defaultPressed:r=!1,onPressedChange:n,...o}=t,[i=!1,l]=Qs({prop:a,onChange:n,defaultProp:r});return e.jsx(Ge.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:s,onClick:Ee(t.onClick,()=>{t.disabled||l(!i)})})});oy.displayName=Ree;var n6=oy,tc="ToggleGroup",[o6,yae]=kee(tc,[Co]),i6=Co(),iy=Z.forwardRef((t,s)=>{const{type:a,...r}=t;if(a==="single"){const n=r;return e.jsx(Mee,{...n,ref:s})}if(a==="multiple"){const n=r;return e.jsx(Iee,{...n,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${tc}\``)});iy.displayName=tc;var[l6,c6]=o6(tc),Mee=Z.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},...o}=t,[i,l]=Qs({prop:a,defaultProp:r,onChange:n});return e.jsx(l6,{scope:t.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:l,onItemDeactivate:Z.useCallback(()=>l(""),[l]),children:e.jsx(d6,{...o,ref:s})})}),Iee=Z.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},...o}=t,[i=[],l]=Qs({prop:a,defaultProp:r,onChange:n}),c=Z.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=Z.useCallback(d=>l((h=[])=>h.filter(x=>x!==d)),[l]);return e.jsx(l6,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:e.jsx(d6,{...o,ref:s})})});iy.displayName=tc;var[Oee,zee]=o6(tc),d6=Z.forwardRef((t,s)=>{const{__scopeToggleGroup:a,disabled:r=!1,rovingFocus:n=!0,orientation:o,dir:i,loop:l=!0,...c}=t,u=i6(a),d=wo(i),h={role:"group",dir:d,...c};return e.jsx(Oee,{scope:a,rovingFocus:n,disabled:r,children:n?e.jsx(Cx,{asChild:!0,...u,orientation:o,dir:d,loop:l,children:e.jsx(Ge.div,{...h,ref:s})}):e.jsx(Ge.div,{...h,ref:s})})}),Lh="ToggleGroupItem",u6=Z.forwardRef((t,s)=>{const a=c6(Lh,t.__scopeToggleGroup),r=zee(Lh,t.__scopeToggleGroup),n=i6(t.__scopeToggleGroup),o=a.value.includes(t.value),i=r.disabled||t.disabled,l={...t,pressed:o,disabled:i},c=Z.useRef(null);return r.rovingFocus?e.jsx(Sx,{asChild:!0,...n,focusable:!i,active:o,ref:c,children:e.jsx(k2,{...l,ref:s})}):e.jsx(k2,{...l,ref:s})});u6.displayName=Lh;var k2=Z.forwardRef((t,s)=>{const{__scopeToggleGroup:a,value:r,...n}=t,o=c6(Lh,a),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?i:void 0;return e.jsx(oy,{...l,...n,ref:s,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),m6=iy,h6=u6;const x6=Kr("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Fee=m.forwardRef(({className:t,variant:s,size:a,...r},n)=>e.jsx(n6,{ref:n,className:be(x6({variant:s,size:a,className:t})),...r}));Fee.displayName=n6.displayName;const f6=m.createContext({size:"default",variant:"default"}),ly=m.forwardRef(({className:t,variant:s,size:a,children:r,...n},o)=>e.jsx(m6,{ref:o,className:be("flex items-center justify-center gap-1",t),...n,children:e.jsx(f6.Provider,{value:{variant:s,size:a},children:r})}));ly.displayName=m6.displayName;const sl=m.forwardRef(({className:t,children:s,variant:a,size:r,...n},o)=>{const i=m.useContext(f6);return e.jsx(h6,{ref:o,className:be(x6({variant:i.variant||a,size:i.size||r}),t),...n,children:s})});sl.displayName=h6.displayName;const _ee=[{id:"1",nome:"Modelo Fiscatus",descricao:"Fluxo completo para contrataes pblicas com todas as etapas necessrias para licitao e contratao.",etapas:21,tipo:"sistema",isAtivo:!0,isPadrao:!0,ultimoUpdate:"2 dias atrs"},{id:"2",nome:"Contratao Rpida",descricao:"Processo simplificado para contrataes de baixo valor com etapas essenciais.",etapas:8,tipo:"pessoal",isAtivo:!1,isPadrao:!1,ultimoUpdate:"1 semana atrs"},{id:"3",nome:"Aquisio de TI",descricao:"Fluxo especfico para aquisies de tecnologia da informao com anlise tcnica.",etapas:15,tipo:"pessoal",isAtivo:!1,isPadrao:!1,ultimoUpdate:"3 dias atrs"}];function Lee({onToggleCollapse:t}){const[s,a]=m.useState(_ee),[r,n]=m.useState(""),[o,i]=m.useState("todos"),l=()=>{console.log("Novo modelo - Em breve")},c=()=>{console.log("Duplicar Fiscatus - Em breve")},u=v=>{console.log("Editar modelo - Em breve")},d=v=>{console.log("Duplicar modelo - Em breve")},h=v=>{console.log("Excluir modelo - Em breve")},x=v=>{a(p=>p.map(y=>({...y,isAtivo:y.id===v})))},f=s.filter(v=>{const p=v.nome.toLowerCase().includes(r.toLowerCase())||v.descricao.toLowerCase().includes(r.toLowerCase()),y=o==="todos"||o==="sistema"&&v.tipo==="sistema"||o==="pessoais"&&v.tipo==="pessoal";return p&&y});return e.jsx("nav",{className:"h-full flex flex-col",children:e.jsxs("div",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+52px)] flex flex-col h-full",children:[e.jsxs("div",{className:"pb-6 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-1",children:"Modelos"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Fluxos de trabalho"})]}),t&&e.jsx(C,{variant:"ghost",size:"sm",onClick:t,className:"h-7 w-7 p-0 text-slate-400 hover:text-slate-600 hover:bg-slate-100",children:e.jsx(mF,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(C,{onClick:l,className:"w-full h-9 text-sm font-medium",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Novo Modelo"]}),e.jsxs(C,{onClick:c,variant:"outline",className:"w-full h-9 text-sm",children:[e.jsx(sh,{className:"w-4 h-4 mr-2"}),"Duplicar Fiscatus"]})]})]}),e.jsxs("div",{className:"py-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(De,{placeholder:"Buscar modelos...",value:r,onChange:v=>n(v.target.value),className:"pl-10 h-9 text-sm rounded-lg border-slate-200 focus:border-indigo-300 focus:ring-indigo-200"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2 uppercase tracking-wide",children:"Filtros"}),e.jsxs(ly,{type:"single",value:o,onValueChange:i,className:"justify-start",children:[e.jsx(sl,{value:"todos",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Todos"}),e.jsx(sl,{value:"sistema",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Sistema"}),e.jsx(sl,{value:"pessoais",className:"rounded-full px-3 py-1.5 text-sm h-8 data-[state=on]:bg-indigo-100 data-[state=on]:text-indigo-700",children:"Meus"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"space-y-2.5 pb-4",children:[f.map(v=>e.jsxs("div",{onClick:()=>x(v.id),className:`group relative p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-sm ${v.isAtivo?"ring-1 ring-indigo-200 border-indigo-300 bg-indigo-50/20":"border-slate-200 hover:border-slate-300 bg-white hover:bg-slate-50/30"}`,children:[v.isAtivo&&e.jsx("div",{className:"absolute -left-0.5 top-3 w-0.5 h-6 bg-indigo-500 rounded-r-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-slate-900 text-sm leading-tight mb-1",children:v.nome}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[v.tipo==="sistema"&&e.jsx(oe,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-slate-100 text-slate-600 h-5",children:"Sistema"}),v.isPadrao&&e.jsx(ih,{className:"w-3 h-3 text-yellow-500 fill-current"})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),u(v.id)},className:"h-6 w-6 p-0 hover:bg-slate-100",children:e.jsx(ar,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),d(v.id)},className:"h-6 w-6 p-0 hover:bg-slate-100",children:e.jsx(sh,{className:"w-3 h-3"})}),e.jsx(C,{size:"sm",variant:"ghost",onClick:p=>{p.stopPropagation(),h(v.id)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",children:e.jsx(It,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{children:[v.etapas," etapas"]})]}),e.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:v.ultimoUpdate})]}),e.jsx("p",{className:"text-xs text-slate-400 line-clamp-2 leading-relaxed",children:v.descricao})]})]},v.id)),f.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ds,{className:"w-5 h-5 text-slate-400"})}),e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nenhum modelo encontrado"}),e.jsx("p",{className:"text-xs text-slate-400",children:r?"Tente ajustar os filtros de busca":"Crie seu primeiro modelo"})]})]})})]})})}function $ee({nomeModelo:t,descricaoModelo:s,totalEtapas:a,totalDias:r,linhasCriticas:n,assinaturasPendentes:o,onNomeChange:i,onDescricaoChange:l,onSalvar:c,onReverter:u}){const[d,h]=m.useState(!1),[x,f]=m.useState(t),[v,p]=m.useState(s),y=()=>{i(x),l(v),h(!1),c()},g=()=>{f(t),p(s),h(!1)},b=()=>{f(t),p(s),h(!1),u()};return e.jsxs("div",{className:"rounded-2xl border bg-white p-3 md:p-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:d?e.jsx(De,{value:x,onChange:j=>f(j.target.value),className:"text-lg font-semibold border-0 p-0 h-auto focus-visible:ring-0",placeholder:"Nome do modelo"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-900 truncate",children:t}),e.jsx(oe,{variant:"secondary",className:"text-xs",children:"Sistema"})]})}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:d?e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:g,className:"h-8",children:"Cancelar"}),e.jsx(C,{variant:"default",size:"sm",onClick:y,className:"h-8",children:"Salvar"})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:b,className:"h-8",children:"Reverter"}),e.jsx(C,{variant:"default",size:"sm",onClick:y,className:"h-8",children:"Salvar"})]})})]}),e.jsx("div",{children:d?e.jsx(ft,{value:v,onChange:j=>p(j.target.value),className:"text-sm text-slate-600 border-0 p-0 h-auto resize-none focus-visible:ring-0",placeholder:"Descrio do modelo",rows:2}):e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-1",children:[s,e.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 ml-1",onClick:()=>h(!0),children:"ver mais"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[a," Etapas"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[r," Dias"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[n," Crticas"]}),e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[o," Pendentes"]})]})]})}var p6=["PageUp","PageDown"],g6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v6={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},sc="Slider",[V0,Vee,Gee]=Ul(sc),[b6,Nae]=ua(sc,[Gee]),[Bee,uf]=b6(sc),j6=m.forwardRef((t,s)=>{const{name:a,min:r=0,max:n=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:x=()=>{},inverted:f=!1,form:v,...p}=t,y=m.useRef(new Set),g=m.useRef(0),j=i==="horizontal"?Uee:Hee,[N=[],w]=Qs({prop:d,defaultProp:u,onChange:k=>{var H;(H=[...y.current][g.current])==null||H.focus(),h(k)}}),E=m.useRef(N);function D(k){const $=Xee(N,k);M(k,$)}function P(k){M(k,g.current)}function _(){const k=E.current[g.current];N[g.current]!==k&&x(N)}function M(k,$,{commit:H}={commit:!1}){const Y=ete(o),K=tte(Math.round((k-r)/o)*o+r,Y),z=wd(K,[r,n]);w((O=[])=>{const S=Yee(O,z,$);if(Zee(S,c*o)){g.current=S.indexOf(z);const L=String(S)!==String(O);return L&&H&&x(S),L?S:O}else return O})}return e.jsx(Bee,{scope:t.__scopeSlider,name:a,disabled:l,min:r,max:n,valueIndexToChangeRef:g,thumbs:y.current,values:N,orientation:i,form:v,children:e.jsx(V0.Provider,{scope:t.__scopeSlider,children:e.jsx(V0.Slot,{scope:t.__scopeSlider,children:e.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:s,onPointerDown:Ee(p.onPointerDown,()=>{l||(E.current=N)}),min:r,max:n,inverted:f,onSlideStart:l?void 0:D,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&M(r,0,{commit:!0}),onEndKeyDown:()=>!l&&M(n,N.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:$})=>{if(!l){const K=p6.includes(k.key)||k.shiftKey&&g6.includes(k.key)?10:1,z=g.current,O=N[z],S=o*K*$;M(O+S,z,{commit:!0})}}})})})})});j6.displayName=sc;var[y6,N6]=b6(sc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Uee=m.forwardRef((t,s)=>{const{min:a,max:r,dir:n,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,x]=m.useState(null),f=rt(s,j=>x(j)),v=m.useRef(),p=wo(n),y=p==="ltr",g=y&&!o||!y&&o;function b(j){const N=v.current||h.getBoundingClientRect(),w=[0,N.width],D=cy(w,g?[a,r]:[r,a]);return v.current=N,D(j-N.left)}return e.jsx(y6,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:e.jsx(w6,{dir:p,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=b(j.clientX);i==null||i(N)},onSlideMove:j=>{const N=b(j.clientX);l==null||l(N)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:j=>{const w=v6[g?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:w?-1:1})}})})}),Hee=m.forwardRef((t,s)=>{const{min:a,max:r,inverted:n,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=m.useRef(null),h=rt(s,d),x=m.useRef(),f=!n;function v(p){const y=x.current||d.current.getBoundingClientRect(),g=[0,y.height],j=cy(g,f?[r,a]:[a,r]);return x.current=y,j(p-y.top)}return e.jsx(y6,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:e.jsx(w6,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=v(p.clientY);o==null||o(y)},onSlideMove:p=>{const y=v(p.clientY);i==null||i(y)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:p=>{const g=v6[f?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:g?-1:1})}})})}),w6=m.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:r,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=uf(sc,a);return e.jsx(Ge.span,{...u,ref:s,onKeyDown:Ee(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):p6.concat(g6).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ee(t.onPointerDown,h=>{const x=h.target;x.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(x)?x.focus():r(h)}),onPointerMove:Ee(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:Ee(t.onPointerUp,h=>{const x=h.target;x.hasPointerCapture(h.pointerId)&&(x.releasePointerCapture(h.pointerId),o(h))})})}),C6="SliderTrack",S6=m.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=uf(C6,a);return e.jsx(Ge.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:s})});S6.displayName=C6;var G0="SliderRange",E6=m.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=uf(G0,a),o=N6(G0,a),i=m.useRef(null),l=rt(s,i),c=n.values.length,u=n.values.map(x=>A6(x,n.min,n.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return e.jsx(Ge.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:l,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}})});E6.displayName=G0;var B0="SliderThumb",P6=m.forwardRef((t,s)=>{const a=Vee(t.__scopeSlider),[r,n]=m.useState(null),o=rt(s,l=>n(l)),i=m.useMemo(()=>r?a().findIndex(l=>l.ref.current===r):-1,[a,r]);return e.jsx(Wee,{...t,ref:o,index:i})}),Wee=m.forwardRef((t,s)=>{const{__scopeSlider:a,index:r,name:n,...o}=t,i=uf(B0,a),l=N6(B0,a),[c,u]=m.useState(null),d=rt(s,b=>u(b)),h=c?i.form||!!c.closest("form"):!0,x=ux(c),f=i.values[r],v=f===void 0?0:A6(f,i.min,i.max),p=Kee(r,i.values.length),y=x==null?void 0:x[l.size],g=y?Jee(y,v,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${g}px)`},children:[e.jsx(V0.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Ge.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:f===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&e.jsx(qee,{name:n??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:f},r)]})});P6.displayName=B0;var qee=t=>{const{value:s,...a}=t,r=m.useRef(null),n=dx(s);return m.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(n!==s&&c){const u=new Event("input",{bubbles:!0});c.call(o,s),o.dispatchEvent(u)}},[n,s]),e.jsx("input",{style:{display:"none"},...a,ref:r,defaultValue:s})};function Yee(t=[],s,a){const r=[...t];return r[a]=s,r.sort((n,o)=>n-o)}function A6(t,s,a){const o=100/(a-s)*(t-s);return wd(o,[0,100])}function Kee(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function Xee(t,s){if(t.length===1)return 0;const a=t.map(n=>Math.abs(n-s)),r=Math.min(...a);return a.indexOf(r)}function Jee(t,s,a){const r=t/2,o=cy([0,50],[0,r]);return(r-o(s)*a)*a}function Qee(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function Zee(t,s){if(s>0){const a=Qee(t);return Math.min(...a)>=s}return!0}function cy(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function ete(t){return(String(t).split(".")[1]||"").length}function tte(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var D6=j6,ste=S6,ate=E6,rte=P6;const k6=m.forwardRef(({className:t,...s},a)=>e.jsxs(D6,{ref:a,className:be("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(ste,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(ate,{className:"absolute h-full bg-primary"})}),e.jsx(rte,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));k6.displayName=D6.displayName;function nte({totalEtapas:t,totalDias:s,onViewModeChange:a,onZoomChange:r}){const[n,o]=m.useState("grid"),[i,l]=m.useState([100]),c=()=>{console.log("Adicionar card - Em breve")},u=()=>{console.log("Alinhar - Em breve")},d=()=>{console.log("Resetar numerao - Em breve")},h=()=>{console.log("Mostrar dependncias - Em breve")},x=v=>{o(v),a(v)},f=v=>{l(v),r(v[0])};return e.jsx("div",{className:"fixed top-[var(--safe-top)] left-0 right-0 z-20 bg-white/95 backdrop-blur border-b shadow-[0_1px_0_0_rgba(15,23,42,.06)]",children:e.jsxs("div",{className:"h-[var(--toolbar-h)] px-[var(--gutter)] flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsxs(C,{variant:"default",size:"sm",onClick:c,className:"h-8",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Card"]})}),e.jsx(bt,{children:e.jsx("p",{children:"Adicionar nova etapa"})})]})}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:u,className:"h-8",children:[e.jsx($z,{className:"w-4 h-4 mr-1"}),"Alinhar"]})}),e.jsx(bt,{children:e.jsx("p",{children:"Alinhar cards na grade"})})]})}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:d,className:"h-8",children:[e.jsx(qs,{className:"w-4 h-4 mr-1"}),"Resetar numerao"]})}),e.jsx(bt,{children:e.jsx("p",{children:"Reconta os nmeros sem alterar a ordem"})})]})}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsxs(C,{variant:"outline",size:"sm",onClick:h,className:"h-8",children:[e.jsx(L4,{className:"w-4 h-4 mr-1"}),"Mostrar dependncias"]})}),e.jsx(bt,{children:e.jsx("p",{children:"Exibe ligaes entre etapas relacionadas"})})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ly,{type:"single",value:n,onValueChange:x,children:[e.jsx(sl,{value:"grid",className:"h-8 w-8 p-0","aria-label":"Visualizao em grade",children:e.jsx(Zz,{className:"w-4 h-4"})}),e.jsx(sl,{value:"list",className:"h-8 w-8 p-0","aria-label":"Visualizao em lista",children:e.jsx(nF,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K4,{className:"w-4 h-4 text-slate-500","aria-hidden":"true"}),e.jsx(k6,{value:i,onValueChange:f,max:110,min:90,step:5,className:"w-20","aria-label":"Zoom dos cards"}),e.jsx(Y4,{className:"w-4 h-4 text-slate-500","aria-hidden":"true"}),e.jsxs("span",{className:"text-xs text-slate-600 w-8","aria-label":`Zoom atual: ${i[0]}%`,children:[i[0],"%"]})]})]})]})})}function ote({index:t,title:s,department:a,days:r,zoom:n=100,editable:o=!1,onViewDetails:i,onEdit:l}){return e.jsxs("article",{className:"stage-card relative rounded-2xl border border-slate-200 shadow-sm bg-white p-4 md:p-5 transition hover:shadow-md focus-visible:ring-2 focus-visible:ring-indigo-200 h-[220px] flex flex-col justify-between",children:[e.jsx("div",{className:"absolute -top-2 left-3 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"absolute -top-2 right-3 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx("div",{className:"absolute top-2 right-2 opacity-60 hover:opacity-100 transition-opacity cursor-grab","aria-label":"Arrastar para reordenar",children:e.jsx($l,{className:"w-4 h-4 text-slate-400"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Arrastar para reordenar"})})]})}),e.jsx("div",{className:"w-8 h-8 md:w-9 md:h-9 rounded-full bg-indigo-500 text-white flex items-center justify-center font-semibold absolute -left-2 -top-2",children:t}),e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2 flex-1 justify-center",children:[e.jsx("h3",{className:"text-slate-900 font-semibold leading-tight line-clamp-2 text-sm",children:s}),e.jsx("div",{className:"inline-flex items-center rounded-full bg-slate-100 text-slate-700 text-xs px-2 py-1",children:a}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-700",children:[e.jsx(Fe,{className:"w-3 h-3"}),e.jsxs("span",{children:[r," dias teis"]})]})]}),e.jsxs("div",{className:"flex justify-center gap-2",children:[o&&l&&e.jsxs(C,{variant:"outline",size:"sm",className:"justify-center rounded-xl border-slate-200 text-xs h-7 px-3",onClick:l,children:[e.jsx(ar,{className:"w-3 h-3 mr-1"}),"Editar"]}),e.jsxs(C,{variant:"secondary",size:"sm",className:"justify-center rounded-xl border-slate-200 text-xs h-7 px-3",onClick:i,children:[e.jsx(Qe,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})]})]})}function ite({etapas:t,zoom:s=100,editable:a=!1,onEdit:r,onDelete:n,onView:o}){return e.jsx("div",{id:"grid-anchor",className:"scroll-mt-[calc(var(--safe-top)+var(--toolbar-h)+56px)] pt-2",style:{"--card-scale":s/100},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 xl:gap-5",style:{transform:`scale(${s/100})`,transformOrigin:"top left"},children:t.map(i=>e.jsx("div",{className:"h-[220px]",children:e.jsx(ote,{index:i.orderIndex,title:i.title,department:i.department||"",days:i.days||0,zoom:s,editable:a,onViewDetails:()=>o==null?void 0:o(i.id),onEdit:()=>r==null?void 0:r(i.id)})},i.id))})})}function lte({etapas:t,onEdit:s,onDelete:a,onView:r}){const n=l=>{s==null||s(l)},o=l=>{a==null||a(l)},i=l=>{r==null||r(l)};return e.jsx("div",{id:"list-anchor",className:"scroll-mt-[calc(var(--safe-top)+var(--toolbar-h)+56px)] pt-2",children:e.jsx("div",{className:"rounded-2xl border bg-white shadow-sm overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+56px)] z-10 bg-white border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 text-center p-3 font-medium text-slate-600",children:"#"}),e.jsx("th",{className:"text-left p-3 font-medium text-slate-600",children:"Etapa"}),e.jsx("th",{className:"text-left p-3 font-medium text-slate-600",children:"Setor"}),e.jsx("th",{className:"w-24 text-center p-3 font-medium text-slate-600",children:"Prazo"}),e.jsx("th",{className:"w-32 text-center p-3 font-medium text-slate-600",children:"Aes"})]})}),e.jsx("tbody",{children:t.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors border-b",children:[e.jsx("td",{className:"text-center p-3",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center text-sm font-semibold",children:l.orderIndex})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"font-medium text-slate-900",children:l.title})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-slate-600",children:l.department||""})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-slate-600",children:[e.jsx(Fe,{className:"w-4 h-4"}),l.days||0,"d"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>i(l.id),className:"h-8 w-8 p-0",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(l.id),className:"h-8 w-8 p-0",children:e.jsx(ar,{className:"w-4 h-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>o(l.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:e.jsx(It,{className:"w-4 h-4"})})]})})]},l.id))})]})})})}const T2=t=>{let s;const a=new Set,r=(u,d)=>{const h=typeof u=="function"?u(s):u;if(!Object.is(h,s)){const x=s;s=d??(typeof h!="object"||h===null)?h:Object.assign({},s,h),a.forEach(f=>f(s,x))}},n=()=>s,l={setState:r,getState:n,getInitialState:()=>c,subscribe:u=>(a.add(u),()=>a.delete(u))},c=s=t(r,n,l);return l},cte=t=>t?T2(t):T2,dte=t=>t;function ute(t,s=dte){const a=Z.useSyncExternalStore(t.subscribe,Z.useCallback(()=>s(t.getState()),[t,s]),Z.useCallback(()=>s(t.getInitialState()),[t,s]));return Z.useDebugValue(a),a}const mte=t=>{const s=cte(t),a=r=>ute(s,r);return Object.assign(a,s),a},T6=t=>mte;function dy(t,s){let a;try{a=t()}catch{return}return{getItem:n=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=a.getItem(n))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(n,o)=>a.setItem(n,JSON.stringify(o,void 0)),removeItem:n=>a.removeItem(n)}}const U0=t=>s=>{try{const a=t(s);return a instanceof Promise?a:{then(r){return U0(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return U0(r)(a)}}}},hte=(t,s)=>(a,r,n)=>{let o={storage:dy(()=>localStorage),partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...s},i=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...p)},r,n);const d=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},h=n.setState;n.setState=(p,y)=>(h(p,y),d());const x=t((...p)=>(a(...p),d()),r,n);n.getInitialState=()=>x;let f;const v=()=>{var p,y;if(!u)return;i=!1,l.forEach(b=>{var j;return b((j=r())!=null?j:x)});const g=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(p=r())!=null?p:x))||void 0;return U0(u.getItem.bind(u))(o.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate){const j=o.migrate(b.state,b.version);return j instanceof Promise?j.then(N=>[!0,N]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var j;const[N,w]=b;if(f=o.merge(w,(j=r())!=null?j:x),a(f,!0),N)return d()}).then(()=>{g==null||g(f,void 0),f=r(),i=!0,c.forEach(b=>b(f))}).catch(b=>{g==null||g(void 0,b)})};return n.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||v(),f||x},R6=hte,xte={"modelo-fiscatus":[{id:"stage-1",modelId:"modelo-fiscatus",title:"Elaborao do DFD",department:"GSP - Gerncia de Solues e Projetos",days:5,orderIndex:1,tools:["management","main_form","stage_panel","stage_actions","comments"],toolsOrder:["management","main_form","stage_panel","stage_actions","comments"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[{id:"v1",label:"v1.0",createdAt:Date.now()-864e5,author:"Joo Silva"},{id:"v2",label:"v1.1",createdAt:Date.now()-432e5,author:"Maria Santos"}],attachments:[{id:"att1",name:"documento-base.pdf",sizeKB:1024,updatedAt:Date.now()-36e5}]},main_form:{schemaId:"dfd-schema",requiredFields:["objeto","justificativa"],values:{objeto:"Contratao de servios de TI",justificativa:"Necessidade de modernizao dos sistemas"},requiredFieldsCatalog:[{id:"req1",label:"Objeto",icon:"FileText",color:"indigo"},{id:"req2",label:"Justificativa",icon:"AlertCircle",color:"emerald"}]},stage_panel:{showSLA:!0,startDate:"2024-01-15",dueDate:"2024-01-20",checklist:[{id:"chk1",label:"Revisar documentao",checked:!0},{id:"chk2",label:"Validar oramento",checked:!1},{id:"chk3",label:"Aprovar cronograma",checked:!0}],checklistCatalog:[{id:"cat1",label:"Revisar documentao",icon:"FileText",color:"slate"},{id:"cat2",label:"Validar oramento",icon:"CheckCircle",color:"emerald"},{id:"cat3",label:"Aprovar cronograma",icon:"Calendar",color:"indigo"}],progress:75},stage_actions:{actions:["send","finish","generate_doc"],actionsCatalog:[{id:"act1",label:"Enviar para anlise",icon:"Send",color:"indigo",meta:{actionType:"send"}},{id:"act2",label:"Finalizar processo",icon:"CheckCircle",color:"emerald",meta:{actionType:"finish"}},{id:"act3",label:"Gerar documento",icon:"FileText",color:"amber",meta:{actionType:"generate_doc"}}]},comments:{allowMentions:!0,list:[{id:"c1",author:"Ana Costa",role:"Analista",text:"Documento revisado e aprovado",createdAt:Date.now()-72e5},{id:"c2",author:"Carlos Lima",role:"Gerente",text:"Aguardando aprovao final",createdAt:Date.now()-36e5}]}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","main_form","stage_panel","stage_actions","comments"]}},{id:"stage-2",modelId:"modelo-fiscatus",title:"Aprovao do DFD",department:"GSL - Gerncia de Suprimentos e Logstica",days:3,orderIndex:2,tools:["management","stage_panel","comments","signatures"],toolsOrder:["management","stage_panel","comments","signatures"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},stage_panel:{showSLA:!0,startDate:"2024-01-20",dueDate:"2024-01-23",checklist:[{id:"chk4",label:"Analisar proposta",checked:!0},{id:"chk5",label:"Verificar conformidade",checked:!1}],progress:50},comments:{allowMentions:!0,list:[]},signatures:{signers:[{id:"1",name:"Joo Silva",role:"Gerente",status:"signed"},{id:"2",name:"Maria Santos",role:"Coordenador",status:"pending"}]}},layout:{mode:"50-50",density:"cozy",showGuides:!1,scale:1,orderLeft:["management","stage_panel"],orderRight:["comments","signatures"]}},{id:"stage-3",modelId:"modelo-fiscatus",title:"Assinatura do DFD",department:"GRH - Gerncia de Recursos Humanos",days:3,orderIndex:3,tools:["management","signatures","doc_view","stage_panel"],toolsOrder:["management","signatures","doc_view","stage_panel"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},signatures:{signers:[{id:"3",name:"Pedro Costa",role:"Diretor",status:"pending"}]},doc_view:{previewMode:"modal",fileName:"DFD_Final.pdf",sizeMB:2.5},stage_panel:{showSLA:!0,startDate:"2024-01-23",dueDate:"2024-01-26",checklist:[{id:"chk6",label:"Assinar documento",checked:!1}],progress:0}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","signatures","doc_view","stage_panel"]}},{id:"stage-4",modelId:"modelo-fiscatus",title:"Despacho do DFD",department:"GUE - Gerncia de Urgncia e Emergncia",days:2,orderIndex:4,tools:["management","stage_panel","stage_actions"],toolsOrder:["management","stage_panel","stage_actions"],toolConfig:{management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},stage_panel:{showSLA:!0,startDate:"2024-01-26",dueDate:"2024-01-28",checklist:[{id:"chk7",label:"Finalizar processo",checked:!1}],progress:0},stage_actions:{actions:["send","finish"]}},layout:{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:["management","stage_panel","stage_actions"]}}]},fte=["management","main_form","stage_panel","stage_actions","comments"],pte=["management","main_form","stage_panel","stage_actions","comments"],gte={management:{allowVersions:!0,allowAttachments:!0,versions:[],attachments:[]},main_form:{schemaId:"default-schema",requiredFields:[],values:{}},stage_panel:{showSLA:!0,startDate:void 0,dueDate:void 0,checklist:[],progress:0},stage_actions:{actions:["send","finish","generate_doc"]},comments:{allowMentions:!0,list:[]},signatures:{signers:[]},doc_view:{previewMode:"modal",fileName:void 0,sizeMB:void 0}},Zr=T6()(R6((t,s)=>({stages:xte,activeModelId:"modelo-fiscatus",defaultTools:fte,defaultToolsOrder:pte,defaultToolConfig:gte,enableTool:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||r==="doc_view"&&!o.tools.includes("signatures"))return;const i=[...o.tools];i.includes(r)||i.push(r);const l=[...o.toolsOrder];l.includes(r)||l.push(r),t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,tools:i,toolsOrder:l}:c)}})},disableTool:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i=o.tools.filter(c=>c!==r),l=o.toolsOrder.filter(c=>c!==r);if(r==="signatures"){const c=i.filter(d=>d!=="doc_view"),u=l.filter(d=>d!=="doc_view");t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(d=>d.id===a?{...d,tools:c,toolsOrder:u}:d)}})}else t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,tools:i,toolsOrder:l}:c)}})},reorderTools:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i=r.filter(l=>o.tools.includes(l));t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,toolsOrder:i}:l)}})},updateToolConfig:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i={...o.toolConfig,...r};t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,toolConfig:i}:l)}})},reorderStages:(a,r)=>{const n=s();t({stages:{...n.stages,[a]:r}})},updateStage:(a,r)=>{const n=s(),o=n.getStage(a);o&&t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(i=>i.id===a?{...i,...r}:i)}})},setActiveModel:a=>{t({activeModelId:a})},setDefaultTools:(a,r,n)=>{t({defaultTools:a,defaultToolsOrder:r,defaultToolConfig:n})},setLayout:(a,r)=>{const n=s(),o=n.getStage(a);if(!o)return;const i={...o.layout,...r};t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(l=>l.id===a?{...l,layout:i}:l)}})},moveToolInLayout:(a,r,n,o)=>{const i=s(),l=i.getStage(a);if(!l||!l.layout)return;const c={...l.layout};c.orderStack&&(c.orderStack=c.orderStack.filter(u=>u!==r)),c.orderLeft&&(c.orderLeft=c.orderLeft.filter(u=>u!==r)),c.orderRight&&(c.orderRight=c.orderRight.filter(u=>u!==r)),n==="stack"?(c.orderStack=c.orderStack||[],c.orderStack.splice(o,0,r)):n==="left"?(c.orderLeft=c.orderLeft||[],c.orderLeft.splice(o,0,r)):n==="right"&&(c.orderRight=c.orderRight||[],c.orderRight.splice(o,0,r)),c.columnOf&&(c.columnOf[r]=n==="stack"?"left":n),t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(u=>u.id===a?{...u,layout:c}:u)}})},addVersion:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=[...o.toolConfig.management.versions||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,versions:l}}}:c)}})},removeVersion:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=(o.toolConfig.management.versions||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,versions:l}}}:c)}})},addAttachment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=[...o.toolConfig.management.attachments||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,attachments:l}}}:c)}})},removeAttachment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.management)return;const l=(o.toolConfig.management.attachments||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,management:{...c.toolConfig.management,attachments:l}}}:c)}})},setFormValue:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i||!i.toolConfig.main_form)return;const c={...i.toolConfig.main_form.values||{},[r]:n};t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:{...u.toolConfig,main_form:{...u.toolConfig.main_form,values:c}}}:u)}})},toggleChecklistItem:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.stage_panel)return;const l=(o.toolConfig.stage_panel.checklist||[]).map(c=>c.id===r?{...c,checked:!c.checked}:c);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,stage_panel:{...c.toolConfig.stage_panel,checklist:l}}}:c)}})},reorderChecklist:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.stage_panel)return;const i=o.toolConfig.stage_panel.checklist||[],l=r.map(c=>i.find(u=>u.id===c)).filter(Boolean);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,stage_panel:{...c.toolConfig.stage_panel,checklist:l}}}:c)}})},setSLA:(a,r,n)=>{const o=s(),i=o.getStage(a);!i||!i.toolConfig.stage_panel||t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(l=>l.id===a?{...l,toolConfig:{...l.toolConfig,stage_panel:{...l.toolConfig.stage_panel,startDate:r,dueDate:n}}}:l)}})},setProgress:(a,r)=>{const n=s(),o=n.getStage(a);!o||!o.toolConfig.stage_panel||t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(i=>i.id===a?{...i,toolConfig:{...i.toolConfig,stage_panel:{...i.toolConfig.stage_panel,progress:r}}}:i)}})},addComment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.comments)return;const l=[...o.toolConfig.comments.list||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,comments:{...c.toolConfig.comments,list:l}}}:c)}})},deleteComment:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.comments)return;const l=(o.toolConfig.comments.list||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,comments:{...c.toolConfig.comments,list:l}}}:c)}})},addSigner:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.signatures)return;const l=[...o.toolConfig.signatures.signers||[],r];t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,signatures:{...c.toolConfig.signatures,signers:l}}}:c)}})},updateSigner:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i||!i.toolConfig.signatures)return;const c=(i.toolConfig.signatures.signers||[]).map(u=>u.id===r?{...u,...n}:u);t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:{...u.toolConfig,signatures:{...u.toolConfig.signatures,signers:c}}}:u)}})},removeSigner:(a,r)=>{const n=s(),o=n.getStage(a);if(!o||!o.toolConfig.signatures)return;const l=(o.toolConfig.signatures.signers||[]).filter(c=>c.id!==r);t({stages:{...n.stages,[o.modelId]:n.stages[o.modelId].map(c=>c.id===a?{...c,toolConfig:{...c.toolConfig,signatures:{...c.toolConfig.signatures,signers:l}}}:c)}})},enforceDeps:a=>{const r=s(),n=r.getStage(a);if(n&&!n.tools.includes("signatures")&&n.tools.includes("doc_view")){const o=n.tools.filter(c=>c!=="doc_view"),i=n.toolsOrder.filter(c=>c!=="doc_view"),l={...n.layout};l.orderStack&&(l.orderStack=l.orderStack.filter(c=>c!=="doc_view")),l.orderLeft&&(l.orderLeft=l.orderLeft.filter(c=>c!=="doc_view")),l.orderRight&&(l.orderRight=l.orderRight.filter(c=>c!=="doc_view")),t({stages:{...r.stages,[n.modelId]:r.stages[n.modelId].map(c=>c.id===a?{...c,tools:o,toolsOrder:i,layout:l}:c)}})}},addBalloon:(a,r,n)=>{const o=s(),i=o.getStage(a);if(!i)return;const l={...n,id:n.id||crypto.randomUUID()},c={...i.toolConfig};switch(r){case"main_form.requiredFields":c.main_form||(c.main_form={}),c.main_form.requiredFieldsCatalog=[...c.main_form.requiredFieldsCatalog||[],l];break;case"stage_panel.checklist":c.stage_panel||(c.stage_panel={checklist:[]}),c.stage_panel.checklistCatalog=[...c.stage_panel.checklistCatalog||[],l];break;case"stage_actions.catalog":c.stage_actions||(c.stage_actions={actions:[]}),c.stage_actions.actionsCatalog=[...c.stage_actions.actionsCatalog||[],l];break;case"management.tags":c.management||(c.management={}),c.management.tags=[...c.management.tags||[],l];break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(u=>u.id===a?{...u,toolConfig:c}:u)}})},renameBalloon:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,label:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,label:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},removeBalloon:(a,r,n)=>{var c,u,d,h;const o=s(),i=o.getStage(a);if(!i)return;const l={...i.toolConfig};switch(r){case"main_form.requiredFields":(c=l.main_form)!=null&&c.requiredFieldsCatalog&&(l.main_form.requiredFieldsCatalog=l.main_form.requiredFieldsCatalog.filter(x=>x.id!==n));break;case"stage_panel.checklist":(u=l.stage_panel)!=null&&u.checklistCatalog&&(l.stage_panel.checklistCatalog=l.stage_panel.checklistCatalog.filter(x=>x.id!==n));break;case"stage_actions.catalog":(d=l.stage_actions)!=null&&d.actionsCatalog&&(l.stage_actions.actionsCatalog=l.stage_actions.actionsCatalog.filter(x=>x.id!==n));break;case"management.tags":(h=l.management)!=null&&h.tags&&(l.management.tags=l.management.tags.filter(x=>x.id!==n));break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(x=>x.id===a?{...x,toolConfig:l}:x)}})},reorderBalloons:(a,r,n)=>{var c,u,d,h;const o=s(),i=o.getStage(a);if(!i)return;const l={...i.toolConfig};switch(r){case"main_form.requiredFields":if((c=l.main_form)!=null&&c.requiredFieldsCatalog){const x=l.main_form.requiredFieldsCatalog;l.main_form.requiredFieldsCatalog=n.map(f=>x.find(v=>v.id===f)).filter(Boolean)}break;case"stage_panel.checklist":if((u=l.stage_panel)!=null&&u.checklistCatalog){const x=l.stage_panel.checklistCatalog;l.stage_panel.checklistCatalog=n.map(f=>x.find(v=>v.id===f)).filter(Boolean)}break;case"stage_actions.catalog":if((d=l.stage_actions)!=null&&d.actionsCatalog){const x=l.stage_actions.actionsCatalog;l.stage_actions.actionsCatalog=n.map(f=>x.find(v=>v.id===f)).filter(Boolean)}break;case"management.tags":if((h=l.management)!=null&&h.tags){const x=l.management.tags;l.management.tags=n.map(f=>x.find(v=>v.id===f)).filter(Boolean)}break}t({stages:{...o.stages,[i.modelId]:o.stages[i.modelId].map(x=>x.id===a?{...x,toolConfig:l}:x)}})},setBalloonIcon:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,icon:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,icon:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},setBalloonColor:(a,r,n,o)=>{var u,d,h,x;const i=s(),l=i.getStage(a);if(!l)return;const c={...l.toolConfig};switch(r){case"main_form.requiredFields":(u=c.main_form)!=null&&u.requiredFieldsCatalog&&(c.main_form.requiredFieldsCatalog=c.main_form.requiredFieldsCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"stage_panel.checklist":(d=c.stage_panel)!=null&&d.checklistCatalog&&(c.stage_panel.checklistCatalog=c.stage_panel.checklistCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"stage_actions.catalog":(h=c.stage_actions)!=null&&h.actionsCatalog&&(c.stage_actions.actionsCatalog=c.stage_actions.actionsCatalog.map(f=>f.id===n?{...f,color:o}:f));break;case"management.tags":(x=c.management)!=null&&x.tags&&(c.management.tags=c.management.tags.map(f=>f.id===n?{...f,color:o}:f));break}t({stages:{...i.stages,[l.modelId]:i.stages[l.modelId].map(f=>f.id===a?{...f,toolConfig:c}:f)}})},getStage:a=>{const r=s();for(const n of Object.values(r.stages)){const o=n.find(i=>i.id===a);if(o)return o}},getStagesByModel:a=>s().stages[a]||[]}),{name:"flow-storage",storage:dy(()=>localStorage),partialize:t=>({stages:t.stages,activeModelId:t.activeModelId,defaultTools:t.defaultTools,defaultToolsOrder:t.defaultToolsOrder,defaultToolConfig:t.defaultToolConfig}),onRehydrateStorage:()=>t=>{try{t&&console.log("Flow store rehydrated successfully")}catch(s){console.error("Error rehydrating flow store:",s)}}}));function vte({stage:t,layout:s,isFullscreen:a,hasChanges:r,onLayoutChange:n,onFullscreenToggle:o,onRevert:i,onSave:l}){const c=()=>{const d=Math.min(s.scale+.1,2);n({scale:d})},u=()=>{const d=Math.max(s.scale-.1,.5);n({scale:d})};return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"layout-mode",className:"text-sm text-slate-600",children:"Layout:"}),e.jsxs(dt,{value:s.mode,onValueChange:d=>n({mode:d}),children:[e.jsx(it,{className:"w-24 h-8",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"stack",children:"Empilhado"}),e.jsx(Ce,{value:"50-50",children:"50/50"}),e.jsx(Ce,{value:"60-40",children:"60/40"}),e.jsx(Ce,{value:"40-60",children:"40/60"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"density",className:"text-sm text-slate-600",children:"Densidade:"}),e.jsxs(dt,{value:s.density,onValueChange:d=>n({density:d}),children:[e.jsx(it,{className:"w-20 h-8",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"cozy",children:"Cozy"}),e.jsx(Ce,{value:"compact",children:"Compact"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{htmlFor:"show-guides",className:"text-sm text-slate-600",children:"Guias:"}),e.jsx(Mr,{id:"show-guides",checked:s.showGuides,onCheckedChange:d=>n({showGuides:d})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:u,disabled:s.scale<=.5,children:e.jsx(K4,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-slate-600 min-w-[3rem] text-center",children:[Math.round(s.scale*100),"%"]}),e.jsx(C,{variant:"outline",size:"sm",onClick:c,disabled:s.scale>=2,children:e.jsx(Y4,{className:"w-4 h-4"})})]}),e.jsx(C,{variant:"outline",size:"sm",onClick:o,title:a?"Sair do modo tela cheia":"Modo tela cheia",children:a?e.jsx(dF,{className:"w-4 h-4"}):e.jsx(V4,{className:"w-4 h-4"})})]})}const M6={management:{label:"Gerenciamento",Icon:vF,desc:"Verses e anexos oficiais",color:"bg-blue-50 text-blue-700 border-blue-200"},main_form:{label:"Formulrio",Icon:bl,desc:"Campos estruturados",color:"bg-green-50 text-green-700 border-green-200"},stage_panel:{label:"Painel da Etapa",Icon:aF,desc:"Status, prazo, checklist e timeline",color:"bg-purple-50 text-purple-700 border-purple-200"},stage_actions:{label:"Aes da Etapa",Icon:gF,desc:"Enviar, concluir, gerar documento",color:"bg-orange-50 text-orange-700 border-orange-200"},comments:{label:"Comentrios",Icon:cF,desc:"Troca de mensagens e @menes",color:"bg-cyan-50 text-cyan-700 border-cyan-200"},signatures:{label:"Assinaturas",Icon:Oo,desc:"Fluxo de assinaturas digitais",color:"bg-red-50 text-red-700 border-red-200"},doc_view:{label:"Visualizao",Icon:Qe,desc:"Prvia do documento",dependsOn:"signatures",color:"bg-indigo-50 text-indigo-700 border-indigo-200"}},kl=t=>M6[t],R2=(t,s)=>{const a=kl(t);return a.dependsOn?s.includes(a.dependsOn):!0},bte=t=>Object.keys(M6),jte={management:$e,main_form:$e,stage_panel:xm,stage_actions:U4,comments:no,signatures:qt,doc_view:Qe};function I6({tool:t,stage:s,density:a,isDragging:r=!1,onRemove:n,onConfigure:o,children:i}){var d,h,x,f,v,p,y,g,b,j;const l=kl(t),c=jte[t],u=a==="compact";return e.jsxs("div",{className:be("group relative bg-white border border-slate-200 rounded-lg transition-all",r&&"opacity-50 shadow-lg",u?"p-3":"p-4"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-slate-100 rounded",children:e.jsx(c,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:be("font-medium text-slate-900",u?"text-sm":"text-base"),children:l.title}),!u&&e.jsx("p",{className:"text-xs text-slate-500",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("div",{className:"p-1 hover:bg-slate-100 rounded cursor-grab active:cursor-grabbing",children:e.jsx($l,{className:"w-4 h-4 text-slate-400"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:o,className:"h-7 w-7 p-0",children:e.jsx(Ft,{className:"w-3.5 h-3.5"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:n,className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Yt,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"space-y-3",children:i}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-100",children:[t==="management"&&e.jsxs(e.Fragment,{children:[(h=(d=s.toolConfig.management)==null?void 0:d.versions)!=null&&h.length?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.management.versions.length," verses"]}):null,(f=(x=s.toolConfig.management)==null?void 0:x.attachments)!=null&&f.length?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.management.attachments.length," anexos"]}):null]}),t==="comments"&&((p=(v=s.toolConfig.comments)==null?void 0:v.list)!=null&&p.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.comments.list.length," comentrios"]}):null,t==="signatures"&&((g=(y=s.toolConfig.signatures)==null?void 0:y.signers)!=null&&g.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.signatures.signers.length," signatrios"]}):null,t==="stage_panel"&&((j=(b=s.toolConfig.stage_panel)==null?void 0:b.checklist)!=null&&j.length)?e.jsxs(oe,{variant:"secondary",className:"text-xs",children:[s.toolConfig.stage_panel.checklist.filter(N=>N.checked).length,"/",s.toolConfig.stage_panel.checklist.length," concludo"]}):null]})]})}function yte({stage:t,density:s}){const{addVersion:a,removeVersion:r,addAttachment:n,removeAttachment:o,updateToolConfig:i}=Zr(),l=t.toolConfig.management,c=(l==null?void 0:l.versions)||[],u=(l==null?void 0:l.attachments)||[],d=()=>{const v=c.length+1,p={id:`v${Date.now()}`,label:`v${v}.0`,createdAt:Date.now(),author:"Usurio Atual"};a(t.id,p)},h=()=>{const v={id:`att${Date.now()}`,name:`documento-${u.length+1}.pdf`,sizeKB:Math.floor(Math.random()*5e3)+100,updatedAt:Date.now()};n(t.id,v)},x=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),f=v=>v<1024?`${v} KB`:`${(v/1024).toFixed(1)} MB`;return e.jsxs("div",{className:"space-y-4",children:[(l==null?void 0:l.allowVersions)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"Verses"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:d,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Nova verso"]})]}),c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:v.label}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:v.author}),e.jsx(Pt,{className:"w-3 h-3"}),e.jsx("span",{children:x(v.createdAt)})]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>r(t.id,v.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},v.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhuma verso criada"})]}),(l==null?void 0:l.allowAttachments)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"Anexos"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:h,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar anexo"]})]}),u.length>0?e.jsx("div",{className:"space-y-2",children:u.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:v.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("span",{children:f(v.sizeKB)}),e.jsx(Pt,{className:"w-3 h-3"}),e.jsx("span",{children:x(v.updatedAt)})]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>o(t.id,v.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},v.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum anexo adicionado"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.allowVersions)||!1,onChange:v=>i(t.id,{management:{...l,allowVersions:v.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir verses"})]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.allowAttachments)||!1,onChange:v=>i(t.id,{management:{...l,allowAttachments:v.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir anexos"})]})]})})]})}const Am=[{name:"slate",label:"Cinza",class:"border-slate-200 bg-slate-50 text-slate-700"},{name:"indigo",label:"Azul",class:"border-indigo-200 bg-indigo-50 text-indigo-700"},{name:"emerald",label:"Verde",class:"border-emerald-200 bg-emerald-50 text-emerald-700"},{name:"amber",label:"mbar",class:"border-amber-200 bg-amber-50 text-amber-700"},{name:"rose",label:"Rosa",class:"border-rose-200 bg-rose-50 text-rose-700"},{name:"purple",label:"Roxo",class:"border-purple-200 bg-purple-50 text-purple-700"}],H0=[{name:"FileText",icon:$e,emoji:""},{name:"CheckCircle",icon:Re,emoji:""},{name:"AlertCircle",icon:Ns,emoji:""},{name:"Clock",icon:Fe,emoji:""},{name:"User",icon:ht,emoji:""},{name:"Mail",icon:ab,emoji:""},{name:"Phone",icon:xF,emoji:""},{name:"Calendar",icon:Pt,emoji:""},{name:"MapPin",icon:oF,emoji:""},{name:"Tag",icon:jF,emoji:""},{name:"Star",icon:ih,emoji:""},{name:"Heart",icon:eF,emoji:""},{name:"Bookmark",icon:Bz,emoji:""},{name:"Flag",icon:vt,emoji:""},{name:"Target",icon:W4,emoji:""},{name:"Zap",icon:wF,emoji:""},{name:"Shield",icon:Ca,emoji:""},{name:"Lock",icon:sb,emoji:""},{name:"Send",icon:vs,emoji:""}],Nte=[{value:"send",label:"Enviar"},{value:"finish",label:"Concluir"},{value:"generate_doc",label:"Gerar documento"},{value:"custom",label:"Personalizado"}],wte=({item:t,onRename:s,onRemove:a,onIconChange:r,onColorChange:n,allowIcon:o,allowColor:i,isEditing:l,onStartEdit:c,onCancelEdit:u})=>{const{attributes:d,listeners:h,setNodeRef:x,transform:f,transition:v,isDragging:p}=rf({id:t.id}),[y,g]=m.useState(t.label),[b,j]=m.useState(""),N=m.useRef(null),w={transform:Sr.Transform.toString(f),transition:v};m.useEffect(()=>{l&&N.current&&(N.current.focus(),N.current.select())},[l]);const E=()=>{const M=y.trim();if(M.length<1){j("Nome muito curto");return}if(M.length>32){j("Nome muito longo (mximo 32 caracteres)");return}s(t.id,M),u()},D=M=>{M.key==="Enter"?E():M.key==="Escape"&&(g(t.label),j(""),u())},P=M=>(Am.find($=>$.name===M)||Am[0]).class,_=M=>{if(!M)return null;const k=H0.find($=>$.name===M);return k?e.jsx("span",{className:"text-xs",children:k.emoji}):null};return e.jsxs("div",{ref:x,style:w,className:`flex items-center gap-3 p-3 bg-white border rounded-lg ${p?"opacity-50 shadow-lg":"hover:bg-slate-50"}`,children:[e.jsx("div",{...d,...h,className:"p-1 hover:bg-slate-200 rounded cursor-grab active:cursor-grabbing",children:e.jsx($l,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ${P(t.color)}`,children:[t.icon&&o&&_(t.icon),e.jsx("span",{children:t.label})]}),e.jsx("div",{className:"flex-1",children:l?e.jsxs("div",{children:[e.jsx(De,{ref:N,value:y,onChange:M=>{g(M.target.value),j("")},onKeyDown:D,onBlur:E,className:`text-sm ${b?"border-red-500":""}`,placeholder:"Nome do balo"}),b&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:b})]}):e.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.label})}),!l&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>c(t.id),children:e.jsx(B4,{className:"w-4 h-4"})})}),e.jsx(bt,{children:e.jsx("p",{children:"Renomear"})})]}),o&&e.jsxs(Al,{children:[e.jsx(Dl,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx($g,{className:"w-4 h-4"})})}),e.jsx(ci,{className:"w-64 p-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-medium",children:"cone"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:H0.map(M=>e.jsx(C,{variant:t.icon===M.name?"default":"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r(t.id,M.name),children:e.jsx("span",{className:"text-xs",children:M.emoji})},M.name))})]})})]}),i&&e.jsxs(Al,{children:[e.jsx(Dl,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx($g,{className:"w-4 h-4"})})}),e.jsx(ci,{className:"w-48 p-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"text-sm font-medium",children:"Cor"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Am.map(M=>e.jsx(C,{variant:t.color===M.name?"default":"outline",size:"sm",className:`h-6 px-2 text-xs ${M.class}`,onClick:()=>n(t.id,M.name),children:M.label},M.name))})]})})]}),e.jsxs(QT,{children:[e.jsx(ZT,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:e.jsx(It,{className:"w-4 h-4"})})}),e.jsxs(Qj,{children:[e.jsxs(Zj,{children:[e.jsx(ty,{children:"Excluir balo"}),e.jsxs(sy,{children:['Tem certeza que deseja excluir "',t.label,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(ey,{children:[e.jsx(ry,{children:"Cancelar"}),e.jsx(ay,{onClick:()=>a(t.id),children:"Excluir"})]})]})]})]})]})};function uy({open:t,onOpenChange:s,stageId:a,area:r,title:n,description:o,items:i,allowIcon:l=!0,allowColor:c=!0}){var he;const{addBalloon:u,renameBalloon:d,removeBalloon:h,reorderBalloons:x,setBalloonIcon:f,setBalloonColor:v}=Zr(),[p,y]=m.useState(i),[g,b]=m.useState(null),[j,N]=m.useState(""),[w,E]=m.useState(""),[D,P]=m.useState("slate"),[_,M]=m.useState("custom"),[k,$]=m.useState(""),[H,Y]=m.useState(null),K=Jx(po(Zl,{activationConstraint:{distance:8}}),po(Ql,{coordinateGetter:nf})),z=m.useRef(null);m.useEffect(()=>{y(i)},[i]),m.useEffect(()=>{t&&z.current&&setTimeout(()=>{var ae;return(ae=z.current)==null?void 0:ae.focus()},100)},[t]),m.useEffect(()=>{const ae=ve=>{t&&((ve.ctrlKey||ve.metaKey)&&ve.key==="s"?(ve.preventDefault(),O()):ve.key==="Escape"&&S())};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[t]);const O=()=>{p.forEach((xe,ne)=>{const Ae=i[ne];!Ae||(Ae.id,xe.id)});const ae=i.map(xe=>xe.id),ve=p.map(xe=>xe.id);JSON.stringify(ae)!==JSON.stringify(ve)&&x(a,r,ve),s(!1)},S=()=>{y(i),b(null),N(""),E(""),P("slate"),M("custom"),$(""),s(!1)},L=(ae,ve)=>{if(p.some(ne=>ne.id!==ae&&ne.label.toLowerCase()===ve.toLowerCase())){$("J existe um balo com este nome");return}y(ne=>ne.map(Ae=>Ae.id===ae?{...Ae,label:ve}:Ae)),d(a,r,ae,ve)},U=ae=>{y(ve=>ve.filter(xe=>xe.id!==ae)),h(a,r,ae)},J=(ae,ve)=>{y(xe=>xe.map(ne=>ne.id===ae?{...ne,icon:ve}:ne)),f(a,r,ae,ve)},re=(ae,ve)=>{y(xe=>xe.map(ne=>ne.id===ae?{...ne,color:ve}:ne)),v(a,r,ae,ve)},le=()=>{if(!j.trim()){$("Nome  obrigatrio");return}const ae=j.trim();if(ae.length<1){$("Nome muito curto");return}if(ae.length>32){$("Nome muito longo (mximo 32 caracteres)");return}if(p.some(ne=>ne.label.toLowerCase()===ae.toLowerCase())){$("J existe um balo com este nome");return}const xe={id:crypto.randomUUID(),label:ae,icon:w||void 0,color:D,meta:r==="stage_actions.catalog"?{actionType:_}:void 0};y(ne=>[...ne,xe]),u(a,r,xe),N(""),E(""),P("slate"),M("custom"),$(""),setTimeout(()=>{var ne;return(ne=z.current)==null?void 0:ne.focus()},100)},Ne=ae=>{const{active:ve,over:xe}=ae;if(Y(null),!xe||ve.id===xe.id)return;const ne=p.findIndex(je=>je.id===ve.id),Ae=p.findIndex(je=>je.id===xe.id);if(ne!==-1&&Ae!==-1){const je=ec(p,ne,Ae);y(je)}},ke=ae=>{Y(ae.active.id)};return e.jsx(St,{children:e.jsx(Ob,{open:t,onOpenChange:s,children:e.jsxs(Rx,{className:"w-[500px] sm:w-[600px]",children:[e.jsxs(Mx,{children:[e.jsxs(Ix,{className:"flex items-center justify-between",children:[e.jsx("span",{children:n}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",onClick:S,children:"Cancelar"}),e.jsxs(C,{onClick:O,children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]}),o&&e.jsx(zb,{children:o})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs(B,{className:"text-sm font-medium mb-3 block",children:["Bales (",p.length,")"]}),p.length>0?e.jsxs(sf,{sensors:K,collisionDetection:Qx,onDragStart:ke,onDragEnd:Ne,children:[e.jsx(af,{items:p.map(ae=>ae.id),strategy:Uj,children:e.jsx("div",{className:"space-y-2",role:"list",children:p.map(ae=>e.jsx(wte,{item:ae,onRename:L,onRemove:U,onIconChange:J,onColorChange:re,allowIcon:l,allowColor:c,isEditing:g===ae.id,onStartEdit:b,onCancelEdit:()=>b(null)},ae.id))})}),e.jsx(Bj,{children:H?e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border rounded-lg shadow-lg",children:[e.jsx($l,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs bg-slate-50",children:(he=p.find(ae=>ae.id===H))==null?void 0:he.label})]}):null})]}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("p",{className:"text-sm",children:"Nenhum balo adicionado"}),e.jsx("p",{className:"text-xs mt-1",children:"Use o formulrio abaixo para adicionar o primeiro"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx(B,{className:"text-sm font-medium mb-3 block",children:"Adicionar balo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"newLabel",className:"text-sm text-slate-700 mb-1 block",children:"Nome"}),e.jsx(De,{ref:z,id:"newLabel",value:j,onChange:ae=>{N(ae.target.value),$("")},onKeyDown:ae=>{ae.key==="Enter"&&le()},placeholder:"Nome do balo",className:`text-sm ${k?"border-red-500":""}`}),k&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:k})]}),r==="stage_actions.catalog"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"actionType",className:"text-sm text-slate-700 mb-1 block",children:"Tipo de ao"}),e.jsxs(dt,{value:_,onValueChange:M,children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsx(lt,{children:Nte.map(ae=>e.jsx(Ce,{value:ae.value,children:ae.label},ae.value))})]})]}),l&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm text-slate-700 mb-2 block",children:"cone (opcional)"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:H0.map(ae=>e.jsx(C,{variant:w===ae.name?"default":"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>E(w===ae.name?"":ae.name),children:e.jsx("span",{className:"text-xs",children:ae.emoji})},ae.name))})]}),c&&e.jsxs("div",{children:[e.jsx(B,{className:"text-sm text-slate-700 mb-2 block",children:"Cor"}),e.jsx("div",{className:"flex gap-2",children:Am.map(ae=>e.jsx(C,{variant:D===ae.name?"default":"outline",size:"sm",className:`h-6 px-2 text-xs ${ae.class}`,onClick:()=>P(ae.name),children:ae.label},ae.name))})]}),e.jsxs(C,{onClick:le,disabled:!j.trim(),className:"w-full",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Adicionar balo"]})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("p",{className:"text-xs text-slate-500",children:[" ",e.jsx("strong",{children:"Dicas:"})," Arraste para reordenar  Enter confirma  Esc cancela  Ctrl/Cmd+S salva"]})})]})]})})})}function my({item:t,className:s=""}){const a=n=>{switch(n){case"indigo":return"border-indigo-200 bg-indigo-50 text-indigo-700";case"emerald":return"border-emerald-200 bg-emerald-50 text-emerald-700";case"amber":return"border-amber-200 bg-amber-50 text-amber-700";case"rose":return"border-rose-200 bg-rose-50 text-rose-700";case"purple":return"border-purple-200 bg-purple-50 text-purple-700";default:return"border-slate-200 bg-slate-50 text-slate-700"}},r=n=>({FileText:"",AlertCircle:"",CheckCircle:"",Clock:"",User:"",Mail:"",Phone:"",Calendar:"",MapPin:"",Tag:"",Star:"",Heart:"",Bookmark:"",Flag:"",Target:"",Zap:"",Shield:"",Lock:"",Send:""})[n||""]||"";return e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ${a(t.color)} ${s}`,children:[t.icon&&e.jsx("span",{className:"text-xs",children:r(t.icon)}),e.jsx("span",{children:t.label})]})}const M2=[{key:"objeto",label:"Objeto",type:"text",required:!0},{key:"justificativa",label:"Justificativa",type:"textarea",required:!0},{key:"valor_estimado",label:"Valor Estimado",type:"text",required:!1},{key:"prazo_execucao",label:"Prazo de Execuo",type:"text",required:!1},{key:"observacoes",label:"Observaes",type:"textarea",required:!1}];function Cte({stage:t,density:s}){const{setFormValue:a}=Zr(),[r,n]=m.useState(!1),o=t.toolConfig.main_form,i=(o==null?void 0:o.values)||{},l=(o==null?void 0:o.requiredFields)||[],c=(o==null?void 0:o.requiredFieldsCatalog)||[],u=(h,x)=>{a(t.id,h,x)},d=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:"Formulrio principal da etapa"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Campos obrigatrios"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(h=>e.jsx(my,{item:h},h.id))}),c.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhum campo obrigatrio definido"})]}),e.jsx("div",{className:"space-y-3",children:M2.map(h=>{const x=l.includes(h.key),f=i[h.key]||"";return e.jsxs("div",{children:[e.jsxs(B,{htmlFor:h.key,className:"text-sm font-medium",children:[h.label,x&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.type==="textarea"?e.jsx(ft,{id:h.key,value:f,onChange:v=>u(h.key,v.target.value),placeholder:`Digite ${h.label.toLowerCase()}...`,className:d?"h-16":"h-20",rows:d?2:3}):e.jsx(De,{id:h.key,type:h.type,value:f,onChange:v=>u(h.key,v.target.value),placeholder:`Digite ${h.label.toLowerCase()}...`,className:d?"h-8":"h-9"}),x&&!f&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Este campo  obrigatrio"})]},h.key)})}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Campos preenchidos:"}),e.jsxs("span",{children:[Object.values(i).filter(h=>h&&h.toString().trim()).length," / ",M2.length]})]})}),e.jsx(uy,{open:r,onOpenChange:n,stageId:t.id,area:"main_form.requiredFields",title:"Campos obrigatrios",description:"Gerencie os campos obrigatrios do formulrio",items:c,allowIcon:!0,allowColor:!0})]})}function Ste({stage:t,density:s}){const{setProgress:a,setSLA:r,toggleChecklistItem:n,reorderChecklist:o,updateToolConfig:i}=Zr(),[l,c]=m.useState(!1),u=t.toolConfig.stage_panel,d=(u==null?void 0:u.checklist)||[],h=(u==null?void 0:u.checklistCatalog)||[],x=(u==null?void 0:u.progress)||0,f=(u==null?void 0:u.startDate)||"",v=(u==null?void 0:u.dueDate)||"",p=()=>{const j={id:`chk${Date.now()}`,label:"Nova tarefa",checked:!1},N=[...d,j];i(t.id,{stage_panel:{...u,checklist:N}})},y=j=>{const N=d.filter(w=>w.id!==j);i(t.id,{stage_panel:{...u,checklist:N}})},g=(j,N)=>{const w=d.map(E=>E.id===j?{...E,label:N}:E);i(t.id,{stage_panel:{...u,checklist:w}})},b=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(B,{htmlFor:"progress",className:"text-sm font-medium",children:["Progresso: ",x,"%"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"progress",type:"range",min:"0",max:"100",value:x,onChange:j=>a(t.id,parseInt(j.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"100%"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"startDate",className:"text-sm font-medium",children:"Data Incio"}),e.jsx(De,{id:"startDate",type:"date",value:f,onChange:j=>r(t.id,j.target.value,v),className:b?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"dueDate",className:"text-sm font-medium",children:"Data Vencimento"}),e.jsx(De,{id:"dueDate",type:"date",value:v,onChange:j=>r(t.id,f,j.target.value),className:b?"h-8":"h-9"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Catlogo de tarefas"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(j=>e.jsx(my,{item:j},j.id))}),h.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhuma tarefa no catlogo"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:"text-sm font-medium",children:"Checklist"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:p,className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),d.length>0?e.jsx("div",{className:"space-y-2",children:d.map((j,N)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border",children:[e.jsx("div",{className:"p-1 hover:bg-slate-200 rounded cursor-grab active:cursor-grabbing",children:e.jsx($l,{className:"w-3 h-3 text-slate-400"})}),e.jsx("input",{type:"checkbox",checked:j.checked,onChange:()=>n(t.id,j.id),className:"rounded"}),e.jsx(De,{value:j.label,onChange:w=>g(j.id,w.target.value),className:be("flex-1 border-0 bg-transparent p-0 h-auto",j.checked&&"line-through text-slate-500")}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>y(j.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]},j.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhuma tarefa adicionada"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Tarefas concludas:"}),e.jsxs("span",{children:[d.filter(j=>j.checked).length," / ",d.length]})]})}),e.jsx(uy,{open:l,onOpenChange:c,stageId:t.id,area:"stage_panel.checklist",title:"Catlogo de tarefas",description:"Gerencie as tarefas disponveis no checklist",items:h,allowIcon:!0,allowColor:!0})]})}const Lp=[{key:"send",label:"Enviar",icon:vs,description:"Enviar para prxima etapa"},{key:"finish",label:"Finalizar",icon:Re,description:"Marcar como concludo"},{key:"generate_doc",label:"Gerar Documento",icon:$e,description:"Gerar documento final"}];function Ete({stage:t,density:s}){const{updateToolConfig:a}=Zr(),[r,n]=m.useState(!1),o=t.toolConfig.stage_actions,i=(o==null?void 0:o.actions)||[],l=(o==null?void 0:o.actionsCatalog)||[],c=d=>{const h=i.includes(d)?i.filter(x=>x!==d):[...i,d];a(t.id,{stage_actions:{actions:h}})},u=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:"Aes disponveis para esta etapa"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:"Catlogo de aes"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"h-6 w-6 p-0",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(d=>e.jsx(my,{item:d},d.id))}),l.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Nenhuma ao no catlogo"})]}),e.jsx("div",{className:"space-y-3",children:Lp.map(d=>{const h=i.includes(d.key),x=d.icon;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:d.key,checked:h,onChange:()=>c(d.key),className:"rounded"}),e.jsxs(B,{htmlFor:d.key,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(x,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:d.label}),!u&&e.jsx("p",{className:"text-xs text-slate-500",children:d.description})]})]})]},d.key)})}),i.length>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Preview dos botes:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(d=>{const h=Lp.find(f=>f.key===d);if(!h)return null;const x=h.icon;return e.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:!0,children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),h.label]},d)})})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Aes selecionadas:"}),e.jsxs("span",{children:[i.length," / ",Lp.length]})]})}),e.jsx(uy,{open:r,onOpenChange:n,stageId:t.id,area:"stage_actions.catalog",title:"Catlogo de aes",description:"Gerencie as aes disponveis para esta etapa",items:l,allowIcon:!0,allowColor:!0})]})}const Pte=[{id:"1",name:"Joo Silva",role:"Gerente"},{id:"2",name:"Maria Santos",role:"Coordenador"},{id:"3",name:"Pedro Costa",role:"Diretor"},{id:"4",name:"Ana Lima",role:"Analista"}];function Ate({stage:t,density:s}){var p,y;const{addComment:a,deleteComment:r,updateToolConfig:n}=Zr(),[o,i]=m.useState(""),[l,c]=m.useState(!1),u=((p=t.toolConfig.comments)==null?void 0:p.list)||[],d=((y=t.toolConfig.comments)==null?void 0:y.allowMentions)||!1,h=()=>{if(!o.trim())return;const g={id:`c${Date.now()}`,author:"Usurio Atual",role:"Analista",text:o,createdAt:Date.now(),mentions:o.match(/@\w+/g)||[]};a(t.id,g),i("")},x=g=>{const b=`@${g}`;i(j=>j+(j?" ":"")+b+" "),c(!1)},f=g=>new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(no,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Novo comentrio"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ft,{value:o,onChange:g=>i(g.target.value),placeholder:"Digite seu comentrio...",className:be("resize-none",v?"h-16":"h-20"),rows:v?2:3}),d&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"absolute top-1 right-1 h-6 w-6 p-0",children:e.jsx(Fl,{className:"w-3 h-3"})})]}),l&&e.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded border",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Mencionar:"}),e.jsx("div",{className:"space-y-1",children:Pte.map(g=>e.jsxs("button",{onClick:()=>x(g.name),className:"block w-full text-left text-xs hover:bg-slate-100 p-1 rounded",children:[e.jsx("span",{className:"font-medium",children:g.name}),e.jsxs("span",{className:"text-slate-500 ml-1",children:["(",g.role,")"]})]},g.id))})]}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(C,{size:"sm",onClick:h,disabled:!o.trim(),className:"h-7 px-3 text-xs",children:"Comentar"})})]}),u.length>0?e.jsx("div",{className:"space-y-3",children:u.map(g=>e.jsxs("div",{className:"p-3 bg-slate-50 rounded border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:g.author}),g.role&&e.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",g.role,")"]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>r(t.id,g.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-2",children:g.text}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(Pt,{className:"w-3 h-3"}),e.jsx("span",{children:f(g.createdAt)})]})]},g.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum comentrio ainda"}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:g=>n(t.id,{comments:{...t.toolConfig.comments,allowMentions:g.target.checked}}),className:"rounded"}),e.jsx("span",{children:"Permitir menes (@)"})]})})]})}function Dte({stage:t,density:s}){const{addSigner:a,updateSigner:r,removeSigner:n}=Zr(),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({name:"",role:"",status:"pending"}),h=t.toolConfig.signatures,x=(h==null?void 0:h.signers)||[],f=()=>{if(!u.name.trim())return;const b={id:`s${Date.now()}`,name:u.name,role:u.role||void 0,status:u.status};a(t.id,b),d({name:"",role:"",status:"pending"}),i(!1)},v=(b,j,N)=>{r(t.id,b,{[j]:N}),c(null)},p=b=>{switch(b){case"signed":return e.jsx(_l,{className:"w-4 h-4 text-green-500"});case"rejected":return e.jsx(qe,{className:"w-4 h-4 text-red-500"});default:return e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-slate-300"})}},y=b=>{switch(b){case"signed":return"text-green-700 bg-green-50 border-green-200";case"rejected":return"text-red-700 bg-red-50 border-red-200";default:return"text-slate-700 bg-slate-50 border-slate-200"}},g=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Signatrios"})]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"h-7 px-2 text-xs",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),o&&e.jsx("div",{className:"p-3 bg-slate-50 rounded border",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-name",className:"text-xs",children:"Nome"}),e.jsx(De,{id:"signer-name",value:u.name,onChange:b=>d(j=>({...j,name:b.target.value})),placeholder:"Nome do signatrio",className:g?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-role",className:"text-xs",children:"Papel (opcional)"}),e.jsx(De,{id:"signer-role",value:u.role,onChange:b=>d(j=>({...j,role:b.target.value})),placeholder:"Ex: Gerente, Diretor",className:g?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"signer-status",className:"text-xs",children:"Status"}),e.jsxs(dt,{value:u.status,onValueChange:b=>d(j=>({...j,status:b})),children:[e.jsx(it,{className:g?"h-8":"h-9",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"pending",children:"Pendente"}),e.jsx(Ce,{value:"signed",children:"Assinado"}),e.jsx(Ce,{value:"rejected",children:"Rejeitado"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{size:"sm",onClick:f,disabled:!u.name.trim(),className:"h-7 px-3 text-xs",children:"Adicionar"}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>{i(!1),d({name:"",role:"",status:"pending"})},className:"h-7 px-3 text-xs",children:"Cancelar"})]})]})}),x.length>0?e.jsx("div",{className:"space-y-2",children:x.map(b=>e.jsxs("div",{className:be("p-3 rounded border flex items-center justify-between",y(b.status)),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p(b.status),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:b.name}),b.role&&e.jsx("div",{className:"text-xs opacity-75",children:b.role})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[l===b.id?e.jsxs(dt,{value:b.status,onValueChange:j=>v(b.id,"status",j),children:[e.jsx(it,{className:"h-7 w-24 text-xs",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"pending",children:"Pendente"}),e.jsx(Ce,{value:"signed",children:"Assinado"}),e.jsx(Ce,{value:"rejected",children:"Rejeitado"})]})]}):e.jsx("span",{className:"text-xs font-medium capitalize",children:b.status==="pending"?"Pendente":b.status==="signed"?"Assinado":"Rejeitado"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(l===b.id?null:b.id),className:"h-6 w-6 p-0",children:e.jsx(B4,{className:"w-3 h-3"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(t.id,b.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Yt,{className:"w-3 h-3"})})]})]},b.id))}):e.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"Nenhum signatrio adicionado"}),e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Total de signatrios:"}),e.jsx("span",{children:x.length})]}),x.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"Assinados:"}),e.jsx("span",{children:x.filter(b=>b.status==="signed").length})]})]})]})}function kte({stage:t,density:s}){const{updateToolConfig:a}=Zr(),r=t.toolConfig.doc_view,n=(r==null?void 0:r.previewMode)||"modal",o=(r==null?void 0:r.fileName)||"",i=(r==null?void 0:r.sizeMB)||0,l=h=>{a(t.id,{doc_view:{...r,previewMode:h}})},c=h=>{a(t.id,{doc_view:{...r,fileName:h}})},u=h=>{a(t.id,{doc_view:{...r,sizeMB:h}})},d=s==="compact";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Visualizao de Documento"})]}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center",children:[e.jsx($e,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:o||"documento.pdf"}),e.jsx("div",{className:"text-xs text-slate-500 mb-4",children:i>0?`${i} MB`:"Tamanho no especificado"}),e.jsx("div",{className:"flex gap-2 justify-center",children:e.jsx(C,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:!0,children:n==="modal"?e.jsxs(e.Fragment,{children:[e.jsx(V4,{className:"w-3 h-3 mr-1"}),"Abrir Modal"]}):e.jsxs(e.Fragment,{children:[e.jsx(eb,{className:"w-3 h-3 mr-1"}),"Nova Aba"]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"preview-mode",className:"text-sm font-medium",children:"Modo de Visualizao"}),e.jsxs(dt,{value:n,onValueChange:l,children:[e.jsx(it,{className:d?"h-8":"h-9",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"modal",children:"Modal"}),e.jsx(Ce,{value:"new_tab",children:"Nova Aba"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"file-name",className:"text-sm font-medium",children:"Nome do Arquivo"}),e.jsx(De,{id:"file-name",value:o,onChange:h=>c(h.target.value),placeholder:"documento.pdf",className:d?"h-8":"h-9"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"file-size",className:"text-sm font-medium",children:"Tamanho (MB)"}),e.jsx(De,{id:"file-size",type:"number",value:i,onChange:h=>u(parseFloat(h.target.value)||0),placeholder:"2.5",step:"0.1",min:"0",className:d?"h-8":"h-9"})]})]}),e.jsx("div",{className:"pt-3 border-t border-slate-200",children:e.jsxs("div",{className:"text-xs text-slate-500",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Modal:"})," Abre o documento em uma janela sobreposta"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nova Aba:"})," Abre o documento em uma nova aba do navegador"]})]})})]})}const Tte=({tool:t,stage:s,density:a,onRemove:r,onConfigure:n,isDragging:o=!1})=>{const{attributes:i,listeners:l,setNodeRef:c,transform:u,transition:d,isDragging:h}=rf({id:t}),x={transform:Sr.Transform.toString(u),transition:d},f=()=>{switch(t){case"management":return e.jsx(yte,{stage:s,density:a});case"main_form":return e.jsx(Cte,{stage:s,density:a});case"stage_panel":return e.jsx(Ste,{stage:s,density:a});case"stage_actions":return e.jsx(Ete,{stage:s,density:a});case"comments":return e.jsx(Ate,{stage:s,density:a});case"signatures":return e.jsx(Dte,{stage:s,density:a});case"doc_view":return e.jsx(kte,{stage:s,density:a});default:return null}};return e.jsx("div",{ref:c,style:x,...i,children:e.jsx(I6,{tool:t,stage:s,density:a,onRemove:r,onConfigure:n,isDragging:o||h,children:f()})})};function Rte({stage:t,layout:s,onLayoutChange:a,onToolRemove:r,onToolConfigure:n,className:o=""}){const[i,l]=m.useState(null),c=Jx(po(Zl,{activationConstraint:{distance:8}}),po(Ql,{coordinateGetter:nf}));m.useEffect(()=>{document.documentElement.style.setProperty("--card-scale",s.scale.toString())},[s.scale]);const d=(()=>{if(s.mode==="stack")return{stack:s.orderStack||t.tools};const p=s.orderLeft||[],y=s.orderRight||[];return{left:p,right:y}})(),h=p=>{l(p.active.id)},x=p=>{const{active:y,over:g}=p;if(!g)return;const b=y.id,j=g.id},f=p=>{const{active:y,over:g}=p;if(l(null),!g)return;const b=y.id,j=g.id;if(b!==j&&s.mode==="stack"){const N=d.stack,w=N.indexOf(b),E=N.indexOf(j);if(w!==-1&&E!==-1){const D=ec(N,w,E);a({orderStack:D})}}},v=(p,y)=>p.length===0?e.jsx("div",{className:`
            min-h-[200px] border-2 border-dashed border-slate-300 rounded-lg 
            flex items-center justify-center text-slate-500
            ${s.showGuides?"bg-slate-50":"bg-transparent"}
          `,children:e.jsx("span",{className:"text-sm",children:"Arraste ferramentas aqui"})}):e.jsx(af,{items:p,strategy:Uj,children:e.jsx("div",{className:"space-y-4",children:p.map(g=>e.jsx(Tte,{tool:g,stage:t,density:s.density,onRemove:()=>r(g),onConfigure:()=>n(g)},g))})});return e.jsx("div",{className:be("h-full w-full",o),style:{"--card-scale":`${s.scale??1}`},children:e.jsxs("article",{className:be("stage-card","relative w-full h-auto","rounded-2xl border border-slate-200 shadow-sm bg-white","p-6 md:p-8",s.showGuides&&"[outline:1px_solid_theme(colors.slate.200)]","origin-top scale-[var(--card-scale)]"),children:[e.jsx("div",{className:"absolute -top-2 left-4 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"absolute -top-2 right-4 w-3 h-3 rounded-full border bg-white opacity-80","aria-hidden":"true"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-500 text-white flex items-center justify-center font-semibold absolute -left-3 -top-3",children:t.orderIndex}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"inline-flex items-center rounded-full bg-slate-100 text-slate-700 text-sm px-3 py-1",children:t.department}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.days," dias teis"]})]})]})})}),e.jsx("div",{className:be("mt-4",s.mode==="stack"&&"grid grid-cols-1 gap-4",s.mode==="50-50"&&"grid grid-cols-2 gap-4",s.mode==="60-40"&&"grid grid-cols-[3fr_2fr] gap-4",s.mode==="40-60"&&"grid grid-cols-[2fr_3fr] gap-4"),children:e.jsxs(sf,{sensors:c,collisionDetection:Qx,onDragStart:h,onDragOver:x,onDragEnd:f,children:[s.mode==="stack"?e.jsx("div",{children:v(d.stack)}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2 font-medium",children:"Coluna Esquerda"}),v(d.left)]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2 font-medium",children:"Coluna Direita"}),v(d.right)]})]}),e.jsx(Bj,{children:i?e.jsx(I6,{tool:i,density:s.density,isDragging:!0}):null})]})})]})})}const O6=({tool:t,isActive:s,isDisabled:a=!1,onToggle:r,onRemove:n,isDragging:o=!1,readOnly:i=!1})=>{const l=kl(t);return e.jsxs("div",{className:`
        flex items-center gap-3 p-3 rounded-lg border transition-all duration-200
        ${s?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-200 hover:bg-slate-100"}
        ${a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow-md"}
        ${o?"opacity-50 shadow-lg":""}
      `,onClick:()=>!a&&!i&&r(t),role:"button",tabIndex:a?-1:0,"aria-label":`${s?"Desativar":"Ativar"} ${l.label}`,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&!a&&!i&&(c.preventDefault(),r(t))},children:[e.jsx("div",{className:`p-2 rounded-md ${l.color}`,children:e.jsx(l.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900 truncate",children:l.label}),l.dependsOn&&e.jsx(St,{children:e.jsxs(Nt,{children:[e.jsx(wt,{asChild:!0,children:e.jsx(fn,{className:"w-3 h-3 text-slate-400"})}),e.jsx(bt,{children:e.jsxs("p",{children:["Depende de: ",kl(l.dependsOn).label]})})]})})]}),e.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:l.desc})]}),!i&&s&&n?e.jsx("button",{onClick:c=>{c.stopPropagation(),n(t)},className:"p-1 rounded-full hover:bg-slate-200 transition-colors","aria-label":`Remover ${l.label}`,children:e.jsx(Yt,{className:"w-4 h-4 text-slate-500"})}):!i&&!s&&!a?e.jsx("button",{onClick:c=>{c.stopPropagation(),r(t)},className:"p-1 rounded-full hover:bg-slate-200 transition-colors","aria-label":`Adicionar ${l.label}`,children:e.jsx(Mt,{className:"w-4 h-4 text-slate-500"})}):null]})},Mte=t=>{const{attributes:s,listeners:a,setNodeRef:r,transform:n,transition:o,isDragging:i}=rf({id:t.tool}),l={transform:Sr.Transform.toString(n),transition:o};return e.jsx("div",{ref:r,style:l,...s,...a,children:e.jsx(O6,{...t,isDragging:i})})},Ite=({tools:t,toolsOrder:s,onChangeTools:a,onChangeOrder:r,className:n="",readOnly:o=!1})=>{const[i,l]=m.useState(null),{toast:c}=Kt(),u=Jx(po(Zl,{activationConstraint:{distance:8}}),po(Ql,{coordinateGetter:nf})),d=bte(),h=s.length>0?s.filter(g=>t.includes(g)):t,x=g=>{if(t.includes(g)){const b=t.filter(N=>N!==g),j=s.filter(N=>N!==g);if(g==="signatures"){const N=b.filter(E=>E!=="doc_view"),w=j.filter(E=>E!=="doc_view");a(N),r(w),t.includes("doc_view")&&c({title:"Visualizao desativada",description:"A visualizao de documentos foi desativada porque depende de Assinaturas."})}else a(b),r(j)}else if(R2(g,t)){const b=[...t,g],j=[...s,g];a(b),r(j)}},f=g=>{x(g)},v=g=>{l(g.active.id)},p=g=>{const{active:b,over:j}=g;if(l(null),!j)return;const N=h.indexOf(b.id),w=h.indexOf(j.id);if(N!==w){const E=ec(h,N,w);r(E),c({title:"Ordem atualizada",description:"A ordem das ferramentas foi atualizada."})}},y=i?kl(i):null;return e.jsxs("div",{className:`space-y-6 ${n}`,children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fn,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Dependncias:"}),e.jsxs("p",{className:"text-blue-700",children:[e.jsx("strong",{children:"Visualizao"})," s pode ser ativada quando ",e.jsx("strong",{children:"Assinaturas"})," estiver ativa."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx("span",{children:"Disponveis"}),e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:d.length})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(g=>{const b=!R2(g,t);return e.jsx(O6,{tool:g,isActive:!1,isDisabled:b,onToggle:x,readOnly:o},g)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx("span",{children:"Ativas"}),e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:h.length})]}),e.jsxs(sf,{sensors:o?[]:u,collisionDetection:Qx,onDragStart:o?void 0:v,onDragEnd:o?void 0:p,children:[e.jsx(af,{items:h,strategy:Uj,children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:h.map(g=>e.jsx(Mte,{tool:g,isActive:!0,onRemove:f,readOnly:o},g))})}),e.jsx(Bj,{children:y?e.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-3 shadow-lg opacity-90",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-md ${y.color}`,children:e.jsx(y.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900",children:y.label}),e.jsx("p",{className:"text-xs text-slate-600",children:y.desc})]})]})}):null})]}),h.length===0&&e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Mt,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-sm",children:"Nenhuma ferramenta ativa"}),e.jsx("p",{className:"text-xs mt-1",children:"Clique nas ferramentas disponveis para ativ-las"})]})]})]})]})},Ote=({tool:t,config:s,onConfigChange:a,isDisabled:r=!1})=>{const n=kl(t),o=s[t]||{},i=()=>{var l,c;switch(t){case"management":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-versions",children:"Verses"}),e.jsx(Mr,{id:"allow-versions",checked:o.allowVersions??!0,onCheckedChange:u=>a({[t]:{...o,allowVersions:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-attachments",children:"Anexos"}),e.jsx(Mr,{id:"allow-attachments",checked:o.allowAttachments??!0,onCheckedChange:u=>a({[t]:{...o,allowAttachments:u}}),disabled:r})]})]});case"main_form":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"schema-id",children:"Modelo de Formulrio"}),e.jsxs(dt,{value:o.schemaId||"default-schema",onValueChange:u=>a({[t]:{...o,schemaId:u}}),disabled:r,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione um modelo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"default-schema",children:"Modelo Padro"}),e.jsx(Ce,{value:"dfd-schema",children:"Modelo DFD"}),e.jsx(Ce,{value:"etp-schema",children:"Modelo ETP"}),e.jsx(Ce,{value:"custom-schema",children:"Modelo Personalizado"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"required-fields",children:"Campos Obrigatrios"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(l=o.requiredFields)==null?void 0:l.map((u,d)=>e.jsxs(oe,{variant:"secondary",className:"flex items-center gap-1",children:[u,e.jsx("button",{onClick:()=>{var x;if(r)return;const h=((x=o.requiredFields)==null?void 0:x.filter((f,v)=>v!==d))||[];a({[t]:{...o,requiredFields:h}})},className:"ml-1 text-xs hover:text-red-600 disabled:opacity-50",disabled:r,children:""})]},d)),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>{if(r)return;const u=prompt("Nome do campo obrigatrio:");if(u){const d=[...o.requiredFields||[],u];a({[t]:{...o,requiredFields:d}})}},disabled:r,children:"+ Adicionar"})]})]})]});case"stage_panel":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-sla",children:"Exibir SLA (Status & Prazo)"}),e.jsx(Mr,{id:"show-sla",checked:o.showSLA??!0,onCheckedChange:u=>a({[t]:{...o,showSLA:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-checklist",children:"Exibir Checklist"}),e.jsx(Mr,{id:"show-checklist",checked:o.showChecklist??!0,onCheckedChange:u=>a({[t]:{...o,showChecklist:u}}),disabled:r})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"show-timeline",children:"Exibir Timeline"}),e.jsx(Mr,{id:"show-timeline",checked:o.showTimeline??!0,onCheckedChange:u=>a({[t]:{...o,showTimeline:u}}),disabled:r})]})]});case"stage_actions":return e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{children:"Aes Disponveis"}),e.jsx("div",{className:"space-y-2",children:[{key:"send",label:"Enviar para anlise"},{key:"finish",label:"Concluir etapa"},{key:"generate_doc",label:"Gerar documento"}].map(({key:u,label:d})=>{var h;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:`action-${u}`,children:d}),e.jsx(Mr,{id:`action-${u}`,checked:((h=o.actions)==null?void 0:h.includes(u))??!0,onCheckedChange:x=>{if(r)return;const f=o.actions||[],v=x?[...f,u]:f.filter(p=>p!==u);a({[t]:{...o,actions:v}})},disabled:r})]},u)})})]});case"comments":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{htmlFor:"allow-mentions",children:"Permitir @menes"}),e.jsx(Mr,{id:"allow-mentions",checked:o.allowMentions??!0,onCheckedChange:u=>a({[t]:{...o,allowMentions:u}}),disabled:r})]})});case"signatures":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"Signatrios"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[(c=o.signers)==null?void 0:c.map((u,d)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:u.name}),u.role&&e.jsx("div",{className:"text-xs text-slate-600",children:u.role})]}),e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{var x;if(r)return;const h=((x=o.signers)==null?void 0:x.filter((f,v)=>v!==d))||[];a({[t]:{...o,signers:h}})},disabled:r,children:"Remover"})]},u.id)),e.jsx(C,{size:"sm",variant:"outline",onClick:()=>{if(r)return;const u=prompt("Nome do signatrio:"),d=prompt("Papel do signatrio (opcional):");if(u){const h={id:Date.now().toString(),name:u,role:d||void 0},x=[...o.signers||[],h];a({[t]:{...o,signers:x}})}},disabled:r,children:"+ Adicionar Signatrio"})]})]})});case"doc_view":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"preview-mode",children:"Modo de Visualizao"}),e.jsxs(dt,{value:o.previewMode||"modal",onValueChange:u=>a({[t]:{...o,previewMode:u}}),disabled:r,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione o modo"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"modal",children:"Modal"}),e.jsx(Ce,{value:"new_tab",children:"Nova Aba"})]})]})]}),r&&e.jsx("div",{className:"text-sm text-slate-500 italic",children:'Ative "Assinaturas" para configurar a visualizao de documentos.'})]});default:return e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Nenhuma configurao disponvel para esta ferramenta."})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-md ${n.color}`,children:e.jsx(n.Icon,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.label}),e.jsx("p",{className:"text-sm text-slate-600",children:n.desc})]})]}),e.jsx(Wj,{}),i()]})};function zte({stage:t,onPatch:s,onEnableTool:a,onDisableTool:r,onReorderTools:n,onUpdateToolConfig:o,readOnly:i=!1}){const{toast:l}=Kt(),[c,u]=m.useState("general"),d=f=>{s({tools:f,toolsOrder:f})},h=f=>{n(f),l({title:"Ordem atualizada",description:"A ordem das ferramentas foi atualizada."})},x=f=>{o(f)};return e.jsx("div",{className:"h-full flex flex-col",children:e.jsxs(Va,{value:c,onValueChange:u,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b shadow-[0_1px_0_0_rgba(15,23,42,.06)] z-10",children:e.jsxs(Sa,{className:"grid w-full grid-cols-4 h-12",children:[e.jsxs(Vt,{value:"general",className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Geral"]}),e.jsxs(Vt,{value:"tools",className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Ferramentas"]}),e.jsxs(Vt,{value:"config",className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Configuraes"]}),e.jsxs(Vt,{value:"permissions",className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"w-4 h-4"}),"Permisses"]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[e.jsx(Gt,{value:"general",className:"space-y-6 mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"title",className:"text-sm font-medium",children:"Ttulo da Etapa"}),e.jsx(De,{id:"title",value:t.title,onChange:f=>s({title:f.target.value}),disabled:i,placeholder:"Digite o ttulo da etapa...",className:"h-10"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Nome que aparecer no card da etapa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"department",className:"text-sm font-medium",children:"Setor Responsvel"}),e.jsxs(dt,{value:t.department||"",onValueChange:f=>s({department:f}),disabled:i,children:[e.jsx(it,{className:"h-10",children:e.jsx(ut,{placeholder:"Selecione o setor responsvel"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"GSP - Gerncia de Solues e Projetos",children:"GSP - Gerncia de Solues e Projetos"}),e.jsx(Ce,{value:"GSL - Gerncia de Suprimentos e Logstica",children:"GSL - Gerncia de Suprimentos e Logstica"}),e.jsx(Ce,{value:"GRH - Gerncia de Recursos Humanos",children:"GRH - Gerncia de Recursos Humanos"}),e.jsx(Ce,{value:"GUE - Gerncia de Urgncia e Emergncia",children:"GUE - Gerncia de Urgncia e Emergncia"}),e.jsx(Ce,{value:"GLC - Gerncia de Licitaes e Contratos",children:"GLC - Gerncia de Licitaes e Contratos"}),e.jsx(Ce,{value:"GFC - Gerncia Financeira e Contbil",children:"GFC - Gerncia Financeira e Contbil"}),e.jsx(Ce,{value:"GTEC - Gerncia de Tecnologia da Informao",children:"GTEC - Gerncia de Tecnologia da Informao"}),e.jsx(Ce,{value:"GAP - Gerncia de Administrao e Patrimnio",children:"GAP - Gerncia de Administrao e Patrimnio"}),e.jsx(Ce,{value:"NAJ - Assessoria Jurdica",children:"NAJ - Assessoria Jurdica"}),e.jsx(Ce,{value:"GESP - Gerncia de Especialidades",children:"GESP - Gerncia de Especialidades"}),e.jsx(Ce,{value:"GCOM - Gerncia de Comunicao",children:"GCOM - Gerncia de Comunicao"}),e.jsx(Ce,{value:"GQUAL - Gerncia de Qualidade",children:"GQUAL - Gerncia de Qualidade"}),e.jsx(Ce,{value:"GSEG - Gerncia de Segurana",children:"GSEG - Gerncia de Segurana"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Setor responsvel pela execuo desta etapa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"days",className:"text-sm font-medium",children:"Prazo (Dias teis)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{id:"days",type:"number",min:"1",max:"365",value:t.days||"",onChange:f=>s({days:parseInt(f.target.value)||0}),disabled:i,placeholder:"Ex: 5",className:"h-10 w-24"}),e.jsx("span",{className:"text-sm text-slate-500",children:"dias teis"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Tempo estimado para concluso da etapa"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Resumo da Etapa"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Ttulo:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.title||"No definido"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Setor:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.department||"No definido"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Prazo:"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.days?`${t.days} dias teis`:"No definido"})]})]})]})})]})}),e.jsx(Gt,{value:"tools",className:"mt-0",children:e.jsx(Ite,{tools:t.tools,toolsOrder:t.toolsOrder,onChangeTools:d,onChangeOrder:h,readOnly:i})}),e.jsx(Gt,{value:"config",className:"mt-0",children:e.jsx("div",{className:"space-y-6",children:t.tools.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Ns,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{children:"Nenhuma ferramenta ativa"}),e.jsx("p",{className:"text-sm mt-1",children:'Ative ferramentas na aba "Ferramentas" para configur-las'})]}):t.tools.map(f=>e.jsx(Ote,{tool:f,config:t.toolConfig||{},onConfigChange:x,isDisabled:f==="doc_view"&&!t.tools.includes("signatures")},f))})}),e.jsx(Gt,{value:"permissions",className:"mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Ca,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{className:"font-medium",children:"Permisses & Regras"}),e.jsx("p",{className:"text-sm mt-1",children:"Em desenvolvimento - funcionalidade futura"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Funcionalidades Planejadas:"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[e.jsx("li",{children:" Campos obrigatrios por role"}),e.jsx("li",{children:" Bloqueios condicionais"}),e.jsx("li",{children:" Permisses por usurio/grupo"}),e.jsx("li",{children:" Dependncias entre etapas"}),e.jsx("li",{children:" Validao de ordem de execuo"})]})]})]})})]})]})})}function Fte({stage:t,isOpen:s,onClose:a,mode:r="edit"}){const{updateStage:n,enableTool:o,disableTool:i,reorderTools:l,updateToolConfig:c,setLayout:u,moveToolInLayout:d,enforceDeps:h}=Zr(),{toast:x}=Kt(),[f,v]=m.useState(null),[p,y]=m.useState(!1),[g,b]=m.useState(!1),[j,N]=m.useState(()=>{const O=localStorage.getItem(`stage.layout.${t==null?void 0:t.id}`);return O?JSON.parse(O):{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:(t==null?void 0:t.tools)||[]}});m.useEffect(()=>{if(t&&s){v({...t}),y(!1);const O=localStorage.getItem(`stage.layout.${t.id}`);N(O?JSON.parse(O):{mode:"stack",density:"cozy",showGuides:!1,scale:1,orderStack:t.tools})}},[t,s]),m.useEffect(()=>{f&&j&&localStorage.setItem(`stage.layout.${f.id}`,JSON.stringify(j))},[j,f]),m.useEffect(()=>{s&&setTimeout(()=>{var O;(O=document.getElementById("stage-preview-pane"))==null||O.scrollTo({top:0,behavior:"instant"})},100)},[s]),m.useEffect(()=>{if(!s)return;const O=S=>{S.key==="Escape"&&(S.preventDefault(),w()),(S.ctrlKey||S.metaKey)&&S.key==="s"&&(S.preventDefault(),E()),(S.ctrlKey||S.metaKey)&&(S.key==="ArrowLeft"||S.key==="ArrowRight")&&S.preventDefault()};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s,p]);const w=m.useCallback(()=>{p&&!window.confirm("Voc tem alteraes no salvas. Deseja realmente fechar?")||a()},[p,a]),E=m.useCallback(()=>{f&&(n(f.id,{title:f.title,department:f.department,days:f.days,status:f.status,tools:f.tools,toolsOrder:f.toolsOrder,toolConfig:f.toolConfig}),y(!1),x({title:"Etapa salva",description:"As alteraes foram salvas com sucesso."}))},[f,n,x]),D=m.useCallback(()=>{t&&(v({...t}),y(!1),x({title:"Alteraes revertidas",description:"O estado original foi restaurado."}))},[t,x]),P=m.useCallback(O=>{if(!f)return;const S={...f,...O};v(S),n(f.id,O),y(!0)},[f,n]),_=m.useCallback(O=>{f&&(o(f.id,O),h(f.id),y(!0))},[f,o,h]),M=m.useCallback(O=>{f&&(i(f.id,O),y(!0))},[f,i]),k=m.useCallback(O=>{f&&(l(f.id,O),y(!0))},[f,l]),$=m.useCallback(O=>{f&&(c(f.id,O),y(!0))},[f,c]),H=O=>{switch(O){case"done":return e.jsx(oe,{className:"bg-emerald-100 text-emerald-700",children:"Concludo"});case"in_progress":return e.jsx(oe,{className:"bg-indigo-100 text-indigo-700",children:"Em Andamento"});case"pending":return e.jsx(oe,{className:"bg-slate-100 text-slate-700",children:"Pendente"})}},Y=m.useCallback(O=>{f&&(u(f.id,O),N(S=>({...S,...O})),y(!0))},[f,u]),K=m.useCallback(O=>{f&&(i(f.id,O),h(f.id),y(!0))},[f,i,h]),z=m.useCallback(O=>{console.log("Configurar ferramenta:",O)},[]);return!s||!f?null:e.jsxs("div",{className:`
        fixed inset-0 z-[60]
        grid
        grid-rows-[56px,1fr]
        grid-cols-1 md:grid-cols-2
        md:[grid-template-columns:50%_50%]
        bg-slate-50
      `,children:[e.jsx("header",{className:"col-span-2 bg-white/95 backdrop-blur border-b",children:e.jsxs("div",{className:"h-[56px] px-4 lg:px-6 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:f.title}),H(f.status)]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(vte,{stage:f,layout:j,isFullscreen:g,hasChanges:p,onLayoutChange:Y,onFullscreenToggle:()=>b(!g),onRevert:D,onSave:E})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:D,disabled:!p,children:"Reverter"}),e.jsx(C,{size:"sm",onClick:E,disabled:!p,children:"Salvar"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:w,children:e.jsx(Yt,{className:"w-4 h-4"})})]})]})}),e.jsx("section",{id:"preview-pane",className:`
          row-start-2 col-start-1
          h-full w-full
          overflow-auto
          px-4 lg:px-6 py-4
          bg-slate-50
        `,children:e.jsx(Rte,{stage:f,layout:j,onLayoutChange:Y,onToolRemove:K,onToolConfigure:z,className:"h-full w-full"})}),e.jsx("aside",{id:"config-pane",className:`
          row-start-2 col-start-2
          h-full w-full
          overflow-auto
          border-l bg-white
        `,children:e.jsx(zte,{stage:f,onPatch:P,onEnableTool:_,onDisableTool:M,onReorderTools:k,onUpdateToolConfig:$,readOnly:r==="details"})})]})}function _te(){const{getStagesByModel:t,getStage:s,activeModelId:a}=Zr(),[r,n]=m.useState("Modelo Fiscatus"),[o,i]=m.useState("Fluxo completo para contrataes pblicas com todas as etapas necessrias para licitao e contratao."),[l,c]=m.useState("grid"),[u,d]=m.useState(100),[h,x]=m.useState(()=>{const S=localStorage.getItem("sidebar-collapsed");return S?JSON.parse(S):!1}),[f,v]=m.useState(null),[p,y]=m.useState(!1),[g,b]=m.useState("edit");m.useEffect(()=>(document.body.style.overscrollBehavior="contain",()=>{document.body.style.overscrollBehavior=""}),[]),m.useEffect(()=>{const S=setTimeout(()=>{document.body.style.overflow="auto"},50);return()=>clearTimeout(S)},[h]);const j=t(a||"modelo-fiscatus"),N=j.length,w=j.reduce((S,L)=>S+(L.days||0),0),E=3,D=5,P=()=>{console.log("Modelo salvo")},_=()=>{console.log("Alteraes revertidas")},M=S=>{c(S)},k=S=>{d(S)},$=S=>{console.log("Excluir etapa:",S)},H=S=>{v(S),b("details"),y(!0)},Y=S=>{v(S),b("edit"),y(!0)},K=()=>{y(!1),v(null)},z=()=>{const S=!h;x(S),localStorage.setItem("sidebar-collapsed",JSON.stringify(S))},O=j;return e.jsxs("div",{style:{"--safe-top":"56px","--pagebar-h":"52px","--toolbar-h":"48px","--gutter":"20px"},className:"h-screen w-screen overflow-x-hidden overflow-y-auto bg-slate-50",children:[e.jsx(Jr,{}),e.jsxs("main",{className:`w-full grid grid-cols-12 gap-4 lg:gap-6 px-[var(--gutter)] pb-8 min-h-full ${h?"pt-[calc(var(--safe-top)+var(--toolbar-h)+80px)]":"pt-[calc(var(--safe-top)+var(--toolbar-h)+40px)]"}`,children:[e.jsx("aside",{className:`col-span-12 ${h?"lg:hidden":"lg:col-span-2"} space-y-4`,id:"sidebar",children:e.jsx("div",{className:"sticky top-[calc(var(--safe-top)+var(--toolbar-h)+52px)]",children:e.jsx(Lee,{onToggleCollapse:z})})}),e.jsxs("section",{className:`col-span-12 ${h?"lg:col-span-12":"lg:col-span-10"} space-y-4`,id:"canvas",children:[e.jsx($ee,{nomeModelo:r,descricaoModelo:o,totalEtapas:N,totalDias:w,linhasCriticas:E,assinaturasPendentes:D,onNomeChange:n,onDescricaoChange:i,onSalvar:P,onReverter:_}),e.jsx(nte,{totalEtapas:N,totalDias:w,onViewModeChange:M,onZoomChange:k}),l==="grid"?e.jsx(ite,{etapas:O,zoom:u,editable:!0,onEdit:Y,onDelete:$,onView:H}):e.jsx(lte,{etapas:O,onEdit:Y,onDelete:$,onView:H}),O.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Nenhuma etapa encontrada"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Adicione a primeira etapa ao seu modelo"}),e.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Adicionar primeiro card"})]})]})]}),h&&e.jsx("button",{onClick:z,className:"fixed left-4 top-[calc(var(--safe-top)+var(--toolbar-h)+120px)] z-30 bg-white border border-slate-200 rounded-lg p-2 shadow-lg hover:shadow-xl transition-all hover:bg-slate-50","aria-label":"Expandir sidebar",children:e.jsx(hF,{className:"w-5 h-5 text-slate-600"})}),e.jsx(Fte,{stage:f?s(f):null,isOpen:p,onClose:K,mode:g})]})}function Lte(){const t=fs(),{toast:s}=Kt(),{user:a,setUser:r}=kt(),[n,o]=m.useState(!1),i=z=>z.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2),l=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),r(null),s({title:"Logout realizado",description:"Voc foi desconectado do sistema com sucesso.",variant:"default"}),t("/login")},[c,u]=m.useState({nomeCompleto:"Lucas Moreira Brito",cargo:"Gerente de Recursos Humanos",email:"lucas.brito@hospital.gov.br",senhaAtual:"",novaSenha:"",confirmarSenha:"",idioma:"pt-BR"}),[d,h]=m.useState({nomeEntidade:"Prefeitura Municipal de So Paulo",sigla:"PMSP",cnpj:"12.345.678/0001-90",esferaAdministrativa:"municipal",emailContato:"fiscatus@prefeitura.sp.gov.br",telefone:"(11) 1234-5678",endereco:"Av. Paulista, 1000 - Bela Vista, So Paulo - SP, 01310-100",logotipo:null}),[x,f]=m.useState({tiposNotificacao:{novosProcessos:!0,pendenciasAssinatura:!0,mudancasStatus:!0,prazosVencendo:!0,novosDocumentos:!0}}),[v,p]=m.useState({modoExibicao:"claro"}),[y,g]=m.useState(null),[b,j]=m.useState(null),[N,w]=m.useState({}),[E,D]=m.useState("perfilUsuario"),[P,_]=m.useState({atual:!1,nova:!1,confirmar:!1}),M=async(z,O)=>{w(S=>({...S,[z]:!0})),await new Promise(S=>setTimeout(S,1e3)),w(S=>({...S,[z]:!1})),s({title:"Sucesso!",description:`Configuraes de ${z} salvas com sucesso.`,variant:"default"})},k=z=>{var S;const O=(S=z.target.files)==null?void 0:S[0];O&&h(L=>({...L,logotipo:O}))},$=z=>{var S;const O=(S=z.target.files)==null?void 0:S[0];if(O){g(O);const L=URL.createObjectURL(O);j(L),s({title:"Foto atualizada!",description:"Sua foto de perfil foi alterada com sucesso.",variant:"default"})}},H=()=>{g(null),j(null),s({title:"Foto removida!",description:"Sua foto de perfil foi removida.",variant:"default"})},Y=async()=>{if(c.novaSenha!==c.confirmarSenha){s({title:"Erro!",description:"As senhas no coincidem.",variant:"destructive"});return}w(z=>({...z,alterarSenha:!0})),await new Promise(z=>setTimeout(z,1500)),w(z=>({...z,alterarSenha:!1})),u(z=>({...z,senhaAtual:"",novaSenha:"",confirmarSenha:""})),s({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso.",variant:"default"})},K=()=>{switch(E){case"perfilUsuario":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Perfil do Usurio"}),e.jsx("p",{className:"text-gray-600",children:"Edite suas informaes pessoais e preferncias individuais"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"nomeCompleto",children:"Nome completo"}),e.jsx(De,{id:"nomeCompleto",value:c.nomeCompleto,onChange:()=>{},readOnly:!0,disabled:!0,placeholder:"Digite seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo / Funo"}),e.jsx(De,{id:"cargo",value:c.cargo,onChange:()=>{},readOnly:!0,disabled:!0,placeholder:"Ex: Fiscal de Contratos"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"email",children:"E-mail institucional"}),e.jsx(De,{id:"email",type:"email",value:c.email,onChange:z=>u(O=>({...O,email:z.target.value})),placeholder:"seu.email@prefeitura.gov.br",disabled:!0}),e.jsx("p",{className:"text-sm text-gray-500",children:"E-mail no editvel pois  usado para login"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{children:"Foto de perfil"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:b?e.jsx("img",{src:b,alt:"Foto de perfil",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx(ht,{className:"w-10 h-10 text-gray-400"})})}),e.jsx("label",{htmlFor:"foto-perfil",className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors shadow-lg",children:e.jsx(Wz,{className:"w-4 h-4 text-white"})}),e.jsx("input",{id:"foto-perfil",type:"file",accept:"image/*",onChange:$,className:"hidden"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{var z;return(z=document.getElementById("foto-perfil"))==null?void 0:z.click()},children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Alterar foto"]}),b&&e.jsxs(C,{variant:"outline",size:"sm",onClick:H,className:"text-red-600 hover:text-red-700",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Remover foto"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"idioma",children:"Idioma preferido"}),e.jsxs(dt,{value:c.idioma,onValueChange:z=>u(O=>({...O,idioma:z})),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"pt-BR",children:"Portugus"}),e.jsx(Ce,{value:"en-US",children:"Ingls"}),e.jsx(Ce,{value:"es-ES",children:"Espanhol"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alterar Senha"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"senhaAtual",children:"Senha atual"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"senhaAtual",type:P.atual?"text":"password",value:c.senhaAtual,onChange:z=>u(O=>({...O,senhaAtual:z.target.value})),placeholder:"Digite sua senha atual"}),e.jsx("button",{type:"button",onClick:()=>_(z=>({...z,atual:!z.atual})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.atual?e.jsx(Ki,{className:"w-4 h-4 text-gray-400"}):e.jsx(Qe,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"novaSenha",children:"Nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"novaSenha",type:P.nova?"text":"password",value:c.novaSenha,onChange:z=>u(O=>({...O,novaSenha:z.target.value})),placeholder:"Digite a nova senha"}),e.jsx("button",{type:"button",onClick:()=>_(z=>({...z,nova:!z.nova})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.nova?e.jsx(Ki,{className:"w-4 h-4 text-gray-400"}):e.jsx(Qe,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"confirmarSenha",children:"Confirmar nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{id:"confirmarSenha",type:P.confirmar?"text":"password",value:c.confirmarSenha,onChange:z=>u(O=>({...O,confirmarSenha:z.target.value})),placeholder:"Confirme a nova senha"}),e.jsx("button",{type:"button",onClick:()=>_(z=>({...z,confirmar:!z.confirmar})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P.confirmar?e.jsx(Ki,{className:"w-4 h-4 text-gray-400"}):e.jsx(Qe,{className:"w-4 h-4 text-gray-400"})})]})]})]})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx(C,{onClick:()=>M("Perfil do Usurio"),disabled:N.perfilUsuario,className:"bg-blue-600 hover:bg-blue-700",children:N.perfilUsuario?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Atualizar Perfil"}),e.jsx(C,{onClick:Y,disabled:N.alterarSenha||!c.senhaAtual||!c.novaSenha||!c.confirmarSenha,variant:"outline",children:N.alterarSenha?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),"Alterando..."]}):"Alterar Senha"})]})]});case"perfilAdministracao":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Perfil da Administrao Pblica"}),e.jsx("p",{className:"text-gray-600",children:"Define dados institucionais da entidade que utiliza o sistema"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"nomeEntidade",children:"Nome da entidade pblica"}),e.jsx(De,{id:"nomeEntidade",value:d.nomeEntidade,onChange:z=>h(O=>({...O,nomeEntidade:z.target.value})),placeholder:"Digite o nome da entidade"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"sigla",children:"Sigla"}),e.jsx(De,{id:"sigla",value:d.sigla,onChange:z=>h(O=>({...O,sigla:z.target.value})),placeholder:"Ex: PMSP"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(De,{id:"cnpj",value:d.cnpj,onChange:()=>{},readOnly:!0,placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"esferaAdministrativa",children:"Esfera administrativa"}),e.jsxs(dt,{value:d.esferaAdministrativa,onValueChange:z=>h(O=>({...O,esferaAdministrativa:z})),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"municipal",children:"Municipal"}),e.jsx(Ce,{value:"estadual",children:"Estadual"}),e.jsx(Ce,{value:"federal",children:"Federal"}),e.jsx(Ce,{value:"consorcio",children:"Consrcio Pblico"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"emailContato",children:"E-mail de contato oficial"}),e.jsx(De,{id:"emailContato",type:"email",value:d.emailContato,onChange:z=>h(O=>({...O,emailContato:z.target.value})),placeholder:"contato@entidade.gov.br"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"telefone",children:"Telefone institucional"}),e.jsx(De,{id:"telefone",value:d.telefone,onChange:z=>h(O=>({...O,telefone:z.target.value})),placeholder:"(00) 0000-0000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"endereco",children:"Endereo completo"}),e.jsx(De,{id:"endereco",value:d.endereco,onChange:z=>h(O=>({...O,endereco:z.target.value})),placeholder:"Rua, nmero, bairro, cidade - UF, CEP"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"logotipo",children:"Logotipo da administrao"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(De,{id:"logotipo",type:"file",accept:"image/*",onChange:k,className:"max-w-xs"}),d.logotipo&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:URL.createObjectURL(d.logotipo),alt:"Preview",className:"w-12 h-12 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.logotipo.name})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Formatos aceitos: PNG, JPG, SVG. Tamanho mximo: 2MB."})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>M("Perfil da Administrao"),disabled:N.perfilAdministracao,className:"bg-blue-600 hover:bg-blue-700",children:N.perfilAdministracao?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Informaes da Administrao"})})]});case"notificacoes":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Notificaes"}),e.jsx("p",{className:"text-gray-600",children:"Configure como deseja receber comunicaes do sistema"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tipos de notificao a receber:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"novosProcessos",checked:x.tiposNotificacao.novosProcessos,onCheckedChange:z=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,novosProcessos:z}}))}),e.jsx(B,{htmlFor:"novosProcessos",children:"Novos processos atribudos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"pendenciasAssinatura",checked:x.tiposNotificacao.pendenciasAssinatura,onCheckedChange:z=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,pendenciasAssinatura:z}}))}),e.jsx(B,{htmlFor:"pendenciasAssinatura",children:"Pendncias de assinatura"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"mudancasStatus",checked:x.tiposNotificacao.mudancasStatus,onCheckedChange:z=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,mudancasStatus:z}}))}),e.jsx(B,{htmlFor:"mudancasStatus",children:"Mudanas no status do processo"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"prazosVencendo",checked:x.tiposNotificacao.prazosVencendo,onCheckedChange:z=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,prazosVencendo:z}}))}),e.jsx(B,{htmlFor:"prazosVencendo",children:"Prazos vencendo ou vencidos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:"novosDocumentos",checked:x.tiposNotificacao.novosDocumentos,onCheckedChange:z=>f(O=>({...O,tiposNotificacao:{...O.tiposNotificacao,novosDocumentos:z}}))}),e.jsx(B,{htmlFor:"novosDocumentos",children:"Novos documentos anexados"})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>M("Notificaes"),disabled:N.notificacoes,className:"bg-blue-600 hover:bg-blue-700",children:N.notificacoes?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Preferncias de Notificao"})})]});case"aparencia":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Aparncia"}),e.jsx("p",{className:"text-gray-600",children:"Customize a interface de acordo com sua preferncia visual"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modo de exibio:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",id:"modoClaro",name:"modoExibicao",value:"claro",checked:v.modoExibicao==="claro",onChange:z=>p(O=>({...O,modoExibicao:z.target.value})),className:"w-4 h-4 text-blue-600"}),e.jsxs(B,{htmlFor:"modoClaro",className:"flex items-center gap-2",children:[e.jsx(H4,{className:"w-4 h-4"}),"Claro"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",id:"modoEscuro",name:"modoExibicao",value:"escuro",checked:v.modoExibicao==="escuro",onChange:z=>p(O=>({...O,modoExibicao:z.target.value})),className:"w-4 h-4 text-blue-600"}),e.jsxs(B,{htmlFor:"modoEscuro",className:"flex items-center gap-2",children:[e.jsx(G4,{className:"w-4 h-4"}),"Escuro"]})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>M("Aparncia"),disabled:N.aparencia,className:"bg-blue-600 hover:bg-blue-700",children:N.aparencia?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Aplicar Aparncia"})})]});case"templates":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Templates e Documentos"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie os modelos de documentos do sistema"})]}),e.jsx("div",{className:"space-y-4",children:templates.map(z=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:z.nome}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{type:"file",accept:".pdf,.doc,.docx",onChange:O=>handleUploadTemplate(z.id,O),className:"max-w-xs"}),z.nomeArquivo&&e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"outline",size:"sm",children:e.jsx(jt,{className:"w-4 h-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>handleRemoverTemplate(z.id),children:e.jsx(It,{className:"w-4 h-4"})})]})]})]}),z.nomeArquivo&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Arquivo: ",z.nomeArquivo]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Este template ser usado como base para novos documentos do tipo ",z.nome.toLowerCase(),"."]})]},z.id))}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{onClick:()=>M("Templates",templates),disabled:N.templates,className:"bg-orange-600 hover:bg-orange-700",children:N.templates?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar Templates"})})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"p-2",children:e.jsx(ix,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-gray-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Configuraes"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(De,{type:"text",placeholder:"Buscar processo...",className:"w-32 md:w-40 lg:w-64 border-gray-200 focus:border-blue-300 focus:ring-blue-200"}),e.jsxs("div",{className:"relative",children:[e.jsx(xL,{onClick:()=>o(!n)}),e.jsx(XE,{isOpen:n,onClose:()=>o(!1)})]}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Configuraes",onClick:()=>t("/configuracoes"),children:e.jsx(Ft,{className:"w-4 h-4 text-gray-600"})}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx("button",{className:"flex items-center justify-center w-8 h-8 rounded-full border border-gray-200 bg-gray-100 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsxs(hr,{className:"w-8 h-8 border-0",children:[e.jsx(xr,{src:"/usuario.png"}),e.jsx(fr,{className:"bg-gray-100 text-gray-700 font-medium text-sm",children:a?i(a.nome):"GM"})]})})}),e.jsxs(eu,{align:"end",className:"w-64 p-2",children:[e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:(a==null?void 0:a.nome)||"Usurio"}),e.jsx("div",{className:"text-gray-500 text-xs",children:(a==null?void 0:a.email)||"usuario@exemplo.com"})]}),e.jsx(fh,{}),e.jsxs(pr,{onClick:l,className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50 focus:text-red-700 focus:bg-red-50",children:[e.jsx($4,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair do sistema"})]})]})]})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-64 bg-white border-r border-gray-200 min-h-screen",children:e.jsx("nav",{className:"p-4 space-y-1",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>D("perfilUsuario"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="perfilUsuario"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:"Perfil do Usurio"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>D("perfilAdministracao"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="perfilAdministracao"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($s,{className:"w-4 h-4"}),e.jsx("span",{children:"Perfil da Administrao"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>D("notificacoes"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="notificacoes"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ro,{className:"w-4 h-4"}),e.jsx("span",{children:"Notificaes"})]}),e.jsx(Fs,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>D("aparencia"),className:`w-full flex items-center justify-between px-3 py-2 text-sm rounded-md transition-colors ${E==="aparencia"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($g,{className:"w-4 h-4"}),e.jsx("span",{children:"Aparncia"})]}),e.jsx(Fs,{className:"w-4 h-4"})]})]})})}),e.jsx("div",{className:"flex-1 p-8",children:e.jsx("div",{className:"max-w-4xl",children:K()})})]})]})}function $te({notification:t,isOpen:s,onClose:a,onMarkAsRead:r}){if(!t)return null;const n=l=>{switch(l){case"process":return"text-blue-600 bg-blue-50";case"signature":return"text-purple-600 bg-purple-50";case"warning":return"text-orange-600 bg-orange-50";case"success":return"text-green-600 bg-green-50";case"info":return"text-blue-600 bg-blue-50";case"system":return"text-gray-600 bg-gray-50";case"deadline":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},o=l=>{switch(l){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},i=()=>{t.isRead||r(t.id),a()};return e.jsx(Ke,{open:s,onOpenChange:a,children:e.jsxs(Ye,{className:"max-w-md",children:[e.jsx(Ze,{children:e.jsx(Xe,{className:"text-lg font-semibold",children:"Detalhes da Notificao"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${n(t.type)}`,children:t.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),!t.isRead&&e.jsx(oe,{variant:"default",className:"bg-blue-600 text-white text-xs",children:" Nova"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:t.timestamp}),e.jsxs(oe,{variant:"outline",className:o(t.priority),children:[t.priority==="high"?"Alta":t.priority==="medium"?"Mdia":"Baixa"," prioridade"]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:t.type==="process"?"Processo":t.type==="signature"?"Assinatura":t.type==="warning"?"Aviso":t.type==="success"?"Sucesso":t.type==="info"?"Informao":t.type==="system"?"Sistema":t.type==="deadline"?"Prazo":t.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:t.isRead?"text-green-600":"text-blue-600",children:t.isRead?"Lida":"No lida"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[!t.isRead&&e.jsxs(C,{onClick:i,variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Marcar como lida"]}),e.jsx(C,{onClick:a,variant:"outline",size:"sm",className:"flex-1",children:"Fechar"})]})]})]})})}const I2=[{id:"1",type:"mention",title:"Voc foi mencionado",description:"Yasmin Pissolati Mattos Bretz mencionou voc em um comentrio do processo PA-001/2024.",timestamp:"h 30 minutos",isRead:!1,link:"/processo/1#comentario-123",icon:e.jsx(Fl,{className:"w-4 h-4"}),priority:"medium"},{id:"2",type:"signature",title:"Assinatura solicitada",description:"DFD 010/2025 est aguardando sua assinatura h mais de 24 horas",timestamp:"h 2 horas",isRead:!1,link:"/processos/10",icon:e.jsx(ar,{className:"w-4 h-4"}),priority:"high"},{id:"3",type:"process",title:"Processo atualizado",description:"ETP 011/2025 foi movido para 'Em andamento' pelo usurio Lucas Moreira Brito",timestamp:"h 5 horas",isRead:!1,link:"/processos/11",icon:e.jsx($e,{className:"w-4 h-4"}),priority:"medium"},{id:"3",type:"deadline",title:"Prazo prximo",description:"TR 012/2025 vence em 2 dias. Ao necessria para evitar atraso",timestamp:"ontem",isRead:!0,link:"/processos/12",icon:e.jsx(Fe,{className:"w-4 h-4"}),priority:"high"},{id:"4",type:"success",title:"Processo concludo",description:"DFD 013/2025 foi finalizado com sucesso e arquivado no sistema",timestamp:"2 dias atrs",isRead:!0,link:"/processos/13",icon:e.jsx(Re,{className:"w-4 h-4"}),priority:"low"},{id:"5",type:"info",title:"Nova atribuio",description:"Voc foi designado para analisar ETP 014/2025 pelo gestor Maria Santos",timestamp:"3 dias atrs",isRead:!0,link:"/processos/14",icon:e.jsx(fn,{className:"w-4 h-4"}),priority:"medium"},{id:"6",type:"system",title:"Manuteno programada",description:"O sistema estar indisponvel das 02:00 s 04:00 para manuteno. Durante este perodo, algumas funcionalidades podem estar temporariamente indisponveis. Pedimos desculpas pelo inconveniente.",timestamp:"h 1 dia",isRead:!1,icon:e.jsx(xt,{className:"w-4 h-4"}),priority:"medium"},{id:"7",type:"warning",title:"Documento expirado",description:"O documento 'Anexo A - Especificaes' do processo ETP 015/2025 expirou",timestamp:"h 3 dias",isRead:!0,link:"/processos/15",icon:e.jsx(xt,{className:"w-4 h-4"}),priority:"high"},{id:"8",type:"process",title:"Comentrio adicionado",description:"Novo comentrio em ETP 016/2025: 'Necessrio ajuste na especificao tcnica'",timestamp:"h 4 dias",isRead:!0,link:"/processos/16",icon:e.jsx($e,{className:"w-4 h-4"}),priority:"low"},{id:"9",type:"info",title:"Atualizao do sistema",description:"Nova verso do sistema Fiscatus foi lanada com melhorias na interface e correes de bugs. As principais novidades incluem: melhor performance, interface mais intuitiva, e novas funcionalidades de relatrios.",timestamp:"h 5 dias",isRead:!0,icon:e.jsx(fn,{className:"w-4 h-4"}),priority:"medium"}],Vte=[{key:"todas",label:"Todas",icon:"",color:"bg-gray-100 hover:bg-gray-200 text-gray-700"},{key:"nao-lidas",label:"No lidas",icon:"",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"},{key:"lidas",label:"Lidas",icon:"",color:"bg-green-100 hover:bg-green-200 text-green-700"},{key:"mencoes",label:"Menes",icon:"@",color:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700"},{key:"processo",label:"Processo",icon:"",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"},{key:"assinatura",label:"Assinatura",icon:"",color:"bg-purple-100 hover:bg-purple-200 text-purple-700"},{key:"sistema",label:"Sistema",icon:"",color:"bg-gray-100 hover:bg-gray-200 text-gray-700"},{key:"prazo",label:"Prazo",icon:"",color:"bg-red-100 hover:bg-red-200 text-red-700"},{key:"aviso",label:"Aviso",icon:"",color:"bg-orange-100 hover:bg-orange-200 text-orange-700"},{key:"sucesso",label:"Sucesso",icon:"",color:"bg-green-100 hover:bg-green-200 text-green-700"},{key:"info",label:"Info",icon:"",color:"bg-blue-100 hover:bg-blue-200 text-blue-700"}];function Gte(){const[t,s]=m.useState(I2),[a,r]=m.useState(I2),[n,o]=m.useState(["todas"]),[i,l]=m.useState("");m.useState(!1);const[c,u]=m.useState(null),[d,h]=m.useState(!1),x=fs(),{toast:f}=Kt();m.useEffect(()=>{let w=t;if(n.includes("todas")||(w=w.filter(E=>n.some(D=>{switch(D){case"nao-lidas":return!E.isRead;case"lidas":return E.isRead;case"mencoes":return E.type==="mention";case"processo":return E.type==="process";case"assinatura":return E.type==="signature";case"sistema":return E.type==="system";case"prazo":return E.type==="deadline";case"aviso":return E.type==="warning";case"sucesso":return E.type==="success";case"info":return E.type==="info";default:return!1}}))),i.trim()){const E=i.toLowerCase();w=w.filter(D=>D.title.toLowerCase().includes(E)||D.description.toLowerCase().includes(E))}w.sort((E,D)=>!E.isRead&&D.isRead?-1:E.isRead&&!D.isRead?1:0),r(w)},[t,n,i]);const v=w=>{o(E=>{if(w==="todas")return["todas"];const D=E.filter(P=>P!=="todas");if(E.includes(w)){const P=D.filter(_=>_!==w);return P.length===0?["todas"]:P}else return[...D,w]})},p=()=>{o(["todas"]),l("")},y=w=>{s(E=>E.map(D=>D.id===w?{...D,isRead:!0}:D)),f({title:"Notificao marcada como lida",description:"A notificao foi atualizada com sucesso.",variant:"default"})},g=w=>{w.isRead||y(w.id),w.link?x(w.link):(u(w),h(!0))},b=w=>{switch(w){case"mention":return"text-indigo-600 bg-indigo-50 border-indigo-200";case"process":return"text-blue-600 bg-blue-50 border-blue-200";case"signature":return"text-purple-600 bg-purple-50 border-purple-200";case"warning":return"text-orange-600 bg-orange-50 border-orange-200";case"success":return"text-green-600 bg-green-50 border-green-200";case"info":return"text-blue-600 bg-blue-50 border-blue-200";case"system":return"text-gray-600 bg-gray-50 border-gray-200";case"deadline":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},j=w=>w,N=t.filter(w=>!w.isRead).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[e.jsx(Jr,{}),e.jsxs("div",{className:"pt-16 h-screen flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtros"}),(n.length>1||n.length===1&&!n.includes("todas"))&&e.jsxs(C,{variant:"ghost",size:"sm",onClick:p,className:"text-xs text-gray-500 hover:text-gray-700",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Limpar filtros"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto pb-2",children:Vte.map(w=>e.jsxs("button",{onClick:()=>v(w.key),className:`inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 border ${n.includes(w.key)?`${w.color} border-current shadow-sm`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-base",children:w.icon}),e.jsx("span",{children:w.label}),w.key==="nao-lidas"&&N>0&&e.jsx(oe,{variant:"default",className:"ml-1 bg-blue-600 text-white text-xs",children:N})]},w.key))})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto px-6 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(w=>e.jsx(Ve,{className:`transition-all duration-200 hover:shadow-lg cursor-pointer border-2 ${w.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 shadow-md"}`,onClick:()=>g(w),children:e.jsx(Be,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`p-3 rounded-xl border relative ${b(w.type)}`,children:[w.icon,!w.isRead&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx(bF,{className:"w-4 h-4 text-blue-600"})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg line-clamp-1",children:w.title}),!w.isRead&&e.jsx(oe,{variant:"default",className:"bg-blue-600 text-white text-xs px-2 py-1",children:"Nova"})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 leading-relaxed",children:w.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),j(w.timestamp)]}),e.jsxs(oe,{variant:"outline",className:`text-xs ${w.priority==="high"?"border-red-200 text-red-700 bg-red-50":w.priority==="medium"?"border-yellow-200 text-yellow-700 bg-yellow-50":"border-green-200 text-green-700 bg-green-50"}`,children:[w.priority==="high"?"Alta":w.priority==="medium"?"Mdia":"Baixa"," prioridade"]})]})]}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",onClick:E=>E.stopPropagation(),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:e.jsx(Zv,{className:"w-4 h-4"})})}),e.jsxs(eu,{align:"end",children:[!w.isRead&&e.jsxs(pr,{onClick:E=>{E.stopPropagation(),y(w.id)},children:[e.jsx(_l,{className:"w-4 h-4 mr-2"}),"Marcar como lida"]}),e.jsxs(pr,{onClick:E=>{E.stopPropagation(),u(w),h(!0)},children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Ver detalhes"]}),w.link&&e.jsxs(pr,{onClick:E=>{E.stopPropagation(),x(w.link)},children:[e.jsx(eb,{className:"w-4 h-4 mr-2"}),"Ir para processo"]})]})]})]})})]})})},w.id))}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Ve,{className:"text-center py-16 px-8 max-w-md",children:e.jsx(Be,{children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full",children:e.jsx(tF,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Nenhuma notificao encontrada"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i||n.some(w=>w!=="todas")?"Tente ajustar os filtros ou termos de busca para encontrar notificaes":"Voc no possui notificaes no momento. Novas notificaes aparecero aqui quando disponveis."}),(i||n.some(w=>w!=="todas"))&&e.jsx(C,{variant:"outline",className:"mt-4",onClick:p,children:"Limpar filtros"})]})]})})})})})})})]}),e.jsx($te,{notification:c,isOpen:d,onClose:()=>{h(!1),u(null)},onMarkAsRead:y})]})}function Bte({items:t,className:s}){const a=sr();return e.jsx("div",{className:be("relative w-full max-w-md mx-auto",s),children:e.jsx("div",{className:"flex items-center justify-center space-x-1 bg-background/60 backdrop-blur-xl border border-border/50 rounded-2xl p-1 shadow-lg",children:t.map((r,n)=>{const o=a.pathname===r.url,i=r.icon;return e.jsxs(dd,{to:r.url,className:"relative flex items-center justify-center w-16 h-12 rounded-xl transition-all duration-300 hover:scale-105",children:[e.jsxs(ms.div,{className:"flex flex-col items-center justify-center w-full h-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(i,{className:be("w-5 h-5 transition-colors duration-300",o?"text-primary":"text-muted-foreground")}),e.jsx("span",{className:be("text-xs mt-1 font-medium transition-colors duration-300",o?"text-primary":"text-muted-foreground"),children:r.name})]}),o&&e.jsx(ms.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 border border-primary/20 rounded-xl",initial:!1,transition:{type:"spring",stiffness:500,damping:30},children:e.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-t-full",children:[e.jsx("div",{className:"absolute w-12 h-6 bg-primary/20 rounded-full blur-md -top-2 -left-2"}),e.jsx("div",{className:"absolute w-8 h-6 bg-primary/20 rounded-full blur-md -top-1"}),e.jsx("div",{className:"absolute w-4 h-4 bg-primary/20 rounded-full blur-sm top-0 left-2"})]})})]},r.name)})})})}function O2({items:t,className:s,variant:a="default"}){const r=sr();return e.jsx("div",{className:be("relative w-full",s),children:e.jsx("div",{className:be("flex items-center justify-center gap-2 bg-background/60 backdrop-blur-xl border border-border/50 rounded-2xl p-2 shadow-lg",a==="compact"?"max-w-sm":"max-w-4xl"),children:t.map((n,o)=>{const i=r.pathname===n.url||n.url!=="/"&&r.pathname.startsWith(n.url),l=n.icon;return e.jsxs(dd,{to:n.url,className:be("relative flex items-center justify-center rounded-xl transition-all duration-300 hover:scale-105",a==="compact"?"w-12 h-10":"w-20 h-14"),children:[e.jsxs(ms.div,{className:"flex flex-col items-center justify-center w-full h-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(l,{className:be("transition-colors duration-300",a==="compact"?"w-4 h-4":"w-5 h-5",i?"text-primary":"text-muted-foreground")}),a==="default"&&e.jsx("span",{className:be("text-xs mt-1 font-medium transition-colors duration-300 text-center leading-tight",i?"text-primary":"text-muted-foreground"),children:n.name})]}),i&&e.jsx(ms.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 border border-primary/20 rounded-xl",initial:!1,transition:{type:"spring",stiffness:500,damping:30},children:e.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-t-full",children:[e.jsx("div",{className:"absolute w-12 h-6 bg-primary/20 rounded-full blur-md -top-2 -left-2"}),e.jsx("div",{className:"absolute w-8 h-6 bg-primary/20 rounded-full blur-md -top-1"}),e.jsx("div",{className:"absolute w-4 h-4 bg-primary/20 rounded-full blur-sm top-0 left-2"})]})})]},n.name)})})})}function Ute(){const t=[{name:"Planejamento da Contratao",url:"/planejamento-da-contratacao",icon:tb},{name:"Meus Processos",url:"/processos",icon:$e},{name:"Processos da Gerncia",url:"/processos-gerencia",icon:qt},{name:"Minhas Assinaturas",url:"/assinaturas",icon:Rt},{name:"Modelos de Fluxo",url:"/modelos-de-fluxo",icon:uF}];return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-slate-800",children:"Navegao Tubelight"}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Navegao moderna com efeito de luz e animaes suaves"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Verso Padro"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Bte,{items:t})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Verso Compacta"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(O2,{items:t,variant:"compact"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-700",children:"Verso Compacta com Texto"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(O2,{items:t,variant:"default"})})]})]})]})})}function Hte(){return e.jsx(Ute,{})}function wi(t){return t.trim().toLowerCase()}function z2(t,s,a){var i;if(a===null)return!1;if(a===s)return!0;let r=a;const n=new Map(t.map(l=>[l.id,l])),o=new Set;for(;r;){if(r===s||o.has(r))return!0;o.add(r),r=((i=n.get(r))==null?void 0:i.unidadePaiId)??null}return!1}function Ci(t){const s=t.responsavelUserId;return!s||t.membros.some(r=>r.userId===s)?t:{...t,membros:[{userId:s,funcao:"chefe"},...t.membros]}}const Wte=[{id:"u1",nome:"Ana Clara",email:"ana.clara@hospital.gov.br",ativo:!0},{id:"u2",nome:"Bruno Lima",email:"bruno.lima@hospital.gov.br",ativo:!0},{id:"u3",nome:"Carla Souza",email:"carla.souza@hospital.gov.br",ativo:!0},{id:"u4",nome:"Diego Martins",email:"diego.martins@hospital.gov.br",ativo:!0},{id:"u5",nome:"Eduarda Nunes",email:"eduarda.nunes@hospital.gov.br",ativo:!0},{id:"u6",nome:"Felipe Araujo",email:"felipe.araujo@hospital.gov.br",ativo:!0},{id:"u7",nome:"Gabriela Rocha",email:"gabriela.rocha@hospital.gov.br",ativo:!0},{id:"u8",nome:"Henrique Alves",email:"henrique.alves@hospital.gov.br",ativo:!0},{id:"u9",nome:"Isabela Castro",email:"isabela.castro@hospital.gov.br",ativo:!0},{id:"u10",nome:"Joo Pedro",email:"joao.pedro@hospital.gov.br",ativo:!0}],Hs=()=>Date.now(),qte=()=>[{id:"g1",nome:"Gerncia de Solues e Projetos",sigla:"GSP",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),descricao:"Responsvel por solues e projetos",competencias:["projetos","solues"],responsavelUserId:"u1",email:"gsp@hospital.gov.br"},{id:"g2",nome:"Gerncia de Licitaes",sigla:"GLC",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u2"},{id:"g3",nome:"Gerncia Financeira",sigla:"GFC",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u3"},{id:"g4",nome:"Gerncia de Recursos Humanos",sigla:"GRH",status:"ativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u4"},{id:"g5",nome:"Gerncia de Urgncia e Emergncia",sigla:"GUE",status:"inativa",unidadePaiId:null,membros:[],createdAt:Hs(),updatedAt:Hs(),responsavelUserId:"u5"}].map(Ci),zs=T6()(R6((t,s)=>({gerencias:qte(),usuarios:Wte,createGerencia:a=>{const r=s();if(!a.nome||!a.nome.trim())throw new Error("Nome  obrigatrio");const n=wi(a.nome);if(r.gerencias.some(c=>wi(c.nome)===n))throw new Error("Nome de gerncia deve ser nico");const o=`g_${Math.random().toString(36).slice(2,9)}`,i=Hs(),l=Ci({...a,id:o,createdAt:i,updatedAt:i});return t({gerencias:[...r.gerencias,l]}),o},updateGerencia:(a,r)=>{t(n=>{const o=n.gerencias.findIndex(u=>u.id===a);if(o===-1)return n;const i=n.gerencias[o];let l={...i,...r,updatedAt:Hs()};if(r!=null&&r.nome&&wi(r.nome)!==wi(i.nome)&&n.gerencias.some(u=>u.id!==a&&wi(u.nome)===wi(r.nome)))throw new Error("Nome de gerncia deve ser nico");if((r==null?void 0:r.unidadePaiId)!==void 0&&z2(n.gerencias,a,r.unidadePaiId??null))throw new Error("Movimento invlido: criaria ciclo");l=Ci(l);const c=[...n.gerencias];return c[o]=l,{...n,gerencias:c}})},deleteGerencia:a=>{t(r=>{if(r.gerencias.some(o=>o.unidadePaiId===a))throw new Error("No  possvel excluir: possui subunidades");return{...r,gerencias:r.gerencias.filter(o=>o.id!==a)}})},moveGerencia:(a,r)=>{t(n=>{if(z2(n.gerencias,a,r))throw new Error("Movimento invlido: criaria ciclo");const o=n.gerencias.map(i=>i.id===a?{...i,unidadePaiId:r,updatedAt:Hs()}:i);return{...n,gerencias:o}})},addMembro:(a,r,n)=>{t(o=>{const i=o.gerencias.findIndex(h=>h.id===a);if(i===-1)return o;const l=o.gerencias[i];if(l.membros.some(h=>h.userId===r))return o;const c=[...l.membros,{userId:r,funcao:n}],u=Ci({...l,membros:c,updatedAt:Hs()}),d=[...o.gerencias];return d[i]=u,{...o,gerencias:d}})},updateMembro:(a,r,n)=>{t(o=>{const i=o.gerencias.findIndex(h=>h.id===a);if(i===-1)return o;const l=o.gerencias[i],c=l.membros.map(h=>h.userId===r?{...h,...n}:h),u=Ci({...l,membros:c,updatedAt:Hs()}),d=[...o.gerencias];return d[i]=u,{...o,gerencias:d}})},removeMembro:(a,r)=>{t(n=>{const o=n.gerencias.findIndex(h=>h.id===a);if(o===-1)return n;const i=n.gerencias[o];let l=i.membros.filter(h=>h.userId!==r);const c=i.responsavelUserId===r?null:i.responsavelUserId??null,u=Ci({...i,membros:l,responsavelUserId:c,updatedAt:Hs()}),d=[...n.gerencias];return d[o]=u,{...n,gerencias:d}})},getGerencia:a=>s().gerencias.find(r=>r.id===a),findChildren:a=>s().gerencias.filter(r=>(r.unidadePaiId??null)===a).sort((r,n)=>r.nome.localeCompare(n.nome))}),{name:"admin-store",storage:dy(()=>localStorage),version:1,partialize:t=>({gerencias:t.gerencias,usuarios:t.usuarios})}));function Yte({selectedId:t,onSelect:s,onCreateChild:a,onEdit:r,onDelete:n}){const o=zs(y=>y.gerencias),i=zs(y=>y.findChildren);zs(y=>y.moveGerencia);const[l,c]=m.useState(""),[u,d]=m.useState("todas");m.useState({});const h=m.useMemo(()=>i(null),[i,o]),x=y=>u==="todas"?!0:u==="ativas"?y.status==="ativa":y.status==="inativa",f=y=>{var b,j;if(!l.trim())return!0;const g=l.toLowerCase();return y.nome.toLowerCase().includes(g)||(((b=y.sigla)==null?void 0:b.toLowerCase().includes(g))??!1)||(((j=y.descricao)==null?void 0:j.toLowerCase().includes(g))??!1)},v=y=>x(y)&&f(y),p=(y,g=0)=>{const j=t===y.id,N=[],w=v(y),E=N.length>0;return!w&&!E?null:e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 py-1 px-2 rounded cursor-pointer ${j?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>s(y.id),"aria-selected":j,role:"treeitem","aria-expanded":void 0,style:{paddingLeft:8+g*16},children:[e.jsx("span",{className:"w-4 h-4"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"truncate font-medium",children:y.nome}),y.sigla&&e.jsx(oe,{variant:"secondary",className:"text-[10px]",children:y.sigla}),e.jsx(oe,{variant:y.status==="ativa"?"outline":"secondary",className:`text-[10px] ${y.status==="inativa"?"opacity-60":""}`,children:y.status==="ativa"?"Ativa":"Inativa"})]})}),e.jsxs(Ox,{children:[e.jsx(zx,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"icon",onClick:D=>D.stopPropagation(),"aria-label":"Aes",children:e.jsx(Zv,{className:"w-4 h-4"})})}),e.jsxs(eu,{align:"end",children:[e.jsx(pr,{onClick:()=>r==null?void 0:r(y.id),children:"Editar"}),e.jsx(pr,{onClick:()=>n==null?void 0:n(y.id),children:"Excluir"})]})]})]}),!1]},y.id)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(De,{placeholder:"Buscar gerncia",value:l,onChange:y=>c(y.target.value)}),e.jsxs(dt,{value:u,onValueChange:y=>d(y),children:[e.jsx(it,{className:"w-40",children:e.jsx(ut,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todas",children:"Todas"}),e.jsx(Ce,{value:"ativas",children:"Ativas"}),e.jsx(Ce,{value:"inativas",children:"Inativas"})]})]}),e.jsxs(C,{variant:"outline",onClick:()=>a==null?void 0:a(null),children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"})," Nova Gerncia"]})]}),e.jsxs("div",{role:"tree","aria-label":"Lista de Gerncias",className:"max-h-[60vh] overflow-auto",children:[h.map(y=>p(y)),h.length===0&&e.jsx("div",{className:"text-sm text-muted-foreground py-4 px-2",children:"Nenhuma gerncia cadastrada."})]})]})}function Kte({gerenciaId:t,onEdit:s,onAddMember:a}){var u;const r=zs(d=>d.getGerencia),n=zs(d=>d.findChildren),o=zs(d=>d.usuarios),i=r(t);if(!i)return e.jsx(Ve,{children:e.jsxs(_t,{children:[e.jsx(Lt,{children:"Gerncia no encontrada"}),e.jsx(Ra,{children:"Verifique a seleo  esquerda"})]})});const l=Xte(t,r);n(t);const c=i.responsavelUserId?o.find(d=>d.id===i.responsavelUserId):void 0;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ve,{children:[e.jsxs(_t,{className:"flex flex-row items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(Lt,{className:"flex items-center gap-2",children:[i.nome,i.sigla&&e.jsx(oe,{variant:"secondary",children:i.sigla})]}),e.jsx(Ra,{children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(oe,{variant:i.status==="ativa"?"outline":"secondary",className:i.status==="inativa"?"opacity-60":"",children:i.status==="ativa"?"Ativa":"Inativa"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Atualizada em ",new Date(i.updatedAt).toLocaleDateString("pt-BR")]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"outline",onClick:()=>s==null?void 0:s(i.id),children:[e.jsx(bl,{className:"w-4 h-4 mr-2"})," Editar"]}),e.jsxs(C,{variant:"outline",disabled:!0,children:[e.jsx(It,{className:"w-4 h-4 mr-2"})," Excluir"]})]})]}),e.jsxs(Be,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx($p,{label:"Responsvel",value:c?`${c.nome} (${c.email})`:""}),e.jsx($p,{label:"E-mail",value:i.email||""}),e.jsx($p,{label:"Telefone",value:i.telefone||""}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Competncias"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:(u=i.competencias)!=null&&u.length?i.competencias.map(d=>e.jsx(oe,{variant:"secondary",children:d},d)):e.jsx("span",{className:"text-sm text-muted-foreground",children:""})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Unidade Pai"}),e.jsx("div",{className:"text-sm",children:l.length===0?"Raiz":l.map(d=>d.nome).join("  ")})]}),i.descricao&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Descrio"}),e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:i.descricao})]})]})]}),e.jsxs(Ve,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Membros"}),e.jsx(Ra,{children:"Usurios associados  gerncia"})]}),e.jsxs(C,{onClick:()=>a==null?void 0:a(i.id),children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"})," Adicionar Membro"]})]}),e.jsx(Be,{children:i.membros.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:'Nenhum membro. Clique em "Adicionar Membro".'}):e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(at,{children:"Usurio"}),e.jsx(at,{children:"E-mail"}),e.jsx(at,{children:"Funo"}),e.jsx(at,{children:"Desde"}),e.jsx(at,{children:"At"})]})}),e.jsx(ho,{children:i.membros.map(d=>{const h=o.find(x=>x.id===d.userId);return e.jsxs(Ys,{children:[e.jsx(st,{children:(h==null?void 0:h.nome)||d.userId}),e.jsx(st,{children:(h==null?void 0:h.email)||""}),e.jsx(st,{className:"capitalize",children:d.funcao}),e.jsx(st,{children:d.desde?new Date(d.desde).toLocaleDateString("pt-BR"):""}),e.jsx(st,{children:d.ate?new Date(d.ate).toLocaleDateString("pt-BR"):""})]},d.userId)})})]})})]})]})}function Xte(t,s){const a=[];let r=s(t);for(;r&&r.unidadePaiId;){const n=s(r.unidadePaiId);if(!n)break;a.unshift(n),r=n}return a}function $p({label:t,value:s}){return e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("div",{className:"text-sm mt-1 break-words",children:s})]})}function Jte({open:t,onOpenChange:s,gerenciaId:a,defaultParentId:r=null}){const n=!!a,o=zs(b=>b.getGerencia),i=zs(b=>b.createGerencia),l=zs(b=>b.updateGerencia);zs(b=>b.gerencias);const c=zs(b=>b.usuarios),u=a?o(a):void 0,[d,h]=m.useState({nome:(u==null?void 0:u.nome)||"",sigla:(u==null?void 0:u.sigla)||"",status:(u==null?void 0:u.status)||"ativa",unidadePaiId:null,responsavelUserId:(u==null?void 0:u.responsavelUserId)??null,email:(u==null?void 0:u.email)||"",telefone:(u==null?void 0:u.telefone)||"",localizacao:(u==null?void 0:u.localizacao)||"",competencias:(u==null?void 0:u.competencias)||[],slaPadraoDias:(u==null?void 0:u.slaPadraoDias)||void 0,descricao:(u==null?void 0:u.descricao)||""});Z.useEffect(()=>{n&&u?h({nome:u.nome,sigla:u.sigla,status:u.status,unidadePaiId:null,responsavelUserId:u.responsavelUserId??null,email:u.email,telefone:u.telefone,localizacao:u.localizacao,competencias:u.competencias||[],slaPadraoDias:u.slaPadraoDias,descricao:u.descricao}):n||h(b=>({...b,unidadePaiId:null}))},[a,n,t]),m.useMemo(()=>[],[]);const x=()=>{try{if(!d.nome||!d.nome.trim()){Ct({title:"Erro",description:"Nome  obrigatrio",variant:"destructive"});return}if(d.sigla&&d.sigla.length>8){Ct({title:"Erro",description:"Sigla deve ter no mximo 8 caracteres",variant:"destructive"});return}if(n&&a)l(a,{...d,status:d.status||"ativa"}),Ct({title:"Sucesso",description:"Gerncia atualizada"});else{const b=i({nome:d.nome,sigla:d.sigla,status:d.status||"ativa",unidadePaiId:null,responsavelUserId:d.responsavelUserId??null,email:d.email,telefone:d.telefone,localizacao:d.localizacao,competencias:d.competencias||[],slaPadraoDias:d.slaPadraoDias,descricao:d.descricao,membros:[],createdAt:0,updatedAt:0});Ct({title:"Sucesso",description:"Gerncia criada"})}s(!1)}catch(b){Ct({title:"Erro",description:(b==null?void 0:b.message)||"Falha ao salvar",variant:"destructive"})}},f=()=>s(!1),v=b=>{b.trim()&&h(j=>({...j,competencias:Array.from(new Set([...j.competencias||[],b.trim()]))}))},p=b=>h(j=>({...j,competencias:(j.competencias||[]).filter(N=>N!==b)})),[y,g]=m.useState("");return e.jsx(Ob,{open:t,onOpenChange:s,children:e.jsxs(Rx,{side:"right",className:"w-full sm:max-w-xl",children:[e.jsxs(Mx,{children:[e.jsx(Ix,{children:n?"Editar Gerncia":"Nova Gerncia"}),e.jsx(zb,{children:"Preencha as informaes da gerncia"})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Nome *"}),e.jsx(De,{value:d.nome||"",onChange:b=>h({...d,nome:b.target.value}),placeholder:"Ex: Gerncia de Projetos"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Sigla"}),e.jsx(De,{value:d.sigla||"",maxLength:8,onChange:b=>h({...d,sigla:b.target.value}),placeholder:"GSP"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Status"}),e.jsxs(dt,{value:d.status||"ativa",onValueChange:b=>h({...d,status:b}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"ativa",children:"Ativa"}),e.jsx(Ce,{value:"inativa",children:"Inativa"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"Responsvel"}),e.jsxs(dt,{value:d.responsavelUserId??"",onValueChange:b=>h({...d,responsavelUserId:b||null}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Nenhum"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"",children:"Nenhum"}),c.map(b=>e.jsxs(Ce,{value:b.id,children:[b.nome,"  ",b.email]},b.id))]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"E-mail"}),e.jsx(De,{value:d.email||"",onChange:b=>h({...d,email:b.target.value}),placeholder:"gsp@org.gov.br"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Telefone"}),e.jsx(De,{value:d.telefone||"",onChange:b=>h({...d,telefone:b.target.value}),placeholder:"(61) 99999-9999"})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Localizao"}),e.jsx(De,{value:d.localizacao||"",onChange:b=>h({...d,localizacao:b.target.value}),placeholder:"Prdio A, 3 andar"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Competncias"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(De,{value:y,onChange:b=>g(b.target.value),placeholder:"Digite e Enter",onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),v(y),g(""))}}),e.jsx(C,{type:"button",variant:"outline",onClick:()=>{v(y),g("")},children:"Adicionar"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(d.competencias||[]).map(b=>e.jsxs(oe,{variant:"secondary",className:"cursor-pointer",onClick:()=>p(b),children:[b," "]},b))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(B,{children:"SLA padro (dias)"}),e.jsx(De,{type:"number",min:0,value:d.slaPadraoDias??"",onChange:b=>h({...d,slaPadraoDias:b.target.value===""?void 0:Number(b.target.value)})})]})}),e.jsxs("div",{children:[e.jsx(B,{children:"Descrio"}),e.jsx(ft,{value:d.descricao||"",onChange:b=>h({...d,descricao:b.target.value}),rows:4})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(C,{variant:"outline",onClick:f,children:"Cancelar"}),e.jsx(C,{onClick:x,children:"Salvar"})]})]})]})})}function Qte({open:t,onOpenChange:s,gerenciaId:a}){const r=zs(j=>j.usuarios),n=zs(j=>j.getGerencia),o=zs(j=>j.addMembro),i=zs(j=>j.updateMembro),l=n(a),[c,u]=m.useState(""),[d,h]=m.useState("membro"),[x,f]=m.useState(""),[v,p]=m.useState("");Z.useEffect(()=>{t||(u(""),h("membro"),f(""),p(""))},[t]);const y=new Set(((l==null?void 0:l.membros)||[]).map(j=>j.userId)),g=m.useMemo(()=>r.filter(j=>!y.has(j.id)),[r,y]),b=()=>{try{if(!c){Ct({title:"Erro",description:"Selecione um usurio",variant:"destructive"});return}if(!l)return;o(l.id,c,d),(x||v)&&i(l.id,c,{desde:x||void 0,ate:v||void 0}),Ct({title:"Sucesso",description:"Membro adicionado"}),s(!1)}catch(j){Ct({title:"Erro",description:(j==null?void 0:j.message)||"Falha ao salvar",variant:"destructive"})}};return e.jsx(Ke,{open:t,onOpenChange:s,children:e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Adicionar Membro"}),e.jsx(tt,{children:"Selecione o usurio, funo e datas"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Usurio"}),e.jsxs(dt,{value:c,onValueChange:u,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione um usurio"})}),e.jsx(lt,{children:g.map(j=>e.jsxs(Ce,{value:j.id,children:[j.nome,"  ",j.email]},j.id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Funo"}),e.jsxs(dt,{value:d,onValueChange:j=>h(j),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"chefe",children:"Chefe"}),e.jsx(Ce,{value:"substituto",children:"Substituto"}),e.jsx(Ce,{value:"membro",children:"Membro"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Desde"}),e.jsx(De,{type:"date",value:x,onChange:j=>f(j.target.value)})]}),e.jsxs("div",{children:[e.jsx(B,{children:"At"}),e.jsx(De,{type:"date",value:v,onChange:j=>p(j.target.value)})]})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),e.jsx(C,{onClick:b,children:"Salvar"})]})]})})}function Zte(){const t=zs(x=>x.gerencias),s=zs(x=>x.usuarios),[a,r]=Z.useState(null),[n,o]=Z.useState(!1),[i,l]=Z.useState(null),[c,u]=Z.useState(null),[d,h]=Z.useState(!1);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gerncias"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usurios, roles e convites da organizao"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(C,{onClick:()=>{l(null),u(null),o(!0)},children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"})," Nova Gerncia"]})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("div",{className:"col-span-12 lg:col-span-4",children:e.jsxs(Ve,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Estrutura de Gerncias"}),e.jsxs(Ra,{children:[t.length," unidades  ",s.length," usurios"]})]}),e.jsx(Be,{children:e.jsx(Yte,{selectedId:a,onSelect:r,onCreateChild:x=>{l(null),u(x??null),o(!0)},onEdit:x=>{l(x),u(null),o(!0)}})})]})}),e.jsx("div",{className:"col-span-12 lg:col-span-8",children:e.jsxs(Ve,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Detalhes da Gerncia"}),e.jsx(Ra,{children:a?"Gerncia selecionada":"Selecione uma gerncia  esquerda ou crie uma nova"})]}),e.jsx(Be,{children:a?e.jsx(Kte,{gerenciaId:a,onEdit:x=>{l(x),o(!0)},onAddMember:()=>h(!0)}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma gerncia  esquerda ou crie uma nova"})})]})})]}),e.jsx(Jte,{open:n,onOpenChange:o,gerenciaId:i,defaultParentId:c}),a&&e.jsx(Qte,{open:d,onOpenChange:h,gerenciaId:a})]})}const ese=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{_id:"2",token:"inv_xyz789uvw012",role:"4",email:void 0,used:!0,createdBy:"1",acceptedBy:"5",createdAt:new Date(Date.now()-7*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()}];function tse(){var A;const t=fs(),{user:s}=kt(),{gerencias:a}=Hj(),[r,n]=m.useState(jd),[o,i]=m.useState(gb),[l,c]=m.useState(ese),[u,d]=m.useState("users"),[h,x]=m.useState(""),[f,v]=m.useState("todos"),[p,y]=m.useState("todas"),[g,b]=m.useState(!1),[j,N]=m.useState(!1),[w,E]=m.useState(!1),[D,P]=m.useState(!1),[_,M]=m.useState(null),[k,$]=m.useState(null),[H,Y]=m.useState({name:"",permissions:[]}),[K,z]=m.useState({name:"",permissions:[]}),[O,S]=m.useState({role:"",email:""}),[L,U]=m.useState({nome:"",email:"",cargo:"",gerencia:"",role:"",isActive:!0}),J=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(R=>R.isOrgAdmin)),re=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(R=>R.isOrgAdmin)),le=(s==null?void 0:s.isPlatformAdmin)||(s==null?void 0:s.orgs.some(R=>R.isOrgAdmin));if(!J&&!re&&!le)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Voc no tem permisso para acessar a pgina de administrao."})]})});const Ne=()=>{if(!H.name.trim()){Ct({title:"Erro",description:"Nome da role  obrigatrio",variant:"destructive"});return}const R={_id:Date.now().toString(),name:H.name,permissions:H.permissions,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i([...o,R]),Y({name:"",permissions:[]}),b(!1),Ct({title:"Sucesso",description:"Role criada com sucesso"})},ke=R=>{if(o.length<=1){Ct({title:"Erro",description:"No  possvel excluir a ltima role",variant:"destructive"});return}i(o.filter(q=>q._id!==R)),Ct({title:"Sucesso",description:"Role excluda com sucesso"})},he=R=>{$(R),z({name:R.name,permissions:[...R.permissions]}),P(!0)},ae=()=>{if(k){if(!K.name.trim()){Ct({title:"Erro",description:"Nome da role  obrigatrio",variant:"destructive"});return}if(K.permissions.length===0){Ct({title:"Erro",description:"Selecione pelo menos uma permisso",variant:"destructive"});return}i(o.map(R=>R._id===k._id?{...R,name:K.name,permissions:K.permissions,updatedAt:new Date().toISOString()}:R)),P(!1),$(null),Ct({title:"Sucesso",description:"Role atualizada com sucesso"})}},ve=()=>{if(!O.role){Ct({title:"Erro",description:"Selecione uma role para o convite",variant:"destructive"});return}const R={_id:Date.now().toString(),token:`inv_${Math.random().toString(36).substr(2,12)}`,role:O.role,email:O.email||void 0,used:!1,createdBy:(s==null?void 0:s._id)||"",acceptedBy:void 0,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};c([...l,R]),S({role:"",email:""}),N(!1),Ct({title:"Sucesso",description:"Convite criado com sucesso"})},xe=R=>{const q=`${window.location.origin}/invite/${R}`;navigator.clipboard.writeText(q),Ct({title:"Sucesso",description:"Link do convite copiado para a rea de transferncia"})},ne=R=>{const q=l.find(W=>W._id===R);if(q){if(q.used){Ct({title:"Erro",description:"No  possvel excluir um convite que j foi aceito",variant:"destructive"});return}window.confirm(`Tem certeza que deseja excluir o convite ${q.token}?`)&&(c(l.filter(W=>W._id!==R)),Ct({title:"Sucesso",description:"Convite excludo com sucesso"}))}},Ae=R=>{n(r.map(q=>q._id===R?{...q,isActive:!q.isActive}:q)),Ct({title:"Sucesso",description:"Status do usurio atualizado"})},je=R=>{var q;M(R),U({nome:R.nome||"",email:R.email,cargo:R.cargo||"",gerencia:R.gerencia||"",role:((q=R.orgs[0])==null?void 0:q.role)||"",isActive:R.isActive}),E(!0)},Ue=()=>{if(_){if(!L.nome.trim()){Ct({title:"Erro",description:"Nome  obrigatrio",variant:"destructive"});return}if(!L.email.trim()){Ct({title:"Erro",description:"Email  obrigatrio",variant:"destructive"});return}if(!L.gerencia){Ct({title:"Erro",description:"Gerncia  obrigatria",variant:"destructive"});return}if(!L.role){Ct({title:"Erro",description:"Role  obrigatria",variant:"destructive"});return}n(r.map(R=>R._id===_._id?{...R,nome:L.nome,email:L.email,cargo:L.cargo,gerencia:L.gerencia,isActive:L.isActive,orgs:[{...R.orgs[0],role:L.role}]}:R)),E(!1),M(null),Ct({title:"Sucesso",description:"Usurio atualizado com sucesso"})}},de=["platform.admin","org.admin","users.manage","roles.manage","invites.manage","invites.create","organizations.manage","processes.manage","processes.create","processes.edit","processes.view","reports.view"],Te=R=>{var q;return((q=o.find(W=>W._id===R))==null?void 0:q.name)||"Role no encontrada"},Pe=R=>{var q;return((q=r.find(W=>W._id===R))==null?void 0:q.nome)||"Usurio no encontrado"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>t(-1),className:"flex items-center gap-2",children:[e.jsx(ix,{className:"h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Administrao"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usurios, roles e convites da organizao"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(oe,{variant:s!=null&&s.isPlatformAdmin?"default":"secondary",children:s!=null&&s.isPlatformAdmin?"Admin da Plataforma":"Admin da Organizao"})})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsxs(Va,{value:u,onValueChange:d,className:"space-y-4",children:[e.jsxs(Sa,{children:[e.jsxs(Vt,{value:"users",className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-4 w-4"}),"Usurios"]}),e.jsxs(Vt,{value:"gerencias",className:"flex items-center gap-2",children:[e.jsx(L4,{className:"h-4 w-4"}),"Gerncias"]}),e.jsxs(Vt,{value:"invites",className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4"}),"Convites"]}),e.jsxs(Vt,{value:"roles",className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-4 w-4"}),"Roles"]})]}),e.jsx(Gt,{value:"users",className:"space-y-4",children:e.jsxs(Ve,{children:[e.jsxs(_t,{children:[e.jsx(Lt,{children:"Usurios da Organizao"}),e.jsx(Ra,{children:"Gerencie os usurios e suas permisses"})]}),e.jsxs(Be,{children:[e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx(De,{placeholder:"Buscar por nome, email ou gerncia",value:h,onChange:R=>x(R.target.value)}),e.jsxs(dt,{value:f,onValueChange:R=>v(R),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todos",children:"Todos"}),e.jsx(Ce,{value:"ativos",children:"Ativos"}),e.jsx(Ce,{value:"inativos",children:"Inativos"})]})]}),e.jsxs(dt,{value:p,onValueChange:y,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Gerncia"})}),e.jsxs(lt,{children:[e.jsx(Ce,{value:"todas",children:"Todas as Gerncias"}),Array.from(new Set(r.map(R=>R.gerencia).filter(Boolean))).map(R=>e.jsx(Ce,{value:R,children:R},R))]})]})]}),(()=>{const R=h.trim().toLowerCase(),q=ue=>!R||(ue.nome||"").toLowerCase().includes(R)||ue.email.toLowerCase().includes(R)||(ue.gerencia||"").toLowerCase().includes(R),W=ue=>f==="todos"||f==="ativos"&&ue.isActive||f==="inativos"&&!ue.isActive,I=ue=>p==="todas"||(ue.gerencia||"")===p,ee=r.filter(ue=>q(ue)&&W(ue)&&I(ue));return e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(at,{children:"Nome"}),e.jsx(at,{children:"Email"}),e.jsx(at,{children:"Gerncia"}),e.jsx(at,{children:"Role"}),e.jsx(at,{children:"Status"}),e.jsx(at,{children:"Aes"})]})}),e.jsxs(ho,{children:[ee.map(ue=>{var G;return e.jsxs(Ys,{children:[e.jsx(st,{className:"font-medium",children:ue.nome||"Nome no informado"}),e.jsx(st,{children:ue.email}),e.jsx(st,{children:ue.gerencia||"N/A"}),e.jsx(st,{children:e.jsx(oe,{variant:"outline",children:Te((G=ue.orgs[0])==null?void 0:G.role)})}),e.jsx(st,{children:e.jsx(oe,{variant:ue.isActive?"default":"destructive",children:ue.isActive?"Ativo":"Inativo"})}),e.jsx(st,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>je(ue),children:e.jsx(bl,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>Ae(ue._id),children:ue.isActive?e.jsx(Ki,{className:"h-4 w-4"}):e.jsx(Qe,{className:"h-4 w-4"})})]})})]},ue._id)}),ee.length===0&&e.jsx(Ys,{children:e.jsx(st,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Nenhum usurio encontrado."})})]})]})})()]})]})}),e.jsx(Gt,{value:"roles",className:"space-y-4",children:e.jsxs(Ve,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Roles e Permisses"}),e.jsx(Ra,{children:"Gerencie as roles e suas permisses"})]}),e.jsxs(Ke,{open:g,onOpenChange:b,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Nova Role"]})}),e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Criar Nova Role"}),e.jsx(tt,{children:"Crie uma nova role com permisses especficas"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"roleName",children:"Nome da Role"}),e.jsx(De,{id:"roleName",value:H.name,onChange:R=>Y({...H,name:R.target.value}),placeholder:"Ex: Gerente de Projetos"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Permisses"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:de.map(R=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:R,checked:H.permissions.includes(R),onCheckedChange:q=>{Y(q?{...H,permissions:[...H.permissions,R]}:{...H,permissions:H.permissions.filter(W=>W!==R)})}}),e.jsx(B,{htmlFor:R,className:"text-sm",children:R})]},R))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ne,children:"Criar Role"})]})]})]})]}),e.jsx(Be,{children:e.jsx("div",{className:"space-y-4",children:o.map(R=>e.jsxs(Ve,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{className:"text-lg",children:R.name}),e.jsxs(Ra,{children:[R.permissions.length," permisses"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>he(R),title:"Editar role",children:e.jsx(bl,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>ke(R._id),disabled:o.length<=1,title:o.length<=1?"No  possvel excluir a ltima role":"Excluir role",children:e.jsx(It,{className:"h-4 w-4"})})]})]}),e.jsx(Be,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:R.permissions.map(q=>e.jsx(oe,{variant:"secondary",children:q},q))})})]},R._id))})})]})}),e.jsx(Gt,{value:"invites",className:"space-y-4",children:e.jsxs(Ve,{children:[e.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Lt,{children:"Convites"}),e.jsx(Ra,{children:"Gerencie os convites para novos usurios"})]}),e.jsxs(Ke,{open:j,onOpenChange:N,children:[e.jsx(gh,{asChild:!0,children:e.jsxs(C,{children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Novo Convite"]})}),e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Criar Novo Convite"}),e.jsx(tt,{children:"Crie um convite por link para um novo usurio"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"inviteRole",children:"Role"}),e.jsxs(dt,{value:O.role,onValueChange:R=>S({...O,role:R}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione uma role"})}),e.jsx(lt,{children:o.map(R=>e.jsx(Ce,{value:R._id,children:R.name},R._id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"inviteEmail",children:"Email (Opcional)"}),e.jsx(De,{id:"inviteEmail",type:"email",value:O.email,onChange:R=>S({...O,email:R.target.value}),placeholder:"usuario@exemplo.com"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Se no informado, o convite ser pblico"})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(C,{onClick:ve,children:"Criar Convite"})]})]})]})]}),e.jsx(Be,{children:e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsxs(Ys,{children:[e.jsx(at,{children:"Token"}),e.jsx(at,{children:"Role"}),e.jsx(at,{children:"Email"}),e.jsx(at,{children:"Status"}),e.jsx(at,{children:"Criado por"}),e.jsx(at,{children:"Data de Criao"}),e.jsx(at,{children:"Expira em"}),e.jsx(at,{children:"Aes"})]})}),e.jsx(ho,{children:l.map(R=>{var q,W;return e.jsxs(Ys,{children:[e.jsx(st,{className:"font-mono text-sm",children:R.token}),e.jsx(st,{children:e.jsx(oe,{variant:"outline",children:Te(R.role)})}),e.jsx(st,{children:R.email||e.jsx(oe,{variant:"secondary",children:"Pblico"})}),e.jsx(st,{children:e.jsx(oe,{variant:R.used?"default":"secondary",children:R.used?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"Aceito"]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Pendente"]})})}),e.jsx(st,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-sm",children:Pe(R.createdBy)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(q=r.find(I=>I._id===R.createdBy))==null?void 0:q.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(W=r.find(I=>I._id===R.createdBy))==null?void 0:W.gerencia})]})}),e.jsxs(st,{children:[e.jsx("div",{className:"text-sm",children:new Date(R.createdAt).toLocaleDateString("pt-BR")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(R.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs(st,{children:[e.jsx("div",{className:"text-sm",children:new Date(R.expiresAt).toLocaleDateString("pt-BR")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(R.expiresAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx(st,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[!R.used&&e.jsx(C,{variant:"outline",size:"sm",onClick:()=>xe(R.token),title:"Copiar link do convite",children:e.jsx(sh,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>ne(R._id),disabled:R.used,title:R.used?"No  possvel excluir convite aceito":"Excluir convite",className:R.used?"opacity-50":"hover:bg-red-50 hover:border-red-200 hover:text-red-600",children:e.jsx(It,{className:"h-4 w-4"})})]})})]},R._id)})})]})})]})}),e.jsx(Gt,{value:"gerencias",className:"space-y-4",children:e.jsx(Zte,{})})]}),e.jsx(Ke,{open:D,onOpenChange:P,children:e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Editar Role"}),e.jsx(tt,{children:"Edite as informaes e permisses da role"})]}),k&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editRoleName",children:"Nome da Role"}),e.jsx(De,{id:"editRoleName",value:K.name,onChange:R=>z({...K,name:R.target.value}),placeholder:"Ex: Gerente de Projetos"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Permisses"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:de.map(R=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{id:`edit-${R}`,checked:K.permissions.includes(R),onCheckedChange:q=>{z(q?{...K,permissions:[...K.permissions,R]}:{...K,permissions:K.permissions.filter(W=>W!==R)})}}),e.jsx(B,{htmlFor:`edit-${R}`,className:"text-sm",children:R})]},R))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),e.jsx(C,{onClick:ae,children:"Salvar Alteraes"})]})]})}),e.jsx(Ke,{open:w,onOpenChange:E,children:e.jsxs(Ye,{className:"max-w-2xl",children:[e.jsxs(Ze,{children:[e.jsx(Xe,{children:"Editar Usurio"}),e.jsx(tt,{children:"Edite as informaes do usurio"})]}),_&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editNome",children:"Nome Completo *"}),e.jsx(De,{id:"editNome",value:L.nome,onChange:R=>U({...L,nome:R.target.value}),placeholder:"Nome completo do usurio"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editEmail",children:"Email *"}),e.jsx(De,{id:"editEmail",type:"email",value:L.email,onChange:R=>U({...L,email:R.target.value}),placeholder:"email@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editCargo",children:"Cargo"}),e.jsx(De,{id:"editCargo",value:L.cargo,onChange:R=>U({...L,cargo:R.target.value}),placeholder:"Cargo do usurio"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editGerencia",children:"Gerncia *"}),e.jsxs(dt,{value:L.gerencia,onValueChange:R=>U({...L,gerencia:R}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione uma gerncia"})}),e.jsx(lt,{children:a.map(R=>e.jsx(Ce,{value:R.nomeCompleto,children:R.nomeCompleto},R.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"editRole",children:"Role *"}),e.jsxs(dt,{value:L.role,onValueChange:R=>U({...L,role:R}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione uma role"})}),e.jsx(lt,{children:o.map(R=>e.jsx(Ce,{value:R._id,children:R.name},R._id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx($t,{id:"editIsActive",checked:L.isActive,onCheckedChange:R=>U({...L,isActive:!!R})}),e.jsx(B,{htmlFor:"editIsActive",className:"text-sm",children:"Usurio ativo"})]})]})]}),L.role&&e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsx(B,{className:"text-sm font-medium",children:"Permisses da Role:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(A=o.find(R=>R._id===L.role))==null?void 0:A.permissions.map(R=>e.jsx(oe,{variant:"secondary",className:"text-xs",children:R},R))})]})]}),e.jsxs(zt,{children:[e.jsx(C,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),e.jsx(C,{onClick:Ue,children:"Salvar Alteraes"})]})]})})]})]})}const sse=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{_id:"2",token:"inv_xyz789uvw012",role:"4",email:void 0,used:!0,createdBy:"1",acceptedBy:"5",createdAt:new Date(Date.now()-7*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()}];function ase(){const{token:t}=ax(),s=fs(),{acceptInvite:a}=kt(),[r,n]=m.useState(null),[o,i]=m.useState(null),[l,c]=m.useState(!0),[u,d]=m.useState(!1),[h,x]=m.useState({nome:"",email:"",cargo:"",gerencia:"",password:"",confirmPassword:""});m.useEffect(()=>{if(t){const p=sse.find(y=>y.token===t);if(p){n(p);const y=gb.find(g=>g._id===p.role);i(y||null)}c(!1)}},[t]);const f=async()=>{if(!(!r||!o)){if(!h.nome.trim()){Ct({title:"Erro",description:"Nome  obrigatrio",variant:"destructive"});return}if(!h.email.trim()){Ct({title:"Erro",description:"Email  obrigatrio",variant:"destructive"});return}if(r.email&&h.email!==r.email){Ct({title:"Erro",description:"Email deve corresponder ao convite",variant:"destructive"});return}if(!h.password.trim()){Ct({title:"Erro",description:"Senha  obrigatria",variant:"destructive"});return}if(h.password!==h.confirmPassword){Ct({title:"Erro",description:"Senhas no coincidem",variant:"destructive"});return}if(h.password.length<6){Ct({title:"Erro",description:"Senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}d(!0);try{if(!t)throw new Error("Token no encontrado");if(await a(t,{nome:h.nome,email:h.email,cargo:h.cargo,gerencia:h.gerencia,password:h.password}))Ct({title:"Sucesso",description:"Convite aceito com sucesso! Redirecionando para o sistema..."}),s("/");else throw new Error("Falha ao aceitar convite")}catch{Ct({title:"Erro",description:"Erro ao aceitar convite. Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return l?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Carregando convite..."})]})})}):r?r.used?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Este convite j foi utilizado."})]})}):new Date(r.expiresAt)<new Date?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs(la,{children:["Este convite expirou em ",new Date(r.expiresAt).toLocaleDateString("pt-BR"),"."]})]})}):e.jsx("div",{className:"container mx-auto p-6 max-w-2xl",children:e.jsxs(Ve,{children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx(Ut,{className:"h-6 w-6 text-primary"})}),e.jsx(Lt,{children:"Aceitar Convite"}),e.jsx(Ra,{children:"Complete seu cadastro para acessar a plataforma"})]}),e.jsxs(Be,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Role: "}),e.jsx(oe,{variant:"outline",children:o==null?void 0:o.name})]}),r.email&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email: "}),e.jsx("span",{className:"text-muted-foreground",children:r.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Expira em: "}),e.jsx("span",{className:"text-muted-foreground",children:new Date(r.expiresAt).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"nome",children:"Nome Completo *"}),e.jsx(De,{id:"nome",value:h.nome,onChange:p=>x({...h,nome:p.target.value}),placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"email",children:"Email *"}),e.jsx(De,{id:"email",type:"email",value:h.email,onChange:p=>x({...h,email:p.target.value}),placeholder:"seu@email.com",disabled:!!r.email}),r.email&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Email pr-definido no convite"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"cargo",children:"Cargo"}),e.jsx(De,{id:"cargo",value:h.cargo,onChange:p=>x({...h,cargo:p.target.value}),placeholder:"Seu cargo"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"gerencia",children:"Gerncia"}),e.jsx(De,{id:"gerencia",value:h.gerencia,onChange:p=>x({...h,gerencia:p.target.value}),placeholder:"Sua gerncia"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"password",children:"Senha *"}),e.jsx(De,{id:"password",type:"password",value:h.password,onChange:p=>x({...h,password:p.target.value}),placeholder:"Mnimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),e.jsx(De,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:p=>x({...h,confirmPassword:p.target.value}),placeholder:"Digite a senha novamente"})]})]})]}),o&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Permisses que voc ter:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.permissions.map(p=>e.jsx(oe,{variant:"secondary",className:"text-xs",children:p},p))})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(C,{variant:"outline",onClick:()=>s("/"),className:"flex-1",children:"Cancelar"}),e.jsx(C,{onClick:f,disabled:u,className:"flex-1",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Aceitando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Aceitar Convite"]})})]})]})]})}):e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(ia,{variant:"destructive",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Convite no encontrado ou invlido."})]})})}const rse=[{_id:"1",token:"inv_abc123def456",role:"3",email:"novo.usuario@hospital.gov.br",used:!1,createdBy:"4",acceptedBy:void 0,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+5*24*60*60*1e3).toISOString()}];function nse(){const{user:t,setUser:s}=kt(),[a,r]=m.useState([]),[n,o]=m.useState(!0);m.useEffect(()=>{const c=rse.filter(u=>u.email===(t==null?void 0:t.email)&&!u.used);r(c),o(!1)},[t]);const i=c=>{r(u=>u.filter(d=>d._id!==c)),Ct({title:"Sucesso",description:"Convite aceito com sucesso! Redirecionando..."}),setTimeout(()=>{window.location.href="/"},2e3)};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Verificando convites..."})]})});const l=e.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white border rounded-lg shadow-lg p-4 z-50",children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm",children:" TESTE - Trocar Usurio:"}),e.jsx("select",{value:(t==null?void 0:t._id)||"",onChange:c=>{const u=jd.find(d=>d._id===c.target.value);s(u||null)},className:"text-xs border rounded px-2 py-1 bg-white text-black",children:jd.map(c=>e.jsxs("option",{value:c._id,children:[c.nome," (",c.email,") - ",c.orgs.length>0?"Com Org":"Sem Org"]},c._id))})]});return a.length===0?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:[e.jsxs(Ve,{className:"w-full max-w-2xl",children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-orange-100",children:e.jsx(ab,{className:"h-6 w-6 text-orange-600"})}),e.jsx(Lt,{className:"text-2xl",children:"Nenhum Convite Encontrado"}),e.jsx(Ra,{className:"text-lg",children:"Voc no possui convites pendentes para nenhuma organizao"})]}),e.jsxs(Be,{className:"space-y-6",children:[e.jsxs(ia,{children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(la,{children:"Para acessar o sistema, voc precisa ser convidado por um administrador de uma organizao."})]}),e.jsxs("div",{className:"bg-muted/50 p-6 rounded-lg space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Como obter acesso:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Entre em contato com um administrador"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Procure um gerente ou administrador da organizao onde voc deseja trabalhar"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Solicite um convite"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pea para que seja criado um convite com seu email"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Aguarde o convite"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um link por email para aceitar o convite"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(C,{onClick:()=>window.location.reload(),className:"w-full sm:w-auto",children:"Verificar Novamente"})})]})]}),l]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:[e.jsxs(Ve,{className:"w-full max-w-2xl",children:[e.jsxs(_t,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:e.jsx(Ut,{className:"h-6 w-6 text-green-600"})}),e.jsx(Lt,{className:"text-2xl",children:"Convites Pendentes"}),e.jsx(Ra,{className:"text-lg",children:"Voc possui convites para organizaes"})]}),e.jsx(Be,{className:"space-y-6",children:a.map(c=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:"Convite para Organizao"})]}),e.jsxs(oe,{variant:"secondary",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),"Expira em ",new Date(c.expiresAt).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Token do Convite"}),e.jsx("p",{className:"font-mono text-sm bg-muted p-2 rounded",children:c.token})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-sm",children:c.email})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(C,{onClick:()=>i(c._id),className:"flex-1",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Aceitar Convite"]}),e.jsx(C,{variant:"outline",onClick:()=>window.location.reload(),children:"Recusar"})]})]},c._id))})]}),l]})}function ose(){const{user:t}=kt(),[s,a]=m.useState({hasOrganization:!1,hasPendingInvites:!1,shouldRedirect:!1,redirectPath:"/",loading:!0});return m.useEffect(()=>{if(!t){console.log("useUserOrganization: No user found, redirecting to login"),a({hasOrganization:!1,hasPendingInvites:!1,shouldRedirect:!0,redirectPath:"/login",loading:!1});return}const r=t.orgs&&t.orgs.length>0,n=ise(t),o=window.location.pathname,i=o==="/fiscatus-app/verificar-convite"||o==="/verificar-convite";let l="/",c=!0;console.log("useUserOrganization Debug:",{user:t.email,hasOrganization:r,hasPendingInvites:n,currentPath:o,isOnVerifyPage:i}),i?(c=!1,console.log("useUserOrganization: On verify page, not redirecting")):r?(l="/",c=!1,console.log("useUserOrganization: User has organization, staying on dashboard")):n?(l="/verificar-convite",console.log("useUserOrganization: User has pending invites, redirecting to verify")):(l="/verificar-convite",console.log("useUserOrganization: User has no org or invites, redirecting to verify")),console.log("useUserOrganization: Final decision:",{shouldRedirect:c,redirectPath:l}),a({hasOrganization:r,hasPendingInvites:n,shouldRedirect:c,redirectPath:l,loading:!1})},[t]),s}function ise(t){return["usuario.sem.org@hospital.gov.br","novo.usuario@hospital.gov.br"].includes(t.email)}function Qu({children:t}){const{loading:s,shouldRedirect:a,redirectPath:r}=ose();return console.log("UserRedirect: Status:",{loading:s,shouldRedirect:a,redirectPath:r}),s?(console.log("UserRedirect: Loading..."),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Verificando acesso..."})]})})):a?(console.log("UserRedirect: Redirecting to:",r),e.jsx(Og,{to:r,replace:!0})):(console.log("UserRedirect: Rendering children"),e.jsx(e.Fragment,{children:t}))}var lse=t=>{switch(t){case"success":return use;case"info":return hse;case"warning":return mse;case"error":return xse;default:return null}},cse=Array(12).fill(0),dse=({visible:t})=>Z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Z.createElement("div",{className:"sonner-spinner"},cse.map((s,a)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),use=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xse=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fse=()=>{let[t,s]=Z.useState(document.hidden);return Z.useEffect(()=>{let a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t},W0=1,pse=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:a,...r}=t,n=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:W0++,o=this.toasts.find(l=>l.id===n),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:a}),{...l,...t,id:n,dismissible:i,title:a}):l):this.addToast({title:a,...r,dismissible:i,id:n}),n},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),n=a!==void 0;return r.then(async o=>{if(vse(o)&&!o.ok){n=!1;let i=typeof s.error=="function"?await s.error(`HTTP error! status: ${o.status}`):s.error,l=typeof s.description=="function"?await s.description(`HTTP error! status: ${o.status}`):s.description;this.create({id:a,type:"error",message:i,description:l})}else if(s.success!==void 0){n=!1;let i=typeof s.success=="function"?await s.success(o):s.success,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"success",message:i,description:l})}}).catch(async o=>{if(s.error!==void 0){n=!1;let i=typeof s.error=="function"?await s.error(o):s.error,l=typeof s.description=="function"?await s.description(o):s.description;this.create({id:a,type:"error",message:i,description:l})}}).finally(()=>{var o;n&&(this.dismiss(a),a=void 0),(o=s.finally)==null||o.call(s)}),a},this.custom=(t,s)=>{let a=(s==null?void 0:s.id)||W0++;return this.create({jsx:t(a),id:a,...s}),a},this.subscribers=[],this.toasts=[]}},Aa=new pse,gse=(t,s)=>{let a=(s==null?void 0:s.id)||W0++;return Aa.addToast({title:t,...s,id:a}),a},vse=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bse=gse,jse=()=>Aa.toasts;Object.assign(bse,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:jse});function yse(t,{insertAt:s}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}yse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zu(t){return t.label!==void 0}var Nse=3,wse="32px",Cse=4e3,Sse=356,Ese=14,Pse=20,Ase=200;function Dse(...t){return t.filter(Boolean).join(" ")}var kse=t=>{var s,a,r,n,o,i,l,c,u,d;let{invert:h,toast:x,unstyled:f,interacting:v,setHeights:p,visibleToasts:y,heights:g,index:b,toasts:j,expanded:N,removeToast:w,defaultRichColors:E,closeButton:D,style:P,cancelButtonStyle:_,actionButtonStyle:M,className:k="",descriptionClassName:$="",duration:H,position:Y,gap:K,loadingIcon:z,expandByDefault:O,classNames:S,icons:L,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:J,cn:re}=t,[le,Ne]=Z.useState(!1),[ke,he]=Z.useState(!1),[ae,ve]=Z.useState(!1),[xe,ne]=Z.useState(!1),[Ae,je]=Z.useState(0),[Ue,de]=Z.useState(0),Te=Z.useRef(null),Pe=Z.useRef(null),A=b===0,R=b+1<=y,q=x.type,W=x.dismissible!==!1,I=x.className||"",ee=x.descriptionClassName||"",ue=Z.useMemo(()=>g.findIndex(Ie=>Ie.toastId===x.id)||0,[g,x.id]),G=Z.useMemo(()=>{var Ie;return(Ie=x.closeButton)!=null?Ie:D},[x.closeButton,D]),ge=Z.useMemo(()=>x.duration||H||Cse,[x.duration,H]),ye=Z.useRef(0),Me=Z.useRef(0),et=Z.useRef(0),se=Z.useRef(null),[ze,_e]=Y.split("-"),Q=Z.useMemo(()=>g.reduce((Ie,X,me)=>me>=ue?Ie:Ie+X.height,0),[g,ue]),we=fse(),F=x.invert||h,T=q==="loading";Me.current=Z.useMemo(()=>ue*K+Q,[ue,Q]),Z.useEffect(()=>{Ne(!0)},[]),Z.useLayoutEffect(()=>{if(!le)return;let Ie=Pe.current,X=Ie.style.height;Ie.style.height="auto";let me=Ie.getBoundingClientRect().height;Ie.style.height=X,de(me),p(V=>V.find(ie=>ie.toastId===x.id)?V.map(ie=>ie.toastId===x.id?{...ie,height:me}:ie):[{toastId:x.id,height:me,position:x.position},...V])},[le,x.title,x.description,p,x.id]);let te=Z.useCallback(()=>{he(!0),je(Me.current),p(Ie=>Ie.filter(X=>X.toastId!==x.id)),setTimeout(()=>{w(x)},Ase)},[x,w,p,Me]);Z.useEffect(()=>{if(x.promise&&q==="loading"||x.duration===1/0||x.type==="loading")return;let Ie,X=ge;return N||v||J&&we?(()=>{if(et.current<ye.current){let me=new Date().getTime()-ye.current;X=X-me}et.current=new Date().getTime()})():X!==1/0&&(ye.current=new Date().getTime(),Ie=setTimeout(()=>{var me;(me=x.onAutoClose)==null||me.call(x,x),te()},X)),()=>clearTimeout(Ie)},[N,v,O,x,ge,te,x.promise,q,J,we]),Z.useEffect(()=>{let Ie=Pe.current;if(Ie){let X=Ie.getBoundingClientRect().height;return de(X),p(me=>[{toastId:x.id,height:X,position:x.position},...me]),()=>p(me=>me.filter(V=>V.toastId!==x.id))}},[p,x.id]),Z.useEffect(()=>{x.delete&&te()},[te,x.delete]);function fe(){return L!=null&&L.loading?Z.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},L.loading):z?Z.createElement("div",{className:"sonner-loader","data-visible":q==="loading"},z):Z.createElement(dse,{visible:q==="loading"})}return Z.createElement("li",{"aria-live":x.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Pe,className:re(k,I,S==null?void 0:S.toast,(s=x==null?void 0:x.classNames)==null?void 0:s.toast,S==null?void 0:S.default,S==null?void 0:S[q],(a=x==null?void 0:x.classNames)==null?void 0:a[q]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:E,"data-styled":!(x.jsx||x.unstyled||f),"data-mounted":le,"data-promise":!!x.promise,"data-removed":ke,"data-visible":R,"data-y-position":ze,"data-x-position":_e,"data-index":b,"data-front":A,"data-swiping":ae,"data-dismissible":W,"data-type":q,"data-invert":F,"data-swipe-out":xe,"data-expanded":!!(N||O&&le),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${ke?Ae:Me.current}px`,"--initial-height":O?"auto":`${Ue}px`,...P,...x.style},onPointerDown:Ie=>{T||!W||(Te.current=new Date,je(Me.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(ve(!0),se.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,X,me,V;if(xe||!W)return;se.current=null;let ie=Number(((Ie=Pe.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ce=new Date().getTime()-((X=Te.current)==null?void 0:X.getTime()),Le=Math.abs(ie)/ce;if(Math.abs(ie)>=Pse||Le>.11){je(Me.current),(me=x.onDismiss)==null||me.call(x,x),te(),ne(!0);return}(V=Pe.current)==null||V.style.setProperty("--swipe-amount","0px"),ve(!1)},onPointerMove:Ie=>{var X;if(!se.current||!W)return;let me=Ie.clientY-se.current.y,V=Ie.clientX-se.current.x,ie=(ze==="top"?Math.min:Math.max)(0,me),ce=Ie.pointerType==="touch"?10:2;Math.abs(ie)>ce?(X=Pe.current)==null||X.style.setProperty("--swipe-amount",`${me}px`):Math.abs(V)>ce&&(se.current=null)}},G&&!x.jsx?Z.createElement("button",{"aria-label":U,"data-disabled":T,"data-close-button":!0,onClick:T||!W?()=>{}:()=>{var Ie;te(),(Ie=x.onDismiss)==null||Ie.call(x,x)},className:re(S==null?void 0:S.closeButton,(n=x==null?void 0:x.classNames)==null?void 0:n.closeButton)},Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,x.jsx||Z.isValidElement(x.title)?x.jsx||x.title:Z.createElement(Z.Fragment,null,q||x.icon||x.promise?Z.createElement("div",{"data-icon":"",className:re(S==null?void 0:S.icon,(o=x==null?void 0:x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||fe():null,x.type!=="loading"?x.icon||(L==null?void 0:L[q])||lse(q):null):null,Z.createElement("div",{"data-content":"",className:re(S==null?void 0:S.content,(i=x==null?void 0:x.classNames)==null?void 0:i.content)},Z.createElement("div",{"data-title":"",className:re(S==null?void 0:S.title,(l=x==null?void 0:x.classNames)==null?void 0:l.title)},x.title),x.description?Z.createElement("div",{"data-description":"",className:re($,ee,S==null?void 0:S.description,(c=x==null?void 0:x.classNames)==null?void 0:c.description)},x.description):null),Z.isValidElement(x.cancel)?x.cancel:x.cancel&&Zu(x.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||_,onClick:Ie=>{var X,me;Zu(x.cancel)&&W&&((me=(X=x.cancel).onClick)==null||me.call(X,Ie),te())},className:re(S==null?void 0:S.cancelButton,(u=x==null?void 0:x.classNames)==null?void 0:u.cancelButton)},x.cancel.label):null,Z.isValidElement(x.action)?x.action:x.action&&Zu(x.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||M,onClick:Ie=>{var X,me;Zu(x.action)&&(Ie.defaultPrevented||((me=(X=x.action).onClick)==null||me.call(X,Ie),te()))},className:re(S==null?void 0:S.actionButton,(d=x==null?void 0:x.classNames)==null?void 0:d.actionButton)},x.action.label):null))};function F2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Tse=t=>{let{invert:s,position:a="bottom-right",hotkey:r=["altKey","KeyT"],expand:n,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:x=Nse,toastOptions:f,dir:v=F2(),gap:p=Ese,loadingIcon:y,icons:g,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:N=Dse}=t,[w,E]=Z.useState([]),D=Z.useMemo(()=>Array.from(new Set([a].concat(w.filter(J=>J.position).map(J=>J.position)))),[w,a]),[P,_]=Z.useState([]),[M,k]=Z.useState(!1),[$,H]=Z.useState(!1),[Y,K]=Z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=Z.useRef(null),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=Z.useRef(null),L=Z.useRef(!1),U=Z.useCallback(J=>{var re;(re=w.find(le=>le.id===J.id))!=null&&re.delete||Aa.dismiss(J.id),E(le=>le.filter(({id:Ne})=>Ne!==J.id))},[w]);return Z.useEffect(()=>Aa.subscribe(J=>{if(J.dismiss){E(re=>re.map(le=>le.id===J.id?{...le,delete:!0}:le));return}setTimeout(()=>{i4.flushSync(()=>{E(re=>{let le=re.findIndex(Ne=>Ne.id===J.id);return le!==-1?[...re.slice(0,le),{...re[le],...J},...re.slice(le+1)]:[J,...re]})})})}),[]),Z.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{K(J?"dark":"light")})},[c]),Z.useEffect(()=>{w.length<=1&&k(!1)},[w]),Z.useEffect(()=>{let J=re=>{var le,Ne;r.every(ke=>re[ke]||re.code===ke)&&(k(!0),(le=z.current)==null||le.focus()),re.code==="Escape"&&(document.activeElement===z.current||(Ne=z.current)!=null&&Ne.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),Z.useEffect(()=>{if(z.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,L.current=!1)}},[z.current]),w.length?Z.createElement("section",{"aria-label":`${b} ${O}`,tabIndex:-1},D.map((J,re)=>{var le;let[Ne,ke]=J.split("-");return Z.createElement("ol",{key:J,dir:v==="auto"?F2():v,tabIndex:-1,ref:z,className:i,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":Ne,"data-x-position":ke,style:{"--front-toast-height":`${((le=P[0])==null?void 0:le.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||wse,"--width":`${Sse}px`,"--gap":`${p}px`,...h},onBlur:he=>{L.current&&!he.currentTarget.contains(he.relatedTarget)&&(L.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||L.current||(L.current=!0,S.current=he.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{$||k(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},w.filter(he=>!he.position&&re===0||he.position===J).map((he,ae)=>{var ve,xe;return Z.createElement(kse,{key:he.id,icons:g,index:ae,toast:he,defaultRichColors:u,duration:(ve=f==null?void 0:f.duration)!=null?ve:d,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:s,visibleToasts:x,closeButton:(xe=f==null?void 0:f.closeButton)!=null?xe:o,interacting:$,position:J,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:U,toasts:w.filter(ne=>ne.position==he.position),heights:P.filter(ne=>ne.position==he.position),setHeights:_,expandByDefault:n,gap:p,loadingIcon:y,expanded:M,pauseWhenPageIsHidden:j,cn:N})}))})):null};const Rse=({...t})=>{const{theme:s="system"}=nE();return e.jsx(Tse,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Mse({children:t,attribute:s="class",defaultTheme:a="light",enableSystem:r=!0,disableTransitionOnChange:n=!1,...o}){return e.jsx(e_,{attribute:s,defaultTheme:a,enableSystem:r,disableTransitionOnChange:n,...o,children:t})}var hy="ToastProvider",[xy,Ise,Ose]=Ul("Toast"),[z6,wae]=ua("Toast",[Ose]),[zse,mf]=z6(hy),F6=t=>{const{__scopeToast:s,label:a="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),x=m.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${hy}\`. Expected non-empty \`string\`.`),e.jsx(xy.Provider,{scope:s,children:e.jsx(zse,{scope:s,label:a,duration:r,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(f=>f+1),[]),onToastRemove:m.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:x,children:i})})};F6.displayName=hy;var _6="ToastViewport",Fse=["F8"],q0="toast.viewportPause",Y0="toast.viewportResume",L6=m.forwardRef((t,s)=>{const{__scopeToast:a,hotkey:r=Fse,label:n="Notifications ({hotkey})",...o}=t,i=mf(_6,a),l=Ise(a),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),x=rt(s,h,i.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const y=g=>{var j;r.length!==0&&r.every(N=>g[N]||g.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),m.useEffect(()=>{const y=c.current,g=h.current;if(v&&y&&g){const b=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(q0);g.dispatchEvent(E),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Y0);g.dispatchEvent(E),i.isClosePausedRef.current=!1}},N=E=>{!y.contains(E.relatedTarget)&&j()},w=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[v,i.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:y})=>{const b=l().map(j=>{const N=j.ref.current,w=[N,...Xse(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return m.useEffect(()=>{const y=h.current;if(y){const g=b=>{var w,E,D;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const P=document.activeElement,_=b.shiftKey;if(b.target===y&&_){(w=u.current)==null||w.focus();return}const $=p({tabbingDirection:_?"backwards":"forwards"}),H=$.findIndex(Y=>Y===P);Vp($.slice(H+1))?b.preventDefault():_?(E=u.current)==null||E.focus():(D=d.current)==null||D.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[l,p]),e.jsxs(w_,{ref:c,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&e.jsx(K0,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});Vp(y)}}),e.jsx(xy.Slot,{scope:a,children:e.jsx(Ge.ol,{tabIndex:-1,...o,ref:x})}),v&&e.jsx(K0,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});Vp(y)}})]})});L6.displayName=_6;var $6="ToastFocusProxy",K0=m.forwardRef((t,s)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...n}=t,o=mf($6,a);return e.jsx(Hd,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});K0.displayName=$6;var hf="Toast",_se="toast.swipeStart",Lse="toast.swipeMove",$se="toast.swipeCancel",Vse="toast.swipeEnd",V6=m.forwardRef((t,s)=>{const{forceMount:a,open:r,defaultOpen:n,onOpenChange:o,...i}=t,[l=!0,c]=Qs({prop:r,defaultProp:n,onChange:o});return e.jsx(Ms,{present:a||l,children:e.jsx(Use,{open:l,...i,ref:s,onClose:()=>c(!1),onPause:as(t.onPause),onResume:as(t.onResume),onSwipeStart:Ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});V6.displayName=hf;var[Gse,Bse]=z6(hf,{onClose(){}}),Use=m.forwardRef((t,s)=>{const{__scopeToast:a,type:r="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:x,onSwipeEnd:f,...v}=t,p=mf(hf,a),[y,g]=m.useState(null),b=rt(s,Y=>g(Y)),j=m.useRef(null),N=m.useRef(null),w=n||p.duration,E=m.useRef(0),D=m.useRef(w),P=m.useRef(0),{onToastAdd:_,onToastRemove:M}=p,k=as(()=>{var K;(y==null?void 0:y.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),i()}),$=m.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(k,Y))},[k]);m.useEffect(()=>{const Y=p.viewport;if(Y){const K=()=>{$(D.current),u==null||u()},z=()=>{const O=new Date().getTime()-E.current;D.current=D.current-O,window.clearTimeout(P.current),c==null||c()};return Y.addEventListener(q0,z),Y.addEventListener(Y0,K),()=>{Y.removeEventListener(q0,z),Y.removeEventListener(Y0,K)}}},[p.viewport,w,c,u,$]),m.useEffect(()=>{o&&!p.isClosePausedRef.current&&$(w)},[o,w,p.isClosePausedRef,$]),m.useEffect(()=>(_(),()=>M()),[_,M]);const H=m.useMemo(()=>y?Y6(y):null,[y]);return p.viewport?e.jsxs(e.Fragment,{children:[H&&e.jsx(Hse,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),e.jsx(Gse,{scope:a,onClose:k,children:Ka.createPortal(e.jsx(xy.ItemSlot,{scope:a,children:e.jsx(N_,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,Y=>{Y.key==="Escape"&&(l==null||l(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ee(t.onPointerDown,Y=>{Y.button===0&&(j.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Ee(t.onPointerMove,Y=>{if(!j.current)return;const K=Y.clientX-j.current.x,z=Y.clientY-j.current.y,O=!!N.current,S=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=S?L(0,K):0,J=S?0:L(0,z),re=Y.pointerType==="touch"?10:2,le={x:U,y:J},Ne={originalEvent:Y,delta:le};O?(N.current=le,em(Lse,h,Ne,{discrete:!1})):_2(le,p.swipeDirection,re)?(N.current=le,em(_se,d,Ne,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(K)>re||Math.abs(z)>re)&&(j.current=null)}),onPointerUp:Ee(t.onPointerUp,Y=>{const K=N.current,z=Y.target;if(z.hasPointerCapture(Y.pointerId)&&z.releasePointerCapture(Y.pointerId),N.current=null,j.current=null,K){const O=Y.currentTarget,S={originalEvent:Y,delta:K};_2(K,p.swipeDirection,p.swipeThreshold)?em(Vse,f,S,{discrete:!0}):em($se,x,S,{discrete:!0}),O.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Hse=t=>{const{__scopeToast:s,children:a,...r}=t,n=mf(hf,s),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return Yse(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(Bl,{asChild:!0,children:e.jsx(Hd,{...r,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",a]})})})},Wse="ToastTitle",G6=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(Ge.div,{...r,ref:s})});G6.displayName=Wse;var qse="ToastDescription",B6=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(Ge.div,{...r,ref:s})});B6.displayName=qse;var U6="ToastAction",H6=m.forwardRef((t,s)=>{const{altText:a,...r}=t;return a.trim()?e.jsx(q6,{altText:a,asChild:!0,children:e.jsx(fy,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${U6}\`. Expected non-empty \`string\`.`),null)});H6.displayName=U6;var W6="ToastClose",fy=m.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t,n=Bse(W6,a);return e.jsx(q6,{asChild:!0,children:e.jsx(Ge.button,{type:"button",...r,ref:s,onClick:Ee(t.onClick,n.onClose)})})});fy.displayName=W6;var q6=m.forwardRef((t,s)=>{const{__scopeToast:a,altText:r,...n}=t;return e.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:s})});function Y6(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),Kse(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...Y6(r))}}),s}function em(t,s,a,{discrete:r}){const n=a.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?rb(n,o):n.dispatchEvent(o)}var _2=(t,s,a=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),o=r>n;return s==="left"||s==="right"?o&&r>a:!o&&n>a};function Yse(t=()=>{}){const s=as(t);Ps(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[s])}function Kse(t){return t.nodeType===t.ELEMENT_NODE}function Xse(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Vp(t){const s=document.activeElement;return t.some(a=>a===s?!0:(a.focus(),document.activeElement!==s))}var Jse=F6,K6=L6,X6=V6,J6=G6,Q6=B6,Z6=H6,eR=fy;const Qse=Jse,tR=m.forwardRef(({className:t,...s},a)=>e.jsx(K6,{ref:a,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));tR.displayName=K6.displayName;const Zse=Kr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sR=m.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(X6,{ref:r,className:be(Zse({variant:s}),t),...a}));sR.displayName=X6.displayName;const eae=m.forwardRef(({className:t,...s},a)=>e.jsx(Z6,{ref:a,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));eae.displayName=Z6.displayName;const aR=m.forwardRef(({className:t,...s},a)=>e.jsx(eR,{ref:a,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Yt,{className:"h-4 w-4"})}));aR.displayName=eR.displayName;const rR=m.forwardRef(({className:t,...s},a)=>e.jsx(J6,{ref:a,className:be("text-sm font-semibold",t),...s}));rR.displayName=J6.displayName;const nR=m.forwardRef(({className:t,...s},a)=>e.jsx(Q6,{ref:a,className:be("text-sm opacity-90",t),...s}));nR.displayName=Q6.displayName;function tae(){const{toasts:t}=Kt();return e.jsxs(Qse,{children:[t.map(function({id:s,title:a,description:r,action:n,...o}){return e.jsxs(sR,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(rR,{children:a}),r&&e.jsx(nR,{children:r})]}),n,e.jsx(aR,{})]},s)}),e.jsx(tR,{})]})}const sae=new JO,aae=()=>e.jsx(ZO,{client:sae,children:e.jsx(Mse,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:e.jsx(St,{children:e.jsx(iL,{children:e.jsxs(mX,{children:[e.jsx(tae,{}),e.jsx(Rse,{}),e.jsx(EO,{basename:"/fiscatus-app/",children:e.jsxs(bO,{children:[e.jsx(ts,{path:"/",element:e.jsx(Qu,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/dashboard",element:e.jsx(Qu,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/login",element:e.jsx(i_,{})}),e.jsx(ts,{path:"/home",element:e.jsx(Qu,{children:e.jsx(rp,{})})}),e.jsx(ts,{path:"/dfd",element:e.jsx(Og,{to:"/planejamento-da-contratacao",replace:!0})}),e.jsx(ts,{path:"/dfd/novo",element:e.jsx(Og,{to:"/planejamento-da-contratacao",replace:!0})}),e.jsx(ts,{path:"/planejamento-da-contratacao",element:e.jsx(PV,{})}),e.jsx(ts,{path:"/assinaturas",element:e.jsx(bw,{})}),e.jsx(ts,{path:"/assinaturas/:id",element:e.jsx(bw,{})}),e.jsx(ts,{path:"/processos",element:e.jsx($G,{})}),e.jsx(ts,{path:"/processos/:id",element:e.jsx(D2,{})}),e.jsx(ts,{path:"/processo/:id",element:e.jsx(D2,{})}),e.jsx(ts,{path:"/novo-processo",element:e.jsx(Nee,{})}),e.jsx(ts,{path:"/processos-gerencia",element:e.jsx(vee,{})}),e.jsx(ts,{path:"/processos-gerencia/pasta/:pastaId",element:e.jsx(Dee,{})}),e.jsx(ts,{path:"/modelos-de-fluxo",element:e.jsx(_te,{})}),e.jsx(ts,{path:"/configuracoes",element:e.jsx(Lte,{})}),e.jsx(ts,{path:"/notificacoes",element:e.jsx(Gte,{})}),e.jsx(ts,{path:"/tubelight-demo",element:e.jsx(Hte,{})}),e.jsx(ts,{path:"/administracao",element:e.jsx(Qu,{children:e.jsx(tse,{})})}),e.jsx(ts,{path:"/invite/:token",element:e.jsx(ase,{})}),e.jsx(ts,{path:"/verificar-convite",element:e.jsx(nse,{})}),e.jsx(ts,{path:"*",element:e.jsx(l_,{})})]})})]})})})})});l4(document.getElementById("root")).render(e.jsx(aae,{}));
